function j4(n,t){for(var e=0;e<t.length;e++){const i=t[e];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in n)){const r=Object.getOwnPropertyDescriptor(i,s);r&&Object.defineProperty(n,s,r.get?r:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=e(s);fetch(s.href,r)}})();function Uy(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var hb={exports:{}},$g={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gw;function Y4(){if(Gw)return $g;Gw=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,s,r){var o=null;if(r!==void 0&&(o=""+r),s.key!==void 0&&(o=""+s.key),"key"in s){r={};for(var l in s)l!=="key"&&(r[l]=s[l])}else r=s;return s=r.ref,{$$typeof:n,type:i,key:o,ref:s!==void 0?s:null,props:r}}return $g.Fragment=t,$g.jsx=e,$g.jsxs=e,$g}var Vw;function W4(){return Vw||(Vw=1,hb.exports=Y4()),hb.exports}var ot=W4(),db={exports:{}},tn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kw;function K4(){if(kw)return tn;kw=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function v(j){return j===null||typeof j!="object"?null:(j=g&&j[g]||j["@@iterator"],typeof j=="function"?j:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function T(j,rt,Tt){this.props=j,this.context=rt,this.refs=E,this.updater=Tt||A}T.prototype.isReactComponent={},T.prototype.setState=function(j,rt){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,rt,"setState")},T.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function _(){}_.prototype=T.prototype;function w(j,rt,Tt){this.props=j,this.context=rt,this.refs=E,this.updater=Tt||A}var D=w.prototype=new _;D.constructor=w,S(D,T.prototype),D.isPureReactComponent=!0;var L=Array.isArray,U={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function F(j,rt,Tt,Ft,it,Et){return Tt=Et.ref,{$$typeof:n,type:j,key:rt,ref:Tt!==void 0?Tt:null,props:Et}}function z(j,rt){return F(j.type,rt,void 0,void 0,void 0,j.props)}function N(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function B(j){var rt={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(Tt){return rt[Tt]})}var H=/\/+/g;function st(j,rt){return typeof j=="object"&&j!==null&&j.key!=null?B(""+j.key):rt.toString(36)}function tt(){}function J(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(tt,tt):(j.status="pending",j.then(function(rt){j.status==="pending"&&(j.status="fulfilled",j.value=rt)},function(rt){j.status==="pending"&&(j.status="rejected",j.reason=rt)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function lt(j,rt,Tt,Ft,it){var Et=typeof j;(Et==="undefined"||Et==="boolean")&&(j=null);var Ut=!1;if(j===null)Ut=!0;else switch(Et){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(j.$$typeof){case n:case t:Ut=!0;break;case m:return Ut=j._init,lt(Ut(j._payload),rt,Tt,Ft,it)}}if(Ut)return it=it(j),Ut=Ft===""?"."+st(j,0):Ft,L(it)?(Tt="",Ut!=null&&(Tt=Ut.replace(H,"$&/")+"/"),lt(it,rt,Tt,"",function(xe){return xe})):it!=null&&(N(it)&&(it=z(it,Tt+(it.key==null||j&&j.key===it.key?"":(""+it.key).replace(H,"$&/")+"/")+Ut)),rt.push(it)),1;Ut=0;var Ht=Ft===""?".":Ft+":";if(L(j))for(var Xt=0;Xt<j.length;Xt++)Ft=j[Xt],Et=Ht+st(Ft,Xt),Ut+=lt(Ft,rt,Tt,Et,it);else if(Xt=v(j),typeof Xt=="function")for(j=Xt.call(j),Xt=0;!(Ft=j.next()).done;)Ft=Ft.value,Et=Ht+st(Ft,Xt++),Ut+=lt(Ft,rt,Tt,Et,it);else if(Et==="object"){if(typeof j.then=="function")return lt(J(j),rt,Tt,Ft,it);throw rt=String(j),Error("Objects are not valid as a React child (found: "+(rt==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":rt)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function $(j,rt,Tt){if(j==null)return j;var Ft=[],it=0;return lt(j,Ft,"","",function(Et){return rt.call(Tt,Et,it++)}),Ft}function et(j){if(j._status===-1){var rt=j._result;rt=rt(),rt.then(function(Tt){(j._status===0||j._status===-1)&&(j._status=1,j._result=Tt)},function(Tt){(j._status===0||j._status===-1)&&(j._status=2,j._result=Tt)}),j._status===-1&&(j._status=0,j._result=rt)}if(j._status===1)return j._result.default;throw j._result}var Q=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var rt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(rt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function At(){}return tn.Children={map:$,forEach:function(j,rt,Tt){$(j,function(){rt.apply(this,arguments)},Tt)},count:function(j){var rt=0;return $(j,function(){rt++}),rt},toArray:function(j){return $(j,function(rt){return rt})||[]},only:function(j){if(!N(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},tn.Component=T,tn.Fragment=e,tn.Profiler=s,tn.PureComponent=w,tn.StrictMode=i,tn.Suspense=u,tn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,tn.act=function(){throw Error("act(...) is not supported in production builds of React.")},tn.cache=function(j){return function(){return j.apply(null,arguments)}},tn.cloneElement=function(j,rt,Tt){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var Ft=S({},j.props),it=j.key,Et=void 0;if(rt!=null)for(Ut in rt.ref!==void 0&&(Et=void 0),rt.key!==void 0&&(it=""+rt.key),rt)!P.call(rt,Ut)||Ut==="key"||Ut==="__self"||Ut==="__source"||Ut==="ref"&&rt.ref===void 0||(Ft[Ut]=rt[Ut]);var Ut=arguments.length-2;if(Ut===1)Ft.children=Tt;else if(1<Ut){for(var Ht=Array(Ut),Xt=0;Xt<Ut;Xt++)Ht[Xt]=arguments[Xt+2];Ft.children=Ht}return F(j.type,it,void 0,void 0,Et,Ft)},tn.createContext=function(j){return j={$$typeof:o,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:r,_context:j},j},tn.createElement=function(j,rt,Tt){var Ft,it={},Et=null;if(rt!=null)for(Ft in rt.key!==void 0&&(Et=""+rt.key),rt)P.call(rt,Ft)&&Ft!=="key"&&Ft!=="__self"&&Ft!=="__source"&&(it[Ft]=rt[Ft]);var Ut=arguments.length-2;if(Ut===1)it.children=Tt;else if(1<Ut){for(var Ht=Array(Ut),Xt=0;Xt<Ut;Xt++)Ht[Xt]=arguments[Xt+2];it.children=Ht}if(j&&j.defaultProps)for(Ft in Ut=j.defaultProps,Ut)it[Ft]===void 0&&(it[Ft]=Ut[Ft]);return F(j,Et,void 0,void 0,null,it)},tn.createRef=function(){return{current:null}},tn.forwardRef=function(j){return{$$typeof:l,render:j}},tn.isValidElement=N,tn.lazy=function(j){return{$$typeof:m,_payload:{_status:-1,_result:j},_init:et}},tn.memo=function(j,rt){return{$$typeof:d,type:j,compare:rt===void 0?null:rt}},tn.startTransition=function(j){var rt=U.T,Tt={};U.T=Tt;try{var Ft=j(),it=U.S;it!==null&&it(Tt,Ft),typeof Ft=="object"&&Ft!==null&&typeof Ft.then=="function"&&Ft.then(At,Q)}catch(Et){Q(Et)}finally{U.T=rt}},tn.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},tn.use=function(j){return U.H.use(j)},tn.useActionState=function(j,rt,Tt){return U.H.useActionState(j,rt,Tt)},tn.useCallback=function(j,rt){return U.H.useCallback(j,rt)},tn.useContext=function(j){return U.H.useContext(j)},tn.useDebugValue=function(){},tn.useDeferredValue=function(j,rt){return U.H.useDeferredValue(j,rt)},tn.useEffect=function(j,rt){return U.H.useEffect(j,rt)},tn.useId=function(){return U.H.useId()},tn.useImperativeHandle=function(j,rt,Tt){return U.H.useImperativeHandle(j,rt,Tt)},tn.useInsertionEffect=function(j,rt){return U.H.useInsertionEffect(j,rt)},tn.useLayoutEffect=function(j,rt){return U.H.useLayoutEffect(j,rt)},tn.useMemo=function(j,rt){return U.H.useMemo(j,rt)},tn.useOptimistic=function(j,rt){return U.H.useOptimistic(j,rt)},tn.useReducer=function(j,rt,Tt){return U.H.useReducer(j,rt,Tt)},tn.useRef=function(j){return U.H.useRef(j)},tn.useState=function(j){return U.H.useState(j)},tn.useSyncExternalStore=function(j,rt,Tt){return U.H.useSyncExternalStore(j,rt,Tt)},tn.useTransition=function(){return U.H.useTransition()},tn.version="19.0.0",tn}var Xw;function Em(){return Xw||(Xw=1,db.exports=K4()),db.exports}var W=Em();const lm=Uy(W),jw=j4({__proto__:null,default:lm},[W]);var pb={exports:{}},t0={},mb={exports:{}},gb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yw;function q4(){return Yw||(Yw=1,function(n){function t($,et){var Q=$.length;$.push(et);t:for(;0<Q;){var At=Q-1>>>1,j=$[At];if(0<s(j,et))$[At]=et,$[Q]=j,Q=At;else break t}}function e($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var et=$[0],Q=$.pop();if(Q!==et){$[0]=Q;t:for(var At=0,j=$.length,rt=j>>>1;At<rt;){var Tt=2*(At+1)-1,Ft=$[Tt],it=Tt+1,Et=$[it];if(0>s(Ft,Q))it<j&&0>s(Et,Ft)?($[At]=Et,$[it]=Q,At=it):($[At]=Ft,$[Tt]=Q,At=Tt);else if(it<j&&0>s(Et,Q))$[At]=Et,$[it]=Q,At=it;else break t}}return et}function s($,et){var Q=$.sortIndex-et.sortIndex;return Q!==0?Q:$.id-et.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var u=[],d=[],m=1,g=null,v=3,A=!1,S=!1,E=!1,T=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function D($){for(var et=e(d);et!==null;){if(et.callback===null)i(d);else if(et.startTime<=$)i(d),et.sortIndex=et.expirationTime,t(u,et);else break;et=e(d)}}function L($){if(E=!1,D($),!S)if(e(u)!==null)S=!0,J();else{var et=e(d);et!==null&&lt(L,et.startTime-$)}}var U=!1,P=-1,F=5,z=-1;function N(){return!(n.unstable_now()-z<F)}function B(){if(U){var $=n.unstable_now();z=$;var et=!0;try{t:{S=!1,E&&(E=!1,_(P),P=-1),A=!0;var Q=v;try{e:{for(D($),g=e(u);g!==null&&!(g.expirationTime>$&&N());){var At=g.callback;if(typeof At=="function"){g.callback=null,v=g.priorityLevel;var j=At(g.expirationTime<=$);if($=n.unstable_now(),typeof j=="function"){g.callback=j,D($),et=!0;break e}g===e(u)&&i(u),D($)}else i(u);g=e(u)}if(g!==null)et=!0;else{var rt=e(d);rt!==null&&lt(L,rt.startTime-$),et=!1}}break t}finally{g=null,v=Q,A=!1}et=void 0}}finally{et?H():U=!1}}}var H;if(typeof w=="function")H=function(){w(B)};else if(typeof MessageChannel<"u"){var st=new MessageChannel,tt=st.port2;st.port1.onmessage=B,H=function(){tt.postMessage(null)}}else H=function(){T(B,0)};function J(){U||(U=!0,H())}function lt($,et){P=T(function(){$(n.unstable_now())},et)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_continueExecution=function(){S||A||(S=!0,J())},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return e(u)},n.unstable_next=function($){switch(v){case 1:case 2:case 3:var et=3;break;default:et=v}var Q=v;v=et;try{return $()}finally{v=Q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function($,et){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Q=v;v=$;try{return et()}finally{v=Q}},n.unstable_scheduleCallback=function($,et,Q){var At=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?At+Q:At):Q=At,$){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=Q+j,$={id:m++,callback:et,priorityLevel:$,startTime:Q,expirationTime:j,sortIndex:-1},Q>At?($.sortIndex=Q,t(d,$),e(u)===null&&$===e(d)&&(E?(_(P),P=-1):E=!0,lt(L,Q-At))):($.sortIndex=j,t(u,$),S||A||(S=!0,J())),$},n.unstable_shouldYield=N,n.unstable_wrapCallback=function($){var et=v;return function(){var Q=v;v=et;try{return $.apply(this,arguments)}finally{v=Q}}}}(gb)),gb}var Ww;function wT(){return Ww||(Ww=1,mb.exports=q4()),mb.exports}var yb={exports:{}},ir={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kw;function J4(){if(Kw)return ir;Kw=1;var n=Em();function t(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function r(u,d,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:u,containerInfo:d,implementation:m}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ir.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ir.createPortal=function(u,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return r(u,d,null,m)},ir.flushSync=function(u){var d=o.T,m=i.p;try{if(o.T=null,i.p=2,u)return u()}finally{o.T=d,i.p=m,i.d.f()}},ir.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(u,d))},ir.prefetchDNS=function(u){typeof u=="string"&&i.d.D(u)},ir.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var m=d.as,g=l(m,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,A=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?i.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:A}):m==="script"&&i.d.X(u,{crossOrigin:g,integrity:v,fetchPriority:A,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ir.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=l(d.as,d.crossOrigin);i.d.M(u,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(u)},ir.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,g=l(m,d.crossOrigin);i.d.L(u,m,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ir.preloadModule=function(u,d){if(typeof u=="string")if(d){var m=l(d.as,d.crossOrigin);i.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(u)},ir.requestFormReset=function(u){i.d.r(u)},ir.unstable_batchedUpdates=function(u,d){return u(d)},ir.useFormState=function(u,d,m){return o.H.useFormState(u,d,m)},ir.useFormStatus=function(){return o.H.useHostTransitionStatus()},ir.version="19.0.0",ir}var qw;function Q4(){if(qw)return yb.exports;qw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),yb.exports=J4(),yb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jw;function Z4(){if(Jw)return t0;Jw=1;var n=wT(),t=Em(),e=Q4();function i(a){var c="https://react.dev/errors/"+a;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}var r=Symbol.for("react.element"),o=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),A=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),D=Symbol.for("react.offscreen"),L=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function P(a){return a===null||typeof a!="object"?null:(a=U&&a[U]||a["@@iterator"],typeof a=="function"?a:null)}var F=Symbol.for("react.client.reference");function z(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===F?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case u:return"Fragment";case l:return"Portal";case m:return"Profiler";case d:return"StrictMode";case E:return"Suspense";case T:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case A:return(a.displayName||"Context")+".Provider";case v:return(a._context.displayName||"Context")+".Consumer";case S:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case _:return c=a.displayName||null,c!==null?c:z(a.type)||"Memo";case w:c=a._payload,a=a._init;try{return z(a(c))}catch{}}return null}var N=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=Object.assign,H,st;function tt(a){if(H===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);H=c&&c[1]||"",st=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+H+a+st}var J=!1;function lt(a,c){if(!a||J)return"";J=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(c){var jt=function(){throw Error()};if(Object.defineProperty(jt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(jt,[])}catch(wt){var _t=wt}Reflect.construct(a,[],jt)}else{try{jt.call()}catch(wt){_t=wt}a.call(jt.prototype)}}else{try{throw Error()}catch(wt){_t=wt}(jt=a())&&typeof jt.catch=="function"&&jt.catch(function(){})}}catch(wt){if(wt&&_t&&typeof wt.stack=="string")return[wt.stack,_t.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=y.DetermineComponentFrameRoot(),I=C[0],k=C[1];if(I&&k){var Z=I.split(`
`),ft=k.split(`
`);for(b=y=0;y<Z.length&&!Z[y].includes("DetermineComponentFrameRoot");)y++;for(;b<ft.length&&!ft[b].includes("DetermineComponentFrameRoot");)b++;if(y===Z.length||b===ft.length)for(y=Z.length-1,b=ft.length-1;1<=y&&0<=b&&Z[y]!==ft[b];)b--;for(;1<=y&&0<=b;y--,b--)if(Z[y]!==ft[b]){if(y!==1||b!==1)do if(y--,b--,0>b||Z[y]!==ft[b]){var Ot=`
`+Z[y].replace(" at new "," at ");return a.displayName&&Ot.includes("<anonymous>")&&(Ot=Ot.replace("<anonymous>",a.displayName)),Ot}while(1<=y&&0<=b);break}}}finally{J=!1,Error.prepareStackTrace=p}return(p=a?a.displayName||a.name:"")?tt(p):""}function $(a){switch(a.tag){case 26:case 27:case 5:return tt(a.type);case 16:return tt("Lazy");case 13:return tt("Suspense");case 19:return tt("SuspenseList");case 0:case 15:return a=lt(a.type,!1),a;case 11:return a=lt(a.type.render,!1),a;case 1:return a=lt(a.type,!0),a;default:return""}}function et(a){try{var c="";do c+=$(a),a=a.return;while(a);return c}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function Q(a){var c=a,p=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,c.flags&4098&&(p=c.return),a=c.return;while(a)}return c.tag===3?p:null}function At(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function j(a){if(Q(a)!==a)throw Error(i(188))}function rt(a){var c=a.alternate;if(!c){if(c=Q(a),c===null)throw Error(i(188));return c!==a?null:a}for(var p=a,y=c;;){var b=p.return;if(b===null)break;var C=b.alternate;if(C===null){if(y=b.return,y!==null){p=y;continue}break}if(b.child===C.child){for(C=b.child;C;){if(C===p)return j(b),a;if(C===y)return j(b),c;C=C.sibling}throw Error(i(188))}if(p.return!==y.return)p=b,y=C;else{for(var I=!1,k=b.child;k;){if(k===p){I=!0,p=b,y=C;break}if(k===y){I=!0,y=b,p=C;break}k=k.sibling}if(!I){for(k=C.child;k;){if(k===p){I=!0,p=C,y=b;break}if(k===y){I=!0,y=C,p=b;break}k=k.sibling}if(!I)throw Error(i(189))}}if(p.alternate!==y)throw Error(i(190))}if(p.tag!==3)throw Error(i(188));return p.stateNode.current===p?a:c}function Tt(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a;for(a=a.child;a!==null;){if(c=Tt(a),c!==null)return c;a=a.sibling}return null}var Ft=Array.isArray,it=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Et={pending:!1,data:null,method:null,action:null},Ut=[],Ht=-1;function Xt(a){return{current:a}}function xe(a){0>Ht||(a.current=Ut[Ht],Ut[Ht]=null,Ht--)}function Wt(a,c){Ht++,Ut[Ht]=a.current,a.current=c}var ue=Xt(null),Pt=Xt(null),Bt=Xt(null),q=Xt(null);function he(a,c){switch(Wt(Bt,c),Wt(Pt,a),Wt(ue,null),a=c.nodeType,a){case 9:case 11:c=(c=c.documentElement)&&(c=c.namespaceURI)?gw(c):0;break;default:if(a=a===8?c.parentNode:c,c=a.tagName,a=a.namespaceURI)a=gw(a),c=yw(a,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}xe(ue),Wt(ue,c)}function Vt(){xe(ue),xe(Pt),xe(Bt)}function $t(a){a.memoizedState!==null&&Wt(q,a);var c=ue.current,p=yw(c,a.type);c!==p&&(Wt(Pt,a),Wt(ue,p))}function Qt(a){Pt.current===a&&(xe(ue),xe(Pt)),q.current===a&&(xe(q),Kg._currentValue=Et)}var _e=Object.prototype.hasOwnProperty,Zt=n.unstable_scheduleCallback,Y=n.unstable_cancelCallback,G=n.unstable_shouldYield,yt=n.unstable_requestPaint,Ct=n.unstable_now,Gt=n.unstable_getCurrentPriorityLevel,Dt=n.unstable_ImmediatePriority,fe=n.unstable_UserBlockingPriority,ne=n.unstable_NormalPriority,de=n.unstable_LowPriority,Je=n.unstable_IdlePriority,qt=n.log,me=n.unstable_setDisableYieldValue,Ae=null,ve=null;function pe(a){if(ve&&typeof ve.onCommitFiberRoot=="function")try{ve.onCommitFiberRoot(Ae,a,void 0,(a.current.flags&128)===128)}catch{}}function Ge(a){if(typeof qt=="function"&&me(a),ve&&typeof ve.setStrictMode=="function")try{ve.setStrictMode(Ae,a)}catch{}}var Me=Math.clz32?Math.clz32:re,bn=Math.log,ut=Math.LN2;function re(a){return a>>>=0,a===0?32:31-(bn(a)/ut|0)|0}var Mt=128,Nt=4194304;function ee(a){var c=a&42;if(c!==0)return c;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function se(a,c){var p=a.pendingLanes;if(p===0)return 0;var y=0,b=a.suspendedLanes,C=a.pingedLanes,I=a.warmLanes;a=a.finishedLanes!==0;var k=p&134217727;return k!==0?(p=k&~b,p!==0?y=ee(p):(C&=k,C!==0?y=ee(C):a||(I=k&~I,I!==0&&(y=ee(I))))):(k=p&~b,k!==0?y=ee(k):C!==0?y=ee(C):a||(I=p&~I,I!==0&&(y=ee(I)))),y===0?0:c!==0&&c!==y&&!(c&b)&&(b=y&-y,I=c&-c,b>=I||b===32&&(I&4194176)!==0)?c:y}function Oe(a,c){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&c)===0}function Vn(a,c){switch(a){case 1:case 2:case 4:case 8:return c+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ai(){var a=Mt;return Mt<<=1,!(Mt&4194176)&&(Mt=128),a}function dn(){var a=Nt;return Nt<<=1,!(Nt&62914560)&&(Nt=4194304),a}function ds(a){for(var c=[],p=0;31>p;p++)c.push(a);return c}function ps(a,c){a.pendingLanes|=c,c!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Af(a,c,p,y,b,C){var I=a.pendingLanes;a.pendingLanes=p,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=p,a.entangledLanes&=p,a.errorRecoveryDisabledLanes&=p,a.shellSuspendCounter=0;var k=a.entanglements,Z=a.expirationTimes,ft=a.hiddenUpdates;for(p=I&~p;0<p;){var Ot=31-Me(p),jt=1<<Ot;k[Ot]=0,Z[Ot]=-1;var _t=ft[Ot];if(_t!==null)for(ft[Ot]=null,Ot=0;Ot<_t.length;Ot++){var wt=_t[Ot];wt!==null&&(wt.lane&=-536870913)}p&=~jt}y!==0&&$l(a,y,0),C!==0&&b===0&&a.tag!==0&&(a.suspendedLanes|=C&~(I&~c))}function $l(a,c,p){a.pendingLanes|=c,a.suspendedLanes&=~c;var y=31-Me(c);a.entangledLanes|=c,a.entanglements[y]=a.entanglements[y]|1073741824|p&4194218}function Nr(a,c){var p=a.entangledLanes|=c;for(a=a.entanglements;p;){var y=31-Me(p),b=1<<y;b&c|a[y]&c&&(a[y]|=c),p&=~b}}function yr(a){return a&=-a,2<a?8<a?a&134217727?32:268435456:8:2}function eu(){var a=it.p;return a!==0?a:(a=window.event,a===void 0?32:Pw(a.type))}function ia(a,c){var p=it.p;try{return it.p=a,c()}finally{it.p=p}}var mi=Math.random().toString(36).slice(2),li="__reactFiber$"+mi,Qe="__reactProps$"+mi,sa="__reactContainer$"+mi,Zo="__reactEvents$"+mi,dd="__reactListeners$"+mi,pd="__reactHandles$"+mi,md="__reactResources$"+mi,eo="__reactMarker$"+mi;function tc(a){delete a[li],delete a[Qe],delete a[Zo],delete a[dd],delete a[pd]}function ra(a){var c=a[li];if(c)return c;for(var p=a.parentNode;p;){if(c=p[sa]||p[li]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(a=Aw(a);a!==null;){if(p=a[li])return p;a=Aw(a)}return c}a=p,p=a.parentNode}return null}function V(a){if(a=a[li]||a[sa]){var c=a.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return a}return null}function at(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a.stateNode;throw Error(i(33))}function xt(a){var c=a[md];return c||(c=a[md]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function gt(a){a[eo]=!0}var ht=new Set,kt={};function te(a,c){oe(a,c),oe(a+"Capture",c)}function oe(a,c){for(kt[a]=c,a=0;a<c.length;a++)ht.add(c[a])}var ae=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ue=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pe={},Ce={};function ln(a){return _e.call(Ce,a)?!0:_e.call(Pe,a)?!1:Ue.test(a)?Ce[a]=!0:(Pe[a]=!0,!1)}function cn(a,c,p){if(ln(c))if(p===null)a.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":a.removeAttribute(c);return;case"boolean":var y=c.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){a.removeAttribute(c);return}}a.setAttribute(c,""+p)}}function Yn(a,c,p){if(p===null)a.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttribute(c,""+p)}}function yn(a,c,p,y){if(y===null)a.removeAttribute(p);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(p);return}a.setAttributeNS(c,p,""+y)}}function He(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Re(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Ci(a){var c=Re(a)?"checked":"value",p=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),y=""+a[c];if(!a.hasOwnProperty(c)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var b=p.get,C=p.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return b.call(this)},set:function(I){y=""+I,C.call(this,I)}}),Object.defineProperty(a,c,{enumerable:p.enumerable}),{getValue:function(){return y},setValue:function(I){y=""+I},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function un(a){a._valueTracker||(a._valueTracker=Ci(a))}function Os(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var p=c.getValue(),y="";return a&&(y=Re(a)?a.checked?"true":"false":a.value),a=y,a!==p?(c.setValue(a),!0):!1}function vr(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var ms=/[\n"\\]/g;function Gi(a){return a.replace(ms,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Ln(a,c,p,y,b,C,I,k){a.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?a.type=I:a.removeAttribute("type"),c!=null?I==="number"?(c===0&&a.value===""||a.value!=c)&&(a.value=""+He(c)):a.value!==""+He(c)&&(a.value=""+He(c)):I!=="submit"&&I!=="reset"||a.removeAttribute("value"),c!=null?ss(a,I,He(c)):p!=null?ss(a,I,He(p)):y!=null&&a.removeAttribute("value"),b==null&&C!=null&&(a.defaultChecked=!!C),b!=null&&(a.checked=b&&typeof b!="function"&&typeof b!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?a.name=""+He(k):a.removeAttribute("name")}function gs(a,c,p,y,b,C,I,k){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(a.type=C),c!=null||p!=null){if(!(C!=="submit"&&C!=="reset"||c!=null))return;p=p!=null?""+He(p):"",c=c!=null?""+He(c):p,k||c===a.value||(a.value=c),a.defaultValue=c}y=y??b,y=typeof y!="function"&&typeof y!="symbol"&&!!y,a.checked=k?a.checked:!!y,a.defaultChecked=!!y,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(a.name=I)}function ss(a,c,p){c==="number"&&vr(a.ownerDocument)===a||a.defaultValue===""+p||(a.defaultValue=""+p)}function ci(a,c,p,y){if(a=a.options,c){c={};for(var b=0;b<p.length;b++)c["$"+p[b]]=!0;for(p=0;p<a.length;p++)b=c.hasOwnProperty("$"+a[p].value),a[p].selected!==b&&(a[p].selected=b),b&&y&&(a[p].defaultSelected=!0)}else{for(p=""+He(p),c=null,b=0;b<a.length;b++){if(a[b].value===p){a[b].selected=!0,y&&(a[b].defaultSelected=!0);return}c!==null||a[b].disabled||(c=a[b])}c!==null&&(c.selected=!0)}}function Zi(a,c,p){if(c!=null&&(c=""+He(c),c!==a.value&&(a.value=c),p==null)){a.defaultValue!==c&&(a.defaultValue=c);return}a.defaultValue=p!=null?""+He(p):""}function aa(a,c,p,y){if(c==null){if(y!=null){if(p!=null)throw Error(i(92));if(Ft(y)){if(1<y.length)throw Error(i(93));y=y[0]}p=y}p==null&&(p=""),c=p}p=He(c),a.defaultValue=p,y=a.textContent,y===p&&y!==""&&y!==null&&(a.value=y)}function Us(a,c){if(c){var p=a.firstChild;if(p&&p===a.lastChild&&p.nodeType===3){p.nodeValue=c;return}}a.textContent=c}var gd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sf(a,c,p){var y=c.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?y?a.setProperty(c,""):c==="float"?a.cssFloat="":a[c]="":y?a.setProperty(c,p):typeof p!="number"||p===0||gd.has(c)?c==="float"?a.cssFloat=p:a[c]=(""+p).trim():a[c]=p+"px"}function Vm(a,c,p){if(c!=null&&typeof c!="object")throw Error(i(62));if(a=a.style,p!=null){for(var y in p)!p.hasOwnProperty(y)||c!=null&&c.hasOwnProperty(y)||(y.indexOf("--")===0?a.setProperty(y,""):y==="float"?a.cssFloat="":a[y]="");for(var b in c)y=c[b],c.hasOwnProperty(b)&&p[b]!==y&&Sf(a,b,y)}else for(var C in c)c.hasOwnProperty(C)&&Sf(a,C,c[C])}function _f(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bf(a){return dv.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var yd=null;function Mf(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ec=null,nc=null;function vd(a){var c=V(a);if(c&&(a=c.stateNode)){var p=a[Qe]||null;t:switch(a=c.stateNode,c.type){case"input":if(Ln(a,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),c=p.name,p.type==="radio"&&c!=null){for(p=a;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+Gi(""+c)+'"][type="radio"]'),c=0;c<p.length;c++){var y=p[c];if(y!==a&&y.form===a.form){var b=y[Qe]||null;if(!b)throw Error(i(90));Ln(y,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(c=0;c<p.length;c++)y=p[c],y.form===a.form&&Os(y)}break t;case"textarea":Zi(a,p.value,p.defaultValue);break t;case"select":c=p.value,c!=null&&ci(a,!!p.multiple,c,!1)}}}var xd=!1;function km(a,c,p){if(xd)return a(c,p);xd=!0;try{var y=a(c);return y}finally{if(xd=!1,(ec!==null||nc!==null)&&(Mc(),ec&&(c=ec,a=nc,nc=ec=null,vd(c),a)))for(c=0;c<a.length;c++)vd(a[c])}}function nu(a,c){var p=a.stateNode;if(p===null)return null;var y=p[Qe]||null;if(y===null)return null;p=y[c];t:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(a=a.type,y=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!y;break t;default:a=!1}if(a)return null;if(p&&typeof p!="function")throw Error(i(231,c,typeof p));return p}var Ef=!1;if(ae)try{var iu={};Object.defineProperty(iu,"passive",{get:function(){Ef=!0}}),window.addEventListener("test",iu,iu),window.removeEventListener("test",iu,iu)}catch{Ef=!1}var no=null,Xm=null,Ad=null;function jm(){if(Ad)return Ad;var a,c=Xm,p=c.length,y,b="value"in no?no.value:no.textContent,C=b.length;for(a=0;a<p&&c[a]===b[a];a++);var I=p-a;for(y=1;y<=I&&c[p-y]===b[C-y];y++);return Ad=b.slice(a,1<y?1-y:void 0)}function $o(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function su(){return!0}function Tf(){return!1}function Ps(a){function c(p,y,b,C,I){this._reactName=p,this._targetInst=b,this.type=y,this.nativeEvent=C,this.target=I,this.currentTarget=null;for(var k in a)a.hasOwnProperty(k)&&(p=a[k],this[k]=p?p(C):C[k]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?su:Tf,this.isPropagationStopped=Tf,this}return B(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=su)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=su)},persist:function(){},isPersistent:su}),c}var tl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ru=Ps(tl),au=B({},tl,{view:0,detail:0}),pv=Ps(au),io,ou,lu,cu=B({},au,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rf,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==lu&&(lu&&a.type==="mousemove"?(io=a.screenX-lu.screenX,ou=a.screenY-lu.screenY):ou=io=0,lu=a),io)},movementY:function(a){return"movementY"in a?a.movementY:ou}}),Ym=Ps(cu),mv=B({},cu,{dataTransfer:0}),D_=Ps(mv),rs=B({},au,{relatedTarget:0}),Sd=Ps(rs),gv=B({},tl,{animationName:0,elapsedTime:0,pseudoElement:0}),yv=Ps(gv),vv=B({},tl,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),xv=Ps(vv),Cf=B({},tl,{data:0}),_d=Ps(Cf),Av={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_v={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wm(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=_v[a])?!!c[a]:!1}function Rf(){return Wm}var bv=B({},au,{key:function(a){if(a.key){var c=Av[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=$o(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Sv[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rf,charCode:function(a){return a.type==="keypress"?$o(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?$o(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Km=Ps(bv),qm=B({},cu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bd=Ps(qm),Mv=B({},au,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rf}),Jm=Ps(Mv),Ev=B({},tl,{propertyName:0,elapsedTime:0,pseudoElement:0}),so=Ps(Ev),Qm=B({},cu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),L_=Ps(Qm),Tv=B({},tl,{newState:0,oldState:0}),el=Ps(Tv),ro=[9,13,27,32],wf=ae&&"CompositionEvent"in window,ic=null;ae&&"documentMode"in document&&(ic=document.documentMode);var Bf=ae&&"TextEvent"in window&&!ic,Df=ae&&(!wf||ic&&8<ic&&11>=ic),nl=" ",as=!1;function Lf(a,c){switch(a){case"keyup":return ro.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zm(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var il=!1;function Of(a,c){switch(a){case"compositionend":return Zm(c);case"keypress":return c.which!==32?null:(as=!0,nl);case"textInput":return a=c.data,a===nl&&as?null:a;default:return null}}function $m(a,c){if(il)return a==="compositionend"||!wf&&Lf(a,c)?(a=jm(),Ad=Xm=no=null,il=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Df&&c.locale!=="ko"?null:c.data;default:return null}}var Md={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tg(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!Md[a.type]:c==="textarea"}function Ws(a,c,p,y){ec?nc?nc.push(y):nc=[y]:ec=y,c=Tx(c,"onChange"),0<c.length&&(p=new ru("onChange","change",null,p,y),a.push({event:p,listeners:c}))}var uu=null,sc=null;function Cv(a){fw(a,0)}function Uf(a){var c=at(a);if(Os(c))return a}function Ed(a,c){if(a==="change")return c}var Td=!1;if(ae){var Cd;if(ae){var fu="oninput"in document;if(!fu){var hu=document.createElement("div");hu.setAttribute("oninput","return;"),fu=typeof hu.oninput=="function"}Cd=fu}else Cd=!1;Td=Cd&&(!document.documentMode||9<document.documentMode)}function ni(){uu&&(uu.detachEvent("onpropertychange",Rv),sc=uu=null)}function Rv(a){if(a.propertyName==="value"&&Uf(sc)){var c=[];Ws(c,sc,a,Mf(a)),km(Cv,c)}}function O_(a,c,p){a==="focusin"?(ni(),uu=c,sc=p,uu.attachEvent("onpropertychange",Rv)):a==="focusout"&&ni()}function wv(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Uf(sc)}function Pf(a,c){if(a==="click")return Uf(c)}function sl(a,c){if(a==="input"||a==="change")return Uf(c)}function Bv(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var Ks=typeof Object.is=="function"?Object.is:Bv;function oa(a,c){if(Ks(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var p=Object.keys(a),y=Object.keys(c);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var b=p[y];if(!_e.call(c,b)||!Ks(a[b],c[b]))return!1}return!0}function qs(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function eg(a,c){var p=qs(a);a=0;for(var y;p;){if(p.nodeType===3){if(y=a+p.textContent.length,a<=c&&y>=c)return{node:p,offset:c-a};a=y}t:{for(;p;){if(p.nextSibling){p=p.nextSibling;break t}p=p.parentNode}p=void 0}p=qs(p)}}function ng(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?ng(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function ig(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var c=vr(a.document);c instanceof a.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)a=c.contentWindow;else break;c=vr(a.document)}return c}function Nf(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}function sg(a,c){var p=ig(c);c=a.focusedElem;var y=a.selectionRange;if(p!==c&&c&&c.ownerDocument&&ng(c.ownerDocument.documentElement,c)){if(y!==null&&Nf(c)){if(a=y.start,p=y.end,p===void 0&&(p=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(p,c.value.length);else if(p=(a=c.ownerDocument||document)&&a.defaultView||window,p.getSelection){p=p.getSelection();var b=c.textContent.length,C=Math.min(y.start,b);y=y.end===void 0?C:Math.min(y.end,b),!p.extend&&C>y&&(b=y,y=C,C=b),b=eg(c,C);var I=eg(c,y);b&&I&&(p.rangeCount!==1||p.anchorNode!==b.node||p.anchorOffset!==b.offset||p.focusNode!==I.node||p.focusOffset!==I.offset)&&(a=a.createRange(),a.setStart(b.node,b.offset),p.removeAllRanges(),C>y?(p.addRange(a),p.extend(I.node,I.offset)):(a.setEnd(I.node,I.offset),p.addRange(a)))}}for(a=[],p=c;p=p.parentNode;)p.nodeType===1&&a.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)p=a[c],p.element.scrollLeft=p.left,p.element.scrollTop=p.top}}var Rd=ae&&"documentMode"in document&&11>=document.documentMode,rc=null,rg=null,du=null,wd=!1;function Ir(a,c,p){var y=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;wd||rc==null||rc!==vr(y)||(y=rc,"selectionStart"in y&&Nf(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),du&&oa(du,y)||(du=y,y=Tx(rg,"onSelect"),0<y.length&&(c=new ru("onSelect","select",null,c,p),a.push({event:c,listeners:y}),c.target=rc)))}function ao(a,c){var p={};return p[a.toLowerCase()]=c.toLowerCase(),p["Webkit"+a]="webkit"+c,p["Moz"+a]="moz"+c,p}var ac={animationend:ao("Animation","AnimationEnd"),animationiteration:ao("Animation","AnimationIteration"),animationstart:ao("Animation","AnimationStart"),transitionrun:ao("Transition","TransitionRun"),transitionstart:ao("Transition","TransitionStart"),transitioncancel:ao("Transition","TransitionCancel"),transitionend:ao("Transition","TransitionEnd")},ag={},Bd={};ae&&(Bd=document.createElement("div").style,"AnimationEvent"in window||(delete ac.animationend.animation,delete ac.animationiteration.animation,delete ac.animationstart.animation),"TransitionEvent"in window||delete ac.transitionend.transition);function Ri(a){if(ag[a])return ag[a];if(!ac[a])return a;var c=ac[a],p;for(p in c)if(c.hasOwnProperty(p)&&p in Bd)return ag[a]=c[p];return a}var og=Ri("animationend"),Js=Ri("animationiteration"),lg=Ri("animationstart"),oo=Ri("transitionrun"),pu=Ri("transitionstart"),rl=Ri("transitioncancel"),Dd=Ri("transitionend"),Ld=new Map,lo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Fr(a,c){Ld.set(a,c),te(c,[a])}var os=[],Ca=0,co=0;function If(){for(var a=Ca,c=co=Ca=0;c<a;){var p=os[c];os[c++]=null;var y=os[c];os[c++]=null;var b=os[c];os[c++]=null;var C=os[c];if(os[c++]=null,y!==null&&b!==null){var I=y.pending;I===null?b.next=b:(b.next=I.next,I.next=b),y.pending=b}C!==0&&zf(p,b,C)}}function Ff(a,c,p,y){os[Ca++]=a,os[Ca++]=c,os[Ca++]=p,os[Ca++]=y,co|=y,a.lanes|=y,a=a.alternate,a!==null&&(a.lanes|=y)}function oc(a,c,p,y){return Ff(a,c,p,y),Hf(a)}function uo(a,c){return Ff(a,null,null,c),Hf(a)}function zf(a,c,p){a.lanes|=p;var y=a.alternate;y!==null&&(y.lanes|=p);for(var b=!1,C=a.return;C!==null;)C.childLanes|=p,y=C.alternate,y!==null&&(y.childLanes|=p),C.tag===22&&(a=C.stateNode,a===null||a._visibility&1||(b=!0)),a=C,C=C.return;b&&c!==null&&a.tag===3&&(C=a.stateNode,b=31-Me(p),C=C.hiddenUpdates,a=C[b],a===null?C[b]=[c]:a.push(c),c.lane=p|536870912)}function Hf(a){if(50<Kr)throw Kr=0,Lo=null,Error(i(185));for(var c=a.return;c!==null;)a=c,c=a.return;return a.tag===3?a.stateNode:null}var al={},Od=new WeakMap;function Qs(a,c){if(typeof a=="object"&&a!==null){var p=Od.get(a);return p!==void 0?p:(c={value:a,source:c,stack:et(c)},Od.set(a,c),c)}return{value:a,source:c,stack:et(c)}}var lc=[],ol=0,ys=null,Gf=0,Wn=[],xr=0,fo=null,Ra=1,ho="";function Ns(a,c){lc[ol++]=Gf,lc[ol++]=ys,ys=a,Gf=c}function cg(a,c,p){Wn[xr++]=Ra,Wn[xr++]=ho,Wn[xr++]=fo,fo=a;var y=Ra;a=ho;var b=32-Me(y)-1;y&=~(1<<b),p+=1;var C=32-Me(c)+b;if(30<C){var I=b-b%5;C=(y&(1<<I)-1).toString(32),y>>=I,b-=I,Ra=1<<32-Me(c)+b|p<<b|y,ho=C+a}else Ra=1<<C|p<<b|y,ho=a}function Vf(a){a.return!==null&&(Ns(a,1),cg(a,1,0))}function ll(a){for(;a===ys;)ys=lc[--ol],lc[ol]=null,Gf=lc[--ol],lc[ol]=null;for(;a===fo;)fo=Wn[--xr],Wn[xr]=null,ho=Wn[--xr],Wn[xr]=null,Ra=Wn[--xr],Wn[xr]=null}var vs=null,$i=null,xn=!1,zr=null,Hr=!1,kf=Error(i(519));function cc(a){var c=Error(i(418,""));throw wa(Qs(c,a)),kf}function Dv(a){var c=a.stateNode,p=a.type,y=a.memoizedProps;switch(c[li]=a,c[Qe]=y,p){case"dialog":Sn("cancel",c),Sn("close",c);break;case"iframe":case"object":case"embed":Sn("load",c);break;case"video":case"audio":for(p=0;p<kg.length;p++)Sn(kg[p],c);break;case"source":Sn("error",c);break;case"img":case"image":case"link":Sn("error",c),Sn("load",c);break;case"details":Sn("toggle",c);break;case"input":Sn("invalid",c),gs(c,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0),un(c);break;case"select":Sn("invalid",c);break;case"textarea":Sn("invalid",c),aa(c,y.value,y.defaultValue,y.children),un(c)}p=y.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||c.textContent===""+p||y.suppressHydrationWarning===!0||mw(c.textContent,p)?(y.popover!=null&&(Sn("beforetoggle",c),Sn("toggle",c)),y.onScroll!=null&&Sn("scroll",c),y.onScrollEnd!=null&&Sn("scrollend",c),y.onClick!=null&&(c.onclick=Cx),c=!0):c=!1,c||cc(a)}function Lv(a){for(vs=a.return;vs;)switch(vs.tag){case 3:case 27:Hr=!0;return;case 5:case 13:Hr=!1;return;default:vs=vs.return}}function mu(a){if(a!==vs)return!1;if(!xn)return Lv(a),xn=!0,!1;var c=!1,p;if((p=a.tag!==3&&a.tag!==27)&&((p=a.tag===5)&&(p=a.type,p=!(p!=="form"&&p!=="button")||$_(a.type,a.memoizedProps)),p=!p),p&&(c=!0),c&&$i&&cc(a),Lv(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));t:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8)if(p=a.data,p==="/$"){if(c===0){$i=Uo(a.nextSibling);break t}c--}else p!=="$"&&p!=="$!"&&p!=="$?"||c++;a=a.nextSibling}$i=null}}else $i=vs?Uo(a.stateNode.nextSibling):null;return!0}function gu(){$i=vs=null,xn=!1}function wa(a){zr===null?zr=[a]:zr.push(a)}var cl=Error(i(460)),ug=Error(i(474)),Ud={then:function(){}};function Ov(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Xf(){}function ul(a,c,p){switch(p=a[p],p===void 0?a.push(c):p!==c&&(c.then(Xf,Xf),c=p),c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,a===cl?Error(i(483)):a;default:if(typeof c.status=="string")c.then(Xf,Xf);else{if(a=zn,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=c,a.status="pending",a.then(function(y){if(c.status==="pending"){var b=c;b.status="fulfilled",b.value=y}},function(y){if(c.status==="pending"){var b=c;b.status="rejected",b.reason=y}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,a===cl?Error(i(483)):a}throw yu=c,cl}}var yu=null;function wn(){if(yu===null)throw Error(i(459));var a=yu;return yu=null,a}var fl=null,jf=0;function Yf(a){var c=jf;return jf+=1,fl===null&&(fl=[]),ul(fl,a,c)}function Wf(a,c){c=c.props.ref,a.ref=c!==void 0?c:null}function Pd(a,c){throw c.$$typeof===r?Error(i(525)):(a=Object.prototype.toString.call(c),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a)))}function Uv(a){var c=a._init;return c(a._payload)}function Pv(a){function c(pt,ct){if(a){var vt=pt.deletions;vt===null?(pt.deletions=[ct],pt.flags|=16):vt.push(ct)}}function p(pt,ct){if(!a)return null;for(;ct!==null;)c(pt,ct),ct=ct.sibling;return null}function y(pt){for(var ct=new Map;pt!==null;)pt.key!==null?ct.set(pt.key,pt):ct.set(pt.index,pt),pt=pt.sibling;return ct}function b(pt,ct){return pt=Hs(pt,ct),pt.index=0,pt.sibling=null,pt}function C(pt,ct,vt){return pt.index=vt,a?(vt=pt.alternate,vt!==null?(vt=vt.index,vt<ct?(pt.flags|=33554434,ct):vt):(pt.flags|=33554434,ct)):(pt.flags|=1048576,ct)}function I(pt){return a&&pt.alternate===null&&(pt.flags|=33554434),pt}function k(pt,ct,vt,zt){return ct===null||ct.tag!==6?(ct=Li(vt,pt.mode,zt),ct.return=pt,ct):(ct=b(ct,vt),ct.return=pt,ct)}function Z(pt,ct,vt,zt){var Se=vt.type;return Se===u?Ot(pt,ct,vt.props.children,zt,vt.key):ct!==null&&(ct.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===w&&Uv(Se)===ct.type)?(ct=b(ct,vt.props),Wf(ct,vt),ct.return=pt,ct):(ct=Lu(vt.type,vt.key,vt.props,null,pt.mode,zt),Wf(ct,vt),ct.return=pt,ct)}function ft(pt,ct,vt,zt){return ct===null||ct.tag!==4||ct.stateNode.containerInfo!==vt.containerInfo||ct.stateNode.implementation!==vt.implementation?(ct=rh(vt,pt.mode,zt),ct.return=pt,ct):(ct=b(ct,vt.children||[]),ct.return=pt,ct)}function Ot(pt,ct,vt,zt,Se){return ct===null||ct.tag!==7?(ct=Bl(vt,pt.mode,zt,Se),ct.return=pt,ct):(ct=b(ct,vt),ct.return=pt,ct)}function jt(pt,ct,vt){if(typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint")return ct=Li(""+ct,pt.mode,vt),ct.return=pt,ct;if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case o:return vt=Lu(ct.type,ct.key,ct.props,null,pt.mode,vt),Wf(vt,ct),vt.return=pt,vt;case l:return ct=rh(ct,pt.mode,vt),ct.return=pt,ct;case w:var zt=ct._init;return ct=zt(ct._payload),jt(pt,ct,vt)}if(Ft(ct)||P(ct))return ct=Bl(ct,pt.mode,vt,null),ct.return=pt,ct;if(typeof ct.then=="function")return jt(pt,Yf(ct),vt);if(ct.$$typeof===A)return jt(pt,Zd(pt,ct),vt);Pd(pt,ct)}return null}function _t(pt,ct,vt,zt){var Se=ct!==null?ct.key:null;if(typeof vt=="string"&&vt!==""||typeof vt=="number"||typeof vt=="bigint")return Se!==null?null:k(pt,ct,""+vt,zt);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case o:return vt.key===Se?Z(pt,ct,vt,zt):null;case l:return vt.key===Se?ft(pt,ct,vt,zt):null;case w:return Se=vt._init,vt=Se(vt._payload),_t(pt,ct,vt,zt)}if(Ft(vt)||P(vt))return Se!==null?null:Ot(pt,ct,vt,zt,null);if(typeof vt.then=="function")return _t(pt,ct,Yf(vt),zt);if(vt.$$typeof===A)return _t(pt,ct,Zd(pt,vt),zt);Pd(pt,vt)}return null}function wt(pt,ct,vt,zt,Se){if(typeof zt=="string"&&zt!==""||typeof zt=="number"||typeof zt=="bigint")return pt=pt.get(vt)||null,k(ct,pt,""+zt,Se);if(typeof zt=="object"&&zt!==null){switch(zt.$$typeof){case o:return pt=pt.get(zt.key===null?vt:zt.key)||null,Z(ct,pt,zt,Se);case l:return pt=pt.get(zt.key===null?vt:zt.key)||null,ft(ct,pt,zt,Se);case w:var hn=zt._init;return zt=hn(zt._payload),wt(pt,ct,vt,zt,Se)}if(Ft(zt)||P(zt))return pt=pt.get(vt)||null,Ot(ct,pt,zt,Se,null);if(typeof zt.then=="function")return wt(pt,ct,vt,Yf(zt),Se);if(zt.$$typeof===A)return wt(pt,ct,vt,Zd(ct,zt),Se);Pd(ct,zt)}return null}function Te(pt,ct,vt,zt){for(var Se=null,hn=null,we=ct,Ie=ct=0,Es=null;we!==null&&Ie<vt.length;Ie++){we.index>Ie?(Es=we,we=null):Es=we.sibling;var Bn=_t(pt,we,vt[Ie],zt);if(Bn===null){we===null&&(we=Es);break}a&&we&&Bn.alternate===null&&c(pt,we),ct=C(Bn,ct,Ie),hn===null?Se=Bn:hn.sibling=Bn,hn=Bn,we=Es}if(Ie===vt.length)return p(pt,we),xn&&Ns(pt,Ie),Se;if(we===null){for(;Ie<vt.length;Ie++)we=jt(pt,vt[Ie],zt),we!==null&&(ct=C(we,ct,Ie),hn===null?Se=we:hn.sibling=we,hn=we);return xn&&Ns(pt,Ie),Se}for(we=y(we);Ie<vt.length;Ie++)Es=wt(we,pt,Ie,vt[Ie],zt),Es!==null&&(a&&Es.alternate!==null&&we.delete(Es.key===null?Ie:Es.key),ct=C(Es,ct,Ie),hn===null?Se=Es:hn.sibling=Es,hn=Es);return a&&we.forEach(function(Gu){return c(pt,Gu)}),xn&&Ns(pt,Ie),Se}function je(pt,ct,vt,zt){if(vt==null)throw Error(i(151));for(var Se=null,hn=null,we=ct,Ie=ct=0,Es=null,Bn=vt.next();we!==null&&!Bn.done;Ie++,Bn=vt.next()){we.index>Ie?(Es=we,we=null):Es=we.sibling;var Gu=_t(pt,we,Bn.value,zt);if(Gu===null){we===null&&(we=Es);break}a&&we&&Gu.alternate===null&&c(pt,we),ct=C(Gu,ct,Ie),hn===null?Se=Gu:hn.sibling=Gu,hn=Gu,we=Es}if(Bn.done)return p(pt,we),xn&&Ns(pt,Ie),Se;if(we===null){for(;!Bn.done;Ie++,Bn=vt.next())Bn=jt(pt,Bn.value,zt),Bn!==null&&(ct=C(Bn,ct,Ie),hn===null?Se=Bn:hn.sibling=Bn,hn=Bn);return xn&&Ns(pt,Ie),Se}for(we=y(we);!Bn.done;Ie++,Bn=vt.next())Bn=wt(we,pt,Ie,Bn.value,zt),Bn!==null&&(a&&Bn.alternate!==null&&we.delete(Bn.key===null?Ie:Bn.key),ct=C(Bn,ct,Ie),hn===null?Se=Bn:hn.sibling=Bn,hn=Bn);return a&&we.forEach(function(X4){return c(pt,X4)}),xn&&Ns(pt,Ie),Se}function Pi(pt,ct,vt,zt){if(typeof vt=="object"&&vt!==null&&vt.type===u&&vt.key===null&&(vt=vt.props.children),typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case o:t:{for(var Se=vt.key;ct!==null;){if(ct.key===Se){if(Se=vt.type,Se===u){if(ct.tag===7){p(pt,ct.sibling),zt=b(ct,vt.props.children),zt.return=pt,pt=zt;break t}}else if(ct.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===w&&Uv(Se)===ct.type){p(pt,ct.sibling),zt=b(ct,vt.props),Wf(zt,vt),zt.return=pt,pt=zt;break t}p(pt,ct);break}else c(pt,ct);ct=ct.sibling}vt.type===u?(zt=Bl(vt.props.children,pt.mode,zt,vt.key),zt.return=pt,pt=zt):(zt=Lu(vt.type,vt.key,vt.props,null,pt.mode,zt),Wf(zt,vt),zt.return=pt,pt=zt)}return I(pt);case l:t:{for(Se=vt.key;ct!==null;){if(ct.key===Se)if(ct.tag===4&&ct.stateNode.containerInfo===vt.containerInfo&&ct.stateNode.implementation===vt.implementation){p(pt,ct.sibling),zt=b(ct,vt.children||[]),zt.return=pt,pt=zt;break t}else{p(pt,ct);break}else c(pt,ct);ct=ct.sibling}zt=rh(vt,pt.mode,zt),zt.return=pt,pt=zt}return I(pt);case w:return Se=vt._init,vt=Se(vt._payload),Pi(pt,ct,vt,zt)}if(Ft(vt))return Te(pt,ct,vt,zt);if(P(vt)){if(Se=P(vt),typeof Se!="function")throw Error(i(150));return vt=Se.call(vt),je(pt,ct,vt,zt)}if(typeof vt.then=="function")return Pi(pt,ct,Yf(vt),zt);if(vt.$$typeof===A)return Pi(pt,ct,Zd(pt,vt),zt);Pd(pt,vt)}return typeof vt=="string"&&vt!==""||typeof vt=="number"||typeof vt=="bigint"?(vt=""+vt,ct!==null&&ct.tag===6?(p(pt,ct.sibling),zt=b(ct,vt),zt.return=pt,pt=zt):(p(pt,ct),zt=Li(vt,pt.mode,zt),zt.return=pt,pt=zt),I(pt)):p(pt,ct)}return function(pt,ct,vt,zt){try{jf=0;var Se=Pi(pt,ct,vt,zt);return fl=null,Se}catch(we){if(we===cl)throw we;var hn=_i(29,we,null,pt.mode);return hn.lanes=zt,hn.return=pt,hn}finally{}}}var po=Pv(!0),mo=Pv(!1),uc=Xt(null),fc=Xt(0);function hl(a,c){a=Do,Wt(fc,a),Wt(uc,c),Do=a|c.baseLanes}function Nd(){Wt(fc,Do),Wt(uc,uc.current)}function Kf(){Do=fc.current,xe(uc),xe(fc)}var Zs=Xt(null),Ba=null;function go(a){var c=a.alternate;Wt(wi,wi.current&1),Wt(Zs,a),Ba===null&&(c===null||uc.current!==null||c.memoizedState!==null)&&(Ba=a)}function fg(a){if(a.tag===22){if(Wt(wi,wi.current),Wt(Zs,a),Ba===null){var c=a.alternate;c!==null&&c.memoizedState!==null&&(Ba=a)}}else yo()}function yo(){Wt(wi,wi.current),Wt(Zs,Zs.current)}function Da(a){xe(Zs),Ba===a&&(Ba=null),xe(wi)}var wi=Xt(0);function vu(a){for(var c=a;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if(c.flags&128)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var rn=typeof AbortController<"u"?AbortController:function(){var a=[],c=this.signal={aborted:!1,addEventListener:function(p,y){a.push(y)}};this.abort=function(){c.aborted=!0,a.forEach(function(p){return p()})}},U_=n.unstable_scheduleCallback,Ar=n.unstable_NormalPriority,gi={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hg(){return{controller:new rn,data:new Map,refCount:0}}function dl(a){a.refCount--,a.refCount===0&&U_(Ar,function(){a.controller.abort()})}var La=null,pl=0,hc=0,ml=null;function P_(a,c){if(La===null){var p=La=[];pl=0,hc=X_(),ml={status:"pending",value:void 0,then:function(y){p.push(y)}}}return pl++,c.then(dg,dg),c}function dg(){if(--pl===0&&La!==null){ml!==null&&(ml.status="fulfilled");var a=La;La=null,hc=0,ml=null;for(var c=0;c<a.length;c++)(0,a[c])()}}function gl(a,c){var p=[],y={status:"pending",value:null,reason:null,then:function(b){p.push(b)}};return a.then(function(){y.status="fulfilled",y.value=c;for(var b=0;b<p.length;b++)(0,p[b])(c)},function(b){for(y.status="rejected",y.reason=b,b=0;b<p.length;b++)(0,p[b])(void 0)}),y}var Id=N.S;N.S=function(a,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&P_(a,c),Id!==null&&Id(a,c)};var vo=Xt(null);function qf(){var a=vo.current;return a!==null?a:zn.pooledCache}function xu(a,c){c===null?Wt(vo,vo.current):Wt(vo,c.pool)}function xo(){var a=qf();return a===null?null:{parent:gi._currentValue,pool:a}}var Ao=0,Ze=null,On=null,Bi=null,Ne=!1,yl=!1,vl=!1,Au=0,xl=0,Su=null,N_=0;function ui(){throw Error(i(321))}function dc(a,c){if(c===null)return!1;for(var p=0;p<c.length&&p<a.length;p++)if(!Ks(a[p],c[p]))return!1;return!0}function pg(a,c,p,y,b,C){return Ao=C,Ze=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,N.H=a===null||a.memoizedState===null?Sl:_o,vl=!1,C=p(y,b),vl=!1,yl&&(C=Iv(c,p,y,b)),Nv(a),C}function Nv(a){N.H=Ua;var c=On!==null&&On.next!==null;if(Ao=0,Bi=On=Ze=null,Ne=!1,xl=0,Su=null,c)throw Error(i(300));a===null||Vi||(a=a.dependencies,a!==null&&Tu(a)&&(Vi=!0))}function Iv(a,c,p,y){Ze=a;var b=0;do{if(yl&&(Su=null),xl=0,yl=!1,25<=b)throw Error(i(301));if(b+=1,Bi=On=null,a.updateQueue!=null){var C=a.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}N.H=gc,C=c(p,y)}while(yl);return C}function I_(){var a=N.H,c=a.useState()[0];return c=typeof c.then=="function"?Qf(c):c,a=a.useState()[0],(On!==null?On.memoizedState:null)!==a&&(Ze.flags|=1024),c}function mg(){var a=Au!==0;return Au=0,a}function Jf(a,c,p){c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~p}function Fd(a){if(Ne){for(a=a.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}Ne=!1}Ao=0,Bi=On=Ze=null,yl=!1,xl=Au=0,Su=null}function ls(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bi===null?Ze.memoizedState=Bi=a:Bi=Bi.next=a,Bi}function yi(){if(On===null){var a=Ze.alternate;a=a!==null?a.memoizedState:null}else a=On.next;var c=Bi===null?Ze.memoizedState:Bi.next;if(c!==null)Bi=c,On=a;else{if(a===null)throw Ze.alternate===null?Error(i(467)):Error(i(310));On=a,a={memoizedState:On.memoizedState,baseState:On.baseState,baseQueue:On.baseQueue,queue:On.queue,next:null},Bi===null?Ze.memoizedState=Bi=a:Bi=Bi.next=a}return Bi}var zd;zd=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Qf(a){var c=xl;return xl+=1,Su===null&&(Su=[]),a=ul(Su,a,c),c=Ze,(Bi===null?c.memoizedState:Bi.next)===null&&(c=c.alternate,N.H=c===null||c.memoizedState===null?Sl:_o),a}function _u(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Qf(a);if(a.$$typeof===A)return xs(a)}throw Error(i(438,String(a)))}function la(a){var c=null,p=Ze.updateQueue;if(p!==null&&(c=p.memoCache),c==null){var y=Ze.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(c={data:y.data.map(function(b){return b.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),p===null&&(p=zd(),Ze.updateQueue=p),p.memoCache=c,p=c.data[c.index],p===void 0)for(p=c.data[c.index]=Array(a),y=0;y<a;y++)p[y]=L;return c.index++,p}function ii(a,c){return typeof c=="function"?c(a):c}function ca(a){var c=yi();return $s(c,On,a)}function $s(a,c,p){var y=a.queue;if(y===null)throw Error(i(311));y.lastRenderedReducer=p;var b=a.baseQueue,C=y.pending;if(C!==null){if(b!==null){var I=b.next;b.next=C.next,C.next=I}c.baseQueue=b=C,y.pending=null}if(C=a.baseState,b===null)a.memoizedState=C;else{c=b.next;var k=I=null,Z=null,ft=c,Ot=!1;do{var jt=ft.lane&-536870913;if(jt!==ft.lane?(De&jt)===jt:(Ao&jt)===jt){var _t=ft.revertLane;if(_t===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,action:ft.action,hasEagerState:ft.hasEagerState,eagerState:ft.eagerState,next:null}),jt===hc&&(Ot=!0);else if((Ao&_t)===_t){ft=ft.next,_t===hc&&(Ot=!0);continue}else jt={lane:0,revertLane:ft.revertLane,action:ft.action,hasEagerState:ft.hasEagerState,eagerState:ft.eagerState,next:null},Z===null?(k=Z=jt,I=C):Z=Z.next=jt,Ze.lanes|=_t,ga|=_t;jt=ft.action,vl&&p(C,jt),C=ft.hasEagerState?ft.eagerState:p(C,jt)}else _t={lane:jt,revertLane:ft.revertLane,action:ft.action,hasEagerState:ft.hasEagerState,eagerState:ft.eagerState,next:null},Z===null?(k=Z=_t,I=C):Z=Z.next=_t,Ze.lanes|=jt,ga|=jt;ft=ft.next}while(ft!==null&&ft!==c);if(Z===null?I=C:Z.next=k,!Ks(C,a.memoizedState)&&(Vi=!0,Ot&&(p=ml,p!==null)))throw p;a.memoizedState=C,a.baseState=I,a.baseQueue=Z,y.lastRenderedState=C}return b===null&&(y.lanes=0),[a.memoizedState,y.dispatch]}function Hd(a){var c=yi(),p=c.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=a;var y=p.dispatch,b=p.pending,C=c.memoizedState;if(b!==null){p.pending=null;var I=b=b.next;do C=a(C,I.action),I=I.next;while(I!==b);Ks(C,c.memoizedState)||(Vi=!0),c.memoizedState=C,c.baseQueue===null&&(c.baseState=C),p.lastRenderedState=C}return[C,y]}function Fv(a,c,p){var y=Ze,b=yi(),C=xn;if(C){if(p===void 0)throw Error(i(407));p=p()}else p=c();var I=!Ks((On||b).memoizedState,p);if(I&&(b.memoizedState=p,Vi=!0),b=b.queue,xg(zv.bind(null,y,b,a),[a]),b.getSnapshot!==c||I||Bi!==null&&Bi.memoizedState.tag&1){if(y.flags|=2048,Oa(9,Al.bind(null,y,b,p,c),{destroy:void 0},null),zn===null)throw Error(i(349));C||Ao&60||Is(y,c,p)}return p}function Is(a,c,p){a.flags|=16384,a={getSnapshot:c,value:p},c=Ze.updateQueue,c===null?(c=zd(),Ze.updateQueue=c,c.stores=[a]):(p=c.stores,p===null?c.stores=[a]:p.push(a))}function Al(a,c,p,y){c.value=p,c.getSnapshot=y,Hv(c)&&Gv(a)}function zv(a,c,p){return p(function(){Hv(c)&&Gv(a)})}function Hv(a){var c=a.getSnapshot;a=a.value;try{var p=c();return!Ks(a,p)}catch{return!0}}function Gv(a){var c=uo(a,2);c!==null&&Ui(c,a,2)}function gg(a){var c=ls();if(typeof a=="function"){var p=a;if(a=p(),vl){Ge(!0);try{p()}finally{Ge(!1)}}}return c.memoizedState=c.baseState=a,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:a},c}function yg(a,c,p,y){return a.baseState=p,$s(a,On,typeof y=="function"?y:ii)}function F_(a,c,p,y,b){if(jd(a))throw Error(i(485));if(a=c.action,a!==null){var C={payload:b,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){C.listeners.push(I)}};N.T!==null?p(!0):C.isTransition=!1,y(C),p=c.pending,p===null?(C.next=c.pending=C,vg(c,C)):(C.next=p.next,c.pending=p.next=C)}}function vg(a,c){var p=c.action,y=c.payload,b=a.state;if(c.isTransition){var C=N.T,I={};N.T=I;try{var k=p(b,y),Z=N.S;Z!==null&&Z(I,k),Vv(a,c,k)}catch(ft){So(a,c,ft)}finally{N.T=C}}else try{C=p(b,y),Vv(a,c,C)}catch(ft){So(a,c,ft)}}function Vv(a,c,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(y){pc(a,c,y)},function(y){return So(a,c,y)}):pc(a,c,p)}function pc(a,c,p){c.status="fulfilled",c.value=p,kv(c),a.state=p,c=a.pending,c!==null&&(p=c.next,p===c?a.pending=null:(p=p.next,c.next=p,vg(a,p)))}function So(a,c,p){var y=a.pending;if(a.pending=null,y!==null){y=y.next;do c.status="rejected",c.reason=p,kv(c),c=c.next;while(c!==y)}a.action=null}function kv(a){a=a.listeners;for(var c=0;c<a.length;c++)(0,a[c])()}function Xv(a,c){return c}function jv(a,c){if(xn){var p=zn.formState;if(p!==null){t:{var y=Ze;if(xn){if($i){e:{for(var b=$i,C=Hr;b.nodeType!==8;){if(!C){b=null;break e}if(b=Uo(b.nextSibling),b===null){b=null;break e}}C=b.data,b=C==="F!"||C==="F"?b:null}if(b){$i=Uo(b.nextSibling),y=b.data==="F!";break t}}cc(y)}y=!1}y&&(c=p[0])}}return p=ls(),p.memoizedState=p.baseState=c,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xv,lastRenderedState:c},p.queue=y,p=bg.bind(null,Ze,y),y.dispatch=p,y=gg(!1),C=Zf.bind(null,Ze,!1,y.queue),y=ls(),b={state:c,dispatch:null,action:a,pending:null},y.queue=b,p=F_.bind(null,Ze,b,C,p),b.dispatch=p,y.memoizedState=a,[c,p,!1]}function bu(a){var c=yi();return Yv(c,On,a)}function Yv(a,c,p){c=$s(a,c,Xv)[0],a=ca(ii)[0],c=typeof c=="object"&&c!==null&&typeof c.then=="function"?Qf(c):c;var y=yi(),b=y.queue,C=b.dispatch;return p!==y.memoizedState&&(Ze.flags|=2048,Oa(9,z_.bind(null,b,p),{destroy:void 0},null)),[c,C,a]}function z_(a,c){a.action=c}function Wv(a){var c=yi(),p=On;if(p!==null)return Yv(c,p,a);yi(),c=c.memoizedState,p=yi();var y=p.queue.dispatch;return p.memoizedState=a,[c,y,!1]}function Oa(a,c,p,y){return a={tag:a,create:c,inst:p,deps:y,next:null},c=Ze.updateQueue,c===null&&(c=zd(),Ze.updateQueue=c),p=c.lastEffect,p===null?c.lastEffect=a.next=a:(y=p.next,p.next=a,a.next=y,c.lastEffect=a),a}function Kv(){return yi().memoizedState}function Gd(a,c,p,y){var b=ls();Ze.flags|=a,b.memoizedState=Oa(1|c,p,{destroy:void 0},y===void 0?null:y)}function Vd(a,c,p,y){var b=yi();y=y===void 0?null:y;var C=b.memoizedState.inst;On!==null&&y!==null&&dc(y,On.memoizedState.deps)?b.memoizedState=Oa(c,p,C,y):(Ze.flags|=a,b.memoizedState=Oa(1|c,p,C,y))}function qv(a,c){Gd(8390656,8,a,c)}function xg(a,c){Vd(2048,8,a,c)}function Jv(a,c){return Vd(4,2,a,c)}function Qv(a,c){return Vd(4,4,a,c)}function Zv(a,c){if(typeof c=="function"){a=a();var p=c(a);return function(){typeof p=="function"?p():c(null)}}if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function $v(a,c,p){p=p!=null?p.concat([a]):null,Vd(4,4,Zv.bind(null,c,a),p)}function Ag(){}function tx(a,c){var p=yi();c=c===void 0?null:c;var y=p.memoizedState;return c!==null&&dc(c,y[1])?y[0]:(p.memoizedState=[a,c],a)}function ex(a,c){var p=yi();c=c===void 0?null:c;var y=p.memoizedState;if(c!==null&&dc(c,y[1]))return y[0];if(y=a(),vl){Ge(!0);try{a()}finally{Ge(!1)}}return p.memoizedState=[y,c],y}function kd(a,c,p){return p===void 0||Ao&1073741824?a.memoizedState=c:(a.memoizedState=p,a=Er(),Ze.lanes|=a,ga|=a,p)}function nx(a,c,p,y){return Ks(p,c)?p:uc.current!==null?(a=kd(a,p,y),Ks(a,c)||(Vi=!0),a):Ao&42?(a=Er(),Ze.lanes|=a,ga|=a,c):(Vi=!0,a.memoizedState=p)}function ix(a,c,p,y,b){var C=it.p;it.p=C!==0&&8>C?C:8;var I=N.T,k={};N.T=k,Zf(a,!1,c,p);try{var Z=b(),ft=N.S;if(ft!==null&&ft(k,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var Ot=gl(Z,y);mc(a,c,Ot,Vs(a))}else mc(a,c,y,Vs(a))}catch(jt){mc(a,c,{then:function(){},status:"rejected",reason:jt},Vs())}finally{it.p=C,N.T=I}}function H_(){}function Sg(a,c,p,y){if(a.tag!==5)throw Error(i(476));var b=sx(a).queue;ix(a,b,c,Et,p===null?H_:function(){return rx(a),p(y)})}function sx(a){var c=a.memoizedState;if(c!==null)return c;c={memoizedState:Et,baseState:Et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:Et},next:null};var p={};return c.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:p},next:null},a.memoizedState=c,a=a.alternate,a!==null&&(a.memoizedState=c),c}function rx(a){var c=sx(a).next.queue;mc(a,c,{},Vs())}function Xd(){return xs(Kg)}function _g(){return yi().memoizedState}function ax(){return yi().memoizedState}function ox(a){for(var c=a.return;c!==null;){switch(c.tag){case 24:case 3:var p=Vs();a=br(p);var y=Mr(c,a,p);y!==null&&(Ui(y,c,p),Ml(y,c,p)),c={cache:hg()},a.payload=c;return}c=c.return}}function lx(a,c,p){var y=Vs();p={lane:y,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},jd(a)?cx(c,p):(p=oc(a,c,p,y),p!==null&&(Ui(p,a,y),ux(p,c,y)))}function bg(a,c,p){var y=Vs();mc(a,c,p,y)}function mc(a,c,p,y){var b={lane:y,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(jd(a))cx(c,b);else{var C=a.alternate;if(a.lanes===0&&(C===null||C.lanes===0)&&(C=c.lastRenderedReducer,C!==null))try{var I=c.lastRenderedState,k=C(I,p);if(b.hasEagerState=!0,b.eagerState=k,Ks(k,I))return Ff(a,c,b,0),zn===null&&If(),!1}catch{}finally{}if(p=oc(a,c,b,y),p!==null)return Ui(p,a,y),ux(p,c,y),!0}return!1}function Zf(a,c,p,y){if(y={lane:2,revertLane:X_(),action:y,hasEagerState:!1,eagerState:null,next:null},jd(a)){if(c)throw Error(i(479))}else c=oc(a,p,y,2),c!==null&&Ui(c,a,2)}function jd(a){var c=a.alternate;return a===Ze||c!==null&&c===Ze}function cx(a,c){yl=Ne=!0;var p=a.pending;p===null?c.next=c:(c.next=p.next,p.next=c),a.pending=c}function ux(a,c,p){if(p&4194176){var y=c.lanes;y&=a.pendingLanes,p|=y,c.lanes=p,Nr(a,p)}}var Ua={readContext:xs,use:_u,useCallback:ui,useContext:ui,useEffect:ui,useImperativeHandle:ui,useLayoutEffect:ui,useInsertionEffect:ui,useMemo:ui,useReducer:ui,useRef:ui,useState:ui,useDebugValue:ui,useDeferredValue:ui,useTransition:ui,useSyncExternalStore:ui,useId:ui};Ua.useCacheRefresh=ui,Ua.useMemoCache=ui,Ua.useHostTransitionStatus=ui,Ua.useFormState=ui,Ua.useActionState=ui,Ua.useOptimistic=ui;var Sl={readContext:xs,use:_u,useCallback:function(a,c){return ls().memoizedState=[a,c===void 0?null:c],a},useContext:xs,useEffect:qv,useImperativeHandle:function(a,c,p){p=p!=null?p.concat([a]):null,Gd(4194308,4,Zv.bind(null,c,a),p)},useLayoutEffect:function(a,c){return Gd(4194308,4,a,c)},useInsertionEffect:function(a,c){Gd(4,2,a,c)},useMemo:function(a,c){var p=ls();c=c===void 0?null:c;var y=a();if(vl){Ge(!0);try{a()}finally{Ge(!1)}}return p.memoizedState=[y,c],y},useReducer:function(a,c,p){var y=ls();if(p!==void 0){var b=p(c);if(vl){Ge(!0);try{p(c)}finally{Ge(!1)}}}else b=c;return y.memoizedState=y.baseState=b,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b},y.queue=a,a=a.dispatch=lx.bind(null,Ze,a),[y.memoizedState,a]},useRef:function(a){var c=ls();return a={current:a},c.memoizedState=a},useState:function(a){a=gg(a);var c=a.queue,p=bg.bind(null,Ze,c);return c.dispatch=p,[a.memoizedState,p]},useDebugValue:Ag,useDeferredValue:function(a,c){var p=ls();return kd(p,a,c)},useTransition:function(){var a=gg(!1);return a=ix.bind(null,Ze,a.queue,!0,!1),ls().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,c,p){var y=Ze,b=ls();if(xn){if(p===void 0)throw Error(i(407));p=p()}else{if(p=c(),zn===null)throw Error(i(349));De&60||Is(y,c,p)}b.memoizedState=p;var C={value:p,getSnapshot:c};return b.queue=C,qv(zv.bind(null,y,C,a),[a]),y.flags|=2048,Oa(9,Al.bind(null,y,C,p,c),{destroy:void 0},null),p},useId:function(){var a=ls(),c=zn.identifierPrefix;if(xn){var p=ho,y=Ra;p=(y&~(1<<32-Me(y)-1)).toString(32)+p,c=":"+c+"R"+p,p=Au++,0<p&&(c+="H"+p.toString(32)),c+=":"}else p=N_++,c=":"+c+"r"+p.toString(32)+":";return a.memoizedState=c},useCacheRefresh:function(){return ls().memoizedState=ox.bind(null,Ze)}};Sl.useMemoCache=la,Sl.useHostTransitionStatus=Xd,Sl.useFormState=jv,Sl.useActionState=jv,Sl.useOptimistic=function(a){var c=ls();c.memoizedState=c.baseState=a;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=p,c=Zf.bind(null,Ze,!0,p),p.dispatch=c,[a,c]};var _o={readContext:xs,use:_u,useCallback:tx,useContext:xs,useEffect:xg,useImperativeHandle:$v,useInsertionEffect:Jv,useLayoutEffect:Qv,useMemo:ex,useReducer:ca,useRef:Kv,useState:function(){return ca(ii)},useDebugValue:Ag,useDeferredValue:function(a,c){var p=yi();return nx(p,On.memoizedState,a,c)},useTransition:function(){var a=ca(ii)[0],c=yi().memoizedState;return[typeof a=="boolean"?a:Qf(a),c]},useSyncExternalStore:Fv,useId:_g};_o.useCacheRefresh=ax,_o.useMemoCache=la,_o.useHostTransitionStatus=Xd,_o.useFormState=bu,_o.useActionState=bu,_o.useOptimistic=function(a,c){var p=yi();return yg(p,On,a,c)};var gc={readContext:xs,use:_u,useCallback:tx,useContext:xs,useEffect:xg,useImperativeHandle:$v,useInsertionEffect:Jv,useLayoutEffect:Qv,useMemo:ex,useReducer:Hd,useRef:Kv,useState:function(){return Hd(ii)},useDebugValue:Ag,useDeferredValue:function(a,c){var p=yi();return On===null?kd(p,a,c):nx(p,On.memoizedState,a,c)},useTransition:function(){var a=Hd(ii)[0],c=yi().memoizedState;return[typeof a=="boolean"?a:Qf(a),c]},useSyncExternalStore:Fv,useId:_g};gc.useCacheRefresh=ax,gc.useMemoCache=la,gc.useHostTransitionStatus=Xd,gc.useFormState=Wv,gc.useActionState=Wv,gc.useOptimistic=function(a,c){var p=yi();return On!==null?yg(p,On,a,c):(p.baseState=a,[a,p.queue.dispatch])};function Mg(a,c,p,y){c=a.memoizedState,p=p(y,c),p=p==null?c:B({},c,p),a.memoizedState=p,a.lanes===0&&(a.updateQueue.baseState=p)}var Eg={isMounted:function(a){return(a=a._reactInternals)?Q(a)===a:!1},enqueueSetState:function(a,c,p){a=a._reactInternals;var y=Vs(),b=br(y);b.payload=c,p!=null&&(b.callback=p),c=Mr(a,b,y),c!==null&&(Ui(c,a,y),Ml(c,a,y))},enqueueReplaceState:function(a,c,p){a=a._reactInternals;var y=Vs(),b=br(y);b.tag=1,b.payload=c,p!=null&&(b.callback=p),c=Mr(a,b,y),c!==null&&(Ui(c,a,y),Ml(c,a,y))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var p=Vs(),y=br(p);y.tag=2,c!=null&&(y.callback=c),c=Mr(a,y,p),c!==null&&(Ui(c,a,p),Ml(c,a,p))}};function fx(a,c,p,y,b,C,I){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(y,C,I):c.prototype&&c.prototype.isPureReactComponent?!oa(p,y)||!oa(b,C):!0}function hx(a,c,p,y){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,y),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,y),c.state!==a&&Eg.enqueueReplaceState(c,c.state,null)}function yc(a,c){var p=c;if("ref"in c){p={};for(var y in c)y!=="ref"&&(p[y]=c[y])}if(a=a.defaultProps){p===c&&(p=B({},p));for(var b in a)p[b]===void 0&&(p[b]=a[b])}return p}var Yd=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function dx(a){Yd(a)}function px(a){console.error(a)}function mx(a){Yd(a)}function Wd(a,c){try{var p=a.onUncaughtError;p(c.value,{componentStack:c.stack})}catch(y){setTimeout(function(){throw y})}}function gx(a,c,p){try{var y=a.onCaughtError;y(p.value,{componentStack:p.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Tg(a,c,p){return p=br(p),p.tag=3,p.payload={element:null},p.callback=function(){Wd(a,c)},p}function Cg(a){return a=br(a),a.tag=3,a}function yx(a,c,p,y){var b=p.type.getDerivedStateFromError;if(typeof b=="function"){var C=y.value;a.payload=function(){return b(C)},a.callback=function(){gx(c,p,y)}}var I=p.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(a.callback=function(){gx(c,p,y),typeof b!="function"&&(Oi===null?Oi=new Set([this]):Oi.add(this));var k=y.stack;this.componentDidCatch(y.value,{componentStack:k!==null?k:""})})}function G_(a,c,p,y,b){if(p.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(c=p.alternate,c!==null&&th(c,p,b,!0),p=Zs.current,p!==null){switch(p.tag){case 13:return Ba===null?lh():p.alternate===null&&$n===0&&($n=3),p.flags&=-257,p.flags|=65536,p.lanes=b,y===Ud?p.flags|=16384:(c=p.updateQueue,c===null?p.updateQueue=new Set([y]):c.add(y),Xe(a,y,b)),!1;case 22:return p.flags|=65536,y===Ud?p.flags|=16384:(c=p.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([y])},p.updateQueue=c):(p=c.retryQueue,p===null?c.retryQueue=new Set([y]):p.add(y)),Xe(a,y,b)),!1}throw Error(i(435,p.tag))}return Xe(a,y,b),lh(),!1}if(xn)return c=Zs.current,c!==null?(!(c.flags&65536)&&(c.flags|=256),c.flags|=65536,c.lanes=b,y!==kf&&(a=Error(i(422),{cause:y}),wa(Qs(a,p)))):(y!==kf&&(c=Error(i(423),{cause:y}),wa(Qs(c,p))),a=a.current.alternate,a.flags|=65536,b&=-b,a.lanes|=b,y=Qs(y,p),b=Tg(a.stateNode,y,b),Ru(a,b),$n!==4&&($n=2)),!1;var C=Error(i(520),{cause:y});if(C=Qs(C,p),oh===null?oh=[C]:oh.push(C),$n!==4&&($n=2),c===null)return!0;y=Qs(y,p),p=c;do{switch(p.tag){case 3:return p.flags|=65536,a=b&-b,p.lanes|=a,a=Tg(p.stateNode,y,a),Ru(p,a),!1;case 1:if(c=p.type,C=p.stateNode,(p.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Oi===null||!Oi.has(C))))return p.flags|=65536,b&=-b,p.lanes|=b,b=Cg(b),yx(b,a,p,y),Ru(p,b),!1}p=p.return}while(p!==null);return!1}var Sr=Error(i(461)),Vi=!1;function ki(a,c,p,y){c.child=a===null?mo(c,null,p,y):po(c,a.child,p,y)}function Rg(a,c,p,y,b){p=p.render;var C=c.ref;if("ref"in y){var I={};for(var k in y)k!=="ref"&&(I[k]=y[k])}else I=y;return xc(c),y=pg(a,c,p,I,C,b),k=mg(),a!==null&&!Vi?(Jf(a,c,b),vi(a,c,b)):(xn&&k&&Vf(c),c.flags|=1,ki(a,c,y,b),c.child)}function wg(a,c,p,y,b){if(a===null){var C=p.type;return typeof C=="function"&&!wo(C)&&C.defaultProps===void 0&&p.compare===null?(c.tag=15,c.type=C,Bg(a,c,C,y,b)):(a=Lu(p.type,null,y,c,c.mode,b),a.ref=c.ref,a.return=c,c.child=a)}if(C=a.child,!Ig(a,b)){var I=C.memoizedProps;if(p=p.compare,p=p!==null?p:oa,p(I,y)&&a.ref===c.ref)return vi(a,c,b)}return c.flags|=1,a=Hs(C,y),a.ref=c.ref,a.return=c,c.child=a}function Bg(a,c,p,y,b){if(a!==null){var C=a.memoizedProps;if(oa(C,y)&&a.ref===c.ref)if(Vi=!1,c.pendingProps=y=C,Ig(a,b))a.flags&131072&&(Vi=!0);else return c.lanes=a.lanes,vi(a,c,b)}return Lg(a,c,p,y,b)}function vx(a,c,p){var y=c.pendingProps,b=y.children,C=(c.stateNode._pendingVisibility&2)!==0,I=a!==null?a.memoizedState:null;if(Mu(a,c),y.mode==="hidden"||C){if(c.flags&128){if(y=I!==null?I.baseLanes|p:p,a!==null){for(b=c.child=a.child,C=0;b!==null;)C=C|b.lanes|b.childLanes,b=b.sibling;c.childLanes=C&~y}else c.childLanes=0,c.child=null;return Dg(a,c,y,p)}if(p&536870912)c.memoizedState={baseLanes:0,cachePool:null},a!==null&&xu(c,I!==null?I.cachePool:null),I!==null?hl(c,I):Nd(),fg(c);else return c.lanes=c.childLanes=536870912,Dg(a,c,I!==null?I.baseLanes|p:p,p)}else I!==null?(xu(c,I.cachePool),hl(c,I),yo(),c.memoizedState=null):(a!==null&&xu(c,null),Nd(),yo());return ki(a,c,b,p),c.child}function Dg(a,c,p,y){var b=qf();return b=b===null?null:{parent:gi._currentValue,pool:b},c.memoizedState={baseLanes:p,cachePool:b},a!==null&&xu(c,null),Nd(),fg(c),a!==null&&th(a,c,y,!0),null}function Mu(a,c){var p=c.ref;if(p===null)a!==null&&a.ref!==null&&(c.flags|=2097664);else{if(typeof p!="function"&&typeof p!="object")throw Error(i(284));(a===null||a.ref!==p)&&(c.flags|=2097664)}}function Lg(a,c,p,y,b){return xc(c),p=pg(a,c,p,y,void 0,b),y=mg(),a!==null&&!Vi?(Jf(a,c,b),vi(a,c,b)):(xn&&y&&Vf(c),c.flags|=1,ki(a,c,p,b),c.child)}function xx(a,c,p,y,b,C){return xc(c),c.updateQueue=null,p=Iv(c,y,p,b),Nv(a),y=mg(),a!==null&&!Vi?(Jf(a,c,C),vi(a,c,C)):(xn&&y&&Vf(c),c.flags|=1,ki(a,c,p,C),c.child)}function Ax(a,c,p,y,b){if(xc(c),c.stateNode===null){var C=al,I=p.contextType;typeof I=="object"&&I!==null&&(C=xs(I)),C=new p(y,C),c.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=Eg,c.stateNode=C,C._reactInternals=c,C=c.stateNode,C.props=y,C.state=c.memoizedState,C.refs={},Fs(c),I=p.contextType,C.context=typeof I=="object"&&I!==null?xs(I):al,C.state=c.memoizedState,I=p.getDerivedStateFromProps,typeof I=="function"&&(Mg(c,p,I,y),C.state=c.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(I=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),I!==C.state&&Eg.enqueueReplaceState(C,C.state,null),fa(c,y,C,b),As(),C.state=c.memoizedState),typeof C.componentDidMount=="function"&&(c.flags|=4194308),y=!0}else if(a===null){C=c.stateNode;var k=c.memoizedProps,Z=yc(p,k);C.props=Z;var ft=C.context,Ot=p.contextType;I=al,typeof Ot=="object"&&Ot!==null&&(I=xs(Ot));var jt=p.getDerivedStateFromProps;Ot=typeof jt=="function"||typeof C.getSnapshotBeforeUpdate=="function",k=c.pendingProps!==k,Ot||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(k||ft!==I)&&hx(c,C,y,I),Di=!1;var _t=c.memoizedState;C.state=_t,fa(c,y,C,b),As(),ft=c.memoizedState,k||_t!==ft||Di?(typeof jt=="function"&&(Mg(c,p,jt,y),ft=c.memoizedState),(Z=Di||fx(c,p,Z,y,_t,ft,I))?(Ot||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(c.flags|=4194308)):(typeof C.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=y,c.memoizedState=ft),C.props=y,C.state=ft,C.context=I,y=Z):(typeof C.componentDidMount=="function"&&(c.flags|=4194308),y=!1)}else{C=c.stateNode,$d(a,c),I=c.memoizedProps,Ot=yc(p,I),C.props=Ot,jt=c.pendingProps,_t=C.context,ft=p.contextType,Z=al,typeof ft=="object"&&ft!==null&&(Z=xs(ft)),k=p.getDerivedStateFromProps,(ft=typeof k=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(I!==jt||_t!==Z)&&hx(c,C,y,Z),Di=!1,_t=c.memoizedState,C.state=_t,fa(c,y,C,b),As();var wt=c.memoizedState;I!==jt||_t!==wt||Di||a!==null&&a.dependencies!==null&&Tu(a.dependencies)?(typeof k=="function"&&(Mg(c,p,k,y),wt=c.memoizedState),(Ot=Di||fx(c,p,Ot,y,_t,wt,Z)||a!==null&&a.dependencies!==null&&Tu(a.dependencies))?(ft||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(y,wt,Z),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(y,wt,Z)),typeof C.componentDidUpdate=="function"&&(c.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof C.componentDidUpdate!="function"||I===a.memoizedProps&&_t===a.memoizedState||(c.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&_t===a.memoizedState||(c.flags|=1024),c.memoizedProps=y,c.memoizedState=wt),C.props=y,C.state=wt,C.context=Z,y=Ot):(typeof C.componentDidUpdate!="function"||I===a.memoizedProps&&_t===a.memoizedState||(c.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&_t===a.memoizedState||(c.flags|=1024),y=!1)}return C=y,Mu(a,c),y=(c.flags&128)!==0,C||y?(C=c.stateNode,p=y&&typeof p.getDerivedStateFromError!="function"?null:C.render(),c.flags|=1,a!==null&&y?(c.child=po(c,a.child,null,b),c.child=po(c,null,p,b)):ki(a,c,p,b),c.memoizedState=C.state,a=c.child):a=vi(a,c,b),a}function Og(a,c,p,y){return gu(),c.flags|=256,ki(a,c,p,y),c.child}var Ug={dehydrated:null,treeContext:null,retryLane:0};function ts(a){return{baseLanes:a,cachePool:xo()}}function Kd(a,c,p){return a=a!==null?a.childLanes&~p:0,c&&(a|=Gs),a}function Sx(a,c,p){var y=c.pendingProps,b=!1,C=(c.flags&128)!==0,I;if((I=C)||(I=a!==null&&a.memoizedState===null?!1:(wi.current&2)!==0),I&&(b=!0,c.flags&=-129),I=(c.flags&32)!==0,c.flags&=-33,a===null){if(xn){if(b?go(c):yo(),xn){var k=$i,Z;if(Z=k){t:{for(Z=k,k=Hr;Z.nodeType!==8;){if(!k){k=null;break t}if(Z=Uo(Z.nextSibling),Z===null){k=null;break t}}k=Z}k!==null?(c.memoizedState={dehydrated:k,treeContext:fo!==null?{id:Ra,overflow:ho}:null,retryLane:536870912},Z=_i(18,null,null,0),Z.stateNode=k,Z.return=c,c.child=Z,vs=c,$i=null,Z=!0):Z=!1}Z||cc(c)}if(k=c.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return k.data==="$!"?c.lanes=16:c.lanes=536870912,null;Da(c)}return k=y.children,y=y.fallback,b?(yo(),b=c.mode,k=Ng({mode:"hidden",children:k},b),y=Bl(y,b,p,null),k.return=c,y.return=c,k.sibling=y,c.child=k,b=c.child,b.memoizedState=ts(p),b.childLanes=Kd(a,I,p),c.memoizedState=Ug,y):(go(c),Pg(c,k))}if(Z=a.memoizedState,Z!==null&&(k=Z.dehydrated,k!==null)){if(C)c.flags&256?(go(c),c.flags&=-257,c=qd(a,c,p)):c.memoizedState!==null?(yo(),c.child=a.child,c.flags|=128,c=null):(yo(),b=y.fallback,k=c.mode,y=Ng({mode:"visible",children:y.children},k),b=Bl(b,k,p,null),b.flags|=2,y.return=c,b.return=c,y.sibling=b,c.child=y,po(c,a.child,null,p),y=c.child,y.memoizedState=ts(p),y.childLanes=Kd(a,I,p),c.memoizedState=Ug,c=b);else if(go(c),k.data==="$!"){if(I=k.nextSibling&&k.nextSibling.dataset,I)var ft=I.dgst;I=ft,y=Error(i(419)),y.stack="",y.digest=I,wa({value:y,source:null,stack:null}),c=qd(a,c,p)}else if(Vi||th(a,c,p,!1),I=(p&a.childLanes)!==0,Vi||I){if(I=zn,I!==null){if(y=p&-p,y&42)y=1;else switch(y){case 2:y=1;break;case 8:y=4;break;case 32:y=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:y=64;break;case 268435456:y=134217728;break;default:y=0}if(y=y&(I.suspendedLanes|p)?0:y,y!==0&&y!==Z.retryLane)throw Z.retryLane=y,uo(a,y),Ui(I,a,y),Sr}k.data==="$?"||lh(),c=qd(a,c,p)}else k.data==="$?"?(c.flags|=128,c.child=a.child,c=Tc.bind(null,a),k._reactRetry=c,c=null):(a=Z.treeContext,$i=Uo(k.nextSibling),vs=c,xn=!0,zr=null,Hr=!1,a!==null&&(Wn[xr++]=Ra,Wn[xr++]=ho,Wn[xr++]=fo,Ra=a.id,ho=a.overflow,fo=c),c=Pg(c,y.children),c.flags|=4096);return c}return b?(yo(),b=y.fallback,k=c.mode,Z=a.child,ft=Z.sibling,y=Hs(Z,{mode:"hidden",children:y.children}),y.subtreeFlags=Z.subtreeFlags&31457280,ft!==null?b=Hs(ft,b):(b=Bl(b,k,p,null),b.flags|=2),b.return=c,y.return=c,y.sibling=b,c.child=y,y=b,b=c.child,k=a.child.memoizedState,k===null?k=ts(p):(Z=k.cachePool,Z!==null?(ft=gi._currentValue,Z=Z.parent!==ft?{parent:ft,pool:ft}:Z):Z=xo(),k={baseLanes:k.baseLanes|p,cachePool:Z}),b.memoizedState=k,b.childLanes=Kd(a,I,p),c.memoizedState=Ug,y):(go(c),p=a.child,a=p.sibling,p=Hs(p,{mode:"visible",children:y.children}),p.return=c,p.sibling=null,a!==null&&(I=c.deletions,I===null?(c.deletions=[a],c.flags|=16):I.push(a)),c.child=p,c.memoizedState=null,p)}function Pg(a,c){return c=Ng({mode:"visible",children:c},a.mode),c.return=a,a.child=c}function Ng(a,c){return zg(a,c,0,null)}function qd(a,c,p){return po(c,a.child,null,p),a=Pg(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function Jd(a,c,p){a.lanes|=c;var y=a.alternate;y!==null&&(y.lanes|=c),_r(a.return,c,p)}function _l(a,c,p,y,b){var C=a.memoizedState;C===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:b}:(C.isBackwards=c,C.rendering=null,C.renderingStartTime=0,C.last=y,C.tail=p,C.tailMode=b)}function vc(a,c,p){var y=c.pendingProps,b=y.revealOrder,C=y.tail;if(ki(a,c,y.children,p),y=wi.current,y&2)y=y&1|2,c.flags|=128;else{if(a!==null&&a.flags&128)t:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Jd(a,p,c);else if(a.tag===19)Jd(a,p,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break t;for(;a.sibling===null;){if(a.return===null||a.return===c)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}y&=1}switch(Wt(wi,y),b){case"forwards":for(p=c.child,b=null;p!==null;)a=p.alternate,a!==null&&vu(a)===null&&(b=p),p=p.sibling;p=b,p===null?(b=c.child,c.child=null):(b=p.sibling,p.sibling=null),_l(c,!1,b,p,C);break;case"backwards":for(p=null,b=c.child,c.child=null;b!==null;){if(a=b.alternate,a!==null&&vu(a)===null){c.child=b;break}a=b.sibling,b.sibling=p,p=b,b=a}_l(c,!0,p,null,C);break;case"together":_l(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function vi(a,c,p){if(a!==null&&(c.dependencies=a.dependencies),ga|=c.lanes,!(p&c.childLanes))if(a!==null){if(th(a,c,p,!1),(p&c.childLanes)===0)return null}else return null;if(a!==null&&c.child!==a.child)throw Error(i(153));if(c.child!==null){for(a=c.child,p=Hs(a,a.pendingProps),c.child=p,p.return=c;a.sibling!==null;)a=a.sibling,p=p.sibling=Hs(a,a.pendingProps),p.return=c;p.sibling=null}return c.child}function Ig(a,c){return a.lanes&c?!0:(a=a.dependencies,!!(a!==null&&Tu(a)))}function V_(a,c,p){switch(c.tag){case 3:he(c,c.stateNode.containerInfo),bl(c,gi,a.memoizedState.cache),gu();break;case 27:case 5:$t(c);break;case 4:he(c,c.stateNode.containerInfo);break;case 10:bl(c,c.type,c.memoizedProps.value);break;case 13:var y=c.memoizedState;if(y!==null)return y.dehydrated!==null?(go(c),c.flags|=128,null):p&c.child.childLanes?Sx(a,c,p):(go(c),a=vi(a,c,p),a!==null?a.sibling:null);go(c);break;case 19:var b=(a.flags&128)!==0;if(y=(p&c.childLanes)!==0,y||(th(a,c,p,!1),y=(p&c.childLanes)!==0),b){if(y)return vc(a,c,p);c.flags|=128}if(b=c.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Wt(wi,wi.current),y)break;return null;case 22:case 23:return c.lanes=0,vx(a,c,p);case 24:bl(c,gi,a.memoizedState.cache)}return vi(a,c,p)}function $f(a,c,p){if(a!==null)if(a.memoizedProps!==c.pendingProps)Vi=!0;else{if(!Ig(a,p)&&!(c.flags&128))return Vi=!1,V_(a,c,p);Vi=!!(a.flags&131072)}else Vi=!1,xn&&c.flags&1048576&&cg(c,Gf,c.index);switch(c.lanes=0,c.tag){case 16:t:{a=c.pendingProps;var y=c.elementType,b=y._init;if(y=b(y._payload),c.type=y,typeof y=="function")wo(y)?(a=yc(y,a),c.tag=1,c=Ax(null,c,y,a,p)):(c.tag=0,c=Lg(null,c,y,a,p));else{if(y!=null){if(b=y.$$typeof,b===S){c.tag=11,c=Rg(null,c,y,a,p);break t}else if(b===_){c.tag=14,c=wg(null,c,y,a,p);break t}}throw c=z(y)||y,Error(i(306,c,""))}}return c;case 0:return Lg(a,c,c.type,c.pendingProps,p);case 1:return y=c.type,b=yc(y,c.pendingProps),Ax(a,c,y,b,p);case 3:t:{if(he(c,c.stateNode.containerInfo),a===null)throw Error(i(387));var C=c.pendingProps;b=c.memoizedState,y=b.element,$d(a,c),fa(c,C,null,p);var I=c.memoizedState;if(C=I.cache,bl(c,gi,C),C!==b.cache&&Qd(c,[gi],p,!0),As(),C=I.element,b.isDehydrated)if(b={element:C,isDehydrated:!1,cache:I.cache},c.updateQueue.baseState=b,c.memoizedState=b,c.flags&256){c=Og(a,c,C,p);break t}else if(C!==y){y=Qs(Error(i(424)),c),wa(y),c=Og(a,c,C,p);break t}else for($i=Uo(c.stateNode.containerInfo.firstChild),vs=c,xn=!0,zr=null,Hr=!0,p=mo(c,null,C,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(gu(),C===y){c=vi(a,c,p);break t}ki(a,c,C,p)}c=c.child}return c;case 26:return Mu(a,c),a===null?(p=Mw(c.type,null,c.pendingProps,null))?c.memoizedState=p:xn||(p=c.type,a=c.pendingProps,y=Rx(Bt.current).createElement(p),y[li]=c,y[Qe]=a,ks(y,p,a),gt(y),c.stateNode=y):c.memoizedState=Mw(c.type,a.memoizedProps,c.pendingProps,a.memoizedState),null;case 27:return $t(c),a===null&&xn&&(y=c.stateNode=Sw(c.type,c.pendingProps,Bt.current),vs=c,Hr=!0,$i=Uo(y.firstChild)),y=c.pendingProps.children,a!==null||xn?ki(a,c,y,p):c.child=po(c,null,y,p),Mu(a,c),c.child;case 5:return a===null&&xn&&((b=y=$i)&&(y=A4(y,c.type,c.pendingProps,Hr),y!==null?(c.stateNode=y,vs=c,$i=Uo(y.firstChild),Hr=!1,b=!0):b=!1),b||cc(c)),$t(c),b=c.type,C=c.pendingProps,I=a!==null?a.memoizedProps:null,y=C.children,$_(b,C)?y=null:I!==null&&$_(b,I)&&(c.flags|=32),c.memoizedState!==null&&(b=pg(a,c,I_,null,null,p),Kg._currentValue=b),Mu(a,c),ki(a,c,y,p),c.child;case 6:return a===null&&xn&&((a=p=$i)&&(p=S4(p,c.pendingProps,Hr),p!==null?(c.stateNode=p,vs=c,$i=null,a=!0):a=!1),a||cc(c)),null;case 13:return Sx(a,c,p);case 4:return he(c,c.stateNode.containerInfo),y=c.pendingProps,a===null?c.child=po(c,null,y,p):ki(a,c,y,p),c.child;case 11:return Rg(a,c,c.type,c.pendingProps,p);case 7:return ki(a,c,c.pendingProps,p),c.child;case 8:return ki(a,c,c.pendingProps.children,p),c.child;case 12:return ki(a,c,c.pendingProps.children,p),c.child;case 10:return y=c.pendingProps,bl(c,c.type,y.value),ki(a,c,y.children,p),c.child;case 9:return b=c.type._context,y=c.pendingProps.children,xc(c),b=xs(b),y=y(b),c.flags|=1,ki(a,c,y,p),c.child;case 14:return wg(a,c,c.type,c.pendingProps,p);case 15:return Bg(a,c,c.type,c.pendingProps,p);case 19:return vc(a,c,p);case 22:return vx(a,c,p);case 24:return xc(c),y=xs(gi),a===null?(b=qf(),b===null&&(b=zn,C=hg(),b.pooledCache=C,C.refCount++,C!==null&&(b.pooledCacheLanes|=p),b=C),c.memoizedState={parent:y,cache:b},Fs(c),bl(c,gi,b)):(a.lanes&p&&($d(a,c),fa(c,null,null,p),As()),b=a.memoizedState,C=c.memoizedState,b.parent!==y?(b={parent:y,cache:y},c.memoizedState=b,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=b),bl(c,gi,y)):(y=C.cache,bl(c,gi,y),y!==b.cache&&Qd(c,[gi],p,!0))),ki(a,c,c.pendingProps.children,p),c.child;case 29:throw c.pendingProps}throw Error(i(156,c.tag))}var Eu=Xt(null),Pa=null,ua=null;function bl(a,c,p){Wt(Eu,c._currentValue),c._currentValue=p}function bo(a){a._currentValue=Eu.current,xe(Eu)}function _r(a,c,p){for(;a!==null;){var y=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,y!==null&&(y.childLanes|=c)):y!==null&&(y.childLanes&c)!==c&&(y.childLanes|=c),a===p)break;a=a.return}}function Qd(a,c,p,y){var b=a.child;for(b!==null&&(b.return=a);b!==null;){var C=b.dependencies;if(C!==null){var I=b.child;C=C.firstContext;t:for(;C!==null;){var k=C;C=b;for(var Z=0;Z<c.length;Z++)if(k.context===c[Z]){C.lanes|=p,k=C.alternate,k!==null&&(k.lanes|=p),_r(C.return,p,a),y||(I=null);break t}C=k.next}}else if(b.tag===18){if(I=b.return,I===null)throw Error(i(341));I.lanes|=p,C=I.alternate,C!==null&&(C.lanes|=p),_r(I,p,a),I=null}else I=b.child;if(I!==null)I.return=b;else for(I=b;I!==null;){if(I===a){I=null;break}if(b=I.sibling,b!==null){b.return=I.return,I=b;break}I=I.return}b=I}}function th(a,c,p,y){a=null;for(var b=c,C=!1;b!==null;){if(!C){if(b.flags&524288)C=!0;else if(b.flags&262144)break}if(b.tag===10){var I=b.alternate;if(I===null)throw Error(i(387));if(I=I.memoizedProps,I!==null){var k=b.type;Ks(b.pendingProps.value,I.value)||(a!==null?a.push(k):a=[k])}}else if(b===q.current){if(I=b.alternate,I===null)throw Error(i(387));I.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(a!==null?a.push(Kg):a=[Kg])}b=b.return}a!==null&&Qd(c,a,p,y),c.flags|=262144}function Tu(a){for(a=a.firstContext;a!==null;){if(!Ks(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function xc(a){Pa=a,ua=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function xs(a){return Cu(Pa,a)}function Zd(a,c){return Pa===null&&xc(a),Cu(a,c)}function Cu(a,c){var p=c._currentValue;if(c={context:c,memoizedValue:p,next:null},ua===null){if(a===null)throw Error(i(308));ua=c,a.dependencies={lanes:0,firstContext:c},a.flags|=524288}else ua=ua.next=c;return p}var Di=!1;function Fs(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $d(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function br(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Mr(a,c,p){var y=a.updateQueue;if(y===null)return null;if(y=y.shared,ke&2){var b=y.pending;return b===null?c.next=c:(c.next=b.next,b.next=c),y.pending=c,c=Hf(a),zf(a,null,p),c}return Ff(a,y,c,p),Hf(a)}function Ml(a,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194176)!==0)){var y=c.lanes;y&=a.pendingLanes,p|=y,c.lanes=p,Nr(a,p)}}function Ru(a,c){var p=a.updateQueue,y=a.alternate;if(y!==null&&(y=y.updateQueue,p===y)){var b=null,C=null;if(p=p.firstBaseUpdate,p!==null){do{var I={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};C===null?b=C=I:C=C.next=I,p=p.next}while(p!==null);C===null?b=C=c:C=C.next=c}else b=C=c;p={baseState:y.baseState,firstBaseUpdate:b,lastBaseUpdate:C,shared:y.shared,callbacks:y.callbacks},a.updateQueue=p;return}a=p.lastBaseUpdate,a===null?p.firstBaseUpdate=c:a.next=c,p.lastBaseUpdate=c}var tr=!1;function As(){if(tr){var a=ml;if(a!==null)throw a}}function fa(a,c,p,y){tr=!1;var b=a.updateQueue;Di=!1;var C=b.firstBaseUpdate,I=b.lastBaseUpdate,k=b.shared.pending;if(k!==null){b.shared.pending=null;var Z=k,ft=Z.next;Z.next=null,I===null?C=ft:I.next=ft,I=Z;var Ot=a.alternate;Ot!==null&&(Ot=Ot.updateQueue,k=Ot.lastBaseUpdate,k!==I&&(k===null?Ot.firstBaseUpdate=ft:k.next=ft,Ot.lastBaseUpdate=Z))}if(C!==null){var jt=b.baseState;I=0,Ot=ft=Z=null,k=C;do{var _t=k.lane&-536870913,wt=_t!==k.lane;if(wt?(De&_t)===_t:(y&_t)===_t){_t!==0&&_t===hc&&(tr=!0),Ot!==null&&(Ot=Ot.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});t:{var Te=a,je=k;_t=c;var Pi=p;switch(je.tag){case 1:if(Te=je.payload,typeof Te=="function"){jt=Te.call(Pi,jt,_t);break t}jt=Te;break t;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=je.payload,_t=typeof Te=="function"?Te.call(Pi,jt,_t):Te,_t==null)break t;jt=B({},jt,_t);break t;case 2:Di=!0}}_t=k.callback,_t!==null&&(a.flags|=64,wt&&(a.flags|=8192),wt=b.callbacks,wt===null?b.callbacks=[_t]:wt.push(_t))}else wt={lane:_t,tag:k.tag,payload:k.payload,callback:k.callback,next:null},Ot===null?(ft=Ot=wt,Z=jt):Ot=Ot.next=wt,I|=_t;if(k=k.next,k===null){if(k=b.shared.pending,k===null)break;wt=k,k=wt.next,wt.next=null,b.lastBaseUpdate=wt,b.shared.pending=null}}while(!0);Ot===null&&(Z=jt),b.baseState=Z,b.firstBaseUpdate=ft,b.lastBaseUpdate=Ot,C===null&&(b.shared.lanes=0),ga|=I,a.lanes=I,a.memoizedState=jt}}function Na(a,c){if(typeof a!="function")throw Error(i(191,a));a.call(c)}function Ia(a,c){var p=a.callbacks;if(p!==null)for(a.callbacks=null,a=0;a<p.length;a++)Na(p[a],c)}function xi(a,c){try{var p=c.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var b=y.next;p=b;do{if((p.tag&a)===a){y=void 0;var C=p.create,I=p.inst;y=C(),I.destroy=y}p=p.next}while(p!==b)}}catch(k){Kt(c,c.return,k)}}function Gr(a,c,p){try{var y=c.updateQueue,b=y!==null?y.lastEffect:null;if(b!==null){var C=b.next;y=C;do{if((y.tag&a)===a){var I=y.inst,k=I.destroy;if(k!==void 0){I.destroy=void 0,b=c;var Z=p;try{k()}catch(ft){Kt(b,Z,ft)}}}y=y.next}while(y!==C)}}catch(ft){Kt(c,c.return,ft)}}function Mo(a){var c=a.updateQueue;if(c!==null){var p=a.stateNode;try{Ia(c,p)}catch(y){Kt(a,a.return,y)}}}function eh(a,c,p){p.props=yc(a.type,a.memoizedProps),p.state=a.memoizedState;try{p.componentWillUnmount()}catch(y){Kt(a,c,y)}}function Ai(a,c){try{var p=a.ref;if(p!==null){var y=a.stateNode;switch(a.tag){case 26:case 27:case 5:var b=y;break;default:b=y}typeof p=="function"?a.refCleanup=p(b):p.current=b}}catch(C){Kt(a,c,C)}}function Fn(a,c){var p=a.ref,y=a.refCleanup;if(p!==null)if(typeof y=="function")try{y()}catch(b){Kt(a,c,b)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(b){Kt(a,c,b)}else p.current=null}function An(a){var c=a.type,p=a.memoizedProps,y=a.stateNode;try{t:switch(c){case"button":case"input":case"select":case"textarea":p.autoFocus&&y.focus();break t;case"img":p.src?y.src=p.src:p.srcSet&&(y.srcset=p.srcSet)}}catch(b){Kt(a,a.return,b)}}function Vr(a,c,p){try{var y=a.stateNode;m4(y,a.type,p,c),y[Qe]=c}catch(b){Kt(a,a.return,b)}}function ha(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27||a.tag===4}function nh(a){t:for(;;){for(;a.sibling===null;){if(a.return===null||ha(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==27&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue t;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function er(a,c,p){var y=a.tag;if(y===5||y===6)a=a.stateNode,c?p.nodeType===8?p.parentNode.insertBefore(a,c):p.insertBefore(a,c):(p.nodeType===8?(c=p.parentNode,c.insertBefore(a,p)):(c=p,c.appendChild(a)),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=Cx));else if(y!==4&&y!==27&&(a=a.child,a!==null))for(er(a,c,p),a=a.sibling;a!==null;)er(a,c,p),a=a.sibling}function Eo(a,c,p){var y=a.tag;if(y===5||y===6)a=a.stateNode,c?p.insertBefore(a,c):p.appendChild(a);else if(y!==4&&y!==27&&(a=a.child,a!==null))for(Eo(a,c,p),a=a.sibling;a!==null;)Eo(a,c,p),a=a.sibling}var da=!1,Qn=!1,El=!1,tp=typeof WeakSet=="function"?WeakSet:Set,Si=null,ep=!1;function wu(a,c){if(a=a.containerInfo,Q_=Ux,a=ig(a),Nf(a)){if("selectionStart"in a)var p={start:a.selectionStart,end:a.selectionEnd};else t:{p=(p=a.ownerDocument)&&p.defaultView||window;var y=p.getSelection&&p.getSelection();if(y&&y.rangeCount!==0){p=y.anchorNode;var b=y.anchorOffset,C=y.focusNode;y=y.focusOffset;try{p.nodeType,C.nodeType}catch{p=null;break t}var I=0,k=-1,Z=-1,ft=0,Ot=0,jt=a,_t=null;e:for(;;){for(var wt;jt!==p||b!==0&&jt.nodeType!==3||(k=I+b),jt!==C||y!==0&&jt.nodeType!==3||(Z=I+y),jt.nodeType===3&&(I+=jt.nodeValue.length),(wt=jt.firstChild)!==null;)_t=jt,jt=wt;for(;;){if(jt===a)break e;if(_t===p&&++ft===b&&(k=I),_t===C&&++Ot===y&&(Z=I),(wt=jt.nextSibling)!==null)break;jt=_t,_t=jt.parentNode}jt=wt}p=k===-1||Z===-1?null:{start:k,end:Z}}else p=null}p=p||{start:0,end:0}}else p=null;for(Z_={focusedElem:a,selectionRange:p},Ux=!1,Si=c;Si!==null;)if(c=Si,a=c.child,(c.subtreeFlags&1028)!==0&&a!==null)a.return=c,Si=a;else for(;Si!==null;){switch(c=Si,C=c.alternate,a=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if(a&1024&&C!==null){a=void 0,p=c,b=C.memoizedProps,C=C.memoizedState,y=p.stateNode;try{var Te=yc(p.type,b,p.elementType===p.type);a=y.getSnapshotBeforeUpdate(Te,C),y.__reactInternalSnapshotBeforeUpdate=a}catch(je){Kt(p,p.return,je)}}break;case 3:if(a&1024){if(a=c.stateNode.containerInfo,p=a.nodeType,p===9)nb(a);else if(p===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":nb(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(a&1024)throw Error(i(163))}if(a=c.sibling,a!==null){a.return=c.return,Si=a;break}Si=c.return}return Te=ep,ep=!1,Te}function Bu(a,c,p){var y=p.flags;switch(p.tag){case 0:case 11:case 15:Fa(a,p),y&4&&xi(5,p);break;case 1:if(Fa(a,p),y&4)if(a=p.stateNode,c===null)try{a.componentDidMount()}catch(k){Kt(p,p.return,k)}else{var b=yc(p.type,c.memoizedProps);c=c.memoizedState;try{a.componentDidUpdate(b,c,a.__reactInternalSnapshotBeforeUpdate)}catch(k){Kt(p,p.return,k)}}y&64&&Mo(p),y&512&&Ai(p,p.return);break;case 3:if(Fa(a,p),y&64&&(y=p.updateQueue,y!==null)){if(a=null,p.child!==null)switch(p.child.tag){case 27:case 5:a=p.child.stateNode;break;case 1:a=p.child.stateNode}try{Ia(y,a)}catch(k){Kt(p,p.return,k)}}break;case 26:Fa(a,p),y&512&&Ai(p,p.return);break;case 27:case 5:Fa(a,p),c===null&&y&4&&An(p),y&512&&Ai(p,p.return);break;case 12:Fa(a,p);break;case 13:Fa(a,p),y&4&&_x(a,p);break;case 22:if(b=p.memoizedState!==null||da,!b){c=c!==null&&c.memoizedState!==null||Qn;var C=da,I=Qn;da=b,(Qn=c)&&!I?ma(a,p,(p.subtreeFlags&8772)!==0):Fa(a,p),da=C,Qn=I}y&512&&(p.memoizedProps.mode==="manual"?Ai(p,p.return):Fn(p,p.return));break;default:Fa(a,p)}}function np(a){var c=a.alternate;c!==null&&(a.alternate=null,np(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&tc(c)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Zn=null,es=!1;function Ss(a,c,p){for(p=p.child;p!==null;)ip(a,c,p),p=p.sibling}function ip(a,c,p){if(ve&&typeof ve.onCommitFiberUnmount=="function")try{ve.onCommitFiberUnmount(Ae,p)}catch{}switch(p.tag){case 26:Qn||Fn(p,c),Ss(a,c,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Qn||Fn(p,c);var y=Zn,b=es;for(Zn=p.stateNode,Ss(a,c,p),p=p.stateNode,c=p.attributes;c.length;)p.removeAttributeNode(c[0]);tc(p),Zn=y,es=b;break;case 5:Qn||Fn(p,c);case 6:b=Zn;var C=es;if(Zn=null,Ss(a,c,p),Zn=b,es=C,Zn!==null)if(es)try{a=Zn,y=p.stateNode,a.nodeType===8?a.parentNode.removeChild(y):a.removeChild(y)}catch(I){Kt(p,c,I)}else try{Zn.removeChild(p.stateNode)}catch(I){Kt(p,c,I)}break;case 18:Zn!==null&&(es?(c=Zn,p=p.stateNode,c.nodeType===8?eb(c.parentNode,p):c.nodeType===1&&eb(c,p),Zg(c)):eb(Zn,p.stateNode));break;case 4:y=Zn,b=es,Zn=p.stateNode.containerInfo,es=!0,Ss(a,c,p),Zn=y,es=b;break;case 0:case 11:case 14:case 15:Qn||Gr(2,p,c),Qn||Gr(4,p,c),Ss(a,c,p);break;case 1:Qn||(Fn(p,c),y=p.stateNode,typeof y.componentWillUnmount=="function"&&eh(p,c,y)),Ss(a,c,p);break;case 21:Ss(a,c,p);break;case 22:Qn||Fn(p,c),Qn=(y=Qn)||p.memoizedState!==null,Ss(a,c,p),Qn=y;break;default:Ss(a,c,p)}}function _x(a,c){if(c.memoizedState===null&&(a=c.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Zg(a)}catch(p){Kt(c,c.return,p)}}function ih(a){switch(a.tag){case 13:case 19:var c=a.stateNode;return c===null&&(c=a.stateNode=new tp),c;case 22:return a=a.stateNode,c=a._retryCache,c===null&&(c=a._retryCache=new tp),c;default:throw Error(i(435,a.tag))}}function sh(a,c){var p=ih(a);c.forEach(function(y){var b=St.bind(null,a,y);p.has(y)||(p.add(y),y.then(b,b))})}function zs(a,c){var p=c.deletions;if(p!==null)for(var y=0;y<p.length;y++){var b=p[y],C=a,I=c,k=I;t:for(;k!==null;){switch(k.tag){case 27:case 5:Zn=k.stateNode,es=!1;break t;case 3:Zn=k.stateNode.containerInfo,es=!0;break t;case 4:Zn=k.stateNode.containerInfo,es=!0;break t}k=k.return}if(Zn===null)throw Error(i(160));ip(C,I,b),Zn=null,es=!1,C=b.alternate,C!==null&&(C.return=null),b.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)Ac(c,a),c=c.sibling}var _s=null;function Ac(a,c){var p=a.alternate,y=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:zs(c,a),bs(a),y&4&&(Gr(3,a,a.return),xi(3,a),Gr(5,a,a.return));break;case 1:zs(c,a),bs(a),y&512&&(Qn||p===null||Fn(p,p.return)),y&64&&da&&(a=a.updateQueue,a!==null&&(y=a.callbacks,y!==null&&(p=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=p===null?y:p.concat(y))));break;case 26:var b=_s;if(zs(c,a),bs(a),y&512&&(Qn||p===null||Fn(p,p.return)),y&4){var C=p!==null?p.memoizedState:null;if(y=a.memoizedState,p===null)if(y===null)if(a.stateNode===null){t:{y=a.type,p=a.memoizedProps,b=b.ownerDocument||b;e:switch(y){case"title":C=b.getElementsByTagName("title")[0],(!C||C[eo]||C[li]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=b.createElement(y),b.head.insertBefore(C,b.querySelector("head > title"))),ks(C,y,p),C[li]=a,gt(C),y=C;break t;case"link":var I=Cw("link","href",b).get(y+(p.href||""));if(I){for(var k=0;k<I.length;k++)if(C=I[k],C.getAttribute("href")===(p.href==null?null:p.href)&&C.getAttribute("rel")===(p.rel==null?null:p.rel)&&C.getAttribute("title")===(p.title==null?null:p.title)&&C.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){I.splice(k,1);break e}}C=b.createElement(y),ks(C,y,p),b.head.appendChild(C);break;case"meta":if(I=Cw("meta","content",b).get(y+(p.content||""))){for(k=0;k<I.length;k++)if(C=I[k],C.getAttribute("content")===(p.content==null?null:""+p.content)&&C.getAttribute("name")===(p.name==null?null:p.name)&&C.getAttribute("property")===(p.property==null?null:p.property)&&C.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&C.getAttribute("charset")===(p.charSet==null?null:p.charSet)){I.splice(k,1);break e}}C=b.createElement(y),ks(C,y,p),b.head.appendChild(C);break;default:throw Error(i(468,y))}C[li]=a,gt(C),y=C}a.stateNode=y}else Rw(b,a.type,a.stateNode);else a.stateNode=Tw(b,y,a.memoizedProps);else C!==y?(C===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):C.count--,y===null?Rw(b,a.type,a.stateNode):Tw(b,y,a.memoizedProps)):y===null&&a.stateNode!==null&&Vr(a,a.memoizedProps,p.memoizedProps)}break;case 27:if(y&4&&a.alternate===null){b=a.stateNode,C=a.memoizedProps;try{for(var Z=b.firstChild;Z;){var ft=Z.nextSibling,Ot=Z.nodeName;Z[eo]||Ot==="HEAD"||Ot==="BODY"||Ot==="SCRIPT"||Ot==="STYLE"||Ot==="LINK"&&Z.rel.toLowerCase()==="stylesheet"||b.removeChild(Z),Z=ft}for(var jt=a.type,_t=b.attributes;_t.length;)b.removeAttributeNode(_t[0]);ks(b,jt,C),b[li]=a,b[Qe]=C}catch(Te){Kt(a,a.return,Te)}}case 5:if(zs(c,a),bs(a),y&512&&(Qn||p===null||Fn(p,p.return)),a.flags&32){b=a.stateNode;try{Us(b,"")}catch(Te){Kt(a,a.return,Te)}}y&4&&a.stateNode!=null&&(b=a.memoizedProps,Vr(a,b,p!==null?p.memoizedProps:b)),y&1024&&(El=!0);break;case 6:if(zs(c,a),bs(a),y&4){if(a.stateNode===null)throw Error(i(162));y=a.memoizedProps,p=a.stateNode;try{p.nodeValue=y}catch(Te){Kt(a,a.return,Te)}}break;case 3:if(Dx=null,b=_s,_s=wx(c.containerInfo),zs(c,a),_s=b,bs(a),y&4&&p!==null&&p.memoizedState.isDehydrated)try{Zg(c.containerInfo)}catch(Te){Kt(a,a.return,Te)}El&&(El=!1,Tl(a));break;case 4:y=_s,_s=wx(a.stateNode.containerInfo),zs(c,a),bs(a),_s=y;break;case 12:zs(c,a),bs(a);break;case 13:zs(c,a),bs(a),a.child.flags&8192&&a.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&($e=Ct()),y&4&&(y=a.updateQueue,y!==null&&(a.updateQueue=null,sh(a,y)));break;case 22:if(y&512&&(Qn||p===null||Fn(p,p.return)),Z=a.memoizedState!==null,ft=p!==null&&p.memoizedState!==null,Ot=da,jt=Qn,da=Ot||Z,Qn=jt||ft,zs(c,a),Qn=jt,da=Ot,bs(a),c=a.stateNode,c._current=a,c._visibility&=-3,c._visibility|=c._pendingVisibility&2,y&8192&&(c._visibility=Z?c._visibility&-2:c._visibility|1,Z&&(c=da||Qn,p===null||ft||c||pa(a)),a.memoizedProps===null||a.memoizedProps.mode!=="manual"))t:for(p=null,c=a;;){if(c.tag===5||c.tag===26||c.tag===27){if(p===null){ft=p=c;try{if(b=ft.stateNode,Z)C=b.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{I=ft.stateNode,k=ft.memoizedProps.style;var wt=k!=null&&k.hasOwnProperty("display")?k.display:null;I.style.display=wt==null||typeof wt=="boolean"?"":(""+wt).trim()}}catch(Te){Kt(ft,ft.return,Te)}}}else if(c.tag===6){if(p===null){ft=c;try{ft.stateNode.nodeValue=Z?"":ft.memoizedProps}catch(Te){Kt(ft,ft.return,Te)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===a)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break t;for(;c.sibling===null;){if(c.return===null||c.return===a)break t;p===c&&(p=null),c=c.return}p===c&&(p=null),c.sibling.return=c.return,c=c.sibling}y&4&&(y=a.updateQueue,y!==null&&(p=y.retryQueue,p!==null&&(y.retryQueue=null,sh(a,p))));break;case 19:zs(c,a),bs(a),y&4&&(y=a.updateQueue,y!==null&&(a.updateQueue=null,sh(a,y)));break;case 21:break;default:zs(c,a),bs(a)}}function bs(a){var c=a.flags;if(c&2){try{if(a.tag!==27){t:{for(var p=a.return;p!==null;){if(ha(p)){var y=p;break t}p=p.return}throw Error(i(160))}switch(y.tag){case 27:var b=y.stateNode,C=nh(a);Eo(a,C,b);break;case 5:var I=y.stateNode;y.flags&32&&(Us(I,""),y.flags&=-33);var k=nh(a);Eo(a,k,I);break;case 3:case 4:var Z=y.stateNode.containerInfo,ft=nh(a);er(a,ft,Z);break;default:throw Error(i(161))}}}catch(Ot){Kt(a,a.return,Ot)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function Tl(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var c=a;Tl(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),a=a.sibling}}function Fa(a,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)Bu(a,c.alternate,c),c=c.sibling}function pa(a){for(a=a.child;a!==null;){var c=a;switch(c.tag){case 0:case 11:case 14:case 15:Gr(4,c,c.return),pa(c);break;case 1:Fn(c,c.return);var p=c.stateNode;typeof p.componentWillUnmount=="function"&&eh(c,c.return,p),pa(c);break;case 26:case 27:case 5:Fn(c,c.return),pa(c);break;case 22:Fn(c,c.return),c.memoizedState===null&&pa(c);break;default:pa(c)}a=a.sibling}}function ma(a,c,p){for(p=p&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var y=c.alternate,b=a,C=c,I=C.flags;switch(C.tag){case 0:case 11:case 15:ma(b,C,p),xi(4,C);break;case 1:if(ma(b,C,p),y=C,b=y.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(ft){Kt(y,y.return,ft)}if(y=C,b=y.updateQueue,b!==null){var k=y.stateNode;try{var Z=b.shared.hiddenCallbacks;if(Z!==null)for(b.shared.hiddenCallbacks=null,b=0;b<Z.length;b++)Na(Z[b],k)}catch(ft){Kt(y,y.return,ft)}}p&&I&64&&Mo(C),Ai(C,C.return);break;case 26:case 27:case 5:ma(b,C,p),p&&y===null&&I&4&&An(C),Ai(C,C.return);break;case 12:ma(b,C,p);break;case 13:ma(b,C,p),p&&I&4&&_x(b,C);break;case 22:C.memoizedState===null&&ma(b,C,p),Ai(C,C.return);break;default:ma(b,C,p)}c=c.sibling}}function nr(a,c){var p=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(p=a.memoizedState.cachePool.pool),a=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(a=c.memoizedState.cachePool.pool),a!==p&&(a!=null&&a.refCount++,p!=null&&dl(p))}function kr(a,c){a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&dl(a))}function Kn(a,c,p,y){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)To(a,c,p,y),c=c.sibling}function To(a,c,p,y){var b=c.flags;switch(c.tag){case 0:case 11:case 15:Kn(a,c,p,y),b&2048&&xi(9,c);break;case 3:Kn(a,c,p,y),b&2048&&(a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&dl(a)));break;case 12:if(b&2048){Kn(a,c,p,y),a=c.stateNode;try{var C=c.memoizedProps,I=C.id,k=C.onPostCommit;typeof k=="function"&&k(I,c.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(Z){Kt(c,c.return,Z)}}else Kn(a,c,p,y);break;case 23:break;case 22:C=c.stateNode,c.memoizedState!==null?C._visibility&4?Kn(a,c,p,y):Mn(a,c):C._visibility&4?Kn(a,c,p,y):(C._visibility|=4,Ve(a,c,p,y,(c.subtreeFlags&10256)!==0)),b&2048&&nr(c.alternate,c);break;case 24:Kn(a,c,p,y),b&2048&&kr(c.alternate,c);break;default:Kn(a,c,p,y)}}function Ve(a,c,p,y,b){for(b=b&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var C=a,I=c,k=p,Z=y,ft=I.flags;switch(I.tag){case 0:case 11:case 15:Ve(C,I,k,Z,b),xi(8,I);break;case 23:break;case 22:var Ot=I.stateNode;I.memoizedState!==null?Ot._visibility&4?Ve(C,I,k,Z,b):Mn(C,I):(Ot._visibility|=4,Ve(C,I,k,Z,b)),b&&ft&2048&&nr(I.alternate,I);break;case 24:Ve(C,I,k,Z,b),b&&ft&2048&&kr(I.alternate,I);break;default:Ve(C,I,k,Z,b)}c=c.sibling}}function Mn(a,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var p=a,y=c,b=y.flags;switch(y.tag){case 22:Mn(p,y),b&2048&&nr(y.alternate,y);break;case 24:Mn(p,y),b&2048&&kr(y.alternate,y);break;default:Mn(p,y)}c=c.sibling}}var si=8192;function Co(a){if(a.subtreeFlags&si)for(a=a.child;a!==null;)Sc(a),a=a.sibling}function Sc(a){switch(a.tag){case 26:Co(a),a.flags&si&&a.memoizedState!==null&&U4(_s,a.memoizedState,a.memoizedProps);break;case 5:Co(a);break;case 3:case 4:var c=_s;_s=wx(a.stateNode.containerInfo),Co(a),_s=c;break;case 22:a.memoizedState===null&&(c=a.alternate,c!==null&&c.memoizedState!==null?(c=si,si=16777216,Co(a),si=c):Co(a));break;default:Co(a)}}function Cl(a){var c=a.alternate;if(c!==null&&(a=c.child,a!==null)){c.child=null;do c=a.sibling,a.sibling=null,a=c;while(a!==null)}}function Rl(a){var c=a.deletions;if(a.flags&16){if(c!==null)for(var p=0;p<c.length;p++){var y=c[p];Si=y,bx(y,a)}Cl(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Du(a),a=a.sibling}function Du(a){switch(a.tag){case 0:case 11:case 15:Rl(a),a.flags&2048&&Gr(9,a,a.return);break;case 3:Rl(a);break;case 12:Rl(a);break;case 22:var c=a.stateNode;a.memoizedState!==null&&c._visibility&4&&(a.return===null||a.return.tag!==13)?(c._visibility&=-5,Ro(a)):Rl(a);break;default:Rl(a)}}function Ro(a){var c=a.deletions;if(a.flags&16){if(c!==null)for(var p=0;p<c.length;p++){var y=c[p];Si=y,bx(y,a)}Cl(a)}for(a=a.child;a!==null;){switch(c=a,c.tag){case 0:case 11:case 15:Gr(8,c,c.return),Ro(c);break;case 22:p=c.stateNode,p._visibility&4&&(p._visibility&=-5,Ro(c));break;default:Ro(c)}a=a.sibling}}function bx(a,c){for(;Si!==null;){var p=Si;switch(p.tag){case 0:case 11:case 15:Gr(8,p,c);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var y=p.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:dl(p.memoizedState.cache)}if(y=p.child,y!==null)y.return=p,Si=y;else t:for(p=a;Si!==null;){y=Si;var b=y.sibling,C=y.return;if(np(y),y===p){Si=null;break t}if(b!==null){b.return=C,Si=b;break t}Si=C}}}function Fg(a,c,p,y){this.tag=a,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _i(a,c,p,y){return new Fg(a,c,p,y)}function wo(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Hs(a,c){var p=a.alternate;return p===null?(p=_i(a.tag,c,a.key,a.mode),p.elementType=a.elementType,p.type=a.type,p.stateNode=a.stateNode,p.alternate=a,a.alternate=p):(p.pendingProps=c,p.type=a.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=a.flags&31457280,p.childLanes=a.childLanes,p.lanes=a.lanes,p.child=a.child,p.memoizedProps=a.memoizedProps,p.memoizedState=a.memoizedState,p.updateQueue=a.updateQueue,c=a.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=a.sibling,p.index=a.index,p.ref=a.ref,p.refCleanup=a.refCleanup,p}function wl(a,c){a.flags&=31457282;var p=a.alternate;return p===null?(a.childLanes=0,a.lanes=c,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=p.childLanes,a.lanes=p.lanes,a.child=p.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=p.memoizedProps,a.memoizedState=p.memoizedState,a.updateQueue=p.updateQueue,a.type=p.type,c=p.dependencies,a.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),a}function Lu(a,c,p,y,b,C){var I=0;if(y=a,typeof a=="function")wo(a)&&(I=1);else if(typeof a=="string")I=L4(a,p,ue.current)?26:a==="html"||a==="head"||a==="body"?27:5;else t:switch(a){case u:return Bl(p.children,b,C,c);case d:I=8,b|=24;break;case m:return a=_i(12,p,c,b|2),a.elementType=m,a.lanes=C,a;case E:return a=_i(13,p,c,b),a.elementType=E,a.lanes=C,a;case T:return a=_i(19,p,c,b),a.elementType=T,a.lanes=C,a;case D:return zg(p,b,C,c);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case g:case A:I=10;break t;case v:I=9;break t;case S:I=11;break t;case _:I=14;break t;case w:I=16,y=null;break t}I=29,p=Error(i(130,a===null?"null":typeof a,"")),y=null}return c=_i(I,p,c,b),c.elementType=a,c.type=y,c.lanes=C,c}function Bl(a,c,p,y){return a=_i(7,a,y,c),a.lanes=p,a}function zg(a,c,p,y){a=_i(22,a,y,c),a.elementType=D,a.lanes=p;var b={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var C=b._current;if(C===null)throw Error(i(456));if(!(b._pendingVisibility&2)){var I=uo(C,2);I!==null&&(b._pendingVisibility|=2,Ui(I,C,2))}},attach:function(){var C=b._current;if(C===null)throw Error(i(456));if(b._pendingVisibility&2){var I=uo(C,2);I!==null&&(b._pendingVisibility&=-3,Ui(I,C,2))}}};return a.stateNode=b,a}function Li(a,c,p){return a=_i(6,a,null,c),a.lanes=p,a}function rh(a,c,p){return c=_i(4,a.children!==null?a.children:[],a.key,c),c.lanes=p,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}function Xr(a){a.flags|=4}function Dl(a,c){if(c.type!=="stylesheet"||c.state.loading&4)a.flags&=-16777217;else if(a.flags|=16777216,!ww(c)){if(c=Zs.current,c!==null&&((De&4194176)===De?Ba!==null:(De&62914560)!==De&&!(De&536870912)||c!==Ba))throw yu=Ud,ug;a.flags|=8192}}function jr(a,c){c!==null&&(a.flags|=4),a.flags&16384&&(c=a.tag!==22?dn():536870912,a.lanes|=c,Ha|=c)}function ah(a,c){if(!xn)switch(a.tailMode){case"hidden":c=a.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a.tail=null:p.sibling=null;break;case"collapsed":p=a.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:y.sibling=null}}function oi(a){var c=a.alternate!==null&&a.alternate.child===a.child,p=0,y=0;if(c)for(var b=a.child;b!==null;)p|=b.lanes|b.childLanes,y|=b.subtreeFlags&31457280,y|=b.flags&31457280,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)p|=b.lanes|b.childLanes,y|=b.subtreeFlags,y|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=y,a.childLanes=p,c}function k_(a,c,p){var y=c.pendingProps;switch(ll(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oi(c),null;case 1:return oi(c),null;case 3:return p=c.stateNode,y=null,a!==null&&(y=a.memoizedState.cache),c.memoizedState.cache!==y&&(c.flags|=2048),bo(gi),Vt(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(a===null||a.child===null)&&(mu(c)?Xr(c):a===null||a.memoizedState.isDehydrated&&!(c.flags&256)||(c.flags|=1024,zr!==null&&(qr(zr),zr=null))),oi(c),null;case 26:return p=c.memoizedState,a===null?(Xr(c),p!==null?(oi(c),Dl(c,p)):(oi(c),c.flags&=-16777217)):p?p!==a.memoizedState?(Xr(c),oi(c),Dl(c,p)):(oi(c),c.flags&=-16777217):(a.memoizedProps!==y&&Xr(c),oi(c),c.flags&=-16777217),null;case 27:Qt(c),p=Bt.current;var b=c.type;if(a!==null&&c.stateNode!=null)a.memoizedProps!==y&&Xr(c);else{if(!y){if(c.stateNode===null)throw Error(i(166));return oi(c),null}a=ue.current,mu(c)?Dv(c):(a=Sw(b,y,p),c.stateNode=a,Xr(c))}return oi(c),null;case 5:if(Qt(c),p=c.type,a!==null&&c.stateNode!=null)a.memoizedProps!==y&&Xr(c);else{if(!y){if(c.stateNode===null)throw Error(i(166));return oi(c),null}if(a=ue.current,mu(c))Dv(c);else{switch(b=Rx(Bt.current),a){case 1:a=b.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:a=b.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":a=b.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":a=b.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":a=b.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof y.is=="string"?b.createElement("select",{is:y.is}):b.createElement("select"),y.multiple?a.multiple=!0:y.size&&(a.size=y.size);break;default:a=typeof y.is=="string"?b.createElement(p,{is:y.is}):b.createElement(p)}}a[li]=c,a[Qe]=y;t:for(b=c.child;b!==null;){if(b.tag===5||b.tag===6)a.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===c)break t;for(;b.sibling===null;){if(b.return===null||b.return===c)break t;b=b.return}b.sibling.return=b.return,b=b.sibling}c.stateNode=a;t:switch(ks(a,p,y),p){case"button":case"input":case"select":case"textarea":a=!!y.autoFocus;break t;case"img":a=!0;break t;default:a=!1}a&&Xr(c)}}return oi(c),c.flags&=-16777217,null;case 6:if(a&&c.stateNode!=null)a.memoizedProps!==y&&Xr(c);else{if(typeof y!="string"&&c.stateNode===null)throw Error(i(166));if(a=Bt.current,mu(c)){if(a=c.stateNode,p=c.memoizedProps,y=null,b=vs,b!==null)switch(b.tag){case 27:case 5:y=b.memoizedProps}a[li]=c,a=!!(a.nodeValue===p||y!==null&&y.suppressHydrationWarning===!0||mw(a.nodeValue,p)),a||cc(c)}else a=Rx(a).createTextNode(y),a[li]=c,c.stateNode=a}return oi(c),null;case 13:if(y=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(b=mu(c),y!==null&&y.dehydrated!==null){if(a===null){if(!b)throw Error(i(318));if(b=c.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(i(317));b[li]=c}else gu(),!(c.flags&128)&&(c.memoizedState=null),c.flags|=4;oi(c),b=!1}else zr!==null&&(qr(zr),zr=null),b=!0;if(!b)return c.flags&256?(Da(c),c):(Da(c),null)}if(Da(c),c.flags&128)return c.lanes=p,c;if(p=y!==null,a=a!==null&&a.memoizedState!==null,p){y=c.child,b=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(b=y.alternate.memoizedState.cachePool.pool);var C=null;y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(C=y.memoizedState.cachePool.pool),C!==b&&(y.flags|=2048)}return p!==a&&p&&(c.child.flags|=8192),jr(c,c.updateQueue),oi(c),null;case 4:return Vt(),a===null&&K_(c.stateNode.containerInfo),oi(c),null;case 10:return bo(c.type),oi(c),null;case 19:if(xe(wi),b=c.memoizedState,b===null)return oi(c),null;if(y=(c.flags&128)!==0,C=b.rendering,C===null)if(y)ah(b,!1);else{if($n!==0||a!==null&&a.flags&128)for(a=c.child;a!==null;){if(C=vu(a),C!==null){for(c.flags|=128,ah(b,!1),a=C.updateQueue,c.updateQueue=a,jr(c,a),c.subtreeFlags=0,a=p,p=c.child;p!==null;)wl(p,a),p=p.sibling;return Wt(wi,wi.current&1|2),c.child}a=a.sibling}b.tail!==null&&Ct()>on&&(c.flags|=128,y=!0,ah(b,!1),c.lanes=4194304)}else{if(!y)if(a=vu(C),a!==null){if(c.flags|=128,y=!0,a=a.updateQueue,c.updateQueue=a,jr(c,a),ah(b,!0),b.tail===null&&b.tailMode==="hidden"&&!C.alternate&&!xn)return oi(c),null}else 2*Ct()-b.renderingStartTime>on&&p!==536870912&&(c.flags|=128,y=!0,ah(b,!1),c.lanes=4194304);b.isBackwards?(C.sibling=c.child,c.child=C):(a=b.last,a!==null?a.sibling=C:c.child=C,b.last=C)}return b.tail!==null?(c=b.tail,b.rendering=c,b.tail=c.sibling,b.renderingStartTime=Ct(),c.sibling=null,a=wi.current,Wt(wi,y?a&1|2:a&1),c):(oi(c),null);case 22:case 23:return Da(c),Kf(),y=c.memoizedState!==null,a!==null?a.memoizedState!==null!==y&&(c.flags|=8192):y&&(c.flags|=8192),y?p&536870912&&!(c.flags&128)&&(oi(c),c.subtreeFlags&6&&(c.flags|=8192)):oi(c),p=c.updateQueue,p!==null&&jr(c,p.retryQueue),p=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(p=a.memoizedState.cachePool.pool),y=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==p&&(c.flags|=2048),a!==null&&xe(vo),null;case 24:return p=null,a!==null&&(p=a.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),bo(gi),oi(c),null;case 25:return null}throw Error(i(156,c.tag))}function fi(a,c){switch(ll(c),c.tag){case 1:return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return bo(gi),Vt(),a=c.flags,a&65536&&!(a&128)?(c.flags=a&-65537|128,c):null;case 26:case 27:case 5:return Qt(c),null;case 13:if(Da(c),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(i(340));gu()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return xe(wi),null;case 4:return Vt(),null;case 10:return bo(c.type),null;case 22:case 23:return Da(c),Kf(),a!==null&&xe(vo),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 24:return bo(gi),null;case 25:return null;default:return null}}function Hg(a,c){switch(ll(c),c.tag){case 3:bo(gi),Vt();break;case 26:case 27:case 5:Qt(c);break;case 4:Vt();break;case 13:Da(c);break;case 19:xe(wi);break;case 10:bo(c.type);break;case 22:case 23:Da(c),Kf(),a!==null&&xe(vo);break;case 24:bo(gi)}}var _c={getCacheForType:function(a){var c=xs(gi),p=c.data.get(a);return p===void 0&&(p=a(),c.data.set(a,p)),p}},Bo=typeof WeakMap=="function"?WeakMap:Map,ke=0,zn=null,nn=null,De=0,kn=0,En=null,bi=!1,Ms=!1,Ll=!1,Do=0,$n=0,ga=0,za=0,Ou=0,Gs=0,Ha=0,oh=null,an=null,Hn=!1,$e=0,on=1/0,Un=null,Oi=null,Yr=!1,Wr=null,bc=0,ya=0,ri=null,Kr=0,Lo=null;function Vs(){if(ke&2&&De!==0)return De&-De;if(N.T!==null){var a=hc;return a!==0?a:X_()}return eu()}function Er(){Gs===0&&(Gs=!(De&536870912)||xn?ai():536870912);var a=Zs.current;return a!==null&&(a.flags|=32),Gs}function Ui(a,c,p){(a===zn&&kn===2||a.cancelPendingCommit!==null)&&(Oo(a,0),Tr(a,De,Gs,!1)),ps(a,p),(!(ke&2)||a!==zn)&&(a===zn&&(!(ke&2)&&(za|=p),$n===4&&Tr(a,De,Gs,!1)),Xn(a))}function Uu(a,c,p){if(ke&6)throw Error(i(327));var y=!p&&(c&60)===0&&(c&a.expiredLanes)===0||Oe(a,c),b=y?f(a,c):Ec(a,c,!0),C=y;do{if(b===0){Ms&&!y&&Tr(a,c,0,!1);break}else if(b===6)Tr(a,c,0,!bi);else{if(p=a.current.alternate,C&&!Gg(p)){b=Ec(a,c,!1),C=!1;continue}if(b===2){if(C=c,a.errorRecoveryDisabledLanes&C)var I=0;else I=a.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){c=I;t:{var k=a;b=oh;var Z=k.current.memoizedState.isDehydrated;if(Z&&(Oo(k,I).flags|=256),I=Ec(k,I,!1),I!==2){if(Ll&&!Z){k.errorRecoveryDisabledLanes|=C,za|=C,b=4;break t}C=an,an=b,C!==null&&qr(C)}b=I}if(C=!1,b!==2)continue}}if(b===1){Oo(a,0),Tr(a,c,0,!0);break}t:{switch(y=a,b){case 0:case 1:throw Error(i(345));case 4:if((c&4194176)===c){Tr(y,c,Gs,!bi);break t}break;case 2:an=null;break;case 3:case 5:break;default:throw Error(i(329))}if(y.finishedWork=p,y.finishedLanes=c,(c&62914560)===c&&(C=$e+300-Ct(),10<C)){if(Tr(y,c,Gs,!bi),se(y,0)!==0)break t;y.timeoutHandle=vw(sp.bind(null,y,p,an,Un,Hn,c,Gs,za,Ha,bi,2,-0,0),C);break t}sp(y,p,an,Un,Hn,c,Gs,za,Ha,bi,0,-0,0)}}break}while(!0);Xn(a)}function qr(a){an===null?an=a:an.push.apply(an,a)}function sp(a,c,p,y,b,C,I,k,Z,ft,Ot,jt,_t){var wt=c.subtreeFlags;if((wt&8192||(wt&16785408)===16785408)&&(Wg={stylesheets:null,count:0,unsuspend:O4},Sc(c),c=P4(),c!==null)){a.cancelPendingCommit=c(nt.bind(null,a,p,y,b,I,k,Z,1,jt,_t)),Tr(a,C,I,!ft);return}nt(a,p,y,b,I,k,Z,Ot,jt,_t)}function Gg(a){for(var c=a;;){var p=c.tag;if((p===0||p===11||p===15)&&c.flags&16384&&(p=c.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var y=0;y<p.length;y++){var b=p[y],C=b.getSnapshot;b=b.value;try{if(!Ks(C(),b))return!1}catch{return!1}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Tr(a,c,p,y){c&=~Ou,c&=~za,a.suspendedLanes|=c,a.pingedLanes&=~c,y&&(a.warmLanes|=c),y=a.expirationTimes;for(var b=c;0<b;){var C=31-Me(b),I=1<<C;y[C]=-1,b&=~I}p!==0&&$l(a,p,c)}function Mc(){return ke&6?!0:(fn(0),!1)}function Ga(){if(nn!==null){if(kn===0)var a=nn.return;else a=nn,ua=Pa=null,Fd(a),fl=null,jf=0,a=nn;for(;a!==null;)Hg(a.alternate,a),a=a.return;nn=null}}function Oo(a,c){a.finishedWork=null,a.finishedLanes=0;var p=a.timeoutHandle;p!==-1&&(a.timeoutHandle=-1,y4(p)),p=a.cancelPendingCommit,p!==null&&(a.cancelPendingCommit=null,p()),Ga(),zn=a,nn=p=Hs(a.current,null),De=c,kn=0,En=null,bi=!1,Ms=Oe(a,c),Ll=!1,Ha=Gs=Ou=za=ga=$n=0,an=oh=null,Hn=!1,c&8&&(c|=c&32);var y=a.entangledLanes;if(y!==0)for(a=a.entanglements,y&=c;0<y;){var b=31-Me(y),C=1<<b;c|=a[b],y&=~C}return Do=c,If(),p}function Ol(a,c){Ze=null,N.H=Ua,c===cl?(c=wn(),kn=3):c===ug?(c=wn(),kn=4):kn=c===Sr?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,En=c,nn===null&&($n=1,Wd(a,Qs(c,a.current)))}function Pu(){var a=N.H;return N.H=Ua,a===null?Ua:a}function rp(){var a=N.A;return N.A=_c,a}function lh(){$n=4,bi||(De&4194176)!==De&&Zs.current!==null||(Ms=!0),!(ga&134217727)&&!(za&134217727)||zn===null||Tr(zn,De,Gs,!1)}function Ec(a,c,p){var y=ke;ke|=2;var b=Pu(),C=rp();(zn!==a||De!==c)&&(Un=null,Oo(a,c)),c=!1;var I=$n;t:do try{if(kn!==0&&nn!==null){var k=nn,Z=En;switch(kn){case 8:Ga(),I=6;break t;case 3:case 2:case 6:Zs.current===null&&(c=!0);var ft=kn;if(kn=0,En=null,R(a,k,Z,ft),p&&Ms){I=0;break t}break;default:ft=kn,kn=0,En=null,R(a,k,Z,ft)}}Vg(),I=$n;break}catch(Ot){Ol(a,Ot)}while(!0);return c&&a.shellSuspendCounter++,ua=Pa=null,ke=y,N.H=b,N.A=C,nn===null&&(zn=null,De=0,If()),I}function Vg(){for(;nn!==null;)x(nn)}function f(a,c){var p=ke;ke|=2;var y=Pu(),b=rp();zn!==a||De!==c?(Un=null,on=Ct()+500,Oo(a,c)):Ms=Oe(a,c);t:do try{if(kn!==0&&nn!==null){c=nn;var C=En;e:switch(kn){case 1:kn=0,En=null,R(a,c,C,1);break;case 2:if(Ov(C)){kn=0,En=null,M(c);break}c=function(){kn===2&&zn===a&&(kn=7),Xn(a)},C.then(c,c);break t;case 3:kn=7;break t;case 4:kn=5;break t;case 7:Ov(C)?(kn=0,En=null,M(c)):(kn=0,En=null,R(a,c,C,7));break;case 5:var I=null;switch(nn.tag){case 26:I=nn.memoizedState;case 5:case 27:var k=nn;if(!I||ww(I)){kn=0,En=null;var Z=k.sibling;if(Z!==null)nn=Z;else{var ft=k.return;ft!==null?(nn=ft,O(ft)):nn=null}break e}}kn=0,En=null,R(a,c,C,5);break;case 6:kn=0,En=null,R(a,c,C,6);break;case 8:Ga(),$n=6;break t;default:throw Error(i(462))}}h();break}catch(Ot){Ol(a,Ot)}while(!0);return ua=Pa=null,N.H=y,N.A=b,ke=p,nn!==null?0:(zn=null,De=0,If(),$n)}function h(){for(;nn!==null&&!G();)x(nn)}function x(a){var c=$f(a.alternate,a,Do);a.memoizedProps=a.pendingProps,c===null?O(a):nn=c}function M(a){var c=a,p=c.alternate;switch(c.tag){case 15:case 0:c=xx(p,c,c.pendingProps,c.type,void 0,De);break;case 11:c=xx(p,c,c.pendingProps,c.type.render,c.ref,De);break;case 5:Fd(c);default:Hg(p,c),c=nn=wl(c,Do),c=$f(p,c,Do)}a.memoizedProps=a.pendingProps,c===null?O(a):nn=c}function R(a,c,p,y){ua=Pa=null,Fd(c),fl=null,jf=0;var b=c.return;try{if(G_(a,b,c,p,De)){$n=1,Wd(a,Qs(p,a.current)),nn=null;return}}catch(C){if(b!==null)throw nn=b,C;$n=1,Wd(a,Qs(p,a.current)),nn=null;return}c.flags&32768?(xn||y===1?a=!0:Ms||De&536870912?a=!1:(bi=a=!0,(y===2||y===3||y===6)&&(y=Zs.current,y!==null&&y.tag===13&&(y.flags|=16384))),X(c,a)):O(c)}function O(a){var c=a;do{if(c.flags&32768){X(c,bi);return}a=c.return;var p=k_(c.alternate,c,Do);if(p!==null){nn=p;return}if(c=c.sibling,c!==null){nn=c;return}nn=c=a}while(c!==null);$n===0&&($n=5)}function X(a,c){do{var p=fi(a.alternate,a);if(p!==null){p.flags&=32767,nn=p;return}if(p=a.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!c&&(a=a.sibling,a!==null)){nn=a;return}nn=a=p}while(a!==null);$n=6,nn=null}function nt(a,c,p,y,b,C,I,k,Z,ft){var Ot=N.T,jt=it.p;try{it.p=2,N.T=null,mt(a,c,p,y,jt,b,C,I,k,Z,ft)}finally{N.T=Ot,it.p=jt}}function mt(a,c,p,y,b,C,I,k){do Jt();while(Wr!==null);if(ke&6)throw Error(i(327));var Z=a.finishedWork;if(y=a.finishedLanes,Z===null)return null;if(a.finishedWork=null,a.finishedLanes=0,Z===a.current)throw Error(i(177));a.callbackNode=null,a.callbackPriority=0,a.cancelPendingCommit=null;var ft=Z.lanes|Z.childLanes;if(ft|=co,Af(a,y,ft,C,I,k),a===zn&&(nn=zn=null,De=0),!(Z.subtreeFlags&10256)&&!(Z.flags&10256)||Yr||(Yr=!0,ya=ft,ri=p,dt(ne,function(){return Jt(),null})),p=(Z.flags&15990)!==0,Z.subtreeFlags&15990||p?(p=N.T,N.T=null,C=it.p,it.p=2,I=ke,ke|=4,wu(a,Z),Ac(Z,a),sg(Z_,a.containerInfo),Ux=!!Q_,Z_=Q_=null,a.current=Z,Bu(a,Z.alternate,Z),yt(),ke=I,it.p=C,N.T=p):a.current=Z,Yr?(Yr=!1,Wr=a,bc=y):Lt(a,ft),ft=a.pendingLanes,ft===0&&(Oi=null),pe(Z.stateNode),Xn(a),c!==null)for(b=a.onRecoverableError,Z=0;Z<c.length;Z++)ft=c[Z],b(ft.value,{componentStack:ft.stack});return bc&3&&Jt(),ft=a.pendingLanes,y&4194218&&ft&42?a===Lo?Kr++:(Kr=0,Lo=a):Kr=0,fn(0),null}function Lt(a,c){(a.pooledCacheLanes&=c)===0&&(c=a.pooledCache,c!=null&&(a.pooledCache=null,dl(c)))}function Jt(){if(Wr!==null){var a=Wr,c=ya;ya=0;var p=yr(bc),y=N.T,b=it.p;try{if(it.p=32>p?32:p,N.T=null,Wr===null)var C=!1;else{p=ri,ri=null;var I=Wr,k=bc;if(Wr=null,bc=0,ke&6)throw Error(i(331));var Z=ke;if(ke|=4,Du(I.current),To(I,I.current,k,p),ke=Z,fn(0,!1),ve&&typeof ve.onPostCommitFiberRoot=="function")try{ve.onPostCommitFiberRoot(Ae,I)}catch{}C=!0}return C}finally{it.p=b,N.T=y,Lt(a,c)}}return!1}function le(a,c,p){c=Qs(p,c),c=Tg(a.stateNode,c,2),a=Mr(a,c,2),a!==null&&(ps(a,2),Xn(a))}function Kt(a,c,p){if(a.tag===3)le(a,a,p);else for(;c!==null;){if(c.tag===3){le(c,a,p);break}else if(c.tag===1){var y=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Oi===null||!Oi.has(y))){a=Qs(p,a),p=Cg(2),y=Mr(c,p,2),y!==null&&(yx(p,y,c,a),ps(y,2),Xn(y));break}}c=c.return}}function Xe(a,c,p){var y=a.pingCache;if(y===null){y=a.pingCache=new Bo;var b=new Set;y.set(c,b)}else b=y.get(c),b===void 0&&(b=new Set,y.set(c,b));b.has(p)||(Ll=!0,b.add(p),a=Jr.bind(null,a,c,p),c.then(a,a))}function Jr(a,c,p){var y=a.pingCache;y!==null&&y.delete(c),a.pingedLanes|=a.suspendedLanes&p,a.warmLanes&=~p,zn===a&&(De&p)===p&&($n===4||$n===3&&(De&62914560)===De&&300>Ct()-$e?!(ke&2)&&Oo(a,0):Ou|=p,Ha===De&&(Ha=0)),Xn(a)}function Nu(a,c){c===0&&(c=dn()),a=uo(a,c),a!==null&&(ps(a,c),Xn(a))}function Tc(a){var c=a.memoizedState,p=0;c!==null&&(p=c.retryLane),Nu(a,p)}function St(a,c){var p=0;switch(a.tag){case 13:var y=a.stateNode,b=a.memoizedState;b!==null&&(p=b.retryLane);break;case 19:y=a.stateNode;break;case 22:y=a.stateNode._retryCache;break;default:throw Error(i(314))}y!==null&&y.delete(c),Nu(a,p)}function dt(a,c){return Zt(a,c)}var bt=null,Yt=null,Ee=!1,Gn=!1,Le=!1,sn=0;function Xn(a){a!==Yt&&a.next===null&&(Yt===null?bt=Yt=a:Yt=Yt.next=a),Gn=!0,Ee||(Ee=!0,l4(Ul))}function fn(a,c){if(!Le&&Gn){Le=!0;do for(var p=!1,y=bt;y!==null;){if(a!==0){var b=y.pendingLanes;if(b===0)var C=0;else{var I=y.suspendedLanes,k=y.pingedLanes;C=(1<<31-Me(42|a)+1)-1,C&=b&~(I&~k),C=C&201326677?C&201326677|1:C?C|2:0}C!==0&&(p=!0,lw(y,C))}else C=De,C=se(y,y===zn?C:0),!(C&3)||Oe(y,C)||(p=!0,lw(y,C));y=y.next}while(p);Le=!1}}function Ul(){Gn=Ee=!1;var a=0;sn!==0&&(g4()&&(a=sn),sn=0);for(var c=Ct(),p=null,y=bt;y!==null;){var b=y.next,C=Mx(y,c);C===0?(y.next=null,p===null?bt=b:p.next=b,b===null&&(Yt=p)):(p=y,(a!==0||C&3)&&(Gn=!0)),y=b}fn(a)}function Mx(a,c){for(var p=a.suspendedLanes,y=a.pingedLanes,b=a.expirationTimes,C=a.pendingLanes&-62914561;0<C;){var I=31-Me(C),k=1<<I,Z=b[I];Z===-1?(!(k&p)||k&y)&&(b[I]=Vn(k,c)):Z<=c&&(a.expiredLanes|=k),C&=~k}if(c=zn,p=De,p=se(a,a===c?p:0),y=a.callbackNode,p===0||a===c&&kn===2||a.cancelPendingCommit!==null)return y!==null&&y!==null&&Y(y),a.callbackNode=null,a.callbackPriority=0;if(!(p&3)||Oe(a,p)){if(c=p&-p,c===a.callbackPriority)return c;switch(y!==null&&Y(y),yr(p)){case 2:case 8:p=fe;break;case 32:p=ne;break;case 268435456:p=Je;break;default:p=ne}return y=ow.bind(null,a),p=Zt(p,y),a.callbackPriority=c,a.callbackNode=p,c}return y!==null&&y!==null&&Y(y),a.callbackPriority=2,a.callbackNode=null,2}function ow(a,c){var p=a.callbackNode;if(Jt()&&a.callbackNode!==p)return null;var y=De;return y=se(a,a===zn?y:0),y===0?null:(Uu(a,y,c),Mx(a,Ct()),a.callbackNode!=null&&a.callbackNode===p?ow.bind(null,a):null)}function lw(a,c){if(Jt())return null;Uu(a,c,!0)}function l4(a){v4(function(){ke&6?Zt(Dt,a):a()})}function X_(){return sn===0&&(sn=ai()),sn}function cw(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:bf(""+a)}function uw(a,c){var p=c.ownerDocument.createElement("input");return p.name=c.name,p.value=c.value,a.id&&p.setAttribute("form",a.id),c.parentNode.insertBefore(p,c),a=new FormData(a),p.parentNode.removeChild(p),a}function c4(a,c,p,y,b){if(c==="submit"&&p&&p.stateNode===b){var C=cw((b[Qe]||null).action),I=y.submitter;I&&(c=(c=I[Qe]||null)?cw(c.formAction):I.getAttribute("formAction"),c!==null&&(C=c,I=null));var k=new ru("action","action",null,y,b);a.push({event:k,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(sn!==0){var Z=I?uw(b,I):new FormData(b);Sg(p,{pending:!0,data:Z,method:b.method,action:C},null,Z)}}else typeof C=="function"&&(k.preventDefault(),Z=I?uw(b,I):new FormData(b),Sg(p,{pending:!0,data:Z,method:b.method,action:C},C,Z))},currentTarget:b}]})}}for(var j_=0;j_<lo.length;j_++){var Y_=lo[j_],u4=Y_.toLowerCase(),f4=Y_[0].toUpperCase()+Y_.slice(1);Fr(u4,"on"+f4)}Fr(og,"onAnimationEnd"),Fr(Js,"onAnimationIteration"),Fr(lg,"onAnimationStart"),Fr("dblclick","onDoubleClick"),Fr("focusin","onFocus"),Fr("focusout","onBlur"),Fr(oo,"onTransitionRun"),Fr(pu,"onTransitionStart"),Fr(rl,"onTransitionCancel"),Fr(Dd,"onTransitionEnd"),oe("onMouseEnter",["mouseout","mouseover"]),oe("onMouseLeave",["mouseout","mouseover"]),oe("onPointerEnter",["pointerout","pointerover"]),oe("onPointerLeave",["pointerout","pointerover"]),te("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),te("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),te("onBeforeInput",["compositionend","keypress","textInput","paste"]),te("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),te("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),te("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kg));function fw(a,c){c=(c&4)!==0;for(var p=0;p<a.length;p++){var y=a[p],b=y.event;y=y.listeners;t:{var C=void 0;if(c)for(var I=y.length-1;0<=I;I--){var k=y[I],Z=k.instance,ft=k.currentTarget;if(k=k.listener,Z!==C&&b.isPropagationStopped())break t;C=k,b.currentTarget=ft;try{C(b)}catch(Ot){Yd(Ot)}b.currentTarget=null,C=Z}else for(I=0;I<y.length;I++){if(k=y[I],Z=k.instance,ft=k.currentTarget,k=k.listener,Z!==C&&b.isPropagationStopped())break t;C=k,b.currentTarget=ft;try{C(b)}catch(Ot){Yd(Ot)}b.currentTarget=null,C=Z}}}}function Sn(a,c){var p=c[Zo];p===void 0&&(p=c[Zo]=new Set);var y=a+"__bubble";p.has(y)||(hw(c,a,2,!1),p.add(y))}function W_(a,c,p){var y=0;c&&(y|=4),hw(p,a,y,c)}var Ex="_reactListening"+Math.random().toString(36).slice(2);function K_(a){if(!a[Ex]){a[Ex]=!0,ht.forEach(function(p){p!=="selectionchange"&&(h4.has(p)||W_(p,!1,a),W_(p,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[Ex]||(c[Ex]=!0,W_("selectionchange",!1,c))}}function hw(a,c,p,y){switch(Pw(c)){case 2:var b=F4;break;case 8:b=z4;break;default:b=ob}p=b.bind(null,c,p,a),b=void 0,!Ef||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(b=!0),y?b!==void 0?a.addEventListener(c,p,{capture:!0,passive:b}):a.addEventListener(c,p,!0):b!==void 0?a.addEventListener(c,p,{passive:b}):a.addEventListener(c,p,!1)}function q_(a,c,p,y,b){var C=y;if(!(c&1)&&!(c&2)&&y!==null)t:for(;;){if(y===null)return;var I=y.tag;if(I===3||I===4){var k=y.stateNode.containerInfo;if(k===b||k.nodeType===8&&k.parentNode===b)break;if(I===4)for(I=y.return;I!==null;){var Z=I.tag;if((Z===3||Z===4)&&(Z=I.stateNode.containerInfo,Z===b||Z.nodeType===8&&Z.parentNode===b))return;I=I.return}for(;k!==null;){if(I=ra(k),I===null)return;if(Z=I.tag,Z===5||Z===6||Z===26||Z===27){y=C=I;continue t}k=k.parentNode}}y=y.return}km(function(){var ft=C,Ot=Mf(p),jt=[];t:{var _t=Ld.get(a);if(_t!==void 0){var wt=ru,Te=a;switch(a){case"keypress":if($o(p)===0)break t;case"keydown":case"keyup":wt=Km;break;case"focusin":Te="focus",wt=Sd;break;case"focusout":Te="blur",wt=Sd;break;case"beforeblur":case"afterblur":wt=Sd;break;case"click":if(p.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":wt=Ym;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":wt=D_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":wt=Jm;break;case og:case Js:case lg:wt=yv;break;case Dd:wt=so;break;case"scroll":case"scrollend":wt=pv;break;case"wheel":wt=L_;break;case"copy":case"cut":case"paste":wt=xv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":wt=bd;break;case"toggle":case"beforetoggle":wt=el}var je=(c&4)!==0,Pi=!je&&(a==="scroll"||a==="scrollend"),pt=je?_t!==null?_t+"Capture":null:_t;je=[];for(var ct=ft,vt;ct!==null;){var zt=ct;if(vt=zt.stateNode,zt=zt.tag,zt!==5&&zt!==26&&zt!==27||vt===null||pt===null||(zt=nu(ct,pt),zt!=null&&je.push(Xg(ct,zt,vt))),Pi)break;ct=ct.return}0<je.length&&(_t=new wt(_t,Te,null,p,Ot),jt.push({event:_t,listeners:je}))}}if(!(c&7)){t:{if(_t=a==="mouseover"||a==="pointerover",wt=a==="mouseout"||a==="pointerout",_t&&p!==yd&&(Te=p.relatedTarget||p.fromElement)&&(ra(Te)||Te[sa]))break t;if((wt||_t)&&(_t=Ot.window===Ot?Ot:(_t=Ot.ownerDocument)?_t.defaultView||_t.parentWindow:window,wt?(Te=p.relatedTarget||p.toElement,wt=ft,Te=Te?ra(Te):null,Te!==null&&(Pi=Q(Te),je=Te.tag,Te!==Pi||je!==5&&je!==27&&je!==6)&&(Te=null)):(wt=null,Te=ft),wt!==Te)){if(je=Ym,zt="onMouseLeave",pt="onMouseEnter",ct="mouse",(a==="pointerout"||a==="pointerover")&&(je=bd,zt="onPointerLeave",pt="onPointerEnter",ct="pointer"),Pi=wt==null?_t:at(wt),vt=Te==null?_t:at(Te),_t=new je(zt,ct+"leave",wt,p,Ot),_t.target=Pi,_t.relatedTarget=vt,zt=null,ra(Ot)===ft&&(je=new je(pt,ct+"enter",Te,p,Ot),je.target=vt,je.relatedTarget=Pi,zt=je),Pi=zt,wt&&Te)e:{for(je=wt,pt=Te,ct=0,vt=je;vt;vt=ap(vt))ct++;for(vt=0,zt=pt;zt;zt=ap(zt))vt++;for(;0<ct-vt;)je=ap(je),ct--;for(;0<vt-ct;)pt=ap(pt),vt--;for(;ct--;){if(je===pt||pt!==null&&je===pt.alternate)break e;je=ap(je),pt=ap(pt)}je=null}else je=null;wt!==null&&dw(jt,_t,wt,je,!1),Te!==null&&Pi!==null&&dw(jt,Pi,Te,je,!0)}}t:{if(_t=ft?at(ft):window,wt=_t.nodeName&&_t.nodeName.toLowerCase(),wt==="select"||wt==="input"&&_t.type==="file")var Se=Ed;else if(tg(_t))if(Td)Se=sl;else{Se=wv;var hn=O_}else wt=_t.nodeName,!wt||wt.toLowerCase()!=="input"||_t.type!=="checkbox"&&_t.type!=="radio"?ft&&_f(ft.elementType)&&(Se=Ed):Se=Pf;if(Se&&(Se=Se(a,ft))){Ws(jt,Se,p,Ot);break t}hn&&hn(a,_t,ft),a==="focusout"&&ft&&_t.type==="number"&&ft.memoizedProps.value!=null&&ss(_t,"number",_t.value)}switch(hn=ft?at(ft):window,a){case"focusin":(tg(hn)||hn.contentEditable==="true")&&(rc=hn,rg=ft,du=null);break;case"focusout":du=rg=rc=null;break;case"mousedown":wd=!0;break;case"contextmenu":case"mouseup":case"dragend":wd=!1,Ir(jt,p,Ot);break;case"selectionchange":if(Rd)break;case"keydown":case"keyup":Ir(jt,p,Ot)}var we;if(wf)t:{switch(a){case"compositionstart":var Ie="onCompositionStart";break t;case"compositionend":Ie="onCompositionEnd";break t;case"compositionupdate":Ie="onCompositionUpdate";break t}Ie=void 0}else il?Lf(a,p)&&(Ie="onCompositionEnd"):a==="keydown"&&p.keyCode===229&&(Ie="onCompositionStart");Ie&&(Df&&p.locale!=="ko"&&(il||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&il&&(we=jm()):(no=Ot,Xm="value"in no?no.value:no.textContent,il=!0)),hn=Tx(ft,Ie),0<hn.length&&(Ie=new _d(Ie,a,null,p,Ot),jt.push({event:Ie,listeners:hn}),we?Ie.data=we:(we=Zm(p),we!==null&&(Ie.data=we)))),(we=Bf?Of(a,p):$m(a,p))&&(Ie=Tx(ft,"onBeforeInput"),0<Ie.length&&(hn=new _d("onBeforeInput","beforeinput",null,p,Ot),jt.push({event:hn,listeners:Ie}),hn.data=we)),c4(jt,a,ft,p,Ot)}fw(jt,c)})}function Xg(a,c,p){return{instance:a,listener:c,currentTarget:p}}function Tx(a,c){for(var p=c+"Capture",y=[];a!==null;){var b=a,C=b.stateNode;b=b.tag,b!==5&&b!==26&&b!==27||C===null||(b=nu(a,p),b!=null&&y.unshift(Xg(a,b,C)),b=nu(a,c),b!=null&&y.push(Xg(a,b,C))),a=a.return}return y}function ap(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function dw(a,c,p,y,b){for(var C=c._reactName,I=[];p!==null&&p!==y;){var k=p,Z=k.alternate,ft=k.stateNode;if(k=k.tag,Z!==null&&Z===y)break;k!==5&&k!==26&&k!==27||ft===null||(Z=ft,b?(ft=nu(p,C),ft!=null&&I.unshift(Xg(p,ft,Z))):b||(ft=nu(p,C),ft!=null&&I.push(Xg(p,ft,Z)))),p=p.return}I.length!==0&&a.push({event:c,listeners:I})}var d4=/\r\n?/g,p4=/\u0000|\uFFFD/g;function pw(a){return(typeof a=="string"?a:""+a).replace(d4,`
`).replace(p4,"")}function mw(a,c){return c=pw(c),pw(a)===c}function Cx(){}function qn(a,c,p,y,b,C){switch(p){case"children":typeof y=="string"?c==="body"||c==="textarea"&&y===""||Us(a,y):(typeof y=="number"||typeof y=="bigint")&&c!=="body"&&Us(a,""+y);break;case"className":Yn(a,"class",y);break;case"tabIndex":Yn(a,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":Yn(a,p,y);break;case"style":Vm(a,y,C);break;case"data":if(c!=="object"){Yn(a,"data",y);break}case"src":case"href":if(y===""&&(c!=="a"||p!=="href")){a.removeAttribute(p);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){a.removeAttribute(p);break}y=bf(""+y),a.setAttribute(p,y);break;case"action":case"formAction":if(typeof y=="function"){a.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(p==="formAction"?(c!=="input"&&qn(a,c,"name",b.name,b,null),qn(a,c,"formEncType",b.formEncType,b,null),qn(a,c,"formMethod",b.formMethod,b,null),qn(a,c,"formTarget",b.formTarget,b,null)):(qn(a,c,"encType",b.encType,b,null),qn(a,c,"method",b.method,b,null),qn(a,c,"target",b.target,b,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){a.removeAttribute(p);break}y=bf(""+y),a.setAttribute(p,y);break;case"onClick":y!=null&&(a.onclick=Cx);break;case"onScroll":y!=null&&Sn("scroll",a);break;case"onScrollEnd":y!=null&&Sn("scrollend",a);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(i(61));if(p=y.__html,p!=null){if(b.children!=null)throw Error(i(60));a.innerHTML=p}}break;case"multiple":a.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":a.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){a.removeAttribute("xlink:href");break}p=bf(""+y),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?a.setAttribute(p,""+y):a.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?a.setAttribute(p,""):a.removeAttribute(p);break;case"capture":case"download":y===!0?a.setAttribute(p,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?a.setAttribute(p,y):a.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?a.setAttribute(p,y):a.removeAttribute(p);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?a.removeAttribute(p):a.setAttribute(p,y);break;case"popover":Sn("beforetoggle",a),Sn("toggle",a),cn(a,"popover",y);break;case"xlinkActuate":yn(a,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":yn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":yn(a,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":yn(a,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":yn(a,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":yn(a,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":yn(a,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":yn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":yn(a,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":cn(a,"is",y);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=hv.get(p)||p,cn(a,p,y))}}function J_(a,c,p,y,b,C){switch(p){case"style":Vm(a,y,C);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(i(61));if(p=y.__html,p!=null){if(b.children!=null)throw Error(i(60));a.innerHTML=p}}break;case"children":typeof y=="string"?Us(a,y):(typeof y=="number"||typeof y=="bigint")&&Us(a,""+y);break;case"onScroll":y!=null&&Sn("scroll",a);break;case"onScrollEnd":y!=null&&Sn("scrollend",a);break;case"onClick":y!=null&&(a.onclick=Cx);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kt.hasOwnProperty(p))t:{if(p[0]==="o"&&p[1]==="n"&&(b=p.endsWith("Capture"),c=p.slice(2,b?p.length-7:void 0),C=a[Qe]||null,C=C!=null?C[p]:null,typeof C=="function"&&a.removeEventListener(c,C,b),typeof y=="function")){typeof C!="function"&&C!==null&&(p in a?a[p]=null:a.hasAttribute(p)&&a.removeAttribute(p)),a.addEventListener(c,y,b);break t}p in a?a[p]=y:y===!0?a.setAttribute(p,""):cn(a,p,y)}}}function ks(a,c,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Sn("error",a),Sn("load",a);var y=!1,b=!1,C;for(C in p)if(p.hasOwnProperty(C)){var I=p[C];if(I!=null)switch(C){case"src":y=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:qn(a,c,C,I,p,null)}}b&&qn(a,c,"srcSet",p.srcSet,p,null),y&&qn(a,c,"src",p.src,p,null);return;case"input":Sn("invalid",a);var k=C=I=b=null,Z=null,ft=null;for(y in p)if(p.hasOwnProperty(y)){var Ot=p[y];if(Ot!=null)switch(y){case"name":b=Ot;break;case"type":I=Ot;break;case"checked":Z=Ot;break;case"defaultChecked":ft=Ot;break;case"value":C=Ot;break;case"defaultValue":k=Ot;break;case"children":case"dangerouslySetInnerHTML":if(Ot!=null)throw Error(i(137,c));break;default:qn(a,c,y,Ot,p,null)}}gs(a,C,k,Z,ft,I,b,!1),un(a);return;case"select":Sn("invalid",a),y=I=C=null;for(b in p)if(p.hasOwnProperty(b)&&(k=p[b],k!=null))switch(b){case"value":C=k;break;case"defaultValue":I=k;break;case"multiple":y=k;default:qn(a,c,b,k,p,null)}c=C,p=I,a.multiple=!!y,c!=null?ci(a,!!y,c,!1):p!=null&&ci(a,!!y,p,!0);return;case"textarea":Sn("invalid",a),C=b=y=null;for(I in p)if(p.hasOwnProperty(I)&&(k=p[I],k!=null))switch(I){case"value":y=k;break;case"defaultValue":b=k;break;case"children":C=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(i(91));break;default:qn(a,c,I,k,p,null)}aa(a,y,b,C),un(a);return;case"option":for(Z in p)if(p.hasOwnProperty(Z)&&(y=p[Z],y!=null))switch(Z){case"selected":a.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:qn(a,c,Z,y,p,null)}return;case"dialog":Sn("cancel",a),Sn("close",a);break;case"iframe":case"object":Sn("load",a);break;case"video":case"audio":for(y=0;y<kg.length;y++)Sn(kg[y],a);break;case"image":Sn("error",a),Sn("load",a);break;case"details":Sn("toggle",a);break;case"embed":case"source":case"link":Sn("error",a),Sn("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ft in p)if(p.hasOwnProperty(ft)&&(y=p[ft],y!=null))switch(ft){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:qn(a,c,ft,y,p,null)}return;default:if(_f(c)){for(Ot in p)p.hasOwnProperty(Ot)&&(y=p[Ot],y!==void 0&&J_(a,c,Ot,y,p,void 0));return}}for(k in p)p.hasOwnProperty(k)&&(y=p[k],y!=null&&qn(a,c,k,y,p,null))}function m4(a,c,p,y){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,C=null,I=null,k=null,Z=null,ft=null,Ot=null;for(wt in p){var jt=p[wt];if(p.hasOwnProperty(wt)&&jt!=null)switch(wt){case"checked":break;case"value":break;case"defaultValue":Z=jt;default:y.hasOwnProperty(wt)||qn(a,c,wt,null,y,jt)}}for(var _t in y){var wt=y[_t];if(jt=p[_t],y.hasOwnProperty(_t)&&(wt!=null||jt!=null))switch(_t){case"type":C=wt;break;case"name":b=wt;break;case"checked":ft=wt;break;case"defaultChecked":Ot=wt;break;case"value":I=wt;break;case"defaultValue":k=wt;break;case"children":case"dangerouslySetInnerHTML":if(wt!=null)throw Error(i(137,c));break;default:wt!==jt&&qn(a,c,_t,wt,y,jt)}}Ln(a,I,k,Z,ft,Ot,C,b);return;case"select":wt=I=k=_t=null;for(C in p)if(Z=p[C],p.hasOwnProperty(C)&&Z!=null)switch(C){case"value":break;case"multiple":wt=Z;default:y.hasOwnProperty(C)||qn(a,c,C,null,y,Z)}for(b in y)if(C=y[b],Z=p[b],y.hasOwnProperty(b)&&(C!=null||Z!=null))switch(b){case"value":_t=C;break;case"defaultValue":k=C;break;case"multiple":I=C;default:C!==Z&&qn(a,c,b,C,y,Z)}c=k,p=I,y=wt,_t!=null?ci(a,!!p,_t,!1):!!y!=!!p&&(c!=null?ci(a,!!p,c,!0):ci(a,!!p,p?[]:"",!1));return;case"textarea":wt=_t=null;for(k in p)if(b=p[k],p.hasOwnProperty(k)&&b!=null&&!y.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:qn(a,c,k,null,y,b)}for(I in y)if(b=y[I],C=p[I],y.hasOwnProperty(I)&&(b!=null||C!=null))switch(I){case"value":_t=b;break;case"defaultValue":wt=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:b!==C&&qn(a,c,I,b,y,C)}Zi(a,_t,wt);return;case"option":for(var Te in p)if(_t=p[Te],p.hasOwnProperty(Te)&&_t!=null&&!y.hasOwnProperty(Te))switch(Te){case"selected":a.selected=!1;break;default:qn(a,c,Te,null,y,_t)}for(Z in y)if(_t=y[Z],wt=p[Z],y.hasOwnProperty(Z)&&_t!==wt&&(_t!=null||wt!=null))switch(Z){case"selected":a.selected=_t&&typeof _t!="function"&&typeof _t!="symbol";break;default:qn(a,c,Z,_t,y,wt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in p)_t=p[je],p.hasOwnProperty(je)&&_t!=null&&!y.hasOwnProperty(je)&&qn(a,c,je,null,y,_t);for(ft in y)if(_t=y[ft],wt=p[ft],y.hasOwnProperty(ft)&&_t!==wt&&(_t!=null||wt!=null))switch(ft){case"children":case"dangerouslySetInnerHTML":if(_t!=null)throw Error(i(137,c));break;default:qn(a,c,ft,_t,y,wt)}return;default:if(_f(c)){for(var Pi in p)_t=p[Pi],p.hasOwnProperty(Pi)&&_t!==void 0&&!y.hasOwnProperty(Pi)&&J_(a,c,Pi,void 0,y,_t);for(Ot in y)_t=y[Ot],wt=p[Ot],!y.hasOwnProperty(Ot)||_t===wt||_t===void 0&&wt===void 0||J_(a,c,Ot,_t,y,wt);return}}for(var pt in p)_t=p[pt],p.hasOwnProperty(pt)&&_t!=null&&!y.hasOwnProperty(pt)&&qn(a,c,pt,null,y,_t);for(jt in y)_t=y[jt],wt=p[jt],!y.hasOwnProperty(jt)||_t===wt||_t==null&&wt==null||qn(a,c,jt,_t,y,wt)}var Q_=null,Z_=null;function Rx(a){return a.nodeType===9?a:a.ownerDocument}function gw(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yw(a,c){if(a===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&c==="foreignObject"?0:a}function $_(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var tb=null;function g4(){var a=window.event;return a&&a.type==="popstate"?a===tb?!1:(tb=a,!0):(tb=null,!1)}var vw=typeof setTimeout=="function"?setTimeout:void 0,y4=typeof clearTimeout=="function"?clearTimeout:void 0,xw=typeof Promise=="function"?Promise:void 0,v4=typeof queueMicrotask=="function"?queueMicrotask:typeof xw<"u"?function(a){return xw.resolve(null).then(a).catch(x4)}:vw;function x4(a){setTimeout(function(){throw a})}function eb(a,c){var p=c,y=0;do{var b=p.nextSibling;if(a.removeChild(p),b&&b.nodeType===8)if(p=b.data,p==="/$"){if(y===0){a.removeChild(b),Zg(c);return}y--}else p!=="$"&&p!=="$?"&&p!=="$!"||y++;p=b}while(p);Zg(c)}function nb(a){var c=a.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var p=c;switch(c=c.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":nb(p),tc(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}a.removeChild(p)}}function A4(a,c,p,y){for(;a.nodeType===1;){var b=p;if(a.nodeName.toLowerCase()!==c.toLowerCase()){if(!y&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(y){if(!a[eo])switch(c){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(C=a.getAttribute("rel"),C==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(C!==b.rel||a.getAttribute("href")!==(b.href==null?null:b.href)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||a.getAttribute("title")!==(b.title==null?null:b.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(C=a.getAttribute("src"),(C!==(b.src==null?null:b.src)||a.getAttribute("type")!==(b.type==null?null:b.type)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&C&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(c==="input"&&a.type==="hidden"){var C=b.name==null?null:""+b.name;if(b.type==="hidden"&&a.getAttribute("name")===C)return a}else return a;if(a=Uo(a.nextSibling),a===null)break}return null}function S4(a,c,p){if(c==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!p||(a=Uo(a.nextSibling),a===null))return null;return a}function Uo(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return a}function Aw(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var p=a.data;if(p==="$"||p==="$!"||p==="$?"){if(c===0)return a;c--}else p==="/$"&&c++}a=a.previousSibling}return null}function Sw(a,c,p){switch(c=Rx(p),a){case"html":if(a=c.documentElement,!a)throw Error(i(452));return a;case"head":if(a=c.head,!a)throw Error(i(453));return a;case"body":if(a=c.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}var Va=new Map,_w=new Set;function wx(a){return typeof a.getRootNode=="function"?a.getRootNode():a.ownerDocument}var Cc=it.d;it.d={f:_4,r:b4,D:M4,C:E4,L:T4,m:C4,X:w4,S:R4,M:B4};function _4(){var a=Cc.f(),c=Mc();return a||c}function b4(a){var c=V(a);c!==null&&c.tag===5&&c.type==="form"?rx(c):Cc.r(a)}var op=typeof document>"u"?null:document;function bw(a,c,p){var y=op;if(y&&typeof c=="string"&&c){var b=Gi(c);b='link[rel="'+a+'"][href="'+b+'"]',typeof p=="string"&&(b+='[crossorigin="'+p+'"]'),_w.has(b)||(_w.add(b),a={rel:a,crossOrigin:p,href:c},y.querySelector(b)===null&&(c=y.createElement("link"),ks(c,"link",a),gt(c),y.head.appendChild(c)))}}function M4(a){Cc.D(a),bw("dns-prefetch",a,null)}function E4(a,c){Cc.C(a,c),bw("preconnect",a,c)}function T4(a,c,p){Cc.L(a,c,p);var y=op;if(y&&a&&c){var b='link[rel="preload"][as="'+Gi(c)+'"]';c==="image"&&p&&p.imageSrcSet?(b+='[imagesrcset="'+Gi(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(b+='[imagesizes="'+Gi(p.imageSizes)+'"]')):b+='[href="'+Gi(a)+'"]';var C=b;switch(c){case"style":C=lp(a);break;case"script":C=cp(a)}Va.has(C)||(a=B({rel:"preload",href:c==="image"&&p&&p.imageSrcSet?void 0:a,as:c},p),Va.set(C,a),y.querySelector(b)!==null||c==="style"&&y.querySelector(jg(C))||c==="script"&&y.querySelector(Yg(C))||(c=y.createElement("link"),ks(c,"link",a),gt(c),y.head.appendChild(c)))}}function C4(a,c){Cc.m(a,c);var p=op;if(p&&a){var y=c&&typeof c.as=="string"?c.as:"script",b='link[rel="modulepreload"][as="'+Gi(y)+'"][href="'+Gi(a)+'"]',C=b;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=cp(a)}if(!Va.has(C)&&(a=B({rel:"modulepreload",href:a},c),Va.set(C,a),p.querySelector(b)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(Yg(C)))return}y=p.createElement("link"),ks(y,"link",a),gt(y),p.head.appendChild(y)}}}function R4(a,c,p){Cc.S(a,c,p);var y=op;if(y&&a){var b=xt(y).hoistableStyles,C=lp(a);c=c||"default";var I=b.get(C);if(!I){var k={loading:0,preload:null};if(I=y.querySelector(jg(C)))k.loading=5;else{a=B({rel:"stylesheet",href:a,"data-precedence":c},p),(p=Va.get(C))&&ib(a,p);var Z=I=y.createElement("link");gt(Z),ks(Z,"link",a),Z._p=new Promise(function(ft,Ot){Z.onload=ft,Z.onerror=Ot}),Z.addEventListener("load",function(){k.loading|=1}),Z.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Bx(I,c,y)}I={type:"stylesheet",instance:I,count:1,state:k},b.set(C,I)}}}function w4(a,c){Cc.X(a,c);var p=op;if(p&&a){var y=xt(p).hoistableScripts,b=cp(a),C=y.get(b);C||(C=p.querySelector(Yg(b)),C||(a=B({src:a,async:!0},c),(c=Va.get(b))&&sb(a,c),C=p.createElement("script"),gt(C),ks(C,"link",a),p.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},y.set(b,C))}}function B4(a,c){Cc.M(a,c);var p=op;if(p&&a){var y=xt(p).hoistableScripts,b=cp(a),C=y.get(b);C||(C=p.querySelector(Yg(b)),C||(a=B({src:a,async:!0,type:"module"},c),(c=Va.get(b))&&sb(a,c),C=p.createElement("script"),gt(C),ks(C,"link",a),p.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},y.set(b,C))}}function Mw(a,c,p,y){var b=(b=Bt.current)?wx(b):null;if(!b)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(c=lp(p.href),p=xt(b).hoistableStyles,y=p.get(c),y||(y={type:"style",instance:null,count:0,state:null},p.set(c,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){a=lp(p.href);var C=xt(b).hoistableStyles,I=C.get(a);if(I||(b=b.ownerDocument||b,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(a,I),(C=b.querySelector(jg(a)))&&!C._p&&(I.instance=C,I.state.loading=5),Va.has(a)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Va.set(a,p),C||D4(b,a,p,I.state))),c&&y===null)throw Error(i(528,""));return I}if(c&&y!==null)throw Error(i(529,""));return null;case"script":return c=p.async,p=p.src,typeof p=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=cp(p),p=xt(b).hoistableScripts,y=p.get(c),y||(y={type:"script",instance:null,count:0,state:null},p.set(c,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function lp(a){return'href="'+Gi(a)+'"'}function jg(a){return'link[rel="stylesheet"]['+a+"]"}function Ew(a){return B({},a,{"data-precedence":a.precedence,precedence:null})}function D4(a,c,p,y){a.querySelector('link[rel="preload"][as="style"]['+c+"]")?y.loading=1:(c=a.createElement("link"),y.preload=c,c.addEventListener("load",function(){return y.loading|=1}),c.addEventListener("error",function(){return y.loading|=2}),ks(c,"link",p),gt(c),a.head.appendChild(c))}function cp(a){return'[src="'+Gi(a)+'"]'}function Yg(a){return"script[async]"+a}function Tw(a,c,p){if(c.count++,c.instance===null)switch(c.type){case"style":var y=a.querySelector('style[data-href~="'+Gi(p.href)+'"]');if(y)return c.instance=y,gt(y),y;var b=B({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return y=(a.ownerDocument||a).createElement("style"),gt(y),ks(y,"style",b),Bx(y,p.precedence,a),c.instance=y;case"stylesheet":b=lp(p.href);var C=a.querySelector(jg(b));if(C)return c.state.loading|=4,c.instance=C,gt(C),C;y=Ew(p),(b=Va.get(b))&&ib(y,b),C=(a.ownerDocument||a).createElement("link"),gt(C);var I=C;return I._p=new Promise(function(k,Z){I.onload=k,I.onerror=Z}),ks(C,"link",y),c.state.loading|=4,Bx(C,p.precedence,a),c.instance=C;case"script":return C=cp(p.src),(b=a.querySelector(Yg(C)))?(c.instance=b,gt(b),b):(y=p,(b=Va.get(C))&&(y=B({},p),sb(y,b)),a=a.ownerDocument||a,b=a.createElement("script"),gt(b),ks(b,"link",y),a.head.appendChild(b),c.instance=b);case"void":return null;default:throw Error(i(443,c.type))}else c.type==="stylesheet"&&!(c.state.loading&4)&&(y=c.instance,c.state.loading|=4,Bx(y,p.precedence,a));return c.instance}function Bx(a,c,p){for(var y=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=y.length?y[y.length-1]:null,C=b,I=0;I<y.length;I++){var k=y[I];if(k.dataset.precedence===c)C=k;else if(C!==b)break}C?C.parentNode.insertBefore(a,C.nextSibling):(c=p.nodeType===9?p.head:p,c.insertBefore(a,c.firstChild))}function ib(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.title==null&&(a.title=c.title)}function sb(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.integrity==null&&(a.integrity=c.integrity)}var Dx=null;function Cw(a,c,p){if(Dx===null){var y=new Map,b=Dx=new Map;b.set(p,y)}else b=Dx,y=b.get(p),y||(y=new Map,b.set(p,y));if(y.has(a))return y;for(y.set(a,null),p=p.getElementsByTagName(a),b=0;b<p.length;b++){var C=p[b];if(!(C[eo]||C[li]||a==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var I=C.getAttribute(c)||"";I=a+I;var k=y.get(I);k?k.push(C):y.set(I,[C])}}return y}function Rw(a,c,p){a=a.ownerDocument||a,a.head.insertBefore(p,c==="title"?a.querySelector("head > title"):null)}function L4(a,c,p){if(p===1||c.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return a=c.disabled,typeof c.precedence=="string"&&a==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function ww(a){return!(a.type==="stylesheet"&&!(a.state.loading&3))}var Wg=null;function O4(){}function U4(a,c,p){if(Wg===null)throw Error(i(475));var y=Wg;if(c.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&!(c.state.loading&4)){if(c.instance===null){var b=lp(p.href),C=a.querySelector(jg(b));if(C){a=C._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(y.count++,y=Lx.bind(y),a.then(y,y)),c.state.loading|=4,c.instance=C,gt(C);return}C=a.ownerDocument||a,p=Ew(p),(b=Va.get(b))&&ib(p,b),C=C.createElement("link"),gt(C);var I=C;I._p=new Promise(function(k,Z){I.onload=k,I.onerror=Z}),ks(C,"link",p),c.instance=C}y.stylesheets===null&&(y.stylesheets=new Map),y.stylesheets.set(c,a),(a=c.state.preload)&&!(c.state.loading&3)&&(y.count++,c=Lx.bind(y),a.addEventListener("load",c),a.addEventListener("error",c))}}function P4(){if(Wg===null)throw Error(i(475));var a=Wg;return a.stylesheets&&a.count===0&&rb(a,a.stylesheets),0<a.count?function(c){var p=setTimeout(function(){if(a.stylesheets&&rb(a,a.stylesheets),a.unsuspend){var y=a.unsuspend;a.unsuspend=null,y()}},6e4);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(p)}}:null}function Lx(){if(this.count--,this.count===0){if(this.stylesheets)rb(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Ox=null;function rb(a,c){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Ox=new Map,c.forEach(N4,a),Ox=null,Lx.call(a))}function N4(a,c){if(!(c.state.loading&4)){var p=Ox.get(a);if(p)var y=p.get(null);else{p=new Map,Ox.set(a,p);for(var b=a.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<b.length;C++){var I=b[C];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(p.set(I.dataset.precedence,I),y=I)}y&&p.set(null,y)}b=c.instance,I=b.getAttribute("data-precedence"),C=p.get(I)||y,C===y&&p.set(null,b),p.set(I,b),this.count++,y=Lx.bind(this),b.addEventListener("load",y),b.addEventListener("error",y),C?C.parentNode.insertBefore(b,C.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(b,a.firstChild)),c.state.loading|=4}}var Kg={$$typeof:A,Provider:null,Consumer:null,_currentValue:Et,_currentValue2:Et,_threadCount:0};function I4(a,c,p,y,b,C,I,k){this.tag=1,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ds(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ds(0),this.hiddenUpdates=ds(null),this.identifierPrefix=y,this.onUncaughtError=b,this.onCaughtError=C,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function Bw(a,c,p,y,b,C,I,k,Z,ft,Ot,jt){return a=new I4(a,c,p,I,k,Z,ft,jt),c=1,C===!0&&(c|=24),C=_i(3,null,null,c),a.current=C,C.stateNode=a,c=hg(),c.refCount++,a.pooledCache=c,c.refCount++,C.memoizedState={element:y,isDehydrated:p,cache:c},Fs(C),a}function Dw(a){return a?(a=al,a):al}function Lw(a,c,p,y,b,C){b=Dw(b),y.context===null?y.context=b:y.pendingContext=b,y=br(c),y.payload={element:p},C=C===void 0?null:C,C!==null&&(y.callback=C),p=Mr(a,y,c),p!==null&&(Ui(p,a,c),Ml(p,a,c))}function Ow(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var p=a.retryLane;a.retryLane=p!==0&&p<c?p:c}}function ab(a,c){Ow(a,c),(a=a.alternate)&&Ow(a,c)}function Uw(a){if(a.tag===13){var c=uo(a,67108864);c!==null&&Ui(c,a,67108864),ab(a,67108864)}}var Ux=!0;function F4(a,c,p,y){var b=N.T;N.T=null;var C=it.p;try{it.p=2,ob(a,c,p,y)}finally{it.p=C,N.T=b}}function z4(a,c,p,y){var b=N.T;N.T=null;var C=it.p;try{it.p=8,ob(a,c,p,y)}finally{it.p=C,N.T=b}}function ob(a,c,p,y){if(Ux){var b=lb(y);if(b===null)q_(a,c,y,Px,p),Nw(a,y);else if(G4(b,a,c,p,y))y.stopPropagation();else if(Nw(a,y),c&4&&-1<H4.indexOf(a)){for(;b!==null;){var C=V(b);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var I=ee(C.pendingLanes);if(I!==0){var k=C;for(k.pendingLanes|=2,k.entangledLanes|=2;I;){var Z=1<<31-Me(I);k.entanglements[1]|=Z,I&=~Z}Xn(C),!(ke&6)&&(on=Ct()+500,fn(0))}}break;case 13:k=uo(C,2),k!==null&&Ui(k,C,2),Mc(),ab(C,2)}if(C=lb(y),C===null&&q_(a,c,y,Px,p),C===b)break;b=C}b!==null&&y.stopPropagation()}else q_(a,c,y,null,p)}}function lb(a){return a=Mf(a),cb(a)}var Px=null;function cb(a){if(Px=null,a=ra(a),a!==null){var c=Q(a);if(c===null)a=null;else{var p=c.tag;if(p===13){if(a=At(c),a!==null)return a;a=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null)}}return Px=a,null}function Pw(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gt()){case Dt:return 2;case fe:return 8;case ne:case de:return 32;case Je:return 268435456;default:return 32}default:return 32}}var ub=!1,Iu=null,Fu=null,zu=null,qg=new Map,Jg=new Map,Hu=[],H4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Nw(a,c){switch(a){case"focusin":case"focusout":Iu=null;break;case"dragenter":case"dragleave":Fu=null;break;case"mouseover":case"mouseout":zu=null;break;case"pointerover":case"pointerout":qg.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jg.delete(c.pointerId)}}function Qg(a,c,p,y,b,C){return a===null||a.nativeEvent!==C?(a={blockedOn:c,domEventName:p,eventSystemFlags:y,nativeEvent:C,targetContainers:[b]},c!==null&&(c=V(c),c!==null&&Uw(c)),a):(a.eventSystemFlags|=y,c=a.targetContainers,b!==null&&c.indexOf(b)===-1&&c.push(b),a)}function G4(a,c,p,y,b){switch(c){case"focusin":return Iu=Qg(Iu,a,c,p,y,b),!0;case"dragenter":return Fu=Qg(Fu,a,c,p,y,b),!0;case"mouseover":return zu=Qg(zu,a,c,p,y,b),!0;case"pointerover":var C=b.pointerId;return qg.set(C,Qg(qg.get(C)||null,a,c,p,y,b)),!0;case"gotpointercapture":return C=b.pointerId,Jg.set(C,Qg(Jg.get(C)||null,a,c,p,y,b)),!0}return!1}function Iw(a){var c=ra(a.target);if(c!==null){var p=Q(c);if(p!==null){if(c=p.tag,c===13){if(c=At(p),c!==null){a.blockedOn=c,ia(a.priority,function(){if(p.tag===13){var y=Vs(),b=uo(p,y);b!==null&&Ui(b,p,y),ab(p,y)}});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){a.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Nx(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var p=lb(a.nativeEvent);if(p===null){p=a.nativeEvent;var y=new p.constructor(p.type,p);yd=y,p.target.dispatchEvent(y),yd=null}else return c=V(p),c!==null&&Uw(c),a.blockedOn=p,!1;c.shift()}return!0}function Fw(a,c,p){Nx(a)&&p.delete(c)}function V4(){ub=!1,Iu!==null&&Nx(Iu)&&(Iu=null),Fu!==null&&Nx(Fu)&&(Fu=null),zu!==null&&Nx(zu)&&(zu=null),qg.forEach(Fw),Jg.forEach(Fw)}function Ix(a,c){a.blockedOn===c&&(a.blockedOn=null,ub||(ub=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,V4)))}var Fx=null;function zw(a){Fx!==a&&(Fx=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Fx===a&&(Fx=null);for(var c=0;c<a.length;c+=3){var p=a[c],y=a[c+1],b=a[c+2];if(typeof y!="function"){if(cb(y||p)===null)continue;break}var C=V(p);C!==null&&(a.splice(c,3),c-=3,Sg(C,{pending:!0,data:b,method:p.method,action:y},y,b))}}))}function Zg(a){function c(Z){return Ix(Z,a)}Iu!==null&&Ix(Iu,a),Fu!==null&&Ix(Fu,a),zu!==null&&Ix(zu,a),qg.forEach(c),Jg.forEach(c);for(var p=0;p<Hu.length;p++){var y=Hu[p];y.blockedOn===a&&(y.blockedOn=null)}for(;0<Hu.length&&(p=Hu[0],p.blockedOn===null);)Iw(p),p.blockedOn===null&&Hu.shift();if(p=(a.ownerDocument||a).$$reactFormReplay,p!=null)for(y=0;y<p.length;y+=3){var b=p[y],C=p[y+1],I=b[Qe]||null;if(typeof C=="function")I||zw(p);else if(I){var k=null;if(C&&C.hasAttribute("formAction")){if(b=C,I=C[Qe]||null)k=I.formAction;else if(cb(b)!==null)continue}else k=I.action;typeof k=="function"?p[y+1]=k:(p.splice(y,3),y-=3),zw(p)}}}function fb(a){this._internalRoot=a}zx.prototype.render=fb.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(i(409));var p=c.current,y=Vs();Lw(p,y,a,c,null,null)},zx.prototype.unmount=fb.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;a.tag===0&&Jt(),Lw(a.current,2,null,a,null,null),Mc(),c[sa]=null}};function zx(a){this._internalRoot=a}zx.prototype.unstable_scheduleHydration=function(a){if(a){var c=eu();a={blockedOn:null,target:a,priority:c};for(var p=0;p<Hu.length&&c!==0&&c<Hu[p].priority;p++);Hu.splice(p,0,a),p===0&&Iw(a)}};var Hw=t.version;if(Hw!=="19.0.0")throw Error(i(527,Hw,"19.0.0"));it.findDOMNode=function(a){var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=rt(c),a=a!==null?Tt(a):null,a=a===null?null:a.stateNode,a};var k4={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:N,findFiberByHostInstance:ra,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hx.isDisabled&&Hx.supportsFiber)try{Ae=Hx.inject(k4),ve=Hx}catch{}}return t0.createRoot=function(a,c){if(!s(a))throw Error(i(299));var p=!1,y="",b=dx,C=px,I=mx,k=null;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(C=c.onCaughtError),c.onRecoverableError!==void 0&&(I=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(k=c.unstable_transitionCallbacks)),c=Bw(a,1,!1,null,null,p,y,b,C,I,k,null),a[sa]=c.current,K_(a.nodeType===8?a.parentNode:a),new fb(c)},t0.hydrateRoot=function(a,c,p){if(!s(a))throw Error(i(299));var y=!1,b="",C=dx,I=px,k=mx,Z=null,ft=null;return p!=null&&(p.unstable_strictMode===!0&&(y=!0),p.identifierPrefix!==void 0&&(b=p.identifierPrefix),p.onUncaughtError!==void 0&&(C=p.onUncaughtError),p.onCaughtError!==void 0&&(I=p.onCaughtError),p.onRecoverableError!==void 0&&(k=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(Z=p.unstable_transitionCallbacks),p.formState!==void 0&&(ft=p.formState)),c=Bw(a,1,!0,c,p??null,y,b,C,I,k,Z,ft),c.context=Dw(null),p=c.current,y=Vs(),b=br(y),b.callback=null,Mr(p,b,y),c.current.lanes=y,ps(c,y),Xn(c),a[sa]=c.current,K_(a),new zx(c)},t0.version="19.0.0",t0}var Qw;function $4(){if(Qw)return pb.exports;Qw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),pb.exports=Z4(),pb.exports}var vU=$4();const BT=W.createContext({});function af(n){const t=W.useRef(null);return t.current===null&&(t.current=n()),t.current}const MS=W.createContext(null),Py=W.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});let tG=class extends W.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const i=e.offsetParent,s=i instanceof HTMLElement&&i.offsetWidth||0,r=this.props.sizeRef.current;r.height=e.offsetHeight||0,r.width=e.offsetWidth||0,r.top=e.offsetTop,r.left=e.offsetLeft,r.right=s-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}};function eG({children:n,isPresent:t,anchorX:e}){const i=W.useId(),s=W.useRef(null),r=W.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=W.useContext(Py);return W.useInsertionEffect(()=>{const{width:l,height:u,top:d,left:m,right:g}=r.current;if(t||!s.current||!l||!u)return;const v=e==="left"?`left: ${m}`:`right: ${g}`;s.current.dataset.motionPopId=i;const A=document.createElement("style");return o&&(A.nonce=o),document.head.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            ${v}px !important;
            top: ${d}px !important;
          }
        `),()=>{document.head.removeChild(A)}},[t]),ot.jsx(tG,{isPresent:t,childRef:s,sizeRef:r,children:W.cloneElement(n,{ref:s})})}const nG=({children:n,initial:t,isPresent:e,onExitComplete:i,custom:s,presenceAffectsLayout:r,mode:o,anchorX:l})=>{const u=af(iG),d=W.useId(),m=W.useCallback(v=>{u.set(v,!0);for(const A of u.values())if(!A)return;i&&i()},[u,i]),g=W.useMemo(()=>({id:d,initial:t,isPresent:e,custom:s,onExitComplete:m,register:v=>(u.set(v,!1),()=>u.delete(v))}),r?[Math.random(),m]:[e,m]);return W.useMemo(()=>{u.forEach((v,A)=>u.set(A,!1))},[e]),W.useEffect(()=>{!e&&!u.size&&i&&i()},[e]),o==="popLayout"&&(n=ot.jsx(eG,{isPresent:e,anchorX:l,children:n})),ot.jsx(MS.Provider,{value:g,children:n})};function iG(){return new Map}function xU(n=!0){const t=W.useContext(MS);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:i,register:s}=t,r=W.useId();W.useEffect(()=>{n&&s(r)},[n]);const o=W.useCallback(()=>n&&i&&i(r),[r,i,n]);return!e&&i?[!1,o]:[!0]}const Gx=n=>n.key||"";function Zw(n){const t=[];return W.Children.forEach(n,e=>{W.isValidElement(e)&&t.push(e)}),t}const DT=typeof window<"u",Ny=DT?W.useLayoutEffect:W.useEffect,AU=({children:n,custom:t,initial:e=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:r="sync",propagate:o=!1,anchorX:l="left"})=>{const[u,d]=xU(o),m=W.useMemo(()=>Zw(n),[n]),g=o&&!u?[]:m.map(Gx),v=W.useRef(!0),A=W.useRef(m),S=af(()=>new Map),[E,T]=W.useState(m),[_,w]=W.useState(m);Ny(()=>{v.current=!1,A.current=m;for(let U=0;U<_.length;U++){const P=Gx(_[U]);g.includes(P)?S.delete(P):S.get(P)!==!0&&S.set(P,!1)}},[_,g.length,g.join("-")]);const D=[];if(m!==E){let U=[...m];for(let P=0;P<_.length;P++){const F=_[P],z=Gx(F);g.includes(z)||(U.splice(P,0,F),D.push(F))}return r==="wait"&&D.length&&(U=D),w(Zw(U)),T(m),null}const{forceRender:L}=W.useContext(BT);return ot.jsx(ot.Fragment,{children:_.map(U=>{const P=Gx(U),F=o&&!u?!1:m===_||g.includes(P),z=()=>{if(S.has(P))S.set(P,!0);else return;let N=!0;S.forEach(B=>{B||(N=!1)}),N&&(L==null||L(),w(A.current),o&&(d==null||d()),i&&i())};return ot.jsx(nG,{isPresent:F,initial:!v.current||e?void 0:!1,custom:t,presenceAffectsLayout:s,mode:r,onExitComplete:F?void 0:z,anchorX:l,children:U},P)})})},dr=n=>n;let sG=dr,SU=dr;const rG={useManualTiming:!1},Vx=["read","resolveKeyframes","update","preRender","render","postRender"];function aG(n,t){let e=new Set,i=new Set,s=!1,r=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(m){o.has(m)&&(d.schedule(m),n()),m(l)}const d={schedule:(m,g=!1,v=!1)=>{const S=v&&s?e:i;return g&&o.add(m),S.has(m)||S.add(m),m},cancel:m=>{i.delete(m),o.delete(m)},process:m=>{if(l=m,s){r=!0;return}s=!0,[e,i]=[i,e],e.forEach(u),e.clear(),s=!1,r&&(r=!1,d.process(m))}};return d}const oG=40;function _U(n,t){let e=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},r=()=>e=!0,o=Vx.reduce((_,w)=>(_[w]=aG(r),_),{}),{read:l,resolveKeyframes:u,update:d,preRender:m,render:g,postRender:v}=o,A=()=>{const _=performance.now();e=!1,s.delta=i?1e3/60:Math.max(Math.min(_-s.timestamp,oG),1),s.timestamp=_,s.isProcessing=!0,l.process(s),u.process(s),d.process(s),m.process(s),g.process(s),v.process(s),s.isProcessing=!1,e&&t&&(i=!1,n(A))},S=()=>{e=!0,i=!0,s.isProcessing||n(A)};return{schedule:Vx.reduce((_,w)=>{const D=o[w];return _[w]=(L,U=!1,P=!1)=>(e||S(),D.schedule(L,U,P)),_},{}),cancel:_=>{for(let w=0;w<Vx.length;w++)o[Vx[w]].cancel(_)},state:s,steps:o}}const{schedule:Cn,cancel:jo,state:Rs,steps:vb}=_U(typeof requestAnimationFrame<"u"?requestAnimationFrame:dr,!0),bU=W.createContext({strict:!1}),$w={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},cm={};for(const n in $w)cm[n]={isEnabled:t=>$w[n].some(e=>!!t[e])};function lG(n){for(const t in n)cm[t]={...cm[t],...n[t]}}const cG=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function y1(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||cG.has(n)}let MU=n=>!y1(n);function uG(n){n&&(MU=t=>t.startsWith("on")?!y1(t):n(t))}try{uG(require("@emotion/is-prop-valid").default)}catch{}function fG(n,t,e){const i={};for(const s in n)s==="values"&&typeof n.values=="object"||(MU(s)||e===!0&&y1(s)||!t&&!y1(s)||n.draggable&&s.startsWith("onDrag"))&&(i[s]=n[s]);return i}function hG(n){if(typeof Proxy>"u")return n;const t=new Map,e=(...i)=>n(...i);return new Proxy(e,{get:(i,s)=>s==="create"?n:(t.has(s)||t.set(s,n(s)),t.get(s))})}const ES=W.createContext({});function TS(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function sy(n){return typeof n=="string"||Array.isArray(n)}const LT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],OT=["initial",...LT];function CS(n){return TS(n.animate)||OT.some(t=>sy(n[t]))}function EU(n){return!!(CS(n)||n.variants)}function dG(n,t){if(CS(n)){const{initial:e,animate:i}=n;return{initial:e===!1||sy(e)?e:void 0,animate:sy(i)?i:void 0}}return n.inherit!==!1?t:{}}function pG(n){const{initial:t,animate:e}=dG(n,W.useContext(ES));return W.useMemo(()=>({initial:t,animate:e}),[t2(t),t2(e)])}function t2(n){return Array.isArray(n)?n.join(" "):n}const mG=Symbol.for("motionComponentSymbol");function Hp(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function gG(n,t,e){return W.useCallback(i=>{i&&n.onMount&&n.onMount(i),t&&(i?t.mount(i):t.unmount()),e&&(typeof e=="function"?e(i):Hp(e)&&(e.current=i))},[t])}const UT=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),yG="framerAppearId",TU="data-"+UT(yG),{schedule:PT}=_U(queueMicrotask,!1),CU=W.createContext({});function vG(n,t,e,i,s){var r,o;const{visualElement:l}=W.useContext(ES),u=W.useContext(bU),d=W.useContext(MS),m=W.useContext(Py).reducedMotion,g=W.useRef(null);i=i||u.renderer,!g.current&&i&&(g.current=i(n,{visualState:t,parent:l,props:e,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const v=g.current,A=W.useContext(CU);v&&!v.projection&&s&&(v.type==="html"||v.type==="svg")&&xG(g.current,e,s,A);const S=W.useRef(!1);W.useInsertionEffect(()=>{v&&S.current&&v.update(e,d)});const E=e[TU],T=W.useRef(!!E&&!(!((r=window.MotionHandoffIsComplete)===null||r===void 0)&&r.call(window,E))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,E)));return Ny(()=>{v&&(S.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),PT.render(v.render),T.current&&v.animationState&&v.animationState.animateChanges())}),W.useEffect(()=>{v&&(!T.current&&v.animationState&&v.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)===null||_===void 0||_.call(window,E)}),T.current=!1))}),v}function xG(n,t,e,i){const{layoutId:s,layout:r,drag:o,dragConstraints:l,layoutScroll:u,layoutRoot:d}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:RU(n.parent)),n.projection.setOptions({layoutId:s,layout:r,alwaysMeasureLayout:!!o||l&&Hp(l),visualElement:n,animationType:typeof r=="string"?r:"both",initialPromotionConfig:i,layoutScroll:u,layoutRoot:d})}function RU(n){if(n)return n.options.allowProjection!==!1?n.projection:RU(n.parent)}function AG({preloadedFeatures:n,createVisualElement:t,useRender:e,useVisualState:i,Component:s}){var r,o;n&&lG(n);function l(d,m){let g;const v={...W.useContext(Py),...d,layoutId:SG(d)},{isStatic:A}=v,S=pG(d),E=i(d,A);if(!A&&DT){_G();const T=bG(v);g=T.MeasureLayout,S.visualElement=vG(s,E,v,t,T.ProjectionNode)}return ot.jsxs(ES.Provider,{value:S,children:[g&&S.visualElement?ot.jsx(g,{visualElement:S.visualElement,...v}):null,e(s,d,gG(E,S.visualElement,m),E,A,S.visualElement)]})}l.displayName=`motion.${typeof s=="string"?s:`create(${(o=(r=s.displayName)!==null&&r!==void 0?r:s.name)!==null&&o!==void 0?o:""})`}`;const u=W.forwardRef(l);return u[mG]=s,u}function SG({layoutId:n}){const t=W.useContext(BT).id;return t&&n!==void 0?t+"-"+n:n}function _G(n,t){W.useContext(bU).strict}function bG(n){const{drag:t,layout:e}=cm;if(!t&&!e)return{};const i={...t,...e};return{MeasureLayout:t!=null&&t.isEnabled(n)||e!=null&&e.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const wU=n=>t=>typeof t=="string"&&t.startsWith(n),NT=wU("--"),MG=wU("var(--"),IT=n=>MG(n)?EG.test(n.split("/*")[0].trim()):!1,EG=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ry={};function TG(n){for(const t in n)ry[t]=n[t],NT(t)&&(ry[t].isCSSVariable=!0)}const Tm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ld=new Set(Tm);function BU(n,{layout:t,layoutId:e}){return ld.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!ry[n]||n==="opacity")}const Ds=n=>!!(n&&n.getVelocity),DU=(n,t)=>t&&typeof n=="number"?t.transform(n):n,Kl=(n,t,e)=>e>t?t:e<n?n:e,Cm={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},ay={...Cm,transform:n=>Kl(0,1,n)},kx={...Cm,default:1},Iy=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Qu=Iy("deg"),Hl=Iy("%"),Fe=Iy("px"),CG=Iy("vh"),RG=Iy("vw"),e2={...Hl,parse:n=>Hl.parse(n)/100,transform:n=>Hl.transform(n*100)},wG={borderWidth:Fe,borderTopWidth:Fe,borderRightWidth:Fe,borderBottomWidth:Fe,borderLeftWidth:Fe,borderRadius:Fe,radius:Fe,borderTopLeftRadius:Fe,borderTopRightRadius:Fe,borderBottomRightRadius:Fe,borderBottomLeftRadius:Fe,width:Fe,maxWidth:Fe,height:Fe,maxHeight:Fe,top:Fe,right:Fe,bottom:Fe,left:Fe,padding:Fe,paddingTop:Fe,paddingRight:Fe,paddingBottom:Fe,paddingLeft:Fe,margin:Fe,marginTop:Fe,marginRight:Fe,marginBottom:Fe,marginLeft:Fe,backgroundPositionX:Fe,backgroundPositionY:Fe},BG={rotate:Qu,rotateX:Qu,rotateY:Qu,rotateZ:Qu,scale:kx,scaleX:kx,scaleY:kx,scaleZ:kx,skew:Qu,skewX:Qu,skewY:Qu,distance:Fe,translateX:Fe,translateY:Fe,translateZ:Fe,x:Fe,y:Fe,z:Fe,perspective:Fe,transformPerspective:Fe,opacity:ay,originX:e2,originY:e2,originZ:Fe},n2={...Cm,transform:Math.round},FT={...wG,...BG,zIndex:n2,size:Fe,fillOpacity:ay,strokeOpacity:ay,numOctaves:n2},DG={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},LG=Tm.length;function OG(n,t,e){let i="",s=!0;for(let r=0;r<LG;r++){const o=Tm[r],l=n[o];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(o.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||e){const d=DU(l,FT[o]);if(!u){s=!1;const m=DG[o]||o;i+=`${m}(${d}) `}e&&(t[o]=d)}}return i=i.trim(),e?i=e(t,s?"":i):s&&(i="none"),i}function zT(n,t,e){const{style:i,vars:s,transformOrigin:r}=n;let o=!1,l=!1;for(const u in t){const d=t[u];if(ld.has(u)){o=!0;continue}else if(NT(u)){s[u]=d;continue}else{const m=DU(d,FT[u]);u.startsWith("origin")?(l=!0,r[u]=m):i[u]=m}}if(t.transform||(o||e?i.transform=OG(t,n.transform,e):i.transform&&(i.transform="none")),l){const{originX:u="50%",originY:d="50%",originZ:m=0}=r;i.transformOrigin=`${u} ${d} ${m}`}}const HT=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function LU(n,t,e){for(const i in t)!Ds(t[i])&&!BU(i,e)&&(n[i]=t[i])}function UG({transformTemplate:n},t){return W.useMemo(()=>{const e=HT();return zT(e,t,n),Object.assign({},e.vars,e.style)},[t])}function PG(n,t){const e=n.style||{},i={};return LU(i,e,n),Object.assign(i,UG(n,t)),i}function NG(n,t){const e={},i=PG(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=i,e}const IG=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function GT(n){return typeof n!="string"||n.includes("-")?!1:!!(IG.indexOf(n)>-1||/[A-Z]/u.test(n))}const FG={offset:"stroke-dashoffset",array:"stroke-dasharray"},zG={offset:"strokeDashoffset",array:"strokeDasharray"};function HG(n,t,e=1,i=0,s=!0){n.pathLength=1;const r=s?FG:zG;n[r.offset]=Fe.transform(-i);const o=Fe.transform(t),l=Fe.transform(e);n[r.array]=`${o} ${l}`}function i2(n,t,e){return typeof n=="string"?n:Fe.transform(t+e*n)}function GG(n,t,e){const i=i2(t,n.x,n.width),s=i2(e,n.y,n.height);return`${i} ${s}`}function VT(n,{attrX:t,attrY:e,attrScale:i,originX:s,originY:r,pathLength:o,pathSpacing:l=1,pathOffset:u=0,...d},m,g){if(zT(n,d,g),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:A,dimensions:S}=n;v.transform&&(S&&(A.transform=v.transform),delete v.transform),S&&(s!==void 0||r!==void 0||A.transform)&&(A.transformOrigin=GG(S,s!==void 0?s:.5,r!==void 0?r:.5)),t!==void 0&&(v.x=t),e!==void 0&&(v.y=e),i!==void 0&&(v.scale=i),o!==void 0&&HG(v,o,l,u,!1)}const OU=()=>({...HT(),attrs:{}}),kT=n=>typeof n=="string"&&n.toLowerCase()==="svg";function VG(n,t,e,i){const s=W.useMemo(()=>{const r=OU();return VT(r,t,kT(i),n.transformTemplate),{...r.attrs,style:{...r.style}}},[t]);if(n.style){const r={};LU(r,n.style,n),s.style={...r,...s.style}}return s}function kG(n=!1){return(e,i,s,{latestValues:r},o)=>{const u=(GT(e)?VG:NG)(i,r,o,e),d=fG(i,typeof e=="string",n),m=e!==W.Fragment?{...d,...u,ref:s}:{},{children:g}=i,v=W.useMemo(()=>Ds(g)?g.get():g,[g]);return W.createElement(e,{...m,children:v})}}function s2(n){const t=[{},{}];return n==null||n.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function XT(n,t,e,i){if(typeof t=="function"){const[s,r]=s2(i);t=t(e!==void 0?e:n.custom,s,r)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[s,r]=s2(i);t=t(e!==void 0?e:n.custom,s,r)}return t}const fE=n=>Array.isArray(n),XG=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),jG=n=>fE(n)?n[n.length-1]||0:n;function QA(n){const t=Ds(n)?n.get():n;return XG(t)?t.toValue():t}function YG({scrapeMotionValuesFromProps:n,createRenderState:t,onUpdate:e},i,s,r){const o={latestValues:WG(i,s,r,n),renderState:t()};return e&&(o.onMount=l=>e({props:i,current:l,...o}),o.onUpdate=l=>e(l)),o}const UU=n=>(t,e)=>{const i=W.useContext(ES),s=W.useContext(MS),r=()=>YG(n,t,i,s);return e?r():af(r)};function WG(n,t,e,i){const s={},r=i(n,{});for(const v in r)s[v]=QA(r[v]);let{initial:o,animate:l}=n;const u=CS(n),d=EU(n);t&&d&&!u&&n.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let m=e?e.initial===!1:!1;m=m||o===!1;const g=m?l:o;if(g&&typeof g!="boolean"&&!TS(g)){const v=Array.isArray(g)?g:[g];for(let A=0;A<v.length;A++){const S=XT(n,v[A]);if(S){const{transitionEnd:E,transition:T,..._}=S;for(const w in _){let D=_[w];if(Array.isArray(D)){const L=m?D.length-1:0;D=D[L]}D!==null&&(s[w]=D)}for(const w in E)s[w]=E[w]}}}return s}function jT(n,t,e){var i;const{style:s}=n,r={};for(const o in s)(Ds(s[o])||t.style&&Ds(t.style[o])||BU(o,n)||((i=e==null?void 0:e.getValue(o))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(r[o]=s[o]);return r}const KG={useVisualState:UU({scrapeMotionValuesFromProps:jT,createRenderState:HT})};function PU(n,t){try{t.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function NU(n,{style:t,vars:e},i,s){Object.assign(n.style,t,s&&s.getProjectionStyles(i));for(const r in e)n.style.setProperty(r,e[r])}const IU=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function FU(n,t,e,i){NU(n,t,void 0,i);for(const s in t.attrs)n.setAttribute(IU.has(s)?s:UT(s),t.attrs[s])}function zU(n,t,e){const i=jT(n,t,e);for(const s in n)if(Ds(n[s])||Ds(t[s])){const r=Tm.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[r]=n[s]}return i}const r2=["x","y","width","height","cx","cy","r"],qG={useVisualState:UU({scrapeMotionValuesFromProps:zU,createRenderState:OU,onUpdate:({props:n,prevProps:t,current:e,renderState:i,latestValues:s})=>{if(!e)return;let r=!!n.drag;if(!r){for(const l in s)if(ld.has(l)){r=!0;break}}if(!r)return;let o=!t;if(t)for(let l=0;l<r2.length;l++){const u=r2[l];n[u]!==t[u]&&(o=!0)}o&&Cn.read(()=>{PU(e,i),Cn.render(()=>{VT(i,s,kT(e.tagName),n.transformTemplate),FU(e,i)})})}})};function JG(n,t){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...GT(i)?qG:KG,preloadedFeatures:n,useRender:kG(s),createVisualElement:t,Component:i};return AG(o)}}function oy(n,t,e){const i=n.getProps();return XT(i,t,e!==void 0?e:i.custom,n)}function YT(n,t){return n?n[t]||n.default||n:void 0}const HU=new Set(["width","height","top","left","right","bottom",...Tm]);let ZA;function QG(){ZA=void 0}const Gl={now:()=>(ZA===void 0&&Gl.set(Rs.isProcessing||rG.useManualTiming?Rs.timestamp:performance.now()),ZA),set:n=>{ZA=n,queueMicrotask(QG)}};function WT(n,t){n.indexOf(t)===-1&&n.push(t)}function KT(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let qT=class{constructor(){this.subscriptions=[]}add(t){return WT(this.subscriptions,t),()=>KT(this.subscriptions,t)}notify(t,e,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,e,i);else for(let r=0;r<s;r++){const o=this.subscriptions[r];o&&o(t,e,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}};function JT(n,t){return t?n*(1e3/t):0}const a2=30,ZG=n=>!isNaN(parseFloat(n)),N0={current:void 0};let $G=class{constructor(t,e={}){this.version="12.4.5",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{const r=Gl.now();this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=Gl.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=ZG(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new qT);const i=this.events[t].add(e);return t==="change"?()=>{i(),Cn.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t,e=!0){!e||!this.passiveEffect?this.updateAndNotify(t,e):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,e,i){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return N0.current&&N0.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Gl.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>a2)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,a2);return JT(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function Fl(n,t){return new $G(n,t)}function t5(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,Fl(e))}function e5(n,t){const e=oy(n,t);let{transitionEnd:i={},transition:s={},...r}=e||{};r={...r,...i};for(const o in r){const l=jG(r[o]);t5(n,o,l)}}function n5(n){return!!(Ds(n)&&n.add)}function hE(n,t){const e=n.getValue("willChange");if(n5(e))return e.add(t)}function GU(n){return n.props[TU]}function QT(n){let t;return()=>(t===void 0&&(t=n()),t)}const VU=QT(()=>window.ScrollTimeline!==void 0);let i5=class{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,e){for(let i=0;i<this.animations.length;i++)this.animations[i][t]=e}attachTimeline(t,e){const i=this.animations.map(s=>{if(VU()&&s.attachTimeline)return s.attachTimeline(t);if(typeof e=="function")return e(s)});return()=>{i.forEach((s,r)=>{s&&s(),this.animations[r].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let e=0;e<this.animations.length;e++)t=Math.max(t,this.animations[e].duration);return t}runAll(t){this.animations.forEach(e=>e[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}},s5=class extends i5{then(t,e){return Promise.all(this.animations).then(t).catch(e)}};const Xc=n=>n*1e3,jc=n=>n/1e3;function ZT(n){return typeof n=="function"}function o2(n,t){n.timeline=t,n.onfinish=null}const $T=n=>Array.isArray(n)&&typeof n[0]=="number",r5={linearEasing:void 0};function a5(n,t){const e=QT(n);return()=>{var i;return(i=r5[t])!==null&&i!==void 0?i:e()}}const v1=a5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Jh=(n,t,e)=>{const i=t-n;return i===0?1:(e-n)/i},kU=(n,t,e=10)=>{let i="";const s=Math.max(Math.round(t/e),2);for(let r=0;r<s;r++)i+=n(Jh(0,s-1,r))+", ";return`linear(${i.substring(0,i.length-2)})`};function XU(n){return!!(typeof n=="function"&&v1()||!n||typeof n=="string"&&(n in dE||v1())||$T(n)||Array.isArray(n)&&n.every(XU))}const R0=([n,t,e,i])=>`cubic-bezier(${n}, ${t}, ${e}, ${i})`,dE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:R0([0,.65,.55,1]),circOut:R0([.55,0,1,.45]),backIn:R0([.31,.01,.66,-.59]),backOut:R0([.33,1.53,.69,.99])};function jU(n,t){if(n)return typeof n=="function"&&v1()?kU(n,t):$T(n)?R0(n):Array.isArray(n)?n.map(e=>jU(e,t)||dE.easeOut):dE[n]}const YU=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,o5=1e-7,l5=12;function c5(n,t,e,i,s){let r,o,l=0;do o=t+(e-t)/2,r=YU(o,i,s)-n,r>0?e=o:t=o;while(Math.abs(r)>o5&&++l<l5);return o}function Fy(n,t,e,i){if(n===t&&e===i)return dr;const s=r=>c5(r,0,1,n,e);return r=>r===0||r===1?r:YU(s(r),t,i)}const WU=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,KU=n=>t=>1-n(1-t),qU=Fy(.33,1.53,.69,.99),tC=KU(qU),JU=WU(tC),QU=n=>(n*=2)<1?.5*tC(n):.5*(2-Math.pow(2,-10*(n-1))),eC=n=>1-Math.sin(Math.acos(n)),ZU=KU(eC),$U=WU(eC),tP=n=>/^0[^.\s]+$/u.test(n);function u5(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||tP(n):!0}const I0=n=>Math.round(n*1e5)/1e5,nC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function f5(n){return n==null}const h5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,iC=(n,t)=>e=>!!(typeof e=="string"&&h5.test(e)&&e.startsWith(n)||t&&!f5(e)&&Object.prototype.hasOwnProperty.call(e,t)),eP=(n,t,e)=>i=>{if(typeof i!="string")return i;const[s,r,o,l]=i.match(nC);return{[n]:parseFloat(s),[t]:parseFloat(r),[e]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},d5=n=>Kl(0,255,n),xb={...Cm,transform:n=>Math.round(d5(n))},Ph={test:iC("rgb","red"),parse:eP("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:i=1})=>"rgba("+xb.transform(n)+", "+xb.transform(t)+", "+xb.transform(e)+", "+I0(ay.transform(i))+")"};function p5(n){let t="",e="",i="",s="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),i=n.substring(5,7),s=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),i=n.substring(3,4),s=n.substring(4,5),t+=t,e+=e,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const pE={test:iC("#"),parse:p5,transform:Ph.transform},Gp={test:iC("hsl","hue"),parse:eP("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:i=1})=>"hsla("+Math.round(n)+", "+Hl.transform(I0(t))+", "+Hl.transform(I0(e))+", "+I0(ay.transform(i))+")"},lr={test:n=>Ph.test(n)||pE.test(n)||Gp.test(n),parse:n=>Ph.test(n)?Ph.parse(n):Gp.test(n)?Gp.parse(n):pE.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ph.transform(n):Gp.transform(n)},m5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function g5(n){var t,e;return isNaN(n)&&typeof n=="string"&&(((t=n.match(nC))===null||t===void 0?void 0:t.length)||0)+(((e=n.match(m5))===null||e===void 0?void 0:e.length)||0)>0}const nP="number",iP="color",y5="var",v5="var(",l2="${}",x5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ly(n){const t=n.toString(),e=[],i={color:[],number:[],var:[]},s=[];let r=0;const l=t.replace(x5,u=>(lr.test(u)?(i.color.push(r),s.push(iP),e.push(lr.parse(u))):u.startsWith(v5)?(i.var.push(r),s.push(y5),e.push(u)):(i.number.push(r),s.push(nP),e.push(parseFloat(u))),++r,l2)).split(l2);return{values:e,split:l,indexes:i,types:s}}function sP(n){return ly(n).values}function rP(n){const{split:t,types:e}=ly(n),i=t.length;return s=>{let r="";for(let o=0;o<i;o++)if(r+=t[o],s[o]!==void 0){const l=e[o];l===nP?r+=I0(s[o]):l===iP?r+=lr.transform(s[o]):r+=s[o]}return r}}const A5=n=>typeof n=="number"?0:n;function S5(n){const t=sP(n);return rP(n)(t.map(A5))}const of={test:g5,parse:sP,createTransformer:rP,getAnimatableNone:S5},_5=new Set(["brightness","contrast","saturate","opacity"]);function b5(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[i]=e.match(nC)||[];if(!i)return n;const s=e.replace(i,"");let r=_5.has(t)?1:0;return i!==e&&(r*=100),t+"("+r+s+")"}const M5=/\b([a-z-]*)\(.*?\)/gu,mE={...of,getAnimatableNone:n=>{const t=n.match(M5);return t?t.map(b5).join(" "):n}},E5={...FT,color:lr,backgroundColor:lr,outlineColor:lr,fill:lr,stroke:lr,borderColor:lr,borderTopColor:lr,borderRightColor:lr,borderBottomColor:lr,borderLeftColor:lr,filter:mE,WebkitFilter:mE},sC=n=>E5[n];function aP(n,t){let e=sC(n);return e!==mE&&(e=of),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const T5=new Set(["auto","none","0"]);function C5(n,t,e){let i=0,s;for(;i<n.length&&!s;){const r=n[i];typeof r=="string"&&!T5.has(r)&&ly(r).values.length&&(s=n[i]),i++}if(s&&e)for(const r of t)n[r]=aP(e,s)}const c2=n=>n===Cm||n===Fe,u2=(n,t)=>parseFloat(n.split(", ")[t]),f2=(n,t)=>(e,{transform:i})=>{if(i==="none"||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/u);if(s)return u2(s[1],t);{const r=i.match(/^matrix\((.+)\)$/u);return r?u2(r[1],n):0}},R5=new Set(["x","y","z"]),w5=Tm.filter(n=>!R5.has(n));function B5(n){const t=[];return w5.forEach(e=>{const i=n.getValue(e);i!==void 0&&(t.push([e,i.get()]),i.set(e.startsWith("scale")?1:0))}),t}const um={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:f2(4,13),y:f2(5,14)};um.translateX=um.x;um.translateY=um.y;const Xh=new Set;let gE=!1,yE=!1;function oP(){if(yE){const n=Array.from(Xh).filter(i=>i.needsMeasurement),t=new Set(n.map(i=>i.element)),e=new Map;t.forEach(i=>{const s=B5(i);s.length&&(e.set(i,s),i.render())}),n.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=e.get(i);s&&s.forEach(([r,o])=>{var l;(l=i.getValue(r))===null||l===void 0||l.set(o)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}yE=!1,gE=!1,Xh.forEach(n=>n.complete()),Xh.clear()}function lP(){Xh.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(yE=!0)})}function D5(){lP(),oP()}let rC=class{constructor(t,e,i,s,r,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=i,this.motionValue=s,this.element=r,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Xh.add(this),gE||(gE=!0,Cn.read(lP),Cn.resolveKeyframes(oP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:i,motionValue:s}=this;for(let r=0;r<t.length;r++)if(t[r]===null)if(r===0){const o=s==null?void 0:s.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(i&&e){const u=i.readValue(e,l);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=l),s&&o===void 0&&s.set(t[0])}else t[r]=t[r-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Xh.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Xh.delete(this))}resume(){this.isComplete||this.scheduleResolve()}};const cP=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),L5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function O5(n){const t=L5.exec(n);if(!t)return[,];const[,e,i,s]=t;return[`--${e??i}`,s]}function uP(n,t,e=1){const[i,s]=O5(n);if(!i)return;const r=window.getComputedStyle(t).getPropertyValue(i);if(r){const o=r.trim();return cP(o)?parseFloat(o):o}return IT(s)?uP(s,t,e+1):s}const fP=n=>t=>t.test(n),U5={test:n=>n==="auto",parse:n=>n},hP=[Cm,Fe,Hl,Qu,RG,CG,U5],h2=n=>hP.find(fP(n));let dP=class extends rC{constructor(t,e,i,s,r){super(t,e,i,s,r,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:i}=this;if(!e||!e.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let d=t[u];if(typeof d=="string"&&(d=d.trim(),IT(d))){const m=uP(d,e.current);m!==void 0&&(t[u]=m),u===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!HU.has(i)||t.length!==2)return;const[s,r]=t,o=h2(s),l=h2(r);if(o!==l)if(c2(o)&&c2(l))for(let u=0;u<t.length;u++){const d=t[u];typeof d=="string"&&(t[u]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,i=[];for(let s=0;s<t.length;s++)u5(t[s])&&i.push(s);i.length&&C5(t,i,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=um[i](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const s=e[e.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){var t;const{element:e,name:i,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const r=e.getValue(i);r&&r.jump(this.measuredOrigin,!1);const o=s.length-1,l=s[o];s[o]=um[i](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([u,d])=>{e.getValue(u).set(d)}),this.resolveNoneKeyframes()}};const d2=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(of.test(n)||n==="0")&&!n.startsWith("url("));function P5(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function N5(n,t,e,i){const s=n[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const r=n[n.length-1],o=d2(s,t),l=d2(r,t);return!o||!l?!1:P5(n)||(e==="spring"||ZT(e))&&i}const I5=n=>n!==null;function RS(n,{repeat:t,repeatType:e="loop"},i){const s=n.filter(I5),r=t&&e!=="loop"&&t%2===1?0:s.length-1;return!r||i===void 0?s[r]:i}const F5=40;let pP=class{constructor({autoplay:t=!0,delay:e=0,type:i="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Gl.now(),this.options={autoplay:t,delay:e,type:i,repeat:s,repeatDelay:r,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>F5?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&D5(),this._resolved}onKeyframesResolved(t,e){this.resolvedAt=Gl.now(),this.hasAttemptedResolve=!0;const{name:i,type:s,velocity:r,delay:o,onComplete:l,onUpdate:u,isGenerator:d}=this.options;if(!d&&!N5(t,i,s,r))if(o)this.options.duration=0;else{u&&u(RS(t,this.options,e)),l&&l(),this.resolveFinishedPromise();return}const m=this.initPlayback(t,e);m!==!1&&(this._resolved={keyframes:t,finalKeyframe:e,...m},this.onPostResolved())}onPostResolved(){}then(t,e){return this.currentFinishedPromise.then(t,e)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}};const vE=2e4;function mP(n){let t=0;const e=50;let i=n.next(t);for(;!i.done&&t<vE;)t+=e,i=n.next(t);return t>=vE?1/0:t}const Mi=(n,t,e)=>n+(t-n)*e;function Ab(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function z5({hue:n,saturation:t,lightness:e,alpha:i}){n/=360,t/=100,e/=100;let s=0,r=0,o=0;if(!t)s=r=o=e;else{const l=e<.5?e*(1+t):e+t-e*t,u=2*e-l;s=Ab(u,l,n+1/3),r=Ab(u,l,n),o=Ab(u,l,n-1/3)}return{red:Math.round(s*255),green:Math.round(r*255),blue:Math.round(o*255),alpha:i}}function x1(n,t){return e=>e>0?t:n}const Sb=(n,t,e)=>{const i=n*n,s=e*(t*t-i)+i;return s<0?0:Math.sqrt(s)},H5=[pE,Ph,Gp],G5=n=>H5.find(t=>t.test(n));function p2(n){const t=G5(n);if(!t)return!1;let e=t.parse(n);return t===Gp&&(e=z5(e)),e}const m2=(n,t)=>{const e=p2(n),i=p2(t);if(!e||!i)return x1(n,t);const s={...e};return r=>(s.red=Sb(e.red,i.red,r),s.green=Sb(e.green,i.green,r),s.blue=Sb(e.blue,i.blue,r),s.alpha=Mi(e.alpha,i.alpha,r),Ph.transform(s))},V5=(n,t)=>e=>t(n(e)),zy=(...n)=>n.reduce(V5),xE=new Set(["none","hidden"]);function k5(n,t){return xE.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function X5(n,t){return e=>Mi(n,t,e)}function aC(n){return typeof n=="number"?X5:typeof n=="string"?IT(n)?x1:lr.test(n)?m2:W5:Array.isArray(n)?gP:typeof n=="object"?lr.test(n)?m2:j5:x1}function gP(n,t){const e=[...n],i=e.length,s=n.map((r,o)=>aC(r)(r,t[o]));return r=>{for(let o=0;o<i;o++)e[o]=s[o](r);return e}}function j5(n,t){const e={...n,...t},i={};for(const s in e)n[s]!==void 0&&t[s]!==void 0&&(i[s]=aC(n[s])(n[s],t[s]));return s=>{for(const r in i)e[r]=i[r](s);return e}}function Y5(n,t){var e;const i=[],s={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const o=t.types[r],l=n.indexes[o][s[o]],u=(e=n.values[l])!==null&&e!==void 0?e:0;i[r]=u,s[o]++}return i}const W5=(n,t)=>{const e=of.createTransformer(t),i=ly(n),s=ly(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?xE.has(n)&&!s.values.length||xE.has(t)&&!i.values.length?k5(n,t):zy(gP(Y5(i,s),s.values),e):x1(n,t)};function yP(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?Mi(n,t,e):aC(n)(n,t)}const K5=5;function vP(n,t,e){const i=Math.max(t-K5,0);return JT(e-n(i),t-i)}const zi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},g2=.001;function q5({duration:n=zi.duration,bounce:t=zi.bounce,velocity:e=zi.velocity,mass:i=zi.mass}){let s,r,o=1-t;o=Kl(zi.minDamping,zi.maxDamping,o),n=Kl(zi.minDuration,zi.maxDuration,jc(n)),o<1?(s=d=>{const m=d*o,g=m*n,v=m-e,A=AE(d,o),S=Math.exp(-g);return g2-v/A*S},r=d=>{const g=d*o*n,v=g*e+e,A=Math.pow(o,2)*Math.pow(d,2)*n,S=Math.exp(-g),E=AE(Math.pow(d,2),o);return(-s(d)+g2>0?-1:1)*((v-A)*S)/E}):(s=d=>{const m=Math.exp(-d*n),g=(d-e)*n+1;return-.001+m*g},r=d=>{const m=Math.exp(-d*n),g=(e-d)*(n*n);return m*g});const l=5/n,u=Q5(s,r,l);if(n=Xc(n),isNaN(u))return{stiffness:zi.stiffness,damping:zi.damping,duration:n};{const d=Math.pow(u,2)*i;return{stiffness:d,damping:o*2*Math.sqrt(i*d),duration:n}}}const J5=12;function Q5(n,t,e){let i=e;for(let s=1;s<J5;s++)i=i-n(i)/t(i);return i}function AE(n,t){return n*Math.sqrt(1-t*t)}const Z5=["duration","bounce"],$5=["stiffness","damping","mass"];function y2(n,t){return t.some(e=>n[e]!==void 0)}function tV(n){let t={velocity:zi.velocity,stiffness:zi.stiffness,damping:zi.damping,mass:zi.mass,isResolvedFromDuration:!1,...n};if(!y2(n,$5)&&y2(n,Z5))if(n.visualDuration){const e=n.visualDuration,i=2*Math.PI/(e*1.2),s=i*i,r=2*Kl(.05,1,1-(n.bounce||0))*Math.sqrt(s);t={...t,mass:zi.mass,stiffness:s,damping:r}}else{const e=q5(n);t={...t,...e,mass:zi.mass},t.isResolvedFromDuration=!0}return t}function xP(n=zi.visualDuration,t=zi.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:i,restDelta:s}=e;const r=e.keyframes[0],o=e.keyframes[e.keyframes.length-1],l={done:!1,value:r},{stiffness:u,damping:d,mass:m,duration:g,velocity:v,isResolvedFromDuration:A}=tV({...e,velocity:-jc(e.velocity||0)}),S=v||0,E=d/(2*Math.sqrt(u*m)),T=o-r,_=jc(Math.sqrt(u/m)),w=Math.abs(T)<5;i||(i=w?zi.restSpeed.granular:zi.restSpeed.default),s||(s=w?zi.restDelta.granular:zi.restDelta.default);let D;if(E<1){const U=AE(_,E);D=P=>{const F=Math.exp(-E*_*P);return o-F*((S+E*_*T)/U*Math.sin(U*P)+T*Math.cos(U*P))}}else if(E===1)D=U=>o-Math.exp(-_*U)*(T+(S+_*T)*U);else{const U=_*Math.sqrt(E*E-1);D=P=>{const F=Math.exp(-E*_*P),z=Math.min(U*P,300);return o-F*((S+E*_*T)*Math.sinh(z)+U*T*Math.cosh(z))/U}}const L={calculatedDuration:A&&g||null,next:U=>{const P=D(U);if(A)l.done=U>=g;else{let F=0;E<1&&(F=U===0?Xc(S):vP(D,U,P));const z=Math.abs(F)<=i,N=Math.abs(o-P)<=s;l.done=z&&N}return l.value=l.done?o:P,l},toString:()=>{const U=Math.min(mP(L),vE),P=kU(F=>L.next(U*F).value,U,30);return U+"ms "+P}};return L}function v2({keyframes:n,velocity:t=0,power:e=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:r=500,modifyTarget:o,min:l,max:u,restDelta:d=.5,restSpeed:m}){const g=n[0],v={done:!1,value:g},A=z=>l!==void 0&&z<l||u!==void 0&&z>u,S=z=>l===void 0?u:u===void 0||Math.abs(l-z)<Math.abs(u-z)?l:u;let E=e*t;const T=g+E,_=o===void 0?T:o(T);_!==T&&(E=_-g);const w=z=>-E*Math.exp(-z/i),D=z=>_+w(z),L=z=>{const N=w(z),B=D(z);v.done=Math.abs(N)<=d,v.value=v.done?_:B};let U,P;const F=z=>{A(v.value)&&(U=z,P=xP({keyframes:[v.value,S(v.value)],velocity:vP(D,z,v.value),damping:s,stiffness:r,restDelta:d,restSpeed:m}))};return F(0),{calculatedDuration:null,next:z=>{let N=!1;return!P&&U===void 0&&(N=!0,L(z),F(z)),U!==void 0&&z>=U?P.next(z-U):(!N&&L(z),v)}}}const eV=Fy(.42,0,1,1),nV=Fy(0,0,.58,1),AP=Fy(.42,0,.58,1),iV=n=>Array.isArray(n)&&typeof n[0]!="number",sV={linear:dr,easeIn:eV,easeInOut:AP,easeOut:nV,circIn:eC,circInOut:$U,circOut:ZU,backIn:tC,backInOut:JU,backOut:qU,anticipate:QU},x2=n=>{if($T(n)){SU(n.length===4);const[t,e,i,s]=n;return Fy(t,e,i,s)}else if(typeof n=="string")return sV[n];return n};function rV(n,t,e){const i=[],s=e||yP,r=n.length-1;for(let o=0;o<r;o++){let l=s(n[o],n[o+1]);if(t){const u=Array.isArray(t)?t[o]||dr:t;l=zy(u,l)}i.push(l)}return i}function oC(n,t,{clamp:e=!0,ease:i,mixer:s}={}){const r=n.length;if(SU(r===t.length),r===1)return()=>t[0];if(r===2&&t[0]===t[1])return()=>t[1];const o=n[0]===n[1];n[0]>n[r-1]&&(n=[...n].reverse(),t=[...t].reverse());const l=rV(t,i,s),u=l.length,d=m=>{if(o&&m<n[0])return t[0];let g=0;if(u>1)for(;g<n.length-2&&!(m<n[g+1]);g++);const v=Jh(n[g],n[g+1],m);return l[g](v)};return e?m=>d(Kl(n[0],n[r-1],m)):d}function aV(n,t){const e=n[n.length-1];for(let i=1;i<=t;i++){const s=Jh(0,t,i);n.push(Mi(e,1,s))}}function SP(n){const t=[0];return aV(t,n.length-1),t}function oV(n,t){return n.map(e=>e*t)}function lV(n,t){return n.map(()=>t||AP).splice(0,n.length-1)}function A1({duration:n=300,keyframes:t,times:e,ease:i="easeInOut"}){const s=iV(i)?i.map(x2):x2(i),r={done:!1,value:t[0]},o=oV(e&&e.length===t.length?e:SP(t),n),l=oC(o,t,{ease:Array.isArray(s)?s:lV(t,s)});return{calculatedDuration:n,next:u=>(r.value=l(u),r.done=u>=n,r)}}const cV=n=>{const t=({timestamp:e})=>n(e);return{start:()=>Cn.update(t,!0),stop:()=>jo(t),now:()=>Rs.isProcessing?Rs.timestamp:Gl.now()}},uV={decay:v2,inertia:v2,tween:A1,keyframes:A1,spring:xP},fV=n=>n/100;let wS=class extends pP{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:e,motionValue:i,element:s,keyframes:r}=this.options,o=(s==null?void 0:s.KeyframeResolver)||rC,l=(u,d)=>this.onKeyframesResolved(u,d);this.resolver=new o(r,l,e,i,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:e="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:r,velocity:o=0}=this.options,l=ZT(e)?e:uV[e]||A1;let u,d;l!==A1&&typeof t[0]!="number"&&(u=zy(fV,yP(t[0],t[1])),t=[0,100]);const m=l({...this.options,keyframes:t});r==="mirror"&&(d=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),m.calculatedDuration===null&&(m.calculatedDuration=mP(m));const{calculatedDuration:g}=m,v=g+s,A=v*(i+1)-s;return{generator:m,mirroredGenerator:d,mapPercentToKeyframes:u,calculatedDuration:g,resolvedDuration:v,totalDuration:A}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,e=!1){const{resolved:i}=this;if(!i){const{keyframes:z}=this.options;return{done:!0,value:z[z.length-1]}}const{finalKeyframe:s,generator:r,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:u,calculatedDuration:d,totalDuration:m,resolvedDuration:g}=i;if(this.startTime===null)return r.next(0);const{delay:v,repeat:A,repeatType:S,repeatDelay:E,onUpdate:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-m/this.speed,this.startTime)),e?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const _=this.currentTime-v*(this.speed>=0?1:-1),w=this.speed>=0?_<0:_>m;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let D=this.currentTime,L=r;if(A){const z=Math.min(this.currentTime,m)/g;let N=Math.floor(z),B=z%1;!B&&z>=1&&(B=1),B===1&&N--,N=Math.min(N,A+1),!!(N%2)&&(S==="reverse"?(B=1-B,E&&(B-=E/g)):S==="mirror"&&(L=o)),D=Kl(0,1,B)*g}const U=w?{done:!1,value:u[0]}:L.next(D);l&&(U.value=l(U.value));let{done:P}=U;!w&&d!==null&&(P=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return F&&s!==void 0&&(U.value=RS(u,this.options,s)),T&&T(U.value),F&&this.finish(),U}get duration(){const{resolved:t}=this;return t?jc(t.calculatedDuration):0}get time(){return jc(this.currentTime)}set time(t){t=Xc(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=jc(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=cV,onPlay:e,startTime:i}=this.options;this.driver||(this.driver=t(r=>this.tick(r))),e&&e();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}};function hV(n){return new wS(n)}const dV=new Set(["opacity","clipPath","filter","transform"]);function pV(n,t,e,{delay:i=0,duration:s=300,repeat:r=0,repeatType:o="loop",ease:l="easeInOut",times:u}={}){const d={[t]:e};u&&(d.offset=u);const m=jU(l,s);return Array.isArray(m)&&(d.easing=m),n.animate(d,{delay:i,duration:s,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:r+1,direction:o==="reverse"?"alternate":"normal"})}const mV=QT(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),S1=10,gV=2e4;function yV(n){return ZT(n.type)||n.type==="spring"||!XU(n.ease)}function vV(n,t){const e=new wS({...t,keyframes:n,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:n[0]};const s=[];let r=0;for(;!i.done&&r<gV;)i=e.sample(r),s.push(i.value),r+=S1;return{times:void 0,keyframes:s,duration:r-S1,ease:"linear"}}const _P={anticipate:QU,backInOut:JU,circInOut:$U};function xV(n){return n in _P}let A2=class extends pP{constructor(t){super(t);const{name:e,motionValue:i,element:s,keyframes:r}=this.options;this.resolver=new dP(r,(o,l)=>this.onKeyframesResolved(o,l),e,i,s),this.resolver.scheduleResolve()}initPlayback(t,e){let{duration:i=300,times:s,ease:r,type:o,motionValue:l,name:u,startTime:d}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof r=="string"&&v1()&&xV(r)&&(r=_P[r]),yV(this.options)){const{onComplete:g,onUpdate:v,motionValue:A,element:S,...E}=this.options,T=vV(t,E);t=T.keyframes,t.length===1&&(t[1]=t[0]),i=T.duration,s=T.times,r=T.ease,o="keyframes"}const m=pV(l.owner.current,u,t,{...this.options,duration:i,times:s,ease:r});return m.startTime=d??this.calcStartTime(),this.pendingTimeline?(o2(m,this.pendingTimeline),this.pendingTimeline=void 0):m.onfinish=()=>{const{onComplete:g}=this.options;l.set(RS(t,this.options,e)),g&&g(),this.cancel(),this.resolveFinishedPromise()},{animation:m,duration:i,times:s,type:o,ease:r,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:e}=t;return jc(e)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:e}=t;return jc(e.currentTime||0)}set time(t){const{resolved:e}=this;if(!e)return;const{animation:i}=e;i.currentTime=Xc(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:e}=t;return e.playbackRate}set speed(t){const{resolved:e}=this;if(!e)return;const{animation:i}=e;i.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:e}=t;return e.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:e}=t;return e.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:e}=this;if(!e)return dr;const{animation:i}=e;o2(i,t)}return dr}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:e}=t;e.playState==="finished"&&this.updateFinishedPromise(),e.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:e}=t;e.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:e,keyframes:i,duration:s,type:r,ease:o,times:l}=t;if(e.playState==="idle"||e.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:m,onComplete:g,element:v,...A}=this.options,S=new wS({...A,keyframes:i,duration:s,type:r,ease:o,times:l,isGenerator:!0}),E=Xc(this.time);d.setWithVelocity(S.sample(E-S1).value,S.sample(E).value,S1)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:e,name:i,repeatDelay:s,repeatType:r,damping:o,type:l}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:d}=e.owner.getProps();return mV()&&i&&dV.has(i)&&!u&&!d&&!s&&r!=="mirror"&&o!==0&&l!=="inertia"}};const AV={type:"spring",stiffness:500,damping:25,restSpeed:10},SV=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),_V={type:"keyframes",duration:.8},bV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},MV=(n,{keyframes:t})=>t.length>2?_V:ld.has(n)?n.startsWith("scale")?SV(t[1]):AV:bV;function EV({when:n,delay:t,delayChildren:e,staggerChildren:i,staggerDirection:s,repeat:r,repeatType:o,repeatDelay:l,from:u,elapsed:d,...m}){return!!Object.keys(m).length}const lC=(n,t,e,i={},s,r)=>o=>{const l=YT(i,n)||{},u=l.delay||i.delay||0;let{elapsed:d=0}=i;d=d-Xc(u);let m={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:v=>{t.set(v),l.onUpdate&&l.onUpdate(v)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:n,motionValue:t,element:r?void 0:s};EV(l)||(m={...m,...MV(n,m)}),m.duration&&(m.duration=Xc(m.duration)),m.repeatDelay&&(m.repeatDelay=Xc(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(g=!0)),g&&!r&&t.get()!==void 0){const v=RS(m.keyframes,l);if(v!==void 0)return Cn.update(()=>{m.onUpdate(v),m.onComplete()}),new s5([])}return!r&&A2.supports(m)?new A2(m):new wS(m)};function TV({protectedKeys:n,needsAnimating:t},e){const i=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,i}function bP(n,t,{delay:e=0,transitionOverride:i,type:s}={}){var r;let{transition:o=n.getDefaultTransition(),transitionEnd:l,...u}=t;i&&(o=i);const d=[],m=s&&n.animationState&&n.animationState.getState()[s];for(const g in u){const v=n.getValue(g,(r=n.latestValues[g])!==null&&r!==void 0?r:null),A=u[g];if(A===void 0||m&&TV(m,g))continue;const S={delay:e,...YT(o||{},g)};let E=!1;if(window.MotionHandoffAnimation){const _=GU(n);if(_){const w=window.MotionHandoffAnimation(_,g,Cn);w!==null&&(S.startTime=w,E=!0)}}hE(n,g),v.start(lC(g,v,A,n.shouldReduceMotion&&HU.has(g)?{type:!1}:S,n,E));const T=v.animation;T&&d.push(T)}return l&&Promise.all(d).then(()=>{Cn.update(()=>{l&&e5(n,l)})}),d}function SE(n,t,e={}){var i;const s=oy(n,t,e.type==="exit"?(i=n.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:r=n.getDefaultTransition()||{}}=s||{};e.transitionOverride&&(r=e.transitionOverride);const o=s?()=>Promise.all(bP(n,s,e)):()=>Promise.resolve(),l=n.variantChildren&&n.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:v}=r;return CV(n,t,m+d,g,v,e)}:()=>Promise.resolve(),{when:u}=r;if(u){const[d,m]=u==="beforeChildren"?[o,l]:[l,o];return d().then(()=>m())}else return Promise.all([o(),l(e.delay)])}function CV(n,t,e=0,i=0,s=1,r){const o=[],l=(n.variantChildren.size-1)*i,u=s===1?(d=0)=>d*i:(d=0)=>l-d*i;return Array.from(n.variantChildren).sort(RV).forEach((d,m)=>{d.notify("AnimationStart",t),o.push(SE(d,t,{...r,delay:e+u(m)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function RV(n,t){return n.sortNodePosition(t)}function wV(n,t,e={}){n.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(r=>SE(n,r,e));i=Promise.all(s)}else if(typeof t=="string")i=SE(n,t,e);else{const s=typeof t=="function"?oy(n,t,e.custom):t;i=Promise.all(bP(n,s,e))}return i.then(()=>{n.notify("AnimationComplete",t)})}function MP(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let i=0;i<e;i++)if(t[i]!==n[i])return!1;return!0}const BV=OT.length;function EP(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?EP(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<BV;e++){const i=OT[e],s=n.props[i];(sy(s)||s===!1)&&(t[i]=s)}return t}const DV=[...LT].reverse(),LV=LT.length;function OV(n){return t=>Promise.all(t.map(({animation:e,options:i})=>wV(n,e,i)))}function UV(n){let t=OV(n),e=S2(),i=!0;const s=u=>(d,m)=>{var g;const v=oy(n,m,u==="exit"?(g=n.presenceContext)===null||g===void 0?void 0:g.custom:void 0);if(v){const{transition:A,transitionEnd:S,...E}=v;d={...d,...E,...S}}return d};function r(u){t=u(n)}function o(u){const{props:d}=n,m=EP(n.parent)||{},g=[],v=new Set;let A={},S=1/0;for(let T=0;T<LV;T++){const _=DV[T],w=e[_],D=d[_]!==void 0?d[_]:m[_],L=sy(D),U=_===u?w.isActive:null;U===!1&&(S=T);let P=D===m[_]&&D!==d[_]&&L;if(P&&i&&n.manuallyAnimateOnMount&&(P=!1),w.protectedKeys={...A},!w.isActive&&U===null||!D&&!w.prevProp||TS(D)||typeof D=="boolean")continue;const F=PV(w.prevProp,D);let z=F||_===u&&w.isActive&&!P&&L||T>S&&L,N=!1;const B=Array.isArray(D)?D:[D];let H=B.reduce(s(_),{});U===!1&&(H={});const{prevResolvedValues:st={}}=w,tt={...st,...H},J=et=>{z=!0,v.has(et)&&(N=!0,v.delete(et)),w.needsAnimating[et]=!0;const Q=n.getValue(et);Q&&(Q.liveStyle=!1)};for(const et in tt){const Q=H[et],At=st[et];if(A.hasOwnProperty(et))continue;let j=!1;fE(Q)&&fE(At)?j=!MP(Q,At):j=Q!==At,j?Q!=null?J(et):v.add(et):Q!==void 0&&v.has(et)?J(et):w.protectedKeys[et]=!0}w.prevProp=D,w.prevResolvedValues=H,w.isActive&&(A={...A,...H}),i&&n.blockInitialAnimation&&(z=!1),z&&(!(P&&F)||N)&&g.push(...B.map(et=>({animation:et,options:{type:_}})))}if(v.size){const T={};if(typeof d.initial!="boolean"){const _=oy(n,Array.isArray(d.initial)?d.initial[0]:d.initial);_&&_.transition&&(T.transition=_.transition)}v.forEach(_=>{const w=n.getBaseTarget(_),D=n.getValue(_);D&&(D.liveStyle=!0),T[_]=w??null}),g.push({animation:T})}let E=!!g.length;return i&&(d.initial===!1||d.initial===d.animate)&&!n.manuallyAnimateOnMount&&(E=!1),i=!1,E?t(g):Promise.resolve()}function l(u,d){var m;if(e[u].isActive===d)return Promise.resolve();(m=n.variantChildren)===null||m===void 0||m.forEach(v=>{var A;return(A=v.animationState)===null||A===void 0?void 0:A.setActive(u,d)}),e[u].isActive=d;const g=o(u);for(const v in e)e[v].protectedKeys={};return g}return{animateChanges:o,setActive:l,setAnimateFunction:r,getState:()=>e,reset:()=>{e=S2(),i=!0}}}function PV(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!MP(t,n):!1}function ch(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function S2(){return{animate:ch(!0),whileInView:ch(),whileHover:ch(),whileTap:ch(),whileDrag:ch(),whileFocus:ch(),exit:ch()}}let pf=class{constructor(t){this.isMounted=!1,this.node=t}update(){}},NV=class extends pf{constructor(t){super(t),t.animationState||(t.animationState=UV(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();TS(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}},IV=0,FV=class extends pf{constructor(){super(...arguments),this.id=IV++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);e&&!t&&s.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}};const zV={animation:{Feature:NV},exit:{Feature:FV}},Ho={x:!1,y:!1};function TP(){return Ho.x||Ho.y}function HV(n){return n==="x"||n==="y"?Ho[n]?null:(Ho[n]=!0,()=>{Ho[n]=!1}):Ho.x||Ho.y?null:(Ho.x=Ho.y=!0,()=>{Ho.x=Ho.y=!1})}function cy(n,t,e,i={passive:!0}){return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e)}const cC=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function Hy(n){return{point:{x:n.pageX,y:n.pageY}}}const GV=n=>t=>cC(t)&&n(t,Hy(t));function Vp(n,t,e,i){return cy(n,t,GV(e),i)}function CP({top:n,left:t,right:e,bottom:i}){return{x:{min:t,max:e},y:{min:n,max:i}}}function VV({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function kV(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),i=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:i.y,right:i.x}}const RP=1e-4,XV=1-RP,jV=1+RP,wP=.01,YV=0-wP,WV=0+wP;function Lr(n){return n.max-n.min}function KV(n,t,e){return Math.abs(n-t)<=e}function _2(n,t,e,i=.5){n.origin=i,n.originPoint=Mi(t.min,t.max,n.origin),n.scale=Lr(e)/Lr(t),n.translate=Mi(e.min,e.max,n.origin)-n.originPoint,(n.scale>=XV&&n.scale<=jV||isNaN(n.scale))&&(n.scale=1),(n.translate>=YV&&n.translate<=WV||isNaN(n.translate))&&(n.translate=0)}function F0(n,t,e,i){_2(n.x,t.x,e.x,i?i.originX:void 0),_2(n.y,t.y,e.y,i?i.originY:void 0)}function b2(n,t,e){n.min=e.min+t.min,n.max=n.min+Lr(t)}function qV(n,t,e){b2(n.x,t.x,e.x),b2(n.y,t.y,e.y)}function M2(n,t,e){n.min=t.min-e.min,n.max=n.min+Lr(t)}function z0(n,t,e){M2(n.x,t.x,e.x),M2(n.y,t.y,e.y)}const E2=()=>({translate:0,scale:1,origin:0,originPoint:0}),kp=()=>({x:E2(),y:E2()}),T2=()=>({min:0,max:0}),ji=()=>({x:T2(),y:T2()});function Wa(n){return[n("x"),n("y")]}function _b(n){return n===void 0||n===1}function _E({scale:n,scaleX:t,scaleY:e}){return!_b(n)||!_b(t)||!_b(e)}function wh(n){return _E(n)||BP(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function BP(n){return C2(n.x)||C2(n.y)}function C2(n){return n&&n!=="0%"}function _1(n,t,e){const i=n-e,s=t*i;return e+s}function R2(n,t,e,i,s){return s!==void 0&&(n=_1(n,s,i)),_1(n,e,i)+t}function bE(n,t=0,e=1,i,s){n.min=R2(n.min,t,e,i,s),n.max=R2(n.max,t,e,i,s)}function DP(n,{x:t,y:e}){bE(n.x,t.translate,t.scale,t.originPoint),bE(n.y,e.translate,e.scale,e.originPoint)}const w2=.999999999999,B2=1.0000000000001;function JV(n,t,e,i=!1){const s=e.length;if(!s)return;t.x=t.y=1;let r,o;for(let l=0;l<s;l++){r=e[l],o=r.projectionDelta;const{visualElement:u}=r.options;u&&u.props.style&&u.props.style.display==="contents"||(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&jp(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,DP(n,o)),i&&wh(r.latestValues)&&jp(n,r.latestValues))}t.x<B2&&t.x>w2&&(t.x=1),t.y<B2&&t.y>w2&&(t.y=1)}function Xp(n,t){n.min=n.min+t,n.max=n.max+t}function D2(n,t,e,i,s=.5){const r=Mi(n.min,n.max,s);bE(n,t,e,r,i)}function jp(n,t){D2(n.x,t.x,t.scaleX,t.scale,t.originX),D2(n.y,t.y,t.scaleY,t.scale,t.originY)}function LP(n,t){return CP(kV(n.getBoundingClientRect(),t))}function QV(n,t,e){const i=LP(n,e),{scroll:s}=t;return s&&(Xp(i.x,s.offset.x),Xp(i.y,s.offset.y)),i}function b1(n,t){const e=`${t}PointerCapture`;if(n.target instanceof Element&&e in n.target&&n.pointerId!==void 0)try{n.target[e](n.pointerId)}catch{}}const L2=(n,t)=>Math.abs(n-t);function ZV(n,t){const e=L2(n.x,t.x),i=L2(n.y,t.y);return Math.sqrt(e**2+i**2)}let OP=class{constructor(t,e,{transformPagePoint:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Mb(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,v=ZV(m.offset,{x:0,y:0})>=3;if(!g&&!v)return;const{point:A}=m,{timestamp:S}=Rs;this.history.push({...A,timestamp:S});const{onStart:E,onMove:T}=this.handlers;g||(E&&E(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,m)},this.handlePointerMove=(m,g)=>{if(m.currentTarget instanceof Element&&m.currentTarget.hasPointerCapture&&m.pointerId!==void 0)try{if(!m.currentTarget.hasPointerCapture(m.pointerId))return}catch{}this.lastMoveEvent=m,this.lastMoveEventInfo=bb(g,this.transformPagePoint),Cn.update(this.updatePoint,!0)},this.handlePointerUp=(m,g)=>{b1(m,"release"),this.end();const{onEnd:v,onSessionEnd:A,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Mb(m.type==="pointercancel"||m.type==="lostpointercapture"?this.lastMoveEventInfo:bb(g,this.transformPagePoint),this.history);this.startEvent&&v&&v(m,E),A&&A(m,E)},!cC(t))return;this.dragSnapToOrigin=s,this.handlers=e,this.transformPagePoint=i;const r=Hy(t),o=bb(r,this.transformPagePoint),{point:l}=o,{timestamp:u}=Rs;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=e;d&&d(t,Mb(o,this.history)),b1(t,"set"),this.removeListeners=zy(Vp(t.currentTarget,"pointermove",this.handlePointerMove),Vp(t.currentTarget,"pointerup",this.handlePointerUp),Vp(t.currentTarget,"pointercancel",this.handlePointerUp),Vp(t.currentTarget,"lostpointercapture",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),jo(this.updatePoint)}};function bb(n,t){return t?{point:t(n.point)}:n}function O2(n,t){return{x:n.x-t.x,y:n.y-t.y}}function Mb({point:n},t){return{point:n,delta:O2(n,UP(t)),offset:O2(n,$V(t)),velocity:t9(t,.1)}}function $V(n){return n[0]}function UP(n){return n[n.length-1]}function t9(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,i=null;const s=UP(n);for(;e>=0&&(i=n[e],!(s.timestamp-i.timestamp>Xc(t)));)e--;if(!i)return{x:0,y:0};const r=jc(s.timestamp-i.timestamp);if(r===0)return{x:0,y:0};const o={x:(s.x-i.x)/r,y:(s.y-i.y)/r};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function e9(n,{min:t,max:e},i){return t!==void 0&&n<t?n=i?Mi(t,n,i.min):Math.max(n,t):e!==void 0&&n>e&&(n=i?Mi(e,n,i.max):Math.min(n,e)),n}function U2(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function n9(n,{top:t,left:e,bottom:i,right:s}){return{x:U2(n.x,e,s),y:U2(n.y,t,i)}}function P2(n,t){let e=t.min-n.min,i=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,i]=[i,e]),{min:e,max:i}}function i9(n,t){return{x:P2(n.x,t.x),y:P2(n.y,t.y)}}function s9(n,t){let e=.5;const i=Lr(n),s=Lr(t);return s>i?e=Jh(t.min,t.max-i,n.min):i>s&&(e=Jh(n.min,n.max-s,t.min)),Kl(0,1,e)}function r9(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const ME=.35;function a9(n=ME){return n===!1?n=0:n===!0&&(n=ME),{x:N2(n,"left","right"),y:N2(n,"top","bottom")}}function N2(n,t,e){return{min:I2(n,t),max:I2(n,e)}}function I2(n,t){return typeof n=="number"?n:n[t]||0}const o9=new WeakMap;let l9=class{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ji(),this.visualElement=t}start(t,{snapToCursor:e=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=m=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(Hy(m).point)},r=(m,g)=>{const{drag:v,dragPropagation:A,onDragStart:S}=this.getProps();if(v&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=HV(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Wa(T=>{let _=this.getAxisMotionValue(T).get()||0;if(Hl.test(_)){const{projection:w}=this.visualElement;if(w&&w.layout){const D=w.layout.layoutBox[T];D&&(_=Lr(D)*(parseFloat(_)/100))}}this.originPoint[T]=_}),S&&Cn.postRender(()=>S(m,g)),hE(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},o=(m,g)=>{const{dragPropagation:v,dragDirectionLock:A,onDirectionLock:S,onDrag:E}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:T}=g;if(A&&this.currentDirection===null){this.currentDirection=c9(T),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",g.point,T),this.updateAxis("y",g.point,T),this.visualElement.render(),E&&E(m,g)},l=(m,g)=>this.stop(m,g),u=()=>Wa(m=>{var g;return this.getAnimationState(m)==="paused"&&((g=this.getAxisMotionValue(m).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new OP(t,{onSessionStart:s,onStart:r,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d})}stop(t,e){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=e;this.startAnimation(s);const{onDragEnd:r}=this.getProps();r&&Cn.postRender(()=>r(t,e))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,i){const{drag:s}=this.getProps();if(!i||!Xx(t,s,this.currentDirection))return;const r=this.getAxisMotionValue(t);let o=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(o=e9(o,this.constraints[t],this.elastic[t])),r.set(o)}resolveConstraints(){var t;const{dragConstraints:e,dragElastic:i}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,r=this.constraints;e&&Hp(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=n9(s.layoutBox,e):this.constraints=!1,this.elastic=a9(i),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Wa(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=r9(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Hp(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const r=QV(i,s.root,this.visualElement.getTransformPagePoint());let o=i9(s.layout.layoutBox,r);if(e){const l=e(VV(o));this.hasMutatedConstraints=!!l,l&&(o=CP(l))}return o}startAnimation(t){const{drag:e,dragMomentum:i,dragElastic:s,dragTransition:r,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},d=Wa(m=>{if(!Xx(m,e,this.currentDirection))return;let g=u&&u[m]||{};o&&(g={min:0,max:0});const v=s?200:1e6,A=s?40:1e7,S={type:"inertia",velocity:i?t[m]:0,bounceStiffness:v,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...r,...g};return this.startAxisValueAnimation(m,S)});return Promise.all(d).then(l)}startAxisValueAnimation(t,e){const i=this.getAxisMotionValue(t);return hE(this.visualElement,t),i.start(lC(t,i,0,e,this.visualElement,!1))}stopAnimation(){Wa(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Wa(t=>{var e;return(e=this.getAxisMotionValue(t).animation)===null||e===void 0?void 0:e.pause()})}getAnimationState(t){var e;return(e=this.getAxisMotionValue(t).animation)===null||e===void 0?void 0:e.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[e];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Wa(e=>{const{drag:i}=this.getProps();if(!Xx(e,i,this.currentDirection))return;const{projection:s}=this.visualElement,r=this.getAxisMotionValue(e);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[e];r.set(t[e]-Mi(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:i}=this.visualElement;if(!Hp(e)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Wa(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const u=l.get();s[o]=s9({min:u,max:u},this.constraints[o])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Wa(o=>{if(!Xx(o,t,null))return;const l=this.getAxisMotionValue(o),{min:u,max:d}=this.constraints[o];l.set(Mi(u,d,s[o]))})}addListeners(){if(!this.visualElement.current)return;o9.set(this.visualElement,this);const t=this.visualElement.current,e=Vp(t,"pointerdown",u=>{const{drag:d,dragListener:m=!0}=this.getProps();d&&m&&this.start(u)}),i=()=>{const{dragConstraints:u}=this.getProps();Hp(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,r=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Cn.read(i);const o=cy(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(Wa(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=u[m].translate,g.set(g.get()+u[m].translate))}),this.visualElement.render())});return()=>{o(),e(),r(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:r=!1,dragElastic:o=ME,dragMomentum:l=!0}=t;return{...t,drag:e,dragDirectionLock:i,dragPropagation:s,dragConstraints:r,dragElastic:o,dragMomentum:l}}};function Xx(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function c9(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}let u9=class extends pf{constructor(t){super(t),this.removeGroupControls=dr,this.removeListeners=dr,this.controls=new l9(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||dr}unmount(){this.removeGroupControls(),this.removeListeners()}};const F2=n=>(t,e)=>{n&&Cn.postRender(()=>n(t,e))};let f9=class extends pf{constructor(){super(...arguments),this.removePointerDownListener=dr}onPointerDown(t){this.session=new OP(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:F2(t),onStart:F2(e),onMove:i,onEnd:(r,o)=>{delete this.session,s&&Cn.postRender(()=>s(r,o))}}}mount(){this.removePointerDownListener=Vp(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}};const $A={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function z2(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const e0={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(Fe.test(n))n=parseFloat(n);else return n;const e=z2(n,t.target.x),i=z2(n,t.target.y);return`${e}% ${i}%`}},h9={correct:(n,{treeScale:t,projectionDelta:e})=>{const i=n,s=of.parse(n);if(s.length>5)return i;const r=of.createTransformer(n),o=typeof s[0]!="number"?1:0,l=e.x.scale*t.x,u=e.y.scale*t.y;s[0+o]/=l,s[1+o]/=u;const d=Mi(l,u,.5);return typeof s[2+o]=="number"&&(s[2+o]/=d),typeof s[3+o]=="number"&&(s[3+o]/=d),r(s)}};let d9=class extends W.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i,layoutId:s}=this.props,{projection:r}=t;TG(p9),r&&(e.group&&e.group.add(r),i&&i.register&&s&&i.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),$A.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:i,drag:s,isPresent:r}=this.props,o=i.projection;return o&&(o.isPresent=r,s||t.layoutDependency!==e||e===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==r&&(r?o.promote():o.relegate()||Cn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),PT.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}};function PP(n){const[t,e]=xU(),i=W.useContext(BT);return ot.jsx(d9,{...n,layoutGroup:i,switchLayoutGroup:W.useContext(CU),isPresent:t,safeToRemove:e})}const p9={borderRadius:{...e0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:e0,borderTopRightRadius:e0,borderBottomLeftRadius:e0,borderBottomRightRadius:e0,boxShadow:h9};function m9(n,t,e){const i=Ds(n)?n:Fl(n);return i.start(lC("",i,t,e)),i.animation}function g9(n){return n instanceof SVGElement&&n.tagName!=="svg"}const y9=(n,t)=>n.depth-t.depth;let v9=class{constructor(){this.children=[],this.isDirty=!1}add(t){WT(this.children,t),this.isDirty=!0}remove(t){KT(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(y9),this.isDirty=!1,this.children.forEach(t)}};function x9(n,t){const e=Gl.now(),i=({timestamp:s})=>{const r=s-e;r>=t&&(jo(i),n(r-t))};return Cn.read(i,!0),()=>jo(i)}const NP=["TopLeft","TopRight","BottomLeft","BottomRight"],A9=NP.length,H2=n=>typeof n=="string"?parseFloat(n):n,G2=n=>typeof n=="number"||Fe.test(n);function S9(n,t,e,i,s,r){s?(n.opacity=Mi(0,e.opacity!==void 0?e.opacity:1,_9(i)),n.opacityExit=Mi(t.opacity!==void 0?t.opacity:1,0,b9(i))):r&&(n.opacity=Mi(t.opacity!==void 0?t.opacity:1,e.opacity!==void 0?e.opacity:1,i));for(let o=0;o<A9;o++){const l=`border${NP[o]}Radius`;let u=V2(t,l),d=V2(e,l);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||G2(u)===G2(d)?(n[l]=Math.max(Mi(H2(u),H2(d),i),0),(Hl.test(d)||Hl.test(u))&&(n[l]+="%")):n[l]=d}(t.rotate||e.rotate)&&(n.rotate=Mi(t.rotate||0,e.rotate||0,i))}function V2(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const _9=IP(0,.5,ZU),b9=IP(.5,.95,dr);function IP(n,t,e){return i=>i<n?0:i>t?1:e(Jh(n,t,i))}function k2(n,t){n.min=t.min,n.max=t.max}function ka(n,t){k2(n.x,t.x),k2(n.y,t.y)}function X2(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function j2(n,t,e,i,s){return n-=t,n=_1(n,1/e,i),s!==void 0&&(n=_1(n,1/s,i)),n}function M9(n,t=0,e=1,i=.5,s,r=n,o=n){if(Hl.test(t)&&(t=parseFloat(t),t=Mi(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Mi(r.min,r.max,i);n===r&&(l-=t),n.min=j2(n.min,t,e,l,s),n.max=j2(n.max,t,e,l,s)}function Y2(n,t,[e,i,s],r,o){M9(n,t[e],t[i],t[s],t.scale,r,o)}const E9=["x","scaleX","originX"],T9=["y","scaleY","originY"];function W2(n,t,e,i){Y2(n.x,t,E9,e?e.x:void 0,i?i.x:void 0),Y2(n.y,t,T9,e?e.y:void 0,i?i.y:void 0)}function K2(n){return n.translate===0&&n.scale===1}function FP(n){return K2(n.x)&&K2(n.y)}function q2(n,t){return n.min===t.min&&n.max===t.max}function C9(n,t){return q2(n.x,t.x)&&q2(n.y,t.y)}function J2(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function zP(n,t){return J2(n.x,t.x)&&J2(n.y,t.y)}function Q2(n){return Lr(n.x)/Lr(n.y)}function Z2(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}let R9=class{constructor(){this.members=[]}add(t){WT(this.members,t),t.scheduleRender()}remove(t){if(KT(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(s=>t===s);if(e===0)return!1;let i;for(let s=e;s>=0;s--){const r=this.members[s];if(r.isPresent!==!1){i=r;break}}return i?(this.promote(i),!0):!1}promote(t,e){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,e&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:i}=t;e.onExitComplete&&e.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};function w9(n,t,e){let i="";const s=n.x.translate/t.x,r=n.y.translate/t.y,o=(e==null?void 0:e.z)||0;if((s||r||o)&&(i=`translate3d(${s}px, ${r}px, ${o}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:d,rotate:m,rotateX:g,rotateY:v,skewX:A,skewY:S}=e;d&&(i=`perspective(${d}px) ${i}`),m&&(i+=`rotate(${m}deg) `),g&&(i+=`rotateX(${g}deg) `),v&&(i+=`rotateY(${v}deg) `),A&&(i+=`skewX(${A}deg) `),S&&(i+=`skewY(${S}deg) `)}const l=n.x.scale*t.x,u=n.y.scale*t.y;return(l!==1||u!==1)&&(i+=`scale(${l}, ${u})`),i||"none"}const Eb=["","X","Y","Z"],B9={visibility:"hidden"},$2=1e3;let D9=0;function Tb(n,t,e,i){const{latestValues:s}=t;s[n]&&(e[n]=s[n],t.setStaticValue(n,0),i&&(i[n]=0))}function HP(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=GU(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:s,layoutId:r}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",Cn,!(s||r))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&HP(i)}function GP({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=D9++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(U9),this.nodes.forEach(z9),this.nodes.forEach(H9),this.nodes.forEach(P9)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new v9)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new qT),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const u=this.eventHandlers.get(o);u&&u.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=g9(o),this.instance=o;const{layoutId:u,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||u)&&(this.isLayoutDirty=!0),n){let g;const v=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=x9(v,250),$A.hasAnimatedSinceResize&&($A.hasAnimatedSinceResize=!1,this.nodes.forEach(eB))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&m&&(u||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:A,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||m.getDefaultTransition()||j9,{onLayoutAnimationStart:T,onLayoutAnimationComplete:_}=m.getProps(),w=!this.targetLayout||!zP(this.targetLayout,S),D=!v&&A;if(this.options.layoutRoot||this.resumeFrom||D||v&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,D);const L={...YT(E,"layout"),onPlay:T,onComplete:_};(m.shouldReduceMotion||this.options.layoutRoot)&&(L.delay=0,L.type=!1),this.startAnimation(L)}else v||eB(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,jo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(G9),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&HP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(tB);return}this.isUpdating||this.nodes.forEach(I9),this.isUpdating=!1,this.nodes.forEach(F9),this.nodes.forEach(L9),this.nodes.forEach(O9),this.clearAllSnapshots();const l=Gl.now();Rs.delta=Kl(0,1e3/60,l-Rs.timestamp),Rs.timestamp=l,Rs.isProcessing=!0,vb.update.process(Rs),vb.preRender.process(Rs),vb.render.process(Rs),Rs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,PT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(N9),this.sharedNodes.forEach(V9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Cn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Cn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Lr(this.snapshot.measuredBox.x)&&!Lr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ji(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const u=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!FP(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,m=d!==this.prevTransformTemplateValue;o&&(l||wh(this.latestValues)||m)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return o&&(u=this.removeTransform(u)),Y9(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return ji();const u=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(W9))){const{scroll:m}=this.root;m&&(Xp(u.x,m.offset.x),Xp(u.y,m.offset.y))}return u}removeElementScroll(o){var l;const u=ji();if(ka(u,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return u;for(let d=0;d<this.path.length;d++){const m=this.path[d],{scroll:g,options:v}=m;m!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&ka(u,o),Xp(u.x,g.offset.x),Xp(u.y,g.offset.y))}return u}applyTransform(o,l=!1){const u=ji();ka(u,o);for(let d=0;d<this.path.length;d++){const m=this.path[d];!l&&m.options.layoutScroll&&m.scroll&&m!==m.root&&jp(u,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),wh(m.latestValues)&&jp(u,m.latestValues)}return wh(this.latestValues)&&jp(u,this.latestValues),u}removeTransform(o){const l=ji();ka(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!wh(d.latestValues))continue;_E(d.latestValues)&&d.updateSnapshot();const m=ji(),g=d.measurePageBox();ka(m,g),W2(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,m)}return wh(this.latestValues)&&W2(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Rs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=Rs.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ji(),this.relativeTargetOrigin=ji(),z0(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),ka(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ji(),this.targetWithTransforms=ji()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),qV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ka(this.target,this.layout.layoutBox),DP(this.target,this.targetDelta)):ka(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ji(),this.relativeTargetOrigin=ji(),z0(this.relativeTargetOrigin,this.target,A.target),ka(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||_E(this.parent.latestValues)||BP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Rs.timestamp&&(d=!1),d)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;ka(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,A=this.treeScale.y;JV(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=ji());const{target:S}=l;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(X2(this.prevProjectionDelta.x,this.projectionDelta.x),X2(this.prevProjectionDelta.y,this.projectionDelta.y)),F0(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==A||!Z2(this.projectionDelta.x,this.prevProjectionDelta.x)||!Z2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=kp(),this.projectionDelta=kp(),this.projectionDeltaWithTransform=kp()}setAnimationOrigin(o,l=!1){const u=this.snapshot,d=u?u.latestValues:{},m={...this.latestValues},g=kp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const v=ji(),A=u?u.source:void 0,S=this.layout?this.layout.source:void 0,E=A!==S,T=this.getStack(),_=!T||T.members.length<=1,w=!!(E&&!_&&this.options.crossfade===!0&&!this.path.some(X9));this.animationProgress=0;let D;this.mixTargetDelta=L=>{const U=L/1e3;nB(g.x,o.x,U),nB(g.y,o.y,U),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(z0(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),k9(this.relativeTarget,this.relativeTargetOrigin,v,U),D&&C9(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=ji()),ka(D,this.relativeTarget)),E&&(this.animationValues=m,S9(m,d,this.latestValues,U,w,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=U},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(jo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Cn.update(()=>{$A.hasAnimatedSinceResize=!0,this.currentAnimation=m9(0,$2,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($2),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:u,layout:d,latestValues:m}=o;if(!(!l||!u||!d)){if(this!==o&&this.layout&&d&&VP(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||ji();const g=Lr(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+g;const v=Lr(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+v}ka(l,u),jp(l,m),F0(this.projectionDeltaWithTransform,this.layoutCorrected,l,m)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new R9),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const d={};u.z&&Tb("z",o,d,this.animationValues);for(let m=0;m<Eb.length;m++)Tb(`rotate${Eb[m]}`,o,d,this.animationValues),Tb(`skew${Eb[m]}`,o,d,this.animationValues);o.render();for(const m in d)o.setStaticValue(m,d[m]),this.animationValues&&(this.animationValues[m]=d[m]);o.scheduleRender()}getProjectionStyles(o){var l,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return B9;const d={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=QA(o==null?void 0:o.pointerEvents)||"",d.transform=m?m(this.latestValues,""):"none",d;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const E={};return this.options.layoutId&&(E.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,E.pointerEvents=QA(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!wh(this.latestValues)&&(E.transform=m?m({},""):"none",this.hasProjected=!1),E}const v=g.animationValues||g.latestValues;this.applyTransformsToTarget(),d.transform=w9(this.projectionDeltaWithTransform,this.treeScale,v),m&&(d.transform=m(v,d.transform));const{x:A,y:S}=this.projectionDelta;d.transformOrigin=`${A.origin*100}% ${S.origin*100}% 0`,g.animationValues?d.opacity=g===this?(u=(l=v.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:d.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const E in ry){if(v[E]===void 0)continue;const{correct:T,applyTo:_,isCSSVariable:w}=ry[E],D=d.transform==="none"?v[E]:T(v[E],g);if(_){const L=_.length;for(let U=0;U<L;U++)d[_[U]]=D}else w?this.options.visualElement.renderState.vars[E]=D:d[E]=D}return this.options.layoutId&&(d.pointerEvents=g===this?QA(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(tB),this.root.sharedNodes.clear()}}}function L9(n){n.updateLayout()}function O9(n){var t;const e=((t=n.resumeFrom)===null||t===void 0?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=n.layout,{animationType:r}=n.options,o=e.source!==n.layout.source;r==="size"?Wa(g=>{const v=o?e.measuredBox[g]:e.layoutBox[g],A=Lr(v);v.min=i[g].min,v.max=v.min+A}):VP(r,e.layoutBox,i)&&Wa(g=>{const v=o?e.measuredBox[g]:e.layoutBox[g],A=Lr(i[g]);v.max=v.min+A,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+A)});const l=kp();F0(l,i,e.layoutBox);const u=kp();o?F0(u,n.applyTransform(s,!0),e.measuredBox):F0(u,i,e.layoutBox);const d=!FP(l);let m=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:A}=g;if(v&&A){const S=ji();z0(S,e.layoutBox,v.layoutBox);const E=ji();z0(E,i,A.layoutBox),zP(S,E)||(m=!0),g.options.layoutRoot&&(n.relativeTarget=E,n.relativeTargetOrigin=S,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:m})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function U9(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function P9(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function N9(n){n.clearSnapshot()}function tB(n){n.clearMeasurements()}function I9(n){n.isLayoutDirty=!1}function F9(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function eB(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function z9(n){n.resolveTargetDelta()}function H9(n){n.calcProjection()}function G9(n){n.resetSkewAndRotation()}function V9(n){n.removeLeadSnapshot()}function nB(n,t,e){n.translate=Mi(t.translate,0,e),n.scale=Mi(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function iB(n,t,e,i){n.min=Mi(t.min,e.min,i),n.max=Mi(t.max,e.max,i)}function k9(n,t,e,i){iB(n.x,t.x,e.x,i),iB(n.y,t.y,e.y,i)}function X9(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const j9={duration:.45,ease:[.4,0,.1,1]},sB=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),rB=sB("applewebkit/")&&!sB("chrome/")?Math.round:dr;function aB(n){n.min=rB(n.min),n.max=rB(n.max)}function Y9(n){aB(n.x),aB(n.y)}function VP(n,t,e){return n==="position"||n==="preserve-aspect"&&!KV(Q2(t),Q2(e),.2)}function W9(n){var t;return n!==n.root&&((t=n.scroll)===null||t===void 0?void 0:t.wasRoot)}const K9=GP({attachResizeListener:(n,t)=>cy(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Cb={current:void 0},kP=GP({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Cb.current){const n=new K9({});n.mount(window),n.setOptions({layoutScroll:!0}),Cb.current=n}return Cb.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),q9={pan:{Feature:f9},drag:{Feature:u9,ProjectionNode:kP,MeasureLayout:PP}};function XP(n,t,e){var i;if(n instanceof EventTarget)return[n];if(typeof n=="string"){let s=document;const r=(i=void 0)!==null&&i!==void 0?i:s.querySelectorAll(n);return r?Array.from(r):[]}return Array.from(n)}function jP(n,t){const e=XP(n),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[e,s,()=>i.abort()]}function oB(n){return!(n.pointerType==="touch"||TP())}function J9(n,t,e={}){const[i,s,r]=jP(n,e),o=l=>{if(!oB(l))return;const{target:u}=l,d=t(u,l);if(typeof d!="function"||!u)return;const m=g=>{oB(g)&&(d(g),u.removeEventListener("pointerleave",m))};u.addEventListener("pointerleave",m,s)};return i.forEach(l=>{l.addEventListener("pointerenter",o,s)}),r}function lB(n,t,e){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",e==="Start");const s="onHover"+e,r=i[s];r&&Cn.postRender(()=>r(t,Hy(t)))}let Q9=class extends pf{mount(){const{current:t}=this.node;t&&(this.unmount=J9(t,(e,i)=>(lB(this.node,i,"Start"),s=>lB(this.node,s,"End"))))}unmount(){}},Z9=class extends pf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zy(cy(this.node.current,"focus",()=>this.onFocus()),cy(this.node.current,"blur",()=>this.onBlur()))}unmount(){}};const YP=(n,t)=>t?n===t?!0:YP(n,t.parentElement):!1,$9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function t6(n){return $9.has(n.tagName)||n.tabIndex!==-1}const w0=new WeakSet;function cB(n){return t=>{t.key==="Enter"&&n(t)}}function Rb(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const e6=(n,t)=>{const e=n.currentTarget;if(!e)return;const i=cB(()=>{if(w0.has(e))return;Rb(e,"down");const s=cB(()=>{Rb(e,"up")}),r=()=>Rb(e,"cancel");e.addEventListener("keyup",s,t),e.addEventListener("blur",r,t)});e.addEventListener("keydown",i,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",i),t)};function uB(n){return cC(n)&&!TP()}function n6(n,t,e={}){const[i,s,r]=jP(n,e),o=l=>{const u=l.currentTarget;if(!u||!uB(l)||w0.has(u))return;w0.add(u),b1(l,"set");const d=t(u,l),m=(A,S)=>{u.removeEventListener("pointerup",g),u.removeEventListener("pointercancel",v),b1(A,"release"),!(!uB(A)||!w0.has(u))&&(w0.delete(u),typeof d=="function"&&d(A,{success:S}))},g=A=>{(A.isTrusted?i6(A,u instanceof Element?u.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?m(A,!1):m(A,!(u instanceof Element)||YP(u,A.target))},v=A=>{m(A,!1)};u.addEventListener("pointerup",g,s),u.addEventListener("pointercancel",v,s),u.addEventListener("lostpointercapture",v,s)};return i.forEach(l=>{l=e.useGlobalTarget?window:l;let u=!1;l instanceof HTMLElement&&(u=!0,!t6(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0)),l.addEventListener("pointerdown",o,s),u&&l.addEventListener("focus",d=>e6(d,s),s)}),r}function i6(n,t){return n.clientX<t.left||n.clientX>t.right||n.clientY<t.top||n.clientY>t.bottom}function fB(n,t,e){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",e==="Start");const s="onTap"+(e==="End"?"":e),r=i[s];r&&Cn.postRender(()=>r(t,Hy(t)))}let s6=class extends pf{mount(){const{current:t}=this.node;t&&(this.unmount=n6(t,(e,i)=>(fB(this.node,i,"Start"),(s,{success:r})=>fB(this.node,s,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}};const EE=new WeakMap,wb=new WeakMap,r6=n=>{const t=EE.get(n.target);t&&t(n)},a6=n=>{n.forEach(r6)};function o6({root:n,...t}){const e=n||document;wb.has(e)||wb.set(e,{});const i=wb.get(e),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(a6,{root:n,...t})),i[s]}function l6(n,t,e){const i=o6(t);return EE.set(n,e),i.observe(n),()=>{EE.delete(n),i.unobserve(n)}}const c6={some:0,all:1};let u6=class extends pf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:i,amount:s="some",once:r}=t,o={root:e?e.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:c6[s]},l=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,r&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),v=d?m:g;v&&v(u)};return l6(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(f6(t,e))&&this.startObserver()}unmount(){}};function f6({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const h6={inView:{Feature:u6},tap:{Feature:s6},focus:{Feature:Z9},hover:{Feature:Q9}},d6={layout:{ProjectionNode:kP,MeasureLayout:PP}},TE={current:null},WP={current:!1};function p6(){if(WP.current=!0,!!DT)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>TE.current=n.matches;n.addListener(t),t()}else TE.current=!1}const m6=[...hP,lr,of],g6=n=>m6.find(fP(n)),y6=new WeakMap;function v6(n,t,e){for(const i in t){const s=t[i],r=e[i];if(Ds(s))n.addValue(i,s);else if(Ds(r))n.addValue(i,Fl(s,{owner:n}));else if(r!==s)if(n.hasValue(i)){const o=n.getValue(i);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=n.getStaticValue(i);n.addValue(i,Fl(o!==void 0?o:s,{owner:n}))}}for(const i in e)t[i]===void 0&&n.removeValue(i);return t}const hB=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let x6=class{scrapeMotionValuesFromProps(t,e,i){return{}}constructor({parent:t,props:e,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:r,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=rC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=Gl.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,Cn.render(this.render,!1,!0))};const{latestValues:u,renderState:d,onUpdate:m}=o;this.onUpdate=m,this.latestValues=u,this.baseTarget={...u},this.initialValues=e.initial?{...u}:{},this.renderState=d,this.parent=t,this.props=e,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!r,this.isControllingVariants=CS(e),this.isVariantNode=EU(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(e,{},this);for(const A in v){const S=v[A];u[A]!==void 0&&Ds(S)&&S.set(u[A],!1)}}mount(t){this.current=t,y6.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,i)=>this.bindToMotionValue(i,e)),WP.current||p6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:TE.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),jo(this.notifyUpdate),jo(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=ld.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=e.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Cn.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),r=e.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{s(),r(),o&&o(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in cm){const e=cm[t];if(!e)continue;const{isEnabled:i,Feature:s}=e;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ji()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let i=0;i<hB.length;i++){const s=hB[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const r="on"+s,o=t[r];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=v6(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const i=this.values.get(t);e!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&e!==void 0&&(i=Fl(e===null?void 0:e,{owner:this}),this.addValue(t,i)),i}readValue(t,e){var i;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(i=this.getBaseTargetFromProps(this.props,t))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(cP(s)||tP(s))?s=parseFloat(s):!g6(s)&&of.test(e)&&(s=aP(t,e)),this.setBaseTarget(t,Ds(s)?s.get():s)),Ds(s)?s.get():s}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var e;const{initial:i}=this.props;let s;if(typeof i=="string"||typeof i=="object"){const o=XT(this.props,i,(e=this.presenceContext)===null||e===void 0?void 0:e.custom);o&&(s=o[t])}if(i&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!Ds(r)?r:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new qT),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}},KP=class extends x6{constructor(){super(...arguments),this.KeyframeResolver=dP}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:i}){delete e[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ds(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}};function A6(n){return window.getComputedStyle(n)}let S6=class extends KP{constructor(){super(...arguments),this.type="html",this.renderInstance=NU}readValueFromInstance(t,e){if(ld.has(e)){const i=sC(e);return i&&i.default||0}else{const i=A6(t),s=(NT(e)?i.getPropertyValue(e):i[e])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:e}){return LP(t,e)}build(t,e,i){zT(t,e,i.transformTemplate)}scrapeMotionValuesFromProps(t,e,i){return jT(t,e,i)}},_6=class extends KP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ji,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&PU(this.current,this.renderState)}}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(ld.has(e)){const i=sC(e);return i&&i.default||0}return e=IU.has(e)?e:UT(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,i){return zU(t,e,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&Cn.postRender(this.updateDimensions)}build(t,e,i){VT(t,e,this.isSVGTag,i.transformTemplate)}renderInstance(t,e,i,s){FU(t,e,i,s)}mount(t){this.isSVGTag=kT(t.tagName),super.mount(t)}};const b6=(n,t)=>GT(n)?new _6(t):new S6(t,{allowProjection:n!==W.Fragment}),M6=JG({...zV,...h6,...q9,...d6},b6),Bs=hG(M6);function qP(n,t){let e;const i=()=>{const{currentTime:s}=t,o=(s===null?0:s.value)/100;e!==o&&n(o),e=o};return Cn.update(i,!0),()=>jo(i)}const t1=new WeakMap;let Zu;function E6(n,t){if(t){const{inlineSize:e,blockSize:i}=t[0];return{width:e,height:i}}else return n instanceof SVGElement&&"getBBox"in n?n.getBBox():{width:n.offsetWidth,height:n.offsetHeight}}function T6({target:n,contentRect:t,borderBoxSize:e}){var i;(i=t1.get(n))===null||i===void 0||i.forEach(s=>{s({target:n,contentSize:t,get size(){return E6(n,e)}})})}function C6(n){n.forEach(T6)}function R6(){typeof ResizeObserver>"u"||(Zu=new ResizeObserver(C6))}function w6(n,t){Zu||R6();const e=XP(n);return e.forEach(i=>{let s=t1.get(i);s||(s=new Set,t1.set(i,s)),s.add(t),Zu==null||Zu.observe(i)}),()=>{e.forEach(i=>{const s=t1.get(i);s==null||s.delete(t),s!=null&&s.size||Zu==null||Zu.unobserve(i)})}}const e1=new Set;let H0;function B6(){H0=()=>{const n={width:window.innerWidth,height:window.innerHeight},t={target:window,size:n,contentSize:n};e1.forEach(e=>e(t))},window.addEventListener("resize",H0)}function D6(n){return e1.add(n),H0||B6(),()=>{e1.delete(n),!e1.size&&H0&&(H0=void 0)}}function L6(n,t){return typeof n=="function"?D6(n):w6(n,t)}const O6=50,dB=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),U6=()=>({time:0,x:dB(),y:dB()}),P6={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function pB(n,t,e,i){const s=e[t],{length:r,position:o}=P6[t],l=s.current,u=e.time;s.current=n[`scroll${o}`],s.scrollLength=n[`scroll${r}`]-n[`client${r}`],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=Jh(0,s.scrollLength,s.current);const d=i-u;s.velocity=d>O6?0:JT(s.current-l,d)}function N6(n,t,e){pB(n,"x",t,e),pB(n,"y",t,e),t.time=e}function I6(n,t){const e={x:0,y:0};let i=n;for(;i&&i!==t;)if(i instanceof HTMLElement)e.x+=i.offsetLeft,e.y+=i.offsetTop,i=i.offsetParent;else if(i.tagName==="svg"){const s=i.getBoundingClientRect();i=i.parentElement;const r=i.getBoundingClientRect();e.x+=s.left-r.left,e.y+=s.top-r.top}else if(i instanceof SVGGraphicsElement){const{x:s,y:r}=i.getBBox();e.x+=s,e.y+=r;let o=null,l=i.parentNode;for(;!o;)l.tagName==="svg"&&(o=l),l=i.parentNode;i=o}else break;return e}const CE={start:0,center:.5,end:1};function mB(n,t,e=0){let i=0;if(n in CE&&(n=CE[n]),typeof n=="string"){const s=parseFloat(n);n.endsWith("px")?i=s:n.endsWith("%")?n=s/100:n.endsWith("vw")?i=s/100*document.documentElement.clientWidth:n.endsWith("vh")?i=s/100*document.documentElement.clientHeight:n=s}return typeof n=="number"&&(i=t*n),e+i}const F6=[0,0];function z6(n,t,e,i){let s=Array.isArray(n)?n:F6,r=0,o=0;return typeof n=="number"?s=[n,n]:typeof n=="string"&&(n=n.trim(),n.includes(" ")?s=n.split(" "):s=[n,CE[n]?n:"0"]),r=mB(s[0],e,i),o=mB(s[1],t),r-o}const H6={All:[[0,0],[1,1]]},G6={x:0,y:0};function V6(n){return"getBBox"in n&&n.tagName!=="svg"?n.getBBox():{width:n.clientWidth,height:n.clientHeight}}function k6(n,t,e){const{offset:i=H6.All}=e,{target:s=n,axis:r="y"}=e,o=r==="y"?"height":"width",l=s!==n?I6(s,n):G6,u=s===n?{width:n.scrollWidth,height:n.scrollHeight}:V6(s),d={width:n.clientWidth,height:n.clientHeight};t[r].offset.length=0;let m=!t[r].interpolate;const g=i.length;for(let v=0;v<g;v++){const A=z6(i[v],d[o],u[o],l[r]);!m&&A!==t[r].interpolatorOffsets[v]&&(m=!0),t[r].offset[v]=A}m&&(t[r].interpolate=oC(t[r].offset,SP(i),{clamp:!1}),t[r].interpolatorOffsets=[...t[r].offset]),t[r].progress=Kl(0,1,t[r].interpolate(t[r].current))}function X6(n,t=n,e){if(e.x.targetOffset=0,e.y.targetOffset=0,t!==n){let i=t;for(;i&&i!==n;)e.x.targetOffset+=i.offsetLeft,e.y.targetOffset+=i.offsetTop,i=i.offsetParent}e.x.targetLength=t===n?t.scrollWidth:t.clientWidth,e.y.targetLength=t===n?t.scrollHeight:t.clientHeight,e.x.containerLength=n.clientWidth,e.y.containerLength=n.clientHeight}function j6(n,t,e,i={}){return{measure:()=>X6(n,i.target,e),update:s=>{N6(n,e,s),(i.offset||i.target)&&k6(n,e,i)},notify:()=>t(e)}}const n0=new WeakMap,gB=new WeakMap,Bb=new WeakMap,yB=n=>n===document.documentElement?window:n;function uC(n,{container:t=document.documentElement,...e}={}){let i=Bb.get(t);i||(i=new Set,Bb.set(t,i));const s=U6(),r=j6(t,n,s,e);if(i.add(r),!n0.has(t)){const l=()=>{for(const v of i)v.measure()},u=()=>{for(const v of i)v.update(Rs.timestamp)},d=()=>{for(const v of i)v.notify()},m=()=>{Cn.read(l,!1,!0),Cn.read(u,!1,!0),Cn.update(d,!1,!0)};n0.set(t,m);const g=yB(t);window.addEventListener("resize",m,{passive:!0}),t!==document.documentElement&&gB.set(t,L6(t,m)),g.addEventListener("scroll",m,{passive:!0})}const o=n0.get(t);return Cn.read(o,!1,!0),()=>{var l;jo(o);const u=Bb.get(t);if(!u||(u.delete(r),u.size))return;const d=n0.get(t);n0.delete(t),d&&(yB(t).removeEventListener("scroll",d),(l=gB.get(t))===null||l===void 0||l(),window.removeEventListener("resize",d))}}function Y6({source:n,container:t,axis:e="y"}){n&&(t=n);const i={value:0},s=uC(r=>{i.value=r[e].progress*100},{container:t,axis:e});return{currentTime:i,cancel:s}}const Db=new Map;function JP({source:n,container:t=document.documentElement,axis:e="y"}={}){n&&(t=n),Db.has(t)||Db.set(t,{});const i=Db.get(t);return i[e]||(i[e]=VU()?new ScrollTimeline({source:t,axis:e}):Y6({source:t,axis:e})),i[e]}function W6(n){return n.length===2}function QP(n){return n&&(n.target||n.offset)}function K6(n,t){return W6(n)||QP(t)?uC(e=>{n(e[t.axis].progress,e)},t):qP(n,JP(t))}function q6(n,t){if(n.flatten(),QP(t))return n.pause(),uC(e=>{n.time=n.duration*e[t.axis].progress},t);{const e=JP(t);return n.attachTimeline?n.attachTimeline(e,i=>(i.pause(),qP(s=>{i.time=i.duration*s},e))):dr}}function J6(n,{axis:t="y",...e}={}){const i={axis:t,...e};return typeof n=="function"?K6(n,i):q6(n,i)}function vB(n,t){sG(!!(!t||t.current))}const Q6=()=>({scrollX:Fl(0),scrollY:Fl(0),scrollXProgress:Fl(0),scrollYProgress:Fl(0)});function Z6({container:n,target:t,layoutEffect:e=!0,...i}={}){const s=af(Q6);return(e?Ny:W.useEffect)(()=>(vB("target",t),vB("container",n),J6((o,{x:l,y:u})=>{s.scrollX.set(l.current),s.scrollXProgress.set(l.progress),s.scrollY.set(u.current),s.scrollYProgress.set(u.progress)},{...i,container:(n==null?void 0:n.current)||void 0,target:(t==null?void 0:t.current)||void 0})),[n,t,JSON.stringify(i.offset)]),s}function BS(n){const t=af(()=>Fl(n)),{isStatic:e}=W.useContext(Py);if(e){const[,i]=W.useState(n);W.useEffect(()=>t.on("change",i),[])}return t}function ZP(n,t){const e=BS(t()),i=()=>e.set(t());return i(),Ny(()=>{const s=()=>Cn.preRender(i,!1,!0),r=n.map(o=>o.on("change",s));return()=>{r.forEach(o=>o()),jo(i)}}),e}function fC(n,t={}){const{isStatic:e}=W.useContext(Py),i=W.useRef(null),s=af(()=>Ds(n)?n.get():n),r=af(()=>typeof s=="string"?s.replace(/[\d.-]/g,""):void 0),o=BS(s),l=W.useRef(s),u=W.useRef(dr),d=()=>{m(),i.current=hV({keyframes:[AB(o.get()),AB(l.current)],velocity:o.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...t,onUpdate:u.current})},m=()=>{i.current&&i.current.stop()};return W.useInsertionEffect(()=>o.attach((g,v)=>e?v(g):(l.current=g,u.current=A=>v(xB(A,r)),Cn.postRender(d),o.get()),m),[JSON.stringify(t)]),Ny(()=>{if(Ds(n))return n.on("change",g=>o.set(xB(g,r)))},[o,r]),o}function xB(n,t){return t?n+t:n}function AB(n){return typeof n=="number"?n:parseFloat(n)}const $6=n=>n&&typeof n=="object"&&n.mix,t8=n=>$6(n)?n.mix:void 0;function e8(...n){const t=!Array.isArray(n[0]),e=t?0:-1,i=n[0+e],s=n[1+e],r=n[2+e],o=n[3+e],l=oC(s,r,{mixer:t8(r[0]),...o});return t?l(i):l}function n8(n){N0.current=[],n();const t=ZP(N0.current,n);return N0.current=void 0,t}function jx(n,t,e,i){if(typeof n=="function")return n8(n);const s=typeof t=="function"?t:e8(t,e,i);return Array.isArray(n)?SB(n,s):SB([n],([r])=>s(r))}function SB(n,t){const e=af(()=>[]);return ZP(n,()=>{e.length=0;const i=n.length;for(let s=0;s<i;s++)e[s]=n[s].get();return t(e)})}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Gy="173",i8={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},s8={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},$P=0,RE=1,tN=2,r8=3,eN=0,DS=1,G0=2,Vo=3,ql=0,Ur=1,Qa=2,Yc=0,jh=1,wE=2,BE=3,DE=4,nN=5,nf=100,iN=101,sN=102,rN=103,aN=104,oN=200,lN=201,cN=202,uN=203,M1=204,E1=205,fN=206,hN=207,dN=208,pN=209,mN=210,gN=211,yN=212,vN=213,xN=214,T1=0,C1=1,R1=2,Qh=3,w1=4,B1=5,D1=6,L1=7,Vy=0,AN=1,SN=2,Vl=0,_N=1,bN=2,MN=3,hC=4,EN=5,TN=6,CN=7,LE="attached",RN="detached",LS=300,Qc=301,lf=302,uy=303,fy=304,Rm=306,cf=1e3,Sa=1001,fm=1002,Ls=1003,OS=1004,a8=1004,Nh=1005,o8=1005,Ki=1006,nm=1007,l8=1007,Za=1008,c8=1008,Yo=1009,dC=1010,pC=1011,hm=1012,US=1013,Zc=1014,ta=1015,wm=1016,PS=1017,NS=1018,Zh=1020,mC=35902,gC=1021,yC=1022,fr=1023,vC=1024,xC=1025,Yh=1026,$h=1027,IS=1028,ky=1029,AC=1030,FS=1031,u8=1032,zS=1033,V0=33776,k0=33777,X0=33778,j0=33779,O1=35840,U1=35841,P1=35842,N1=35843,I1=36196,F1=37492,z1=37496,H1=37808,G1=37809,V1=37810,k1=37811,X1=37812,j1=37813,Y1=37814,W1=37815,K1=37816,q1=37817,J1=37818,Q1=37819,Z1=37820,$1=37821,Y0=36492,tS=36494,eS=36495,SC=36283,nS=36284,iS=36285,sS=36286,wN=2200,BN=2201,DN=2202,dm=2300,pm=2301,n1=2302,Ih=2400,Fh=2401,hy=2402,HS=2500,_C=2501,LN=0,bC=1,rS=2,ON=3200,UN=3201,f8=3202,h8=3203,mf=0,PN=1,zc="",ur="srgb",uf="srgb-linear",dy="linear",jn="srgb",d8=0,Bh=7680,p8=7681,m8=7682,g8=7683,y8=34055,v8=34056,x8=5386,A8=512,S8=513,_8=514,b8=515,M8=516,E8=517,T8=518,OE=519,NN=512,IN=513,FN=514,MC=515,zN=516,HN=517,GN=518,VN=519,py=35044,C8=35048,R8=35040,w8=35045,B8=35049,D8=35041,L8=35046,O8=35050,U8=35042,P8="100",UE="300 es",Xo=2e3,my=2001,N8={COMPUTE:"compute",RENDER:"render"};class Zl{addEventListener(t,e){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[t]===void 0&&(i[t]=[]),i[t].indexOf(e)===-1&&i[t].push(e)}hasEventListener(t,e){const i=this._listeners;return i===void 0?!1:i[t]!==void 0&&i[t].indexOf(e)!==-1}removeEventListener(t,e){const i=this._listeners;if(i===void 0)return;const s=i[t];if(s!==void 0){const r=s.indexOf(e);r!==-1&&s.splice(r,1)}}dispatchEvent(t){const e=this._listeners;if(e===void 0)return;const i=e[t.type];if(i!==void 0){t.target=this;const s=i.slice(0);for(let r=0,o=s.length;r<o;r++)s[r].call(this,t);t.target=null}}}const sr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _B=1234567;const Wh=Math.PI/180,mm=180/Math.PI;function ba(){const n=Math.random()*4294967295|0,t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(sr[n&255]+sr[n>>8&255]+sr[n>>16&255]+sr[n>>24&255]+"-"+sr[t&255]+sr[t>>8&255]+"-"+sr[t>>16&15|64]+sr[t>>24&255]+"-"+sr[e&63|128]+sr[e>>8&255]+"-"+sr[e>>16&255]+sr[e>>24&255]+sr[i&255]+sr[i>>8&255]+sr[i>>16&255]+sr[i>>24&255]).toLowerCase()}function Ye(n,t,e){return Math.max(t,Math.min(e,n))}function EC(n,t){return(n%t+t)%t}function I8(n,t,e,i,s){return i+(n-t)*(s-i)/(e-t)}function F8(n,t,e){return n!==t?(e-n)/(t-n):0}function W0(n,t,e){return(1-e)*n+e*t}function z8(n,t,e,i){return W0(n,t,1-Math.exp(-e*i))}function H8(n,t=1){return t-Math.abs(EC(n,t*2)-t)}function G8(n,t,e){return n<=t?0:n>=e?1:(n=(n-t)/(e-t),n*n*(3-2*n))}function V8(n,t,e){return n<=t?0:n>=e?1:(n=(n-t)/(e-t),n*n*n*(n*(n*6-15)+10))}function k8(n,t){return n+Math.floor(Math.random()*(t-n+1))}function X8(n,t){return n+Math.random()*(t-n)}function j8(n){return n*(.5-Math.random())}function Y8(n){n!==void 0&&(_B=n);let t=_B+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}function W8(n){return n*Wh}function K8(n){return n*mm}function q8(n){return(n&n-1)===0&&n!==0}function J8(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function Q8(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function Z8(n,t,e,i,s){const r=Math.cos,o=Math.sin,l=r(e/2),u=o(e/2),d=r((t+i)/2),m=o((t+i)/2),g=r((t-i)/2),v=o((t-i)/2),A=r((i-t)/2),S=o((i-t)/2);switch(s){case"XYX":n.set(l*m,u*g,u*v,l*d);break;case"YZY":n.set(u*v,l*m,u*g,l*d);break;case"ZXZ":n.set(u*g,u*v,l*m,l*d);break;case"XZX":n.set(l*m,u*S,u*A,l*d);break;case"YXY":n.set(u*A,l*m,u*S,l*d);break;case"ZYZ":n.set(u*S,u*A,l*m,l*d);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+s)}}function Dr(n,t){switch(t.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function qe(n,t){switch(t.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const TC={DEG2RAD:Wh,RAD2DEG:mm,generateUUID:ba,clamp:Ye,euclideanModulo:EC,mapLinear:I8,inverseLerp:F8,lerp:W0,damp:z8,pingpong:H8,smoothstep:G8,smootherstep:V8,randInt:k8,randFloat:X8,randFloatSpread:j8,seededRandom:Y8,degToRad:W8,radToDeg:K8,isPowerOfTwo:q8,ceilPowerOfTwo:J8,floorPowerOfTwo:Q8,setQuaternionFromProperEuler:Z8,normalize:qe,denormalize:Dr};class It{constructor(t=0,e=0){It.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,i=this.y,s=t.elements;return this.x=s[0]*e+s[3]*i+s[6],this.y=s[1]*e+s[4]*i+s[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Ye(this.x,t.x,e.x),this.y=Ye(this.y,t.y,e.y),this}clampScalar(t,e){return this.x=Ye(this.x,t,e),this.y=Ye(this.y,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Ye(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(Ye(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y;return e*e+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const i=Math.cos(e),s=Math.sin(e),r=this.x-t.x,o=this.y-t.y;return this.x=r*i-o*s+t.x,this.y=r*s+o*i+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class We{constructor(t,e,i,s,r,o,l,u,d){We.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],t!==void 0&&this.set(t,e,i,s,r,o,l,u,d)}set(t,e,i,s,r,o,l,u,d){const m=this.elements;return m[0]=t,m[1]=s,m[2]=l,m[3]=e,m[4]=r,m[5]=u,m[6]=i,m[7]=o,m[8]=d,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this}extractBasis(t,e,i){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,s=e.elements,r=this.elements,o=i[0],l=i[3],u=i[6],d=i[1],m=i[4],g=i[7],v=i[2],A=i[5],S=i[8],E=s[0],T=s[3],_=s[6],w=s[1],D=s[4],L=s[7],U=s[2],P=s[5],F=s[8];return r[0]=o*E+l*w+u*U,r[3]=o*T+l*D+u*P,r[6]=o*_+l*L+u*F,r[1]=d*E+m*w+g*U,r[4]=d*T+m*D+g*P,r[7]=d*_+m*L+g*F,r[2]=v*E+A*w+S*U,r[5]=v*T+A*D+S*P,r[8]=v*_+A*L+S*F,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[1],s=t[2],r=t[3],o=t[4],l=t[5],u=t[6],d=t[7],m=t[8];return e*o*m-e*l*d-i*r*m+i*l*u+s*r*d-s*o*u}invert(){const t=this.elements,e=t[0],i=t[1],s=t[2],r=t[3],o=t[4],l=t[5],u=t[6],d=t[7],m=t[8],g=m*o-l*d,v=l*u-m*r,A=d*r-o*u,S=e*g+i*v+s*A;if(S===0)return this.set(0,0,0,0,0,0,0,0,0);const E=1/S;return t[0]=g*E,t[1]=(s*d-m*i)*E,t[2]=(l*i-s*o)*E,t[3]=v*E,t[4]=(m*e-s*u)*E,t[5]=(s*r-l*e)*E,t[6]=A*E,t[7]=(i*u-d*e)*E,t[8]=(o*e-i*r)*E,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,i,s,r,o,l){const u=Math.cos(r),d=Math.sin(r);return this.set(i*u,i*d,-i*(u*o+d*l)+o+t,-s*d,s*u,-s*(-d*o+u*l)+l+e,0,0,1),this}scale(t,e){return this.premultiply(Lb.makeScale(t,e)),this}rotate(t){return this.premultiply(Lb.makeRotation(-t)),this}translate(t,e){return this.premultiply(Lb.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,i,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,i=t.elements;for(let s=0;s<9;s++)if(e[s]!==i[s])return!1;return!0}fromArray(t,e=0){for(let i=0;i<9;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}clone(){return new this.constructor().fromArray(this.elements)}}const Lb=new We;function kN(n){for(let t=n.length-1;t>=0;--t)if(n[t]>=65535)return!0;return!1}const $8={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Yp(n,t){return new $8[n](t)}function gy(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function XN(){const n=gy("canvas");return n.style.display="block",n}const bB={};function zp(n){n in bB||(bB[n]=!0,console.warn(n))}function tk(n,t,e){return new Promise(function(i,s){function r(){switch(n.clientWaitSync(t,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:s();break;case n.TIMEOUT_EXPIRED:setTimeout(r,e);break;default:i()}}setTimeout(r,e)})}function ek(n){const t=n.elements;t[2]=.5*t[2]+.5*t[3],t[6]=.5*t[6]+.5*t[7],t[10]=.5*t[10]+.5*t[11],t[14]=.5*t[14]+.5*t[15]}function nk(n){const t=n.elements;t[11]===-1?(t[10]=-t[10]-1,t[14]=-t[14]):(t[10]=-t[10],t[14]=-t[14]+1)}const MB=new We().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),EB=new We().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function ik(){const n={enabled:!0,workingColorSpace:uf,spaces:{},convert:function(s,r,o){return this.enabled===!1||r===o||!r||!o||(this.spaces[r].transfer===jn&&(s.r=Wc(s.r),s.g=Wc(s.g),s.b=Wc(s.b)),this.spaces[r].primaries!==this.spaces[o].primaries&&(s.applyMatrix3(this.spaces[r].toXYZ),s.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===jn&&(s.r=im(s.r),s.g=im(s.g),s.b=im(s.b))),s},fromWorkingColorSpace:function(s,r){return this.convert(s,this.workingColorSpace,r)},toWorkingColorSpace:function(s,r){return this.convert(s,r,this.workingColorSpace)},getPrimaries:function(s){return this.spaces[s].primaries},getTransfer:function(s){return s===zc?dy:this.spaces[s].transfer},getLuminanceCoefficients:function(s,r=this.workingColorSpace){return s.fromArray(this.spaces[r].luminanceCoefficients)},define:function(s){Object.assign(this.spaces,s)},_getMatrix:function(s,r,o){return s.copy(this.spaces[r].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(s){return this.spaces[s].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(s=this.workingColorSpace){return this.spaces[s].workingColorSpaceConfig.unpackColorSpace}},t=[.64,.33,.3,.6,.15,.06],e=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[uf]:{primaries:t,whitePoint:i,transfer:dy,toXYZ:MB,fromXYZ:EB,luminanceCoefficients:e,workingColorSpaceConfig:{unpackColorSpace:ur},outputColorSpaceConfig:{drawingBufferColorSpace:ur}},[ur]:{primaries:t,whitePoint:i,transfer:jn,toXYZ:MB,fromXYZ:EB,luminanceCoefficients:e,outputColorSpaceConfig:{drawingBufferColorSpace:ur}}}),n}const _n=ik();function Wc(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function im(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let up;class jN{static getDataURL(t){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{up===void 0&&(up=gy("canvas")),up.width=t.width,up.height=t.height;const i=up.getContext("2d");t instanceof ImageData?i.putImageData(t,0,0):i.drawImage(t,0,0,t.width,t.height),e=up}return e.toDataURL("image/png")}static sRGBToLinear(t){if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap){const e=gy("canvas");e.width=t.width,e.height=t.height;const i=e.getContext("2d");i.drawImage(t,0,0,t.width,t.height);const s=i.getImageData(0,0,t.width,t.height),r=s.data;for(let o=0;o<r.length;o++)r[o]=Wc(r[o]/255)*255;return i.putImageData(s,0,0),e}else if(t.data){const e=t.data.slice(0);for(let i=0;i<e.length;i++)e instanceof Uint8Array||e instanceof Uint8ClampedArray?e[i]=Math.floor(Wc(e[i]/255)*255):e[i]=Wc(e[i]);return{data:e,width:t.width,height:t.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}let sk=0;class zh{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:sk++}),this.uuid=ba(),this.data=t,this.dataReady=!0,this.version=0}set needsUpdate(t){t===!0&&this.version++}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.images[this.uuid]!==void 0)return t.images[this.uuid];const i={uuid:this.uuid,url:""},s=this.data;if(s!==null){let r;if(Array.isArray(s)){r=[];for(let o=0,l=s.length;o<l;o++)s[o].isDataTexture?r.push(Ob(s[o].image)):r.push(Ob(s[o]))}else r=Ob(s);i.url=r}return e||(t.images[this.uuid]=i),i}}function Ob(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?jN.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let rk=0;class pi extends Zl{constructor(t=pi.DEFAULT_IMAGE,e=pi.DEFAULT_MAPPING,i=Sa,s=Sa,r=Ki,o=Za,l=fr,u=Yo,d=pi.DEFAULT_ANISOTROPY,m=zc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:rk++}),this.uuid=ba(),this.name="",this.source=new zh(t),this.mipmaps=[],this.mapping=e,this.channel=0,this.wrapS=i,this.wrapT=s,this.magFilter=r,this.minFilter=o,this.anisotropy=d,this.format=l,this.internalFormat=null,this.type=u,this.offset=new It(0,0),this.repeat=new It(1,1),this.center=new It(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new We,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.renderTarget=t.renderTarget,this.isRenderTargetTexture=t.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),e||(t.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==LS)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case cf:t.x=t.x-Math.floor(t.x);break;case Sa:t.x=t.x<0?0:1;break;case fm:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case cf:t.y=t.y-Math.floor(t.y);break;case Sa:t.y=t.y<0?0:1;break;case fm:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){t===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(t){t===!0&&this.pmremVersion++}}pi.DEFAULT_IMAGE=null;pi.DEFAULT_MAPPING=LS;pi.DEFAULT_ANISOTROPY=1;class mn{constructor(t=0,e=0,i=0,s=1){mn.prototype.isVector4=!0,this.x=t,this.y=e,this.z=i,this.w=s}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,i,s){return this.x=t,this.y=e,this.z=i,this.w=s,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,i=this.y,s=this.z,r=this.w,o=t.elements;return this.x=o[0]*e+o[4]*i+o[8]*s+o[12]*r,this.y=o[1]*e+o[5]*i+o[9]*s+o[13]*r,this.z=o[2]*e+o[6]*i+o[10]*s+o[14]*r,this.w=o[3]*e+o[7]*i+o[11]*s+o[15]*r,this}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this.w/=t.w,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,i,s,r;const u=t.elements,d=u[0],m=u[4],g=u[8],v=u[1],A=u[5],S=u[9],E=u[2],T=u[6],_=u[10];if(Math.abs(m-v)<.01&&Math.abs(g-E)<.01&&Math.abs(S-T)<.01){if(Math.abs(m+v)<.1&&Math.abs(g+E)<.1&&Math.abs(S+T)<.1&&Math.abs(d+A+_-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;const D=(d+1)/2,L=(A+1)/2,U=(_+1)/2,P=(m+v)/4,F=(g+E)/4,z=(S+T)/4;return D>L&&D>U?D<.01?(i=0,s=.707106781,r=.707106781):(i=Math.sqrt(D),s=P/i,r=F/i):L>U?L<.01?(i=.707106781,s=0,r=.707106781):(s=Math.sqrt(L),i=P/s,r=z/s):U<.01?(i=.707106781,s=.707106781,r=0):(r=Math.sqrt(U),i=F/r,s=z/r),this.set(i,s,r,e),this}let w=Math.sqrt((T-S)*(T-S)+(g-E)*(g-E)+(v-m)*(v-m));return Math.abs(w)<.001&&(w=1),this.x=(T-S)/w,this.y=(g-E)/w,this.z=(v-m)/w,this.w=Math.acos((d+A+_-1)/2),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this.w=e[15],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Ye(this.x,t.x,e.x),this.y=Ye(this.y,t.y,e.y),this.z=Ye(this.z,t.z,e.z),this.w=Ye(this.w,t.w,e.w),this}clampScalar(t,e){return this.x=Ye(this.x,t,e),this.y=Ye(this.y,t,e),this.z=Ye(this.z,t,e),this.w=Ye(this.w,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Ye(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this.w=t.w+(e.w-t.w)*i,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class GS extends Zl{constructor(t=1,e=1,i={}){super(),this.isRenderTarget=!0,this.width=t,this.height=e,this.depth=1,this.scissor=new mn(0,0,t,e),this.scissorTest=!1,this.viewport=new mn(0,0,t,e);const s={width:t,height:e,depth:1};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Ki,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},i);const r=new pi(s,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);r.flipY=!1,r.generateMipmaps=i.generateMipmaps,r.internalFormat=i.internalFormat,this.textures=[];const o=i.count;for(let l=0;l<o;l++)this.textures[l]=r.clone(),this.textures[l].isRenderTargetTexture=!0,this.textures[l].renderTarget=this;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples}get texture(){return this.textures[0]}set texture(t){this.textures[0]=t}set depthTexture(t){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),t!==null&&(t.renderTarget=this),this._depthTexture=t}get depthTexture(){return this._depthTexture}setSize(t,e,i=1){if(this.width!==t||this.height!==e||this.depth!==i){this.width=t,this.height=e,this.depth=i;for(let s=0,r=this.textures.length;s<r;s++)this.textures[s].image.width=t,this.textures[s].image.height=e,this.textures[s].image.depth=i;this.dispose()}this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return new this.constructor().copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.textures.length=0;for(let i=0,s=t.textures.length;i<s;i++)this.textures[i]=t.textures[i].clone(),this.textures[i].isRenderTargetTexture=!0,this.textures[i].renderTarget=this;const e=Object.assign({},t.texture.image);return this.texture.source=new zh(e),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.resolveDepthBuffer=t.resolveDepthBuffer,this.resolveStencilBuffer=t.resolveStencilBuffer,t.depthTexture!==null&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Jl extends GS{constructor(t=1,e=1,i={}){super(t,e,i),this.isWebGLRenderTarget=!0}}class Xy extends pi{constructor(t=null,e=1,i=1,s=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:e,height:i,depth:s},this.magFilter=Ls,this.minFilter=Ls,this.wrapR=Sa,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class ak extends Jl{constructor(t=1,e=1,i=1,s={}){super(t,e,s),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new Xy(null,t,e,i),this.texture.isRenderTargetTexture=!0}}class VS extends pi{constructor(t=null,e=1,i=1,s=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:e,height:i,depth:s},this.magFilter=Ls,this.minFilter=Ls,this.wrapR=Sa,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class ok extends Jl{constructor(t=1,e=1,i=1,s={}){super(t,e,s),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new VS(null,t,e,i),this.texture.isRenderTargetTexture=!0}}class Ji{constructor(t=0,e=0,i=0,s=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=i,this._w=s}static slerpFlat(t,e,i,s,r,o,l){let u=i[s+0],d=i[s+1],m=i[s+2],g=i[s+3];const v=r[o+0],A=r[o+1],S=r[o+2],E=r[o+3];if(l===0){t[e+0]=u,t[e+1]=d,t[e+2]=m,t[e+3]=g;return}if(l===1){t[e+0]=v,t[e+1]=A,t[e+2]=S,t[e+3]=E;return}if(g!==E||u!==v||d!==A||m!==S){let T=1-l;const _=u*v+d*A+m*S+g*E,w=_>=0?1:-1,D=1-_*_;if(D>Number.EPSILON){const U=Math.sqrt(D),P=Math.atan2(U,_*w);T=Math.sin(T*P)/U,l=Math.sin(l*P)/U}const L=l*w;if(u=u*T+v*L,d=d*T+A*L,m=m*T+S*L,g=g*T+E*L,T===1-l){const U=1/Math.sqrt(u*u+d*d+m*m+g*g);u*=U,d*=U,m*=U,g*=U}}t[e]=u,t[e+1]=d,t[e+2]=m,t[e+3]=g}static multiplyQuaternionsFlat(t,e,i,s,r,o){const l=i[s],u=i[s+1],d=i[s+2],m=i[s+3],g=r[o],v=r[o+1],A=r[o+2],S=r[o+3];return t[e]=l*S+m*g+u*A-d*v,t[e+1]=u*S+m*v+d*g-l*A,t[e+2]=d*S+m*A+l*v-u*g,t[e+3]=m*S-l*g-u*v-d*A,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,i,s){return this._x=t,this._y=e,this._z=i,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e=!0){const i=t._x,s=t._y,r=t._z,o=t._order,l=Math.cos,u=Math.sin,d=l(i/2),m=l(s/2),g=l(r/2),v=u(i/2),A=u(s/2),S=u(r/2);switch(o){case"XYZ":this._x=v*m*g+d*A*S,this._y=d*A*g-v*m*S,this._z=d*m*S+v*A*g,this._w=d*m*g-v*A*S;break;case"YXZ":this._x=v*m*g+d*A*S,this._y=d*A*g-v*m*S,this._z=d*m*S-v*A*g,this._w=d*m*g+v*A*S;break;case"ZXY":this._x=v*m*g-d*A*S,this._y=d*A*g+v*m*S,this._z=d*m*S+v*A*g,this._w=d*m*g-v*A*S;break;case"ZYX":this._x=v*m*g-d*A*S,this._y=d*A*g+v*m*S,this._z=d*m*S-v*A*g,this._w=d*m*g+v*A*S;break;case"YZX":this._x=v*m*g+d*A*S,this._y=d*A*g+v*m*S,this._z=d*m*S-v*A*g,this._w=d*m*g-v*A*S;break;case"XZY":this._x=v*m*g-d*A*S,this._y=d*A*g-v*m*S,this._z=d*m*S+v*A*g,this._w=d*m*g+v*A*S;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return e===!0&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const i=e/2,s=Math.sin(i);return this._x=t.x*s,this._y=t.y*s,this._z=t.z*s,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,i=e[0],s=e[4],r=e[8],o=e[1],l=e[5],u=e[9],d=e[2],m=e[6],g=e[10],v=i+l+g;if(v>0){const A=.5/Math.sqrt(v+1);this._w=.25/A,this._x=(m-u)*A,this._y=(r-d)*A,this._z=(o-s)*A}else if(i>l&&i>g){const A=2*Math.sqrt(1+i-l-g);this._w=(m-u)/A,this._x=.25*A,this._y=(s+o)/A,this._z=(r+d)/A}else if(l>g){const A=2*Math.sqrt(1+l-i-g);this._w=(r-d)/A,this._x=(s+o)/A,this._y=.25*A,this._z=(u+m)/A}else{const A=2*Math.sqrt(1+g-i-l);this._w=(o-s)/A,this._x=(r+d)/A,this._y=(u+m)/A,this._z=.25*A}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let i=t.dot(e)+1;return i<Number.EPSILON?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=i),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(Ye(this.dot(t),-1,1)))}rotateTowards(t,e){const i=this.angleTo(t);if(i===0)return this;const s=Math.min(1,e/i);return this.slerp(t,s),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const i=t._x,s=t._y,r=t._z,o=t._w,l=e._x,u=e._y,d=e._z,m=e._w;return this._x=i*m+o*l+s*d-r*u,this._y=s*m+o*u+r*l-i*d,this._z=r*m+o*d+i*u-s*l,this._w=o*m-i*l-s*u-r*d,this._onChangeCallback(),this}slerp(t,e){if(e===0)return this;if(e===1)return this.copy(t);const i=this._x,s=this._y,r=this._z,o=this._w;let l=o*t._w+i*t._x+s*t._y+r*t._z;if(l<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,l=-l):this.copy(t),l>=1)return this._w=o,this._x=i,this._y=s,this._z=r,this;const u=1-l*l;if(u<=Number.EPSILON){const A=1-e;return this._w=A*o+e*this._w,this._x=A*i+e*this._x,this._y=A*s+e*this._y,this._z=A*r+e*this._z,this.normalize(),this}const d=Math.sqrt(u),m=Math.atan2(d,l),g=Math.sin((1-e)*m)/d,v=Math.sin(e*m)/d;return this._w=o*g+this._w*v,this._x=i*g+this._x*v,this._y=s*g+this._y*v,this._z=r*g+this._z*v,this._onChangeCallback(),this}slerpQuaternions(t,e,i){return this.copy(t).slerp(e,i)}random(){const t=2*Math.PI*Math.random(),e=2*Math.PI*Math.random(),i=Math.random(),s=Math.sqrt(1-i),r=Math.sqrt(i);return this.set(s*Math.sin(t),s*Math.cos(t),r*Math.sin(e),r*Math.cos(e))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class K{constructor(t=0,e=0,i=0){K.prototype.isVector3=!0,this.x=t,this.y=e,this.z=i}set(t,e,i){return i===void 0&&(i=this.z),this.x=t,this.y=e,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(TB.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(TB.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,i=this.y,s=this.z,r=t.elements;return this.x=r[0]*e+r[3]*i+r[6]*s,this.y=r[1]*e+r[4]*i+r[7]*s,this.z=r[2]*e+r[5]*i+r[8]*s,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,i=this.y,s=this.z,r=t.elements,o=1/(r[3]*e+r[7]*i+r[11]*s+r[15]);return this.x=(r[0]*e+r[4]*i+r[8]*s+r[12])*o,this.y=(r[1]*e+r[5]*i+r[9]*s+r[13])*o,this.z=(r[2]*e+r[6]*i+r[10]*s+r[14])*o,this}applyQuaternion(t){const e=this.x,i=this.y,s=this.z,r=t.x,o=t.y,l=t.z,u=t.w,d=2*(o*s-l*i),m=2*(l*e-r*s),g=2*(r*i-o*e);return this.x=e+u*d+o*g-l*m,this.y=i+u*m+l*d-r*g,this.z=s+u*g+r*m-o*d,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,i=this.y,s=this.z,r=t.elements;return this.x=r[0]*e+r[4]*i+r[8]*s,this.y=r[1]*e+r[5]*i+r[9]*s,this.z=r[2]*e+r[6]*i+r[10]*s,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Ye(this.x,t.x,e.x),this.y=Ye(this.y,t.y,e.y),this.z=Ye(this.z,t.z,e.z),this}clampScalar(t,e){return this.x=Ye(this.x,t,e),this.y=Ye(this.y,t,e),this.z=Ye(this.z,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Ye(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const i=t.x,s=t.y,r=t.z,o=e.x,l=e.y,u=e.z;return this.x=s*u-r*l,this.y=r*o-i*u,this.z=i*l-s*o,this}projectOnVector(t){const e=t.lengthSq();if(e===0)return this.set(0,0,0);const i=t.dot(this)/e;return this.copy(t).multiplyScalar(i)}projectOnPlane(t){return Ub.copy(this).projectOnVector(t),this.sub(Ub)}reflect(t){return this.sub(Ub.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(Ye(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y,s=this.z-t.z;return e*e+i*i+s*s}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,i){const s=Math.sin(e)*t;return this.x=s*Math.sin(i),this.y=Math.cos(e)*t,this.z=s*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,i){return this.x=t*Math.sin(e),this.y=i,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),s=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=s,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,e*4)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,e*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=Math.random()*Math.PI*2,e=Math.random()*2-1,i=Math.sqrt(1-e*e);return this.x=i*Math.cos(t),this.y=e,this.z=i*Math.sin(t),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Ub=new K,TB=new Ji;class pr{constructor(t=new K(1/0,1/0,1/0),e=new K(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e+=3)this.expandByPoint(Po.fromArray(t,e));return this}setFromBufferAttribute(t){this.makeEmpty();for(let e=0,i=t.count;e<i;e++)this.expandByPoint(Po.fromBufferAttribute(t,e));return this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=Po.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){t.updateWorldMatrix(!1,!1);const i=t.geometry;if(i!==void 0){const r=i.getAttribute("position");if(e===!0&&r!==void 0&&t.isInstancedMesh!==!0)for(let o=0,l=r.count;o<l;o++)t.isMesh===!0?t.getVertexPosition(o,Po):Po.fromBufferAttribute(r,o),Po.applyMatrix4(t.matrixWorld),this.expandByPoint(Po);else t.boundingBox!==void 0?(t.boundingBox===null&&t.computeBoundingBox(),Yx.copy(t.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),Yx.copy(i.boundingBox)),Yx.applyMatrix4(t.matrixWorld),this.union(Yx)}const s=t.children;for(let r=0,o=s.length;r<o;r++)this.expandByObject(s[r],e);return this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y&&t.z>=this.min.z&&t.z<=this.max.z}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y&&t.max.z>=this.min.z&&t.min.z<=this.max.z}intersectsSphere(t){return this.clampPoint(t.center,Po),Po.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,i;return t.normal.x>0?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e<=-t.constant&&i>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(i0),Wx.subVectors(this.max,i0),fp.subVectors(t.a,i0),hp.subVectors(t.b,i0),dp.subVectors(t.c,i0),Vu.subVectors(hp,fp),ku.subVectors(dp,hp),uh.subVectors(fp,dp);let e=[0,-Vu.z,Vu.y,0,-ku.z,ku.y,0,-uh.z,uh.y,Vu.z,0,-Vu.x,ku.z,0,-ku.x,uh.z,0,-uh.x,-Vu.y,Vu.x,0,-ku.y,ku.x,0,-uh.y,uh.x,0];return!Pb(e,fp,hp,dp,Wx)||(e=[1,0,0,0,1,0,0,0,1],!Pb(e,fp,hp,dp,Wx))?!1:(Kx.crossVectors(Vu,ku),e=[Kx.x,Kx.y,Kx.z],Pb(e,fp,hp,dp,Wx))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,Po).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=this.getSize(Po).length()*.5),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(Rc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),Rc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),Rc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),Rc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),Rc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),Rc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),Rc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),Rc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(Rc),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const Rc=[new K,new K,new K,new K,new K,new K,new K,new K],Po=new K,Yx=new pr,fp=new K,hp=new K,dp=new K,Vu=new K,ku=new K,uh=new K,i0=new K,Wx=new K,Kx=new K,fh=new K;function Pb(n,t,e,i,s){for(let r=0,o=n.length-3;r<=o;r+=3){fh.fromArray(n,r);const l=s.x*Math.abs(fh.x)+s.y*Math.abs(fh.y)+s.z*Math.abs(fh.z),u=t.dot(fh),d=e.dot(fh),m=i.dot(fh);if(Math.max(-Math.max(u,d,m),Math.min(u,d,m))>l)return!1}return!0}const lk=new pr,s0=new K,Nb=new K;class Ys{constructor(t=new K,e=-1){this.isSphere=!0,this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const i=this.center;e!==void 0?i.copy(e):lk.setFromPoints(t).getCenter(i);let s=0;for(let r=0,o=t.length;r<o;r++)s=Math.max(s,i.distanceToSquared(t[r]));return this.radius=Math.sqrt(s),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const i=this.center.distanceToSquared(t);return e.copy(t),i>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;s0.subVectors(t,this.center);const e=s0.lengthSq();if(e>this.radius*this.radius){const i=Math.sqrt(e),s=(i-this.radius)*.5;this.center.addScaledVector(s0,s/i),this.radius+=s}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(this.center.equals(t.center)===!0?this.radius=Math.max(this.radius,t.radius):(Nb.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(s0.copy(t.center).add(Nb)),this.expandByPoint(s0.copy(t.center).sub(Nb))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return new this.constructor().copy(this)}}const wc=new K,Ib=new K,qx=new K,Xu=new K,Fb=new K,Jx=new K,zb=new K;class Bm{constructor(t=new K,e=new K(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,wc)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const i=e.dot(this.direction);return i<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=wc.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(wc.copy(this.origin).addScaledVector(this.direction,e),wc.distanceToSquared(t))}distanceSqToSegment(t,e,i,s){Ib.copy(t).add(e).multiplyScalar(.5),qx.copy(e).sub(t).normalize(),Xu.copy(this.origin).sub(Ib);const r=t.distanceTo(e)*.5,o=-this.direction.dot(qx),l=Xu.dot(this.direction),u=-Xu.dot(qx),d=Xu.lengthSq(),m=Math.abs(1-o*o);let g,v,A,S;if(m>0)if(g=o*u-l,v=o*l-u,S=r*m,g>=0)if(v>=-S)if(v<=S){const E=1/m;g*=E,v*=E,A=g*(g+o*v+2*l)+v*(o*g+v+2*u)+d}else v=r,g=Math.max(0,-(o*v+l)),A=-g*g+v*(v+2*u)+d;else v=-r,g=Math.max(0,-(o*v+l)),A=-g*g+v*(v+2*u)+d;else v<=-S?(g=Math.max(0,-(-o*r+l)),v=g>0?-r:Math.min(Math.max(-r,-u),r),A=-g*g+v*(v+2*u)+d):v<=S?(g=0,v=Math.min(Math.max(-r,-u),r),A=v*(v+2*u)+d):(g=Math.max(0,-(o*r+l)),v=g>0?r:Math.min(Math.max(-r,-u),r),A=-g*g+v*(v+2*u)+d);else v=o>0?-r:r,g=Math.max(0,-(o*v+l)),A=-g*g+v*(v+2*u)+d;return i&&i.copy(this.origin).addScaledVector(this.direction,g),s&&s.copy(Ib).addScaledVector(qx,v),A}intersectSphere(t,e){wc.subVectors(t.center,this.origin);const i=wc.dot(this.direction),s=wc.dot(wc)-i*i,r=t.radius*t.radius;if(s>r)return null;const o=Math.sqrt(r-s),l=i-o,u=i+o;return u<0?null:l<0?this.at(u,e):this.at(l,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(e===0)return t.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(t.normal)+t.constant)/e;return i>=0?i:null}intersectPlane(t,e){const i=this.distanceToPlane(t);return i===null?null:this.at(i,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return e===0||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let i,s,r,o,l,u;const d=1/this.direction.x,m=1/this.direction.y,g=1/this.direction.z,v=this.origin;return d>=0?(i=(t.min.x-v.x)*d,s=(t.max.x-v.x)*d):(i=(t.max.x-v.x)*d,s=(t.min.x-v.x)*d),m>=0?(r=(t.min.y-v.y)*m,o=(t.max.y-v.y)*m):(r=(t.max.y-v.y)*m,o=(t.min.y-v.y)*m),i>o||r>s||((r>i||isNaN(i))&&(i=r),(o<s||isNaN(s))&&(s=o),g>=0?(l=(t.min.z-v.z)*g,u=(t.max.z-v.z)*g):(l=(t.max.z-v.z)*g,u=(t.min.z-v.z)*g),i>u||l>s)||((l>i||i!==i)&&(i=l),(u<s||s!==s)&&(s=u),s<0)?null:this.at(i>=0?i:s,e)}intersectsBox(t){return this.intersectBox(t,wc)!==null}intersectTriangle(t,e,i,s,r){Fb.subVectors(e,t),Jx.subVectors(i,t),zb.crossVectors(Fb,Jx);let o=this.direction.dot(zb),l;if(o>0){if(s)return null;l=1}else if(o<0)l=-1,o=-o;else return null;Xu.subVectors(this.origin,t);const u=l*this.direction.dot(Jx.crossVectors(Xu,Jx));if(u<0)return null;const d=l*this.direction.dot(Fb.cross(Xu));if(d<0||u+d>o)return null;const m=-l*Xu.dot(zb);return m<0?null:this.at(m/o,r)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Be{constructor(t,e,i,s,r,o,l,u,d,m,g,v,A,S,E,T){Be.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],t!==void 0&&this.set(t,e,i,s,r,o,l,u,d,m,g,v,A,S,E,T)}set(t,e,i,s,r,o,l,u,d,m,g,v,A,S,E,T){const _=this.elements;return _[0]=t,_[4]=e,_[8]=i,_[12]=s,_[1]=r,_[5]=o,_[9]=l,_[13]=u,_[2]=d,_[6]=m,_[10]=g,_[14]=v,_[3]=A,_[7]=S,_[11]=E,_[15]=T,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Be().fromArray(this.elements)}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this}copyPosition(t){const e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,i=t.elements,s=1/pp.setFromMatrixColumn(t,0).length(),r=1/pp.setFromMatrixColumn(t,1).length(),o=1/pp.setFromMatrixColumn(t,2).length();return e[0]=i[0]*s,e[1]=i[1]*s,e[2]=i[2]*s,e[3]=0,e[4]=i[4]*r,e[5]=i[5]*r,e[6]=i[6]*r,e[7]=0,e[8]=i[8]*o,e[9]=i[9]*o,e[10]=i[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){const e=this.elements,i=t.x,s=t.y,r=t.z,o=Math.cos(i),l=Math.sin(i),u=Math.cos(s),d=Math.sin(s),m=Math.cos(r),g=Math.sin(r);if(t.order==="XYZ"){const v=o*m,A=o*g,S=l*m,E=l*g;e[0]=u*m,e[4]=-u*g,e[8]=d,e[1]=A+S*d,e[5]=v-E*d,e[9]=-l*u,e[2]=E-v*d,e[6]=S+A*d,e[10]=o*u}else if(t.order==="YXZ"){const v=u*m,A=u*g,S=d*m,E=d*g;e[0]=v+E*l,e[4]=S*l-A,e[8]=o*d,e[1]=o*g,e[5]=o*m,e[9]=-l,e[2]=A*l-S,e[6]=E+v*l,e[10]=o*u}else if(t.order==="ZXY"){const v=u*m,A=u*g,S=d*m,E=d*g;e[0]=v-E*l,e[4]=-o*g,e[8]=S+A*l,e[1]=A+S*l,e[5]=o*m,e[9]=E-v*l,e[2]=-o*d,e[6]=l,e[10]=o*u}else if(t.order==="ZYX"){const v=o*m,A=o*g,S=l*m,E=l*g;e[0]=u*m,e[4]=S*d-A,e[8]=v*d+E,e[1]=u*g,e[5]=E*d+v,e[9]=A*d-S,e[2]=-d,e[6]=l*u,e[10]=o*u}else if(t.order==="YZX"){const v=o*u,A=o*d,S=l*u,E=l*d;e[0]=u*m,e[4]=E-v*g,e[8]=S*g+A,e[1]=g,e[5]=o*m,e[9]=-l*m,e[2]=-d*m,e[6]=A*g+S,e[10]=v-E*g}else if(t.order==="XZY"){const v=o*u,A=o*d,S=l*u,E=l*d;e[0]=u*m,e[4]=-g,e[8]=d*m,e[1]=v*g+E,e[5]=o*m,e[9]=A*g-S,e[2]=S*g-A,e[6]=l*m,e[10]=E*g+v}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(ck,t,uk)}lookAt(t,e,i){const s=this.elements;return va.subVectors(t,e),va.lengthSq()===0&&(va.z=1),va.normalize(),ju.crossVectors(i,va),ju.lengthSq()===0&&(Math.abs(i.z)===1?va.x+=1e-4:va.z+=1e-4,va.normalize(),ju.crossVectors(i,va)),ju.normalize(),Qx.crossVectors(va,ju),s[0]=ju.x,s[4]=Qx.x,s[8]=va.x,s[1]=ju.y,s[5]=Qx.y,s[9]=va.y,s[2]=ju.z,s[6]=Qx.z,s[10]=va.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,s=e.elements,r=this.elements,o=i[0],l=i[4],u=i[8],d=i[12],m=i[1],g=i[5],v=i[9],A=i[13],S=i[2],E=i[6],T=i[10],_=i[14],w=i[3],D=i[7],L=i[11],U=i[15],P=s[0],F=s[4],z=s[8],N=s[12],B=s[1],H=s[5],st=s[9],tt=s[13],J=s[2],lt=s[6],$=s[10],et=s[14],Q=s[3],At=s[7],j=s[11],rt=s[15];return r[0]=o*P+l*B+u*J+d*Q,r[4]=o*F+l*H+u*lt+d*At,r[8]=o*z+l*st+u*$+d*j,r[12]=o*N+l*tt+u*et+d*rt,r[1]=m*P+g*B+v*J+A*Q,r[5]=m*F+g*H+v*lt+A*At,r[9]=m*z+g*st+v*$+A*j,r[13]=m*N+g*tt+v*et+A*rt,r[2]=S*P+E*B+T*J+_*Q,r[6]=S*F+E*H+T*lt+_*At,r[10]=S*z+E*st+T*$+_*j,r[14]=S*N+E*tt+T*et+_*rt,r[3]=w*P+D*B+L*J+U*Q,r[7]=w*F+D*H+L*lt+U*At,r[11]=w*z+D*st+L*$+U*j,r[15]=w*N+D*tt+L*et+U*rt,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[4],s=t[8],r=t[12],o=t[1],l=t[5],u=t[9],d=t[13],m=t[2],g=t[6],v=t[10],A=t[14],S=t[3],E=t[7],T=t[11],_=t[15];return S*(+r*u*g-s*d*g-r*l*v+i*d*v+s*l*A-i*u*A)+E*(+e*u*A-e*d*v+r*o*v-s*o*A+s*d*m-r*u*m)+T*(+e*d*g-e*l*A-r*o*g+i*o*A+r*l*m-i*d*m)+_*(-s*l*m-e*u*g+e*l*v+s*o*g-i*o*v+i*u*m)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,i){const s=this.elements;return t.isVector3?(s[12]=t.x,s[13]=t.y,s[14]=t.z):(s[12]=t,s[13]=e,s[14]=i),this}invert(){const t=this.elements,e=t[0],i=t[1],s=t[2],r=t[3],o=t[4],l=t[5],u=t[6],d=t[7],m=t[8],g=t[9],v=t[10],A=t[11],S=t[12],E=t[13],T=t[14],_=t[15],w=g*T*d-E*v*d+E*u*A-l*T*A-g*u*_+l*v*_,D=S*v*d-m*T*d-S*u*A+o*T*A+m*u*_-o*v*_,L=m*E*d-S*g*d+S*l*A-o*E*A-m*l*_+o*g*_,U=S*g*u-m*E*u-S*l*v+o*E*v+m*l*T-o*g*T,P=e*w+i*D+s*L+r*U;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const F=1/P;return t[0]=w*F,t[1]=(E*v*r-g*T*r-E*s*A+i*T*A+g*s*_-i*v*_)*F,t[2]=(l*T*r-E*u*r+E*s*d-i*T*d-l*s*_+i*u*_)*F,t[3]=(g*u*r-l*v*r-g*s*d+i*v*d+l*s*A-i*u*A)*F,t[4]=D*F,t[5]=(m*T*r-S*v*r+S*s*A-e*T*A-m*s*_+e*v*_)*F,t[6]=(S*u*r-o*T*r-S*s*d+e*T*d+o*s*_-e*u*_)*F,t[7]=(o*v*r-m*u*r+m*s*d-e*v*d-o*s*A+e*u*A)*F,t[8]=L*F,t[9]=(S*g*r-m*E*r-S*i*A+e*E*A+m*i*_-e*g*_)*F,t[10]=(o*E*r-S*l*r+S*i*d-e*E*d-o*i*_+e*l*_)*F,t[11]=(m*l*r-o*g*r-m*i*d+e*g*d+o*i*A-e*l*A)*F,t[12]=U*F,t[13]=(m*E*s-S*g*s+S*i*v-e*E*v-m*i*T+e*g*T)*F,t[14]=(S*l*s-o*E*s-S*i*u+e*E*u+o*i*T-e*l*T)*F,t[15]=(o*g*s-m*l*s+m*i*u-e*g*u-o*i*v+e*l*v)*F,this}scale(t){const e=this.elements,i=t.x,s=t.y,r=t.z;return e[0]*=i,e[4]*=s,e[8]*=r,e[1]*=i,e[5]*=s,e[9]*=r,e[2]*=i,e[6]*=s,e[10]*=r,e[3]*=i,e[7]*=s,e[11]*=r,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],s=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,s))}makeTranslation(t,e,i){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const i=Math.cos(e),s=Math.sin(e),r=1-i,o=t.x,l=t.y,u=t.z,d=r*o,m=r*l;return this.set(d*o+i,d*l-s*u,d*u+s*l,0,d*l+s*u,m*l+i,m*u-s*o,0,d*u-s*l,m*u+s*o,r*u*u+i,0,0,0,0,1),this}makeScale(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this}makeShear(t,e,i,s,r,o){return this.set(1,i,r,0,t,1,o,0,e,s,1,0,0,0,0,1),this}compose(t,e,i){const s=this.elements,r=e._x,o=e._y,l=e._z,u=e._w,d=r+r,m=o+o,g=l+l,v=r*d,A=r*m,S=r*g,E=o*m,T=o*g,_=l*g,w=u*d,D=u*m,L=u*g,U=i.x,P=i.y,F=i.z;return s[0]=(1-(E+_))*U,s[1]=(A+L)*U,s[2]=(S-D)*U,s[3]=0,s[4]=(A-L)*P,s[5]=(1-(v+_))*P,s[6]=(T+w)*P,s[7]=0,s[8]=(S+D)*F,s[9]=(T-w)*F,s[10]=(1-(v+E))*F,s[11]=0,s[12]=t.x,s[13]=t.y,s[14]=t.z,s[15]=1,this}decompose(t,e,i){const s=this.elements;let r=pp.set(s[0],s[1],s[2]).length();const o=pp.set(s[4],s[5],s[6]).length(),l=pp.set(s[8],s[9],s[10]).length();this.determinant()<0&&(r=-r),t.x=s[12],t.y=s[13],t.z=s[14],No.copy(this);const d=1/r,m=1/o,g=1/l;return No.elements[0]*=d,No.elements[1]*=d,No.elements[2]*=d,No.elements[4]*=m,No.elements[5]*=m,No.elements[6]*=m,No.elements[8]*=g,No.elements[9]*=g,No.elements[10]*=g,e.setFromRotationMatrix(No),i.x=r,i.y=o,i.z=l,this}makePerspective(t,e,i,s,r,o,l=Xo){const u=this.elements,d=2*r/(e-t),m=2*r/(i-s),g=(e+t)/(e-t),v=(i+s)/(i-s);let A,S;if(l===Xo)A=-(o+r)/(o-r),S=-2*o*r/(o-r);else if(l===my)A=-o/(o-r),S=-o*r/(o-r);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return u[0]=d,u[4]=0,u[8]=g,u[12]=0,u[1]=0,u[5]=m,u[9]=v,u[13]=0,u[2]=0,u[6]=0,u[10]=A,u[14]=S,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(t,e,i,s,r,o,l=Xo){const u=this.elements,d=1/(e-t),m=1/(i-s),g=1/(o-r),v=(e+t)*d,A=(i+s)*m;let S,E;if(l===Xo)S=(o+r)*g,E=-2*g;else if(l===my)S=r*g,E=-1*g;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return u[0]=2*d,u[4]=0,u[8]=0,u[12]=-v,u[1]=0,u[5]=2*m,u[9]=0,u[13]=-A,u[2]=0,u[6]=0,u[10]=E,u[14]=-S,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(t){const e=this.elements,i=t.elements;for(let s=0;s<16;s++)if(e[s]!==i[s])return!1;return!0}fromArray(t,e=0){for(let i=0;i<16;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}}const pp=new K,No=new Be,ck=new K(0,0,0),uk=new K(1,1,1),ju=new K,Qx=new K,va=new K,CB=new Be,RB=new Ji;class ea{constructor(t=0,e=0,i=0,s=ea.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=e,this._z=i,this._order=s}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,i,s=this._order){return this._x=t,this._y=e,this._z=i,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,i=!0){const s=t.elements,r=s[0],o=s[4],l=s[8],u=s[1],d=s[5],m=s[9],g=s[2],v=s[6],A=s[10];switch(e){case"XYZ":this._y=Math.asin(Ye(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-m,A),this._z=Math.atan2(-o,r)):(this._x=Math.atan2(v,d),this._z=0);break;case"YXZ":this._x=Math.asin(-Ye(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(l,A),this._z=Math.atan2(u,d)):(this._y=Math.atan2(-g,r),this._z=0);break;case"ZXY":this._x=Math.asin(Ye(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(-g,A),this._z=Math.atan2(-o,d)):(this._y=0,this._z=Math.atan2(u,r));break;case"ZYX":this._y=Math.asin(-Ye(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(v,A),this._z=Math.atan2(u,r)):(this._x=0,this._z=Math.atan2(-o,d));break;case"YZX":this._z=Math.asin(Ye(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-m,d),this._y=Math.atan2(-g,r)):(this._x=0,this._y=Math.atan2(l,A));break;case"XZY":this._z=Math.asin(-Ye(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(v,d),this._y=Math.atan2(l,r)):(this._x=Math.atan2(-m,A),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,i===!0&&this._onChangeCallback(),this}setFromQuaternion(t,e,i){return CB.makeRotationFromQuaternion(t),this.setFromRotationMatrix(CB,e,i)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return RB.setFromEuler(this),this.setFromQuaternion(RB,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ea.DEFAULT_ORDER="XYZ";class gm{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}isEnabled(t){return(this.mask&(1<<t|0))!==0}}let fk=0;const wB=new K,mp=new Ji,Bc=new Be,Zx=new K,r0=new K,hk=new K,dk=new Ji,BB=new K(1,0,0),DB=new K(0,1,0),LB=new K(0,0,1),OB={type:"added"},pk={type:"removed"},gp={type:"childadded",child:null},Hb={type:"childremoved",child:null};class gn extends Zl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:fk++}),this.uuid=ba(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=gn.DEFAULT_UP.clone();const t=new K,e=new ea,i=new Ji,s=new K(1,1,1);function r(){i.setFromEuler(e,!1)}function o(){e.setFromQuaternion(i,void 0,!1)}e._onChange(r),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new Be},normalMatrix:{value:new We}}),this.matrix=new Be,this.matrixWorld=new Be,this.matrixAutoUpdate=gn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=gn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new gm,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return mp.setFromAxisAngle(t,e),this.quaternion.multiply(mp),this}rotateOnWorldAxis(t,e){return mp.setFromAxisAngle(t,e),this.quaternion.premultiply(mp),this}rotateX(t){return this.rotateOnAxis(BB,t)}rotateY(t){return this.rotateOnAxis(DB,t)}rotateZ(t){return this.rotateOnAxis(LB,t)}translateOnAxis(t,e){return wB.copy(t).applyQuaternion(this.quaternion),this.position.add(wB.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(BB,t)}translateY(t){return this.translateOnAxis(DB,t)}translateZ(t){return this.translateOnAxis(LB,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(Bc.copy(this.matrixWorld).invert())}lookAt(t,e,i){t.isVector3?Zx.copy(t):Zx.set(t,e,i);const s=this.parent;this.updateWorldMatrix(!0,!1),r0.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Bc.lookAt(r0,Zx,this.up):Bc.lookAt(Zx,r0,this.up),this.quaternion.setFromRotationMatrix(Bc),s&&(Bc.extractRotation(s.matrixWorld),mp.setFromRotationMatrix(Bc),this.quaternion.premultiply(mp.invert()))}add(t){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.removeFromParent(),t.parent=this,this.children.push(t),t.dispatchEvent(OB),gp.child=t,this.dispatchEvent(gp),gp.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const e=this.children.indexOf(t);return e!==-1&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(pk),Hb.child=t,this.dispatchEvent(Hb),Hb.child=null),this}removeFromParent(){const t=this.parent;return t!==null&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),Bc.copy(this.matrixWorld).invert(),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),Bc.multiply(t.parent.matrixWorld)),t.applyMatrix4(Bc),t.removeFromParent(),t.parent=this,this.children.push(t),t.updateWorldMatrix(!1,!0),t.dispatchEvent(OB),gp.child=t,this.dispatchEvent(gp),gp.child=null,this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectByProperty(t,e);if(o!==void 0)return o}}getObjectsByProperty(t,e,i=[]){this[t]===e&&i.push(this);const s=this.children;for(let r=0,o=s.length;r<o;r++)s[r].getObjectsByProperty(t,e,i);return i}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(r0,t,hk),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(r0,dk,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let i=0,s=e.length;i<s;i++)e[i].traverse(t)}traverseVisible(t){if(this.visible===!1)return;t(this);const e=this.children;for(let i=0,s=e.length;i<s;i++)e[i].traverseVisible(t)}traverseAncestors(t){const e=this.parent;e!==null&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let i=0,s=e.length;i<s;i++)e[i].updateMatrixWorld(t)}updateWorldMatrix(t,e){const i=this.parent;if(t===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),e===!0){const s=this.children;for(let r=0,o=s.length;r<o;r++)s[r].updateWorldMatrix(!1,!0)}}toJSON(t){const e=t===void 0||typeof t=="string",i={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const s={};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.castShadow===!0&&(s.castShadow=!0),this.receiveShadow===!0&&(s.receiveShadow=!0),this.visible===!1&&(s.visible=!1),this.frustumCulled===!1&&(s.frustumCulled=!1),this.renderOrder!==0&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(s.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(s.type="BatchedMesh",s.perObjectFrustumCulled=this.perObjectFrustumCulled,s.sortObjects=this.sortObjects,s.drawRanges=this._drawRanges,s.reservedRanges=this._reservedRanges,s.visibility=this._visibility,s.active=this._active,s.bounds=this._bounds.map(l=>({boxInitialized:l.boxInitialized,boxMin:l.box.min.toArray(),boxMax:l.box.max.toArray(),sphereInitialized:l.sphereInitialized,sphereRadius:l.sphere.radius,sphereCenter:l.sphere.center.toArray()})),s.maxInstanceCount=this._maxInstanceCount,s.maxVertexCount=this._maxVertexCount,s.maxIndexCount=this._maxIndexCount,s.geometryInitialized=this._geometryInitialized,s.geometryCount=this._geometryCount,s.matricesTexture=this._matricesTexture.toJSON(t),this._colorsTexture!==null&&(s.colorsTexture=this._colorsTexture.toJSON(t)),this.boundingSphere!==null&&(s.boundingSphere={center:s.boundingSphere.center.toArray(),radius:s.boundingSphere.radius}),this.boundingBox!==null&&(s.boundingBox={min:s.boundingBox.min.toArray(),max:s.boundingBox.max.toArray()}));function r(l,u){return l[u.uuid]===void 0&&(l[u.uuid]=u.toJSON(t)),u.uuid}if(this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(s.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=r(t.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const u=l.shapes;if(Array.isArray(u))for(let d=0,m=u.length;d<m;d++){const g=u[d];r(t.shapes,g)}else r(t.shapes,u)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(r(t.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let u=0,d=this.material.length;u<d;u++)l.push(r(t.materials,this.material[u]));s.material=l}else s.material=r(t.materials,this.material);if(this.children.length>0){s.children=[];for(let l=0;l<this.children.length;l++)s.children.push(this.children[l].toJSON(t).object)}if(this.animations.length>0){s.animations=[];for(let l=0;l<this.animations.length;l++){const u=this.animations[l];s.animations.push(r(t.animations,u))}}if(e){const l=o(t.geometries),u=o(t.materials),d=o(t.textures),m=o(t.images),g=o(t.shapes),v=o(t.skeletons),A=o(t.animations),S=o(t.nodes);l.length>0&&(i.geometries=l),u.length>0&&(i.materials=u),d.length>0&&(i.textures=d),m.length>0&&(i.images=m),g.length>0&&(i.shapes=g),v.length>0&&(i.skeletons=v),A.length>0&&(i.animations=A),S.length>0&&(i.nodes=S)}return i.object=s,i;function o(l){const u=[];for(const d in l){const m=l[d];delete m.metadata,u.push(m)}return u}}clone(t){return new this.constructor().copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),e===!0)for(let i=0;i<t.children.length;i++){const s=t.children[i];this.add(s.clone())}return this}}gn.DEFAULT_UP=new K(0,1,0);gn.DEFAULT_MATRIX_AUTO_UPDATE=!0;gn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Io=new K,Dc=new K,Gb=new K,Lc=new K,yp=new K,vp=new K,UB=new K,Vb=new K,kb=new K,Xb=new K,jb=new mn,Yb=new mn,Wb=new mn;class $r{constructor(t=new K,e=new K,i=new K){this.a=t,this.b=e,this.c=i}static getNormal(t,e,i,s){s.subVectors(i,e),Io.subVectors(t,e),s.cross(Io);const r=s.lengthSq();return r>0?s.multiplyScalar(1/Math.sqrt(r)):s.set(0,0,0)}static getBarycoord(t,e,i,s,r){Io.subVectors(s,e),Dc.subVectors(i,e),Gb.subVectors(t,e);const o=Io.dot(Io),l=Io.dot(Dc),u=Io.dot(Gb),d=Dc.dot(Dc),m=Dc.dot(Gb),g=o*d-l*l;if(g===0)return r.set(0,0,0),null;const v=1/g,A=(d*u-l*m)*v,S=(o*m-l*u)*v;return r.set(1-A-S,S,A)}static containsPoint(t,e,i,s){return this.getBarycoord(t,e,i,s,Lc)===null?!1:Lc.x>=0&&Lc.y>=0&&Lc.x+Lc.y<=1}static getInterpolation(t,e,i,s,r,o,l,u){return this.getBarycoord(t,e,i,s,Lc)===null?(u.x=0,u.y=0,"z"in u&&(u.z=0),"w"in u&&(u.w=0),null):(u.setScalar(0),u.addScaledVector(r,Lc.x),u.addScaledVector(o,Lc.y),u.addScaledVector(l,Lc.z),u)}static getInterpolatedAttribute(t,e,i,s,r,o){return jb.setScalar(0),Yb.setScalar(0),Wb.setScalar(0),jb.fromBufferAttribute(t,e),Yb.fromBufferAttribute(t,i),Wb.fromBufferAttribute(t,s),o.setScalar(0),o.addScaledVector(jb,r.x),o.addScaledVector(Yb,r.y),o.addScaledVector(Wb,r.z),o}static isFrontFacing(t,e,i,s){return Io.subVectors(i,e),Dc.subVectors(t,e),Io.cross(Dc).dot(s)<0}set(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this}setFromPointsAndIndices(t,e,i,s){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[s]),this}setFromAttributeAndIndices(t,e,i,s){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,i),this.c.fromBufferAttribute(t,s),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return Io.subVectors(this.c,this.b),Dc.subVectors(this.a,this.b),Io.cross(Dc).length()*.5}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return $r.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return $r.getBarycoord(t,this.a,this.b,this.c,e)}getInterpolation(t,e,i,s,r){return $r.getInterpolation(t,this.a,this.b,this.c,e,i,s,r)}containsPoint(t){return $r.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return $r.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const i=this.a,s=this.b,r=this.c;let o,l;yp.subVectors(s,i),vp.subVectors(r,i),Vb.subVectors(t,i);const u=yp.dot(Vb),d=vp.dot(Vb);if(u<=0&&d<=0)return e.copy(i);kb.subVectors(t,s);const m=yp.dot(kb),g=vp.dot(kb);if(m>=0&&g<=m)return e.copy(s);const v=u*g-m*d;if(v<=0&&u>=0&&m<=0)return o=u/(u-m),e.copy(i).addScaledVector(yp,o);Xb.subVectors(t,r);const A=yp.dot(Xb),S=vp.dot(Xb);if(S>=0&&A<=S)return e.copy(r);const E=A*d-u*S;if(E<=0&&d>=0&&S<=0)return l=d/(d-S),e.copy(i).addScaledVector(vp,l);const T=m*S-A*g;if(T<=0&&g-m>=0&&A-S>=0)return UB.subVectors(r,s),l=(g-m)/(g-m+(A-S)),e.copy(s).addScaledVector(UB,l);const _=1/(T+E+v);return o=E*_,l=v*_,e.copy(i).addScaledVector(yp,o).addScaledVector(vp,l)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const YN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Yu={h:0,s:0,l:0},$x={h:0,s:0,l:0};function Kb(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*6*(2/3-e):n}class ie{constructor(t,e,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,i)}set(t,e,i){if(e===void 0&&i===void 0){const s=t;s&&s.isColor?this.copy(s):typeof s=="number"?this.setHex(s):typeof s=="string"&&this.setStyle(s)}else this.setRGB(t,e,i);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=ur){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,_n.toWorkingColorSpace(this,e),this}setRGB(t,e,i,s=_n.workingColorSpace){return this.r=t,this.g=e,this.b=i,_n.toWorkingColorSpace(this,s),this}setHSL(t,e,i,s=_n.workingColorSpace){if(t=EC(t,1),e=Ye(e,0,1),i=Ye(i,0,1),e===0)this.r=this.g=this.b=i;else{const r=i<=.5?i*(1+e):i+e-i*e,o=2*i-r;this.r=Kb(o,r,t+1/3),this.g=Kb(o,r,t),this.b=Kb(o,r,t-1/3)}return _n.toWorkingColorSpace(this,s),this}setStyle(t,e=ur){function i(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let s;if(s=/^(\w+)\(([^\)]*)\)/.exec(t)){let r;const o=s[1],l=s[2];switch(o){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,e);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,e);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,e);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(s=/^\#([A-Fa-f\d]+)$/.exec(t)){const r=s[1],o=r.length;if(o===3)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,e);if(o===6)return this.setHex(parseInt(r,16),e);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,e);return this}setColorName(t,e=ur){const i=YN[t.toLowerCase()];return i!==void 0?this.setHex(i,e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=Wc(t.r),this.g=Wc(t.g),this.b=Wc(t.b),this}copyLinearToSRGB(t){return this.r=im(t.r),this.g=im(t.g),this.b=im(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=ur){return _n.fromWorkingColorSpace(rr.copy(this),t),Math.round(Ye(rr.r*255,0,255))*65536+Math.round(Ye(rr.g*255,0,255))*256+Math.round(Ye(rr.b*255,0,255))}getHexString(t=ur){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=_n.workingColorSpace){_n.fromWorkingColorSpace(rr.copy(this),e);const i=rr.r,s=rr.g,r=rr.b,o=Math.max(i,s,r),l=Math.min(i,s,r);let u,d;const m=(l+o)/2;if(l===o)u=0,d=0;else{const g=o-l;switch(d=m<=.5?g/(o+l):g/(2-o-l),o){case i:u=(s-r)/g+(s<r?6:0);break;case s:u=(r-i)/g+2;break;case r:u=(i-s)/g+4;break}u/=6}return t.h=u,t.s=d,t.l=m,t}getRGB(t,e=_n.workingColorSpace){return _n.fromWorkingColorSpace(rr.copy(this),e),t.r=rr.r,t.g=rr.g,t.b=rr.b,t}getStyle(t=ur){_n.fromWorkingColorSpace(rr.copy(this),t);const e=rr.r,i=rr.g,s=rr.b;return t!==ur?`color(${t} ${e.toFixed(3)} ${i.toFixed(3)} ${s.toFixed(3)})`:`rgb(${Math.round(e*255)},${Math.round(i*255)},${Math.round(s*255)})`}offsetHSL(t,e,i){return this.getHSL(Yu),this.setHSL(Yu.h+t,Yu.s+e,Yu.l+i)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,i){return this.r=t.r+(e.r-t.r)*i,this.g=t.g+(e.g-t.g)*i,this.b=t.b+(e.b-t.b)*i,this}lerpHSL(t,e){this.getHSL(Yu),t.getHSL($x);const i=W0(Yu.h,$x.h,e),s=W0(Yu.s,$x.s,e),r=W0(Yu.l,$x.l,e);return this.setHSL(i,s,r),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const e=this.r,i=this.g,s=this.b,r=t.elements;return this.r=r[0]*e+r[3]*i+r[6]*s,this.g=r[1]*e+r[4]*i+r[7]*s,this.b=r[2]*e+r[5]*i+r[8]*s,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const rr=new ie;ie.NAMES=YN;let mk=0;class us extends Zl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:mk++}),this.uuid=ba(),this.name="",this.type="Material",this.blending=jh,this.side=ql,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=M1,this.blendDst=E1,this.blendEquation=nf,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new ie(0,0,0),this.blendAlpha=0,this.depthFunc=Qh,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=OE,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Bh,this.stencilZFail=Bh,this.stencilZPass=Bh,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(t!==void 0)for(const e in t){const i=t[e];if(i===void 0){console.warn(`THREE.Material: parameter '${e}' has value of undefined.`);continue}const s=this[e];if(s===void 0){console.warn(`THREE.Material: '${e}' is not a property of THREE.${this.type}.`);continue}s&&s.isColor?s.set(i):s&&s.isVector3&&i&&i.isVector3?s.copy(i):this[e]=i}}toJSON(t){const e=t===void 0||typeof t=="string";e&&(t={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(t).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(t).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==jh&&(i.blending=this.blending),this.side!==ql&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==M1&&(i.blendSrc=this.blendSrc),this.blendDst!==E1&&(i.blendDst=this.blendDst),this.blendEquation!==nf&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==Qh&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==OE&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Bh&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Bh&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Bh&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function s(r){const o=[];for(const l in r){const u=r[l];delete u.metadata,o.push(u)}return o}if(e){const r=s(t.textures),o=s(t.images);r.length>0&&(i.textures=r),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let i=null;if(e!==null){const s=e.length;i=new Array(s);for(let r=0;r!==s;++r)i[r]=e[r].clone()}return this.clippingPlanes=i,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){t===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class _a extends us{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ie(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ea,this.combine=Vy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const Hc=gk();function gk(){const n=new ArrayBuffer(4),t=new Float32Array(n),e=new Uint32Array(n),i=new Uint32Array(512),s=new Uint32Array(512);for(let u=0;u<256;++u){const d=u-127;d<-27?(i[u]=0,i[u|256]=32768,s[u]=24,s[u|256]=24):d<-14?(i[u]=1024>>-d-14,i[u|256]=1024>>-d-14|32768,s[u]=-d-1,s[u|256]=-d-1):d<=15?(i[u]=d+15<<10,i[u|256]=d+15<<10|32768,s[u]=13,s[u|256]=13):d<128?(i[u]=31744,i[u|256]=64512,s[u]=24,s[u|256]=24):(i[u]=31744,i[u|256]=64512,s[u]=13,s[u|256]=13)}const r=new Uint32Array(2048),o=new Uint32Array(64),l=new Uint32Array(64);for(let u=1;u<1024;++u){let d=u<<13,m=0;for(;!(d&8388608);)d<<=1,m-=8388608;d&=-8388609,m+=947912704,r[u]=d|m}for(let u=1024;u<2048;++u)r[u]=939524096+(u-1024<<13);for(let u=1;u<31;++u)o[u]=u<<23;o[31]=1199570944,o[32]=2147483648;for(let u=33;u<63;++u)o[u]=2147483648+(u-32<<23);o[63]=3347054592;for(let u=1;u<64;++u)u!==32&&(l[u]=1024);return{floatView:t,uint32View:e,baseTable:i,shiftTable:s,mantissaTable:r,exponentTable:o,offsetTable:l}}function Zr(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Ye(n,-65504,65504),Hc.floatView[0]=n;const t=Hc.uint32View[0],e=t>>23&511;return Hc.baseTable[e]+((t&8388607)>>Hc.shiftTable[e])}function B0(n){const t=n>>10;return Hc.uint32View[0]=Hc.mantissaTable[Hc.offsetTable[t]+(n&1023)]+Hc.exponentTable[t],Hc.floatView[0]}const yk={toHalfFloat:Zr,fromHalfFloat:B0},ns=new K,tA=new It;let vk=0;class Rn{constructor(t,e,i=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:vk++}),this.name="",this.array=t,this.itemSize=e,this.count=t!==void 0?t.length/e:0,this.normalized=i,this.usage=py,this.updateRanges=[],this.gpuType=ta,this.version=0}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,e,i){t*=this.itemSize,i*=e.itemSize;for(let s=0,r=this.itemSize;s<r;s++)this.array[t+s]=e.array[i+s];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(this.itemSize===2)for(let e=0,i=this.count;e<i;e++)tA.fromBufferAttribute(this,e),tA.applyMatrix3(t),this.setXY(e,tA.x,tA.y);else if(this.itemSize===3)for(let e=0,i=this.count;e<i;e++)ns.fromBufferAttribute(this,e),ns.applyMatrix3(t),this.setXYZ(e,ns.x,ns.y,ns.z);return this}applyMatrix4(t){for(let e=0,i=this.count;e<i;e++)ns.fromBufferAttribute(this,e),ns.applyMatrix4(t),this.setXYZ(e,ns.x,ns.y,ns.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)ns.fromBufferAttribute(this,e),ns.applyNormalMatrix(t),this.setXYZ(e,ns.x,ns.y,ns.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)ns.fromBufferAttribute(this,e),ns.transformDirection(t),this.setXYZ(e,ns.x,ns.y,ns.z);return this}set(t,e=0){return this.array.set(t,e),this}getComponent(t,e){let i=this.array[t*this.itemSize+e];return this.normalized&&(i=Dr(i,this.array)),i}setComponent(t,e,i){return this.normalized&&(i=qe(i,this.array)),this.array[t*this.itemSize+e]=i,this}getX(t){let e=this.array[t*this.itemSize];return this.normalized&&(e=Dr(e,this.array)),e}setX(t,e){return this.normalized&&(e=qe(e,this.array)),this.array[t*this.itemSize]=e,this}getY(t){let e=this.array[t*this.itemSize+1];return this.normalized&&(e=Dr(e,this.array)),e}setY(t,e){return this.normalized&&(e=qe(e,this.array)),this.array[t*this.itemSize+1]=e,this}getZ(t){let e=this.array[t*this.itemSize+2];return this.normalized&&(e=Dr(e,this.array)),e}setZ(t,e){return this.normalized&&(e=qe(e,this.array)),this.array[t*this.itemSize+2]=e,this}getW(t){let e=this.array[t*this.itemSize+3];return this.normalized&&(e=Dr(e,this.array)),e}setW(t,e){return this.normalized&&(e=qe(e,this.array)),this.array[t*this.itemSize+3]=e,this}setXY(t,e,i){return t*=this.itemSize,this.normalized&&(e=qe(e,this.array),i=qe(i,this.array)),this.array[t+0]=e,this.array[t+1]=i,this}setXYZ(t,e,i,s){return t*=this.itemSize,this.normalized&&(e=qe(e,this.array),i=qe(i,this.array),s=qe(s,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=s,this}setXYZW(t,e,i,s,r){return t*=this.itemSize,this.normalized&&(e=qe(e,this.array),i=qe(i,this.array),s=qe(s,this.array),r=qe(r,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=s,this.array[t+3]=r,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(t.name=this.name),this.usage!==py&&(t.usage=this.usage),t}}class xk extends Rn{constructor(t,e,i){super(new Int8Array(t),e,i)}}class Ak extends Rn{constructor(t,e,i){super(new Uint8Array(t),e,i)}}class Sk extends Rn{constructor(t,e,i){super(new Uint8ClampedArray(t),e,i)}}class _k extends Rn{constructor(t,e,i){super(new Int16Array(t),e,i)}}class CC extends Rn{constructor(t,e,i){super(new Uint16Array(t),e,i)}}class bk extends Rn{constructor(t,e,i){super(new Int32Array(t),e,i)}}class RC extends Rn{constructor(t,e,i){super(new Uint32Array(t),e,i)}}class Mk extends Rn{constructor(t,e,i){super(new Uint16Array(t),e,i),this.isFloat16BufferAttribute=!0}getX(t){let e=B0(this.array[t*this.itemSize]);return this.normalized&&(e=Dr(e,this.array)),e}setX(t,e){return this.normalized&&(e=qe(e,this.array)),this.array[t*this.itemSize]=Zr(e),this}getY(t){let e=B0(this.array[t*this.itemSize+1]);return this.normalized&&(e=Dr(e,this.array)),e}setY(t,e){return this.normalized&&(e=qe(e,this.array)),this.array[t*this.itemSize+1]=Zr(e),this}getZ(t){let e=B0(this.array[t*this.itemSize+2]);return this.normalized&&(e=Dr(e,this.array)),e}setZ(t,e){return this.normalized&&(e=qe(e,this.array)),this.array[t*this.itemSize+2]=Zr(e),this}getW(t){let e=B0(this.array[t*this.itemSize+3]);return this.normalized&&(e=Dr(e,this.array)),e}setW(t,e){return this.normalized&&(e=qe(e,this.array)),this.array[t*this.itemSize+3]=Zr(e),this}setXY(t,e,i){return t*=this.itemSize,this.normalized&&(e=qe(e,this.array),i=qe(i,this.array)),this.array[t+0]=Zr(e),this.array[t+1]=Zr(i),this}setXYZ(t,e,i,s){return t*=this.itemSize,this.normalized&&(e=qe(e,this.array),i=qe(i,this.array),s=qe(s,this.array)),this.array[t+0]=Zr(e),this.array[t+1]=Zr(i),this.array[t+2]=Zr(s),this}setXYZW(t,e,i,s,r){return t*=this.itemSize,this.normalized&&(e=qe(e,this.array),i=qe(i,this.array),s=qe(s,this.array),r=qe(r,this.array)),this.array[t+0]=Zr(e),this.array[t+1]=Zr(i),this.array[t+2]=Zr(s),this.array[t+3]=Zr(r),this}}class be extends Rn{constructor(t,e,i){super(new Float32Array(t),e,i)}}let Ek=0;const Xa=new Be,qb=new gn,xp=new K,xa=new pr,a0=new pr,Ts=new K;class Ke extends Zl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Ek++}),this.uuid=ba(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(kN(t)?RC:CC)(t,1):this.index=t,this}setIndirect(t){return this.indirect=t,this}getIndirect(){return this.indirect}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return this.attributes[t]!==void 0}addGroup(t,e,i=0){this.groups.push({start:t,count:e,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;e!==void 0&&(e.applyMatrix4(t),e.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const r=new We().getNormalMatrix(t);i.applyNormalMatrix(r),i.needsUpdate=!0}const s=this.attributes.tangent;return s!==void 0&&(s.transformDirection(t),s.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(t){return Xa.makeRotationFromQuaternion(t),this.applyMatrix4(Xa),this}rotateX(t){return Xa.makeRotationX(t),this.applyMatrix4(Xa),this}rotateY(t){return Xa.makeRotationY(t),this.applyMatrix4(Xa),this}rotateZ(t){return Xa.makeRotationZ(t),this.applyMatrix4(Xa),this}translate(t,e,i){return Xa.makeTranslation(t,e,i),this.applyMatrix4(Xa),this}scale(t,e,i){return Xa.makeScale(t,e,i),this.applyMatrix4(Xa),this}lookAt(t){return qb.lookAt(t),qb.updateMatrix(),this.applyMatrix4(qb.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(xp).negate(),this.translate(xp.x,xp.y,xp.z),this}setFromPoints(t){const e=this.getAttribute("position");if(e===void 0){const i=[];for(let s=0,r=t.length;s<r;s++){const o=t[s];i.push(o.x,o.y,o.z||0)}this.setAttribute("position",new be(i,3))}else{const i=Math.min(t.length,e.count);for(let s=0;s<i;s++){const r=t[s];e.setXYZ(s,r.x,r.y,r.z||0)}t.length>e.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),e.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new pr);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new K(-1/0,-1/0,-1/0),new K(1/0,1/0,1/0));return}if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),e)for(let i=0,s=e.length;i<s;i++){const r=e[i];xa.setFromBufferAttribute(r),this.morphTargetsRelative?(Ts.addVectors(this.boundingBox.min,xa.min),this.boundingBox.expandByPoint(Ts),Ts.addVectors(this.boundingBox.max,xa.max),this.boundingBox.expandByPoint(Ts)):(this.boundingBox.expandByPoint(xa.min),this.boundingBox.expandByPoint(xa.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ys);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new K,1/0);return}if(t){const i=this.boundingSphere.center;if(xa.setFromBufferAttribute(t),e)for(let r=0,o=e.length;r<o;r++){const l=e[r];a0.setFromBufferAttribute(l),this.morphTargetsRelative?(Ts.addVectors(xa.min,a0.min),xa.expandByPoint(Ts),Ts.addVectors(xa.max,a0.max),xa.expandByPoint(Ts)):(xa.expandByPoint(a0.min),xa.expandByPoint(a0.max))}xa.getCenter(i);let s=0;for(let r=0,o=t.count;r<o;r++)Ts.fromBufferAttribute(t,r),s=Math.max(s,i.distanceToSquared(Ts));if(e)for(let r=0,o=e.length;r<o;r++){const l=e[r],u=this.morphTargetsRelative;for(let d=0,m=l.count;d<m;d++)Ts.fromBufferAttribute(l,d),u&&(xp.fromBufferAttribute(t,d),Ts.add(xp)),s=Math.max(s,i.distanceToSquared(Ts))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(t===null||e.position===void 0||e.normal===void 0||e.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.position,s=e.normal,r=e.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Rn(new Float32Array(4*i.count),4));const o=this.getAttribute("tangent"),l=[],u=[];for(let z=0;z<i.count;z++)l[z]=new K,u[z]=new K;const d=new K,m=new K,g=new K,v=new It,A=new It,S=new It,E=new K,T=new K;function _(z,N,B){d.fromBufferAttribute(i,z),m.fromBufferAttribute(i,N),g.fromBufferAttribute(i,B),v.fromBufferAttribute(r,z),A.fromBufferAttribute(r,N),S.fromBufferAttribute(r,B),m.sub(d),g.sub(d),A.sub(v),S.sub(v);const H=1/(A.x*S.y-S.x*A.y);isFinite(H)&&(E.copy(m).multiplyScalar(S.y).addScaledVector(g,-A.y).multiplyScalar(H),T.copy(g).multiplyScalar(A.x).addScaledVector(m,-S.x).multiplyScalar(H),l[z].add(E),l[N].add(E),l[B].add(E),u[z].add(T),u[N].add(T),u[B].add(T))}let w=this.groups;w.length===0&&(w=[{start:0,count:t.count}]);for(let z=0,N=w.length;z<N;++z){const B=w[z],H=B.start,st=B.count;for(let tt=H,J=H+st;tt<J;tt+=3)_(t.getX(tt+0),t.getX(tt+1),t.getX(tt+2))}const D=new K,L=new K,U=new K,P=new K;function F(z){U.fromBufferAttribute(s,z),P.copy(U);const N=l[z];D.copy(N),D.sub(U.multiplyScalar(U.dot(N))).normalize(),L.crossVectors(P,N);const H=L.dot(u[z])<0?-1:1;o.setXYZW(z,D.x,D.y,D.z,H)}for(let z=0,N=w.length;z<N;++z){const B=w[z],H=B.start,st=B.count;for(let tt=H,J=H+st;tt<J;tt+=3)F(t.getX(tt+0)),F(t.getX(tt+1)),F(t.getX(tt+2))}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(e!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Rn(new Float32Array(e.count*3),3),this.setAttribute("normal",i);else for(let v=0,A=i.count;v<A;v++)i.setXYZ(v,0,0,0);const s=new K,r=new K,o=new K,l=new K,u=new K,d=new K,m=new K,g=new K;if(t)for(let v=0,A=t.count;v<A;v+=3){const S=t.getX(v+0),E=t.getX(v+1),T=t.getX(v+2);s.fromBufferAttribute(e,S),r.fromBufferAttribute(e,E),o.fromBufferAttribute(e,T),m.subVectors(o,r),g.subVectors(s,r),m.cross(g),l.fromBufferAttribute(i,S),u.fromBufferAttribute(i,E),d.fromBufferAttribute(i,T),l.add(m),u.add(m),d.add(m),i.setXYZ(S,l.x,l.y,l.z),i.setXYZ(E,u.x,u.y,u.z),i.setXYZ(T,d.x,d.y,d.z)}else for(let v=0,A=e.count;v<A;v+=3)s.fromBufferAttribute(e,v+0),r.fromBufferAttribute(e,v+1),o.fromBufferAttribute(e,v+2),m.subVectors(o,r),g.subVectors(s,r),m.cross(g),i.setXYZ(v+0,m.x,m.y,m.z),i.setXYZ(v+1,m.x,m.y,m.z),i.setXYZ(v+2,m.x,m.y,m.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let e=0,i=t.count;e<i;e++)Ts.fromBufferAttribute(t,e),Ts.normalize(),t.setXYZ(e,Ts.x,Ts.y,Ts.z)}toNonIndexed(){function t(l,u){const d=l.array,m=l.itemSize,g=l.normalized,v=new d.constructor(u.length*m);let A=0,S=0;for(let E=0,T=u.length;E<T;E++){l.isInterleavedBufferAttribute?A=u[E]*l.data.stride+l.offset:A=u[E]*m;for(let _=0;_<m;_++)v[S++]=d[A++]}return new Rn(v,m,g)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new Ke,i=this.index.array,s=this.attributes;for(const l in s){const u=s[l],d=t(u,i);e.setAttribute(l,d)}const r=this.morphAttributes;for(const l in r){const u=[],d=r[l];for(let m=0,g=d.length;m<g;m++){const v=d[m],A=t(v,i);u.push(A)}e.morphAttributes[l]=u}e.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let l=0,u=o.length;l<u;l++){const d=o[l];e.addGroup(d.start,d.count,d.materialIndex)}return e}toJSON(){const t={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),this.parameters!==void 0){const u=this.parameters;for(const d in u)u[d]!==void 0&&(t[d]=u[d]);return t}t.data={attributes:{}};const e=this.index;e!==null&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const i=this.attributes;for(const u in i){const d=i[u];t.data.attributes[u]=d.toJSON(t.data)}const s={};let r=!1;for(const u in this.morphAttributes){const d=this.morphAttributes[u],m=[];for(let g=0,v=d.length;g<v;g++){const A=d[g];m.push(A.toJSON(t.data))}m.length>0&&(s[u]=m,r=!0)}r&&(t.data.morphAttributes=s,t.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(t.data.groups=JSON.parse(JSON.stringify(o)));const l=this.boundingSphere;return l!==null&&(t.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),t}clone(){return new this.constructor().copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const i=t.index;i!==null&&this.setIndex(i.clone(e));const s=t.attributes;for(const d in s){const m=s[d];this.setAttribute(d,m.clone(e))}const r=t.morphAttributes;for(const d in r){const m=[],g=r[d];for(let v=0,A=g.length;v<A;v++)m.push(g[v].clone(e));this.morphAttributes[d]=m}this.morphTargetsRelative=t.morphTargetsRelative;const o=t.groups;for(let d=0,m=o.length;d<m;d++){const g=o[d];this.addGroup(g.start,g.count,g.materialIndex)}const l=t.boundingBox;l!==null&&(this.boundingBox=l.clone());const u=t.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const PB=new Be,hh=new Bm,eA=new Ys,NB=new K,nA=new K,iA=new K,sA=new K,Jb=new K,rA=new K,IB=new K,aA=new K;class qi extends gn{constructor(t=new Ke,e=new _a){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){const s=e[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=s.length;r<o;r++){const l=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=r}}}}getVertexPosition(t,e){const i=this.geometry,s=i.attributes.position,r=i.morphAttributes.position,o=i.morphTargetsRelative;e.fromBufferAttribute(s,t);const l=this.morphTargetInfluences;if(r&&l){rA.set(0,0,0);for(let u=0,d=r.length;u<d;u++){const m=l[u],g=r[u];m!==0&&(Jb.fromBufferAttribute(g,t),o?rA.addScaledVector(Jb,m):rA.addScaledVector(Jb.sub(e),m))}e.add(rA)}return e}raycast(t,e){const i=this.geometry,s=this.material,r=this.matrixWorld;s!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),eA.copy(i.boundingSphere),eA.applyMatrix4(r),hh.copy(t.ray).recast(t.near),!(eA.containsPoint(hh.origin)===!1&&(hh.intersectSphere(eA,NB)===null||hh.origin.distanceToSquared(NB)>(t.far-t.near)**2))&&(PB.copy(r).invert(),hh.copy(t.ray).applyMatrix4(PB),!(i.boundingBox!==null&&hh.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(t,e,hh)))}_computeIntersections(t,e,i){let s;const r=this.geometry,o=this.material,l=r.index,u=r.attributes.position,d=r.attributes.uv,m=r.attributes.uv1,g=r.attributes.normal,v=r.groups,A=r.drawRange;if(l!==null)if(Array.isArray(o))for(let S=0,E=v.length;S<E;S++){const T=v[S],_=o[T.materialIndex],w=Math.max(T.start,A.start),D=Math.min(l.count,Math.min(T.start+T.count,A.start+A.count));for(let L=w,U=D;L<U;L+=3){const P=l.getX(L),F=l.getX(L+1),z=l.getX(L+2);s=oA(this,_,t,i,d,m,g,P,F,z),s&&(s.faceIndex=Math.floor(L/3),s.face.materialIndex=T.materialIndex,e.push(s))}}else{const S=Math.max(0,A.start),E=Math.min(l.count,A.start+A.count);for(let T=S,_=E;T<_;T+=3){const w=l.getX(T),D=l.getX(T+1),L=l.getX(T+2);s=oA(this,o,t,i,d,m,g,w,D,L),s&&(s.faceIndex=Math.floor(T/3),e.push(s))}}else if(u!==void 0)if(Array.isArray(o))for(let S=0,E=v.length;S<E;S++){const T=v[S],_=o[T.materialIndex],w=Math.max(T.start,A.start),D=Math.min(u.count,Math.min(T.start+T.count,A.start+A.count));for(let L=w,U=D;L<U;L+=3){const P=L,F=L+1,z=L+2;s=oA(this,_,t,i,d,m,g,P,F,z),s&&(s.faceIndex=Math.floor(L/3),s.face.materialIndex=T.materialIndex,e.push(s))}}else{const S=Math.max(0,A.start),E=Math.min(u.count,A.start+A.count);for(let T=S,_=E;T<_;T+=3){const w=T,D=T+1,L=T+2;s=oA(this,o,t,i,d,m,g,w,D,L),s&&(s.faceIndex=Math.floor(T/3),e.push(s))}}}}function Tk(n,t,e,i,s,r,o,l){let u;if(t.side===Ur?u=i.intersectTriangle(o,r,s,!0,l):u=i.intersectTriangle(s,r,o,t.side===ql,l),u===null)return null;aA.copy(l),aA.applyMatrix4(n.matrixWorld);const d=e.ray.origin.distanceTo(aA);return d<e.near||d>e.far?null:{distance:d,point:aA.clone(),object:n}}function oA(n,t,e,i,s,r,o,l,u,d){n.getVertexPosition(l,nA),n.getVertexPosition(u,iA),n.getVertexPosition(d,sA);const m=Tk(n,t,e,i,nA,iA,sA,IB);if(m){const g=new K;$r.getBarycoord(IB,nA,iA,sA,g),s&&(m.uv=$r.getInterpolatedAttribute(s,l,u,d,g,new It)),r&&(m.uv1=$r.getInterpolatedAttribute(r,l,u,d,g,new It)),o&&(m.normal=$r.getInterpolatedAttribute(o,l,u,d,g,new K),m.normal.dot(i.direction)>0&&m.normal.multiplyScalar(-1));const v={a:l,b:u,c:d,normal:new K,materialIndex:0};$r.getNormal(nA,iA,sA,v.normal),m.face=v,m.barycoord=g}return m}class cd extends Ke{constructor(t=1,e=1,i=1,s=1,r=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:s,heightSegments:r,depthSegments:o};const l=this;s=Math.floor(s),r=Math.floor(r),o=Math.floor(o);const u=[],d=[],m=[],g=[];let v=0,A=0;S("z","y","x",-1,-1,i,e,t,o,r,0),S("z","y","x",1,-1,i,e,-t,o,r,1),S("x","z","y",1,1,t,i,e,s,o,2),S("x","z","y",1,-1,t,i,-e,s,o,3),S("x","y","z",1,-1,t,e,i,s,r,4),S("x","y","z",-1,-1,t,e,-i,s,r,5),this.setIndex(u),this.setAttribute("position",new be(d,3)),this.setAttribute("normal",new be(m,3)),this.setAttribute("uv",new be(g,2));function S(E,T,_,w,D,L,U,P,F,z,N){const B=L/F,H=U/z,st=L/2,tt=U/2,J=P/2,lt=F+1,$=z+1;let et=0,Q=0;const At=new K;for(let j=0;j<$;j++){const rt=j*H-tt;for(let Tt=0;Tt<lt;Tt++){const Ft=Tt*B-st;At[E]=Ft*w,At[T]=rt*D,At[_]=J,d.push(At.x,At.y,At.z),At[E]=0,At[T]=0,At[_]=P>0?1:-1,m.push(At.x,At.y,At.z),g.push(Tt/F),g.push(1-j/z),et+=1}}for(let j=0;j<z;j++)for(let rt=0;rt<F;rt++){const Tt=v+rt+lt*j,Ft=v+rt+lt*(j+1),it=v+(rt+1)+lt*(j+1),Et=v+(rt+1)+lt*j;u.push(Tt,Ft,Et),u.push(Ft,it,Et),Q+=6}l.addGroup(A,Q,N),A+=Q,v+=et}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new cd(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function ym(n){const t={};for(const e in n){t[e]={};for(const i in n[e]){const s=n[e][i];s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture||s.isQuaternion)?s.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[e][i]=null):t[e][i]=s.clone():Array.isArray(s)?t[e][i]=s.slice():t[e][i]=s}}return t}function Rr(n){const t={};for(let e=0;e<n.length;e++){const i=ym(n[e]);for(const s in i)t[s]=i[s]}return t}function Ck(n){const t=[];for(let e=0;e<n.length;e++)t.push(n[e].clone());return t}function WN(n){const t=n.getRenderTarget();return t===null?n.outputColorSpace:t.isXRRenderTarget===!0?t.texture.colorSpace:_n.workingColorSpace}const KN={clone:ym,merge:Rr};var Rk=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,wk=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Wo extends us{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Rk,this.fragmentShader=wk,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,t!==void 0&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=ym(t.uniforms),this.uniformsGroups=Ck(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const s in this.uniforms){const o=this.uniforms[s].value;o&&o.isTexture?e.uniforms[s]={type:"t",value:o.toJSON(t).uuid}:o&&o.isColor?e.uniforms[s]={type:"c",value:o.getHex()}:o&&o.isVector2?e.uniforms[s]={type:"v2",value:o.toArray()}:o&&o.isVector3?e.uniforms[s]={type:"v3",value:o.toArray()}:o&&o.isVector4?e.uniforms[s]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?e.uniforms[s]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?e.uniforms[s]={type:"m4",value:o.toArray()}:e.uniforms[s]={value:o}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.lights=this.lights,e.clipping=this.clipping;const i={};for(const s in this.extensions)this.extensions[s]===!0&&(i[s]=!0);return Object.keys(i).length>0&&(e.extensions=i),e}}class kS extends gn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Be,this.projectionMatrix=new Be,this.projectionMatrixInverse=new Be,this.coordinateSystem=Xo}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){return super.getWorldDirection(t).negate()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Wu=new K,FB=new It,zB=new It;class Wi extends kS{constructor(t=50,e=1,i=.1,s=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=i,this.far=s,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=mm*2*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(Wh*.5*this.fov);return .5*this.getFilmHeight()/t}getEffectiveFOV(){return mm*2*Math.atan(Math.tan(Wh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(t,e,i){Wu.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),e.set(Wu.x,Wu.y).multiplyScalar(-t/Wu.z),Wu.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Wu.x,Wu.y).multiplyScalar(-t/Wu.z)}getViewSize(t,e){return this.getViewBounds(t,FB,zB),e.subVectors(zB,FB)}setViewOffset(t,e,i,s,r,o){this.aspect=t/e,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=s,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(Wh*.5*this.fov)/this.zoom,i=2*e,s=this.aspect*i,r=-.5*s;const o=this.view;if(this.view!==null&&this.view.enabled){const u=o.fullWidth,d=o.fullHeight;r+=o.offsetX*s/u,e-=o.offsetY*i/d,s*=o.width/u,i*=o.height/d}const l=this.filmOffset;l!==0&&(r+=t*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+s,e,e-i,t,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,this.view!==null&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}const Ap=-90,Sp=1;class qN extends gn{constructor(t,e,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const s=new Wi(Ap,Sp,t,e);s.layers=this.layers,this.add(s);const r=new Wi(Ap,Sp,t,e);r.layers=this.layers,this.add(r);const o=new Wi(Ap,Sp,t,e);o.layers=this.layers,this.add(o);const l=new Wi(Ap,Sp,t,e);l.layers=this.layers,this.add(l);const u=new Wi(Ap,Sp,t,e);u.layers=this.layers,this.add(u);const d=new Wi(Ap,Sp,t,e);d.layers=this.layers,this.add(d)}updateCoordinateSystem(){const t=this.coordinateSystem,e=this.children.concat(),[i,s,r,o,l,u]=e;for(const d of e)this.remove(d);if(t===Xo)i.up.set(0,1,0),i.lookAt(1,0,0),s.up.set(0,1,0),s.lookAt(-1,0,0),r.up.set(0,0,-1),r.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),u.up.set(0,1,0),u.lookAt(0,0,-1);else if(t===my)i.up.set(0,-1,0),i.lookAt(-1,0,0),s.up.set(0,-1,0),s.lookAt(1,0,0),r.up.set(0,0,1),r.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),u.up.set(0,-1,0),u.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);for(const d of e)this.add(d),d.updateMatrixWorld()}update(t,e){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:s}=this;this.coordinateSystem!==t.coordinateSystem&&(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem());const[r,o,l,u,d,m]=this.children,g=t.getRenderTarget(),v=t.getActiveCubeFace(),A=t.getActiveMipmapLevel(),S=t.xr.enabled;t.xr.enabled=!1;const E=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,t.setRenderTarget(i,0,s),t.render(e,r),t.setRenderTarget(i,1,s),t.render(e,o),t.setRenderTarget(i,2,s),t.render(e,l),t.setRenderTarget(i,3,s),t.render(e,u),t.setRenderTarget(i,4,s),t.render(e,d),i.texture.generateMipmaps=E,t.setRenderTarget(i,5,s),t.render(e,m),t.setRenderTarget(g,v,A),t.xr.enabled=S,i.texture.needsPMREMUpdate=!0}}class jy extends pi{constructor(t,e,i,s,r,o,l,u,d,m){t=t!==void 0?t:[],e=e!==void 0?e:Qc,super(t,e,i,s,r,o,l,u,d,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class JN extends Jl{constructor(t=1,e={}){super(t,t,e),this.isWebGLCubeRenderTarget=!0;const i={width:t,height:t,depth:1},s=[i,i,i,i,i,i];this.texture=new jy(s,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=e.generateMipmaps!==void 0?e.generateMipmaps:!1,this.texture.minFilter=e.minFilter!==void 0?e.minFilter:Ki}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.colorSpace=e.colorSpace,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},s=new cd(5,5,5),r=new Wo({name:"CubemapFromEquirect",uniforms:ym(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Ur,blending:Yc});r.uniforms.tEquirect.value=e;const o=new qi(s,r),l=e.minFilter;return e.minFilter===Za&&(e.minFilter=Ki),new qN(1,10,this).update(t,o),e.minFilter=l,o.geometry.dispose(),o.material.dispose(),this}clear(t,e,i,s){const r=t.getRenderTarget();for(let o=0;o<6;o++)t.setRenderTarget(this,o),t.clear(e,i,s);t.setRenderTarget(r)}}class Vc extends gn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Bk={type:"move"};class i1{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Vc,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Vc,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new K,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new K),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Vc,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new K,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new K),this._grip}dispatchEvent(t){return this._targetRay!==null&&this._targetRay.dispatchEvent(t),this._grip!==null&&this._grip.dispatchEvent(t),this._hand!==null&&this._hand.dispatchEvent(t),this}connect(t){if(t&&t.hand){const e=this._hand;if(e)for(const i of t.hand.values())this._getHandJoint(e,i)}return this.dispatchEvent({type:"connected",data:t}),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(t,e,i){let s=null,r=null,o=null;const l=this._targetRay,u=this._grip,d=this._hand;if(t&&e.session.visibilityState!=="visible-blurred"){if(d&&t.hand){o=!0;for(const E of t.hand.values()){const T=e.getJointPose(E,i),_=this._getHandJoint(d,E);T!==null&&(_.matrix.fromArray(T.transform.matrix),_.matrix.decompose(_.position,_.rotation,_.scale),_.matrixWorldNeedsUpdate=!0,_.jointRadius=T.radius),_.visible=T!==null}const m=d.joints["index-finger-tip"],g=d.joints["thumb-tip"],v=m.position.distanceTo(g.position),A=.02,S=.005;d.inputState.pinching&&v>A+S?(d.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!d.inputState.pinching&&v<=A-S&&(d.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else u!==null&&t.gripSpace&&(r=e.getPose(t.gripSpace,i),r!==null&&(u.matrix.fromArray(r.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,r.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(r.linearVelocity)):u.hasLinearVelocity=!1,r.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(r.angularVelocity)):u.hasAngularVelocity=!1));l!==null&&(s=e.getPose(t.targetRaySpace,i),s===null&&r!==null&&(s=r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(Bk)))}return l!==null&&(l.visible=s!==null),u!==null&&(u.visible=r!==null),d!==null&&(d.visible=o!==null),this}_getHandJoint(t,e){if(t.joints[e.jointName]===void 0){const i=new Vc;i.matrixAutoUpdate=!1,i.visible=!1,t.joints[e.jointName]=i,t.add(i)}return t.joints[e.jointName]}}class XS{constructor(t,e=25e-5){this.isFogExp2=!0,this.name="",this.color=new ie(t),this.density=e}clone(){return new XS(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class jS{constructor(t,e=1,i=1e3){this.isFog=!0,this.name="",this.color=new ie(t),this.near=e,this.far=i}clone(){return new jS(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class wC extends gn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new ea,this.environmentIntensity=1,this.environmentRotation=new ea,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),t.background!==null&&(this.background=t.background.clone()),t.environment!==null&&(this.environment=t.environment.clone()),t.fog!==null&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,this.backgroundRotation.copy(t.backgroundRotation),this.environmentIntensity=t.environmentIntensity,this.environmentRotation.copy(t.environmentRotation),t.overrideMaterial!==null&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return this.fog!==null&&(e.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(e.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(e.object.backgroundIntensity=this.backgroundIntensity),e.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(e.object.environmentIntensity=this.environmentIntensity),e.object.environmentRotation=this.environmentRotation.toArray(),e}}class Yy{constructor(t,e){this.isInterleavedBuffer=!0,this.array=t,this.stride=e,this.count=t!==void 0?t.length/e:0,this.usage=py,this.updateRanges=[],this.version=0,this.uuid=ba()}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,i){t*=this.stride,i*=e.stride;for(let s=0,r=this.stride;s<r;s++)this.array[t+s]=e.array[i+s];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ba()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(e,this.stride);return i.setUsage(this.usage),i}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ba()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Cr=new K;class ff{constructor(t,e,i,s=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=e,this.offset=i,this.normalized=s}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,i=this.data.count;e<i;e++)Cr.fromBufferAttribute(this,e),Cr.applyMatrix4(t),this.setXYZ(e,Cr.x,Cr.y,Cr.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)Cr.fromBufferAttribute(this,e),Cr.applyNormalMatrix(t),this.setXYZ(e,Cr.x,Cr.y,Cr.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)Cr.fromBufferAttribute(this,e),Cr.transformDirection(t),this.setXYZ(e,Cr.x,Cr.y,Cr.z);return this}getComponent(t,e){let i=this.array[t*this.data.stride+this.offset+e];return this.normalized&&(i=Dr(i,this.array)),i}setComponent(t,e,i){return this.normalized&&(i=qe(i,this.array)),this.data.array[t*this.data.stride+this.offset+e]=i,this}setX(t,e){return this.normalized&&(e=qe(e,this.array)),this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.normalized&&(e=qe(e,this.array)),this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.normalized&&(e=qe(e,this.array)),this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.normalized&&(e=qe(e,this.array)),this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){let e=this.data.array[t*this.data.stride+this.offset];return this.normalized&&(e=Dr(e,this.array)),e}getY(t){let e=this.data.array[t*this.data.stride+this.offset+1];return this.normalized&&(e=Dr(e,this.array)),e}getZ(t){let e=this.data.array[t*this.data.stride+this.offset+2];return this.normalized&&(e=Dr(e,this.array)),e}getW(t){let e=this.data.array[t*this.data.stride+this.offset+3];return this.normalized&&(e=Dr(e,this.array)),e}setXY(t,e,i){return t=t*this.data.stride+this.offset,this.normalized&&(e=qe(e,this.array),i=qe(i,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this}setXYZ(t,e,i,s){return t=t*this.data.stride+this.offset,this.normalized&&(e=qe(e,this.array),i=qe(i,this.array),s=qe(s,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=s,this}setXYZW(t,e,i,s,r){return t=t*this.data.stride+this.offset,this.normalized&&(e=qe(e,this.array),i=qe(i,this.array),s=qe(s,this.array),r=qe(r,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=s,this.data.array[t+3]=r,this}clone(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)e.push(this.data.array[s+r])}return new Rn(new this.array.constructor(e),this.itemSize,this.normalized)}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new ff(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)e.push(this.data.array[s+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class BC extends us{constructor(t){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ie(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}let _p;const o0=new K,bp=new K,Mp=new K,Ep=new It,l0=new It,QN=new Be,lA=new K,c0=new K,cA=new K,HB=new It,Qb=new It,GB=new It;class ZN extends gn{constructor(t=new BC){if(super(),this.isSprite=!0,this.type="Sprite",_p===void 0){_p=new Ke;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Yy(e,5);_p.setIndex([0,1,2,0,2,3]),_p.setAttribute("position",new ff(i,3,0,!1)),_p.setAttribute("uv",new ff(i,2,3,!1))}this.geometry=_p,this.material=t,this.center=new It(.5,.5)}raycast(t,e){t.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),bp.setFromMatrixScale(this.matrixWorld),QN.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),Mp.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&bp.multiplyScalar(-Mp.z);const i=this.material.rotation;let s,r;i!==0&&(r=Math.cos(i),s=Math.sin(i));const o=this.center;uA(lA.set(-.5,-.5,0),Mp,o,bp,s,r),uA(c0.set(.5,-.5,0),Mp,o,bp,s,r),uA(cA.set(.5,.5,0),Mp,o,bp,s,r),HB.set(0,0),Qb.set(1,0),GB.set(1,1);let l=t.ray.intersectTriangle(lA,c0,cA,!1,o0);if(l===null&&(uA(c0.set(-.5,.5,0),Mp,o,bp,s,r),Qb.set(0,1),l=t.ray.intersectTriangle(lA,cA,c0,!1,o0),l===null))return;const u=t.ray.origin.distanceTo(o0);u<t.near||u>t.far||e.push({distance:u,point:o0.clone(),uv:$r.getInterpolation(o0,lA,c0,cA,HB,Qb,GB,new It),face:null,object:this})}copy(t,e){return super.copy(t,e),t.center!==void 0&&this.center.copy(t.center),this.material=t.material,this}}function uA(n,t,e,i,s,r){Ep.subVectors(n,e).addScalar(.5).multiply(i),s!==void 0?(l0.x=r*Ep.x-s*Ep.y,l0.y=s*Ep.x+r*Ep.y):l0.copy(Ep),n.copy(t),n.x+=l0.x,n.y+=l0.y,n.applyMatrix4(QN)}const fA=new K,VB=new K;class $N extends gn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(t){super.copy(t,!1);const e=t.levels;for(let i=0,s=e.length;i<s;i++){const r=e[i];this.addLevel(r.object.clone(),r.distance,r.hysteresis)}return this.autoUpdate=t.autoUpdate,this}addLevel(t,e=0,i=0){e=Math.abs(e);const s=this.levels;let r;for(r=0;r<s.length&&!(e<s[r].distance);r++);return s.splice(r,0,{distance:e,hysteresis:i,object:t}),this.add(t),this}removeLevel(t){const e=this.levels;for(let i=0;i<e.length;i++)if(e[i].distance===t){const s=e.splice(i,1);return this.remove(s[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(t){const e=this.levels;if(e.length>0){let i,s;for(i=1,s=e.length;i<s;i++){let r=e[i].distance;if(e[i].object.visible&&(r-=r*e[i].hysteresis),t<r)break}return e[i-1].object}return null}raycast(t,e){if(this.levels.length>0){fA.setFromMatrixPosition(this.matrixWorld);const s=t.ray.origin.distanceTo(fA);this.getObjectForDistance(s).raycast(t,e)}}update(t){const e=this.levels;if(e.length>1){fA.setFromMatrixPosition(t.matrixWorld),VB.setFromMatrixPosition(this.matrixWorld);const i=fA.distanceTo(VB)/t.zoom;e[0].object.visible=!0;let s,r;for(s=1,r=e.length;s<r;s++){let o=e[s].distance;if(e[s].object.visible&&(o-=o*e[s].hysteresis),i>=o)e[s-1].object.visible=!1,e[s].object.visible=!0;else break}for(this._currentLevel=s-1;s<r;s++)e[s].object.visible=!1}}toJSON(t){const e=super.toJSON(t);this.autoUpdate===!1&&(e.object.autoUpdate=!1),e.object.levels=[];const i=this.levels;for(let s=0,r=i.length;s<r;s++){const o=i[s];e.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return e}}const kB=new K,XB=new mn,jB=new mn,Dk=new K,YB=new Be,hA=new K,Zb=new Ys,WB=new Be,$b=new Bm;class DC extends qi{constructor(t,e){super(t,e),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=LE,this.bindMatrix=new Be,this.bindMatrixInverse=new Be,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const t=this.geometry;this.boundingBox===null&&(this.boundingBox=new pr),this.boundingBox.makeEmpty();const e=t.getAttribute("position");for(let i=0;i<e.count;i++)this.getVertexPosition(i,hA),this.boundingBox.expandByPoint(hA)}computeBoundingSphere(){const t=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Ys),this.boundingSphere.makeEmpty();const e=t.getAttribute("position");for(let i=0;i<e.count;i++)this.getVertexPosition(i,hA),this.boundingSphere.expandByPoint(hA)}copy(t,e){return super.copy(t,e),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this}raycast(t,e){const i=this.material,s=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Zb.copy(this.boundingSphere),Zb.applyMatrix4(s),t.ray.intersectsSphere(Zb)!==!1&&(WB.copy(s).invert(),$b.copy(t.ray).applyMatrix4(WB),!(this.boundingBox!==null&&$b.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(t,e,$b)))}getVertexPosition(t,e){return super.getVertexPosition(t,e),this.applyBoneTransform(t,e),e}bind(t,e){this.skeleton=t,e===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new mn,e=this.geometry.attributes.skinWeight;for(let i=0,s=e.count;i<s;i++){t.fromBufferAttribute(e,i);const r=1/t.manhattanLength();r!==1/0?t.multiplyScalar(r):t.set(1,0,0,0),e.setXYZW(i,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),this.bindMode===LE?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===RN?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(t,e){const i=this.skeleton,s=this.geometry;XB.fromBufferAttribute(s.attributes.skinIndex,t),jB.fromBufferAttribute(s.attributes.skinWeight,t),kB.copy(e).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let r=0;r<4;r++){const o=jB.getComponent(r);if(o!==0){const l=XB.getComponent(r);YB.multiplyMatrices(i.bones[l].matrixWorld,i.boneInverses[l]),e.addScaledVector(Dk.copy(kB).applyMatrix4(YB),o)}}return e.applyMatrix4(this.bindMatrixInverse)}}class YS extends gn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class kl extends pi{constructor(t=null,e=1,i=1,s,r,o,l,u,d=Ls,m=Ls,g,v){super(null,o,l,u,d,m,s,r,g,v),this.isDataTexture=!0,this.image={data:t,width:e,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const KB=new Be,Lk=new Be;class Wy{constructor(t=[],e=[]){this.uuid=ba(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(t.length*16),e.length===0)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,s=this.bones.length;i<s;i++)this.boneInverses.push(new Be)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const i=new Be;this.bones[t]&&i.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let t=0,e=this.bones.length;t<e;t++){const i=this.bones[t];i&&i.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const i=this.bones[t];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const t=this.bones,e=this.boneInverses,i=this.boneMatrices,s=this.boneTexture;for(let r=0,o=t.length;r<o;r++){const l=t[r]?t[r].matrixWorld:Lk;KB.multiplyMatrices(l,e[r]),KB.toArray(i,r*16)}s!==null&&(s.needsUpdate=!0)}clone(){return new Wy(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(this.bones.length*4);t=Math.ceil(t/4)*4,t=Math.max(t,4);const e=new Float32Array(t*t*4);e.set(this.boneMatrices);const i=new kl(e,t,t,fr,ta);return i.needsUpdate=!0,this.boneMatrices=e,this.boneTexture=i,this}getBoneByName(t){for(let e=0,i=this.bones.length;e<i;e++){const s=this.bones[e];if(s.name===t)return s}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,e){this.uuid=t.uuid;for(let i=0,s=t.bones.length;i<s;i++){const r=t.bones[i];let o=e[r];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),o=new YS),this.bones.push(o),this.boneInverses.push(new Be().fromArray(t.boneInverses[i]))}return this.init(),this}toJSON(){const t={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,i=this.boneInverses;for(let s=0,r=e.length;s<r;s++){const o=e[s];t.bones.push(o.uuid);const l=i[s];t.boneInverses.push(l.toArray())}return t}}class td extends Rn{constructor(t,e,i,s=1){super(t,e,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=s}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){const t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}const Tp=new Be,qB=new Be,dA=[],JB=new pr,Ok=new Be,u0=new qi,f0=new Ys;class LC extends qi{constructor(t,e,i){super(t,e),this.isInstancedMesh=!0,this.instanceMatrix=new td(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let s=0;s<i;s++)this.setMatrixAt(s,Ok)}computeBoundingBox(){const t=this.geometry,e=this.count;this.boundingBox===null&&(this.boundingBox=new pr),t.boundingBox===null&&t.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<e;i++)this.getMatrixAt(i,Tp),JB.copy(t.boundingBox).applyMatrix4(Tp),this.boundingBox.union(JB)}computeBoundingSphere(){const t=this.geometry,e=this.count;this.boundingSphere===null&&(this.boundingSphere=new Ys),t.boundingSphere===null&&t.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<e;i++)this.getMatrixAt(i,Tp),f0.copy(t.boundingSphere).applyMatrix4(Tp),this.boundingSphere.union(f0)}copy(t,e){return super.copy(t,e),this.instanceMatrix.copy(t.instanceMatrix),t.morphTexture!==null&&(this.morphTexture=t.morphTexture.clone()),t.instanceColor!==null&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this}getColorAt(t,e){e.fromArray(this.instanceColor.array,t*3)}getMatrixAt(t,e){e.fromArray(this.instanceMatrix.array,t*16)}getMorphAt(t,e){const i=e.morphTargetInfluences,s=this.morphTexture.source.data.data,r=i.length+1,o=t*r+1;for(let l=0;l<i.length;l++)i[l]=s[o+l]}raycast(t,e){const i=this.matrixWorld,s=this.count;if(u0.geometry=this.geometry,u0.material=this.material,u0.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),f0.copy(this.boundingSphere),f0.applyMatrix4(i),t.ray.intersectsSphere(f0)!==!1))for(let r=0;r<s;r++){this.getMatrixAt(r,Tp),qB.multiplyMatrices(i,Tp),u0.matrixWorld=qB,u0.raycast(t,dA);for(let o=0,l=dA.length;o<l;o++){const u=dA[o];u.instanceId=r,u.object=this,e.push(u)}dA.length=0}}setColorAt(t,e){this.instanceColor===null&&(this.instanceColor=new td(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),e.toArray(this.instanceColor.array,t*3)}setMatrixAt(t,e){e.toArray(this.instanceMatrix.array,t*16)}setMorphAt(t,e){const i=e.morphTargetInfluences,s=i.length+1;this.morphTexture===null&&(this.morphTexture=new kl(new Float32Array(s*this.count),s,this.count,IS,ta));const r=this.morphTexture.source.data.data;let o=0;for(let d=0;d<i.length;d++)o+=i[d];const l=this.geometry.morphTargetsRelative?1:1-o,u=s*t;r[u]=l,r.set(i,u+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}const tM=new K,Uk=new K,Pk=new We;class ef{constructor(t=new K(1,0,0),e=0){this.isPlane=!0,this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,i,s){return this.normal.set(t,e,i),this.constant=s,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,i){const s=tM.subVectors(i,e).cross(Uk.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(s,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,e){const i=t.delta(tM),s=this.normal.dot(i);if(s===0)return this.distanceToPoint(t.start)===0?e.copy(t.start):null;const r=-(t.start.dot(this.normal)+this.constant)/s;return r<0||r>1?null:e.copy(t.start).addScaledVector(i,r)}intersectsLine(t){const e=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return e<0&&i>0||i<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const i=e||Pk.getNormalMatrix(t),s=this.coplanarPoint(tM).applyMatrix4(t),r=this.normal.applyMatrix3(i).normalize();return this.constant=-s.dot(r),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return new this.constructor().copy(this)}}const dh=new Ys,pA=new K;class Ky{constructor(t=new ef,e=new ef,i=new ef,s=new ef,r=new ef,o=new ef){this.planes=[t,e,i,s,r,o]}set(t,e,i,s,r,o){const l=this.planes;return l[0].copy(t),l[1].copy(e),l[2].copy(i),l[3].copy(s),l[4].copy(r),l[5].copy(o),this}copy(t){const e=this.planes;for(let i=0;i<6;i++)e[i].copy(t.planes[i]);return this}setFromProjectionMatrix(t,e=Xo){const i=this.planes,s=t.elements,r=s[0],o=s[1],l=s[2],u=s[3],d=s[4],m=s[5],g=s[6],v=s[7],A=s[8],S=s[9],E=s[10],T=s[11],_=s[12],w=s[13],D=s[14],L=s[15];if(i[0].setComponents(u-r,v-d,T-A,L-_).normalize(),i[1].setComponents(u+r,v+d,T+A,L+_).normalize(),i[2].setComponents(u+o,v+m,T+S,L+w).normalize(),i[3].setComponents(u-o,v-m,T-S,L-w).normalize(),i[4].setComponents(u-l,v-g,T-E,L-D).normalize(),e===Xo)i[5].setComponents(u+l,v+g,T+E,L+D).normalize();else if(e===my)i[5].setComponents(l,g,E,D).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+e);return this}intersectsObject(t){if(t.boundingSphere!==void 0)t.boundingSphere===null&&t.computeBoundingSphere(),dh.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{const e=t.geometry;e.boundingSphere===null&&e.computeBoundingSphere(),dh.copy(e.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(dh)}intersectsSprite(t){return dh.center.set(0,0,0),dh.radius=.7071067811865476,dh.applyMatrix4(t.matrixWorld),this.intersectsSphere(dh)}intersectsSphere(t){const e=this.planes,i=t.center,s=-t.radius;for(let r=0;r<6;r++)if(e[r].distanceToPoint(i)<s)return!1;return!0}intersectsBox(t){const e=this.planes;for(let i=0;i<6;i++){const s=e[i];if(pA.x=s.normal.x>0?t.max.x:t.min.x,pA.y=s.normal.y>0?t.max.y:t.min.y,pA.z=s.normal.z>0?t.max.z:t.min.z,s.distanceToPoint(pA)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let i=0;i<6;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function eM(n,t){return n-t}function Nk(n,t){return n.z-t.z}function Ik(n,t){return t.z-n.z}class Fk{constructor(){this.index=0,this.pool=[],this.list=[]}push(t,e,i,s){const r=this.pool,o=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1,index:-1});const l=r[this.index];o.push(l),this.index++,l.start=t,l.count=e,l.z=i,l.index=s}reset(){this.list.length=0,this.index=0}}const Qr=new Be,zk=new ie(1,1,1),nM=new Ky,mA=new pr,ph=new Ys,h0=new K,QB=new K,Hk=new K,iM=new Fk,ar=new qi,gA=[];function Gk(n,t,e=0){const i=t.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==t.array.constructor){const s=n.count;for(let r=0;r<s;r++)for(let o=0;o<i;o++)t.setComponent(r+e,o,n.getComponent(r,o))}else t.array.set(n.array,e*i);t.needsUpdate=!0}function mh(n,t){if(n.constructor!==t.constructor){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++)t[i]=n[i]}else{const e=Math.min(n.length,t.length);t.set(new n.constructor(n.buffer,0,e))}}class tI extends qi{get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}constructor(t,e,i=e*2,s){super(new Ke,s),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=t,this._maxVertexCount=e,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(t),this._multiDrawStarts=new Int32Array(t),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let t=Math.sqrt(this._maxInstanceCount*4);t=Math.ceil(t/4)*4,t=Math.max(t,4);const e=new Float32Array(t*t*4),i=new kl(e,t,t,fr,ta);this._matricesTexture=i}_initIndirectTexture(){let t=Math.sqrt(this._maxInstanceCount);t=Math.ceil(t);const e=new Uint32Array(t*t),i=new kl(e,t,t,ky,Zc);this._indirectTexture=i}_initColorsTexture(){let t=Math.sqrt(this._maxInstanceCount);t=Math.ceil(t);const e=new Float32Array(t*t*4).fill(1),i=new kl(e,t,t,fr,ta);i.colorSpace=_n.workingColorSpace,this._colorsTexture=i}_initializeGeometry(t){const e=this.geometry,i=this._maxVertexCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const r in t.attributes){const o=t.getAttribute(r),{array:l,itemSize:u,normalized:d}=o,m=new l.constructor(i*u),g=new Rn(m,u,d);e.setAttribute(r,g)}if(t.getIndex()!==null){const r=i>65535?new Uint32Array(s):new Uint16Array(s);e.setIndex(new Rn(r,1))}this._geometryInitialized=!0}}_validateGeometry(t){const e=this.geometry;if(!!t.getIndex()!=!!e.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in e.attributes){if(!t.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const s=t.getAttribute(i),r=e.getAttribute(i);if(s.itemSize!==r.itemSize||s.normalized!==r.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(t){const e=this._instanceInfo;if(t<0||t>=e.length||e[t].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${t}. Instance is either out of range or has been deleted.`)}validateGeometryId(t){const e=this._geometryInfo;if(t<0||t>=e.length||e[t].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${t}. Geometry is either out of range or has been deleted.`)}setCustomSort(t){return this.customSort=t,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new pr);const t=this.boundingBox,e=this._instanceInfo;t.makeEmpty();for(let i=0,s=e.length;i<s;i++){if(e[i].active===!1)continue;const r=e[i].geometryIndex;this.getMatrixAt(i,Qr),this.getBoundingBoxAt(r,mA).applyMatrix4(Qr),t.union(mA)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ys);const t=this.boundingSphere,e=this._instanceInfo;t.makeEmpty();for(let i=0,s=e.length;i<s;i++){if(e[i].active===!1)continue;const r=e[i].geometryIndex;this.getMatrixAt(i,Qr),this.getBoundingSphereAt(r,ph).applyMatrix4(Qr),t.union(ph)}}addInstance(t){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:t};let s=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(eM),s=this._availableInstanceIds.shift(),this._instanceInfo[s]=i):(s=this._instanceInfo.length,this._instanceInfo.push(i));const r=this._matricesTexture;Qr.identity().toArray(r.image.data,s*16),r.needsUpdate=!0;const o=this._colorsTexture;return o&&(zk.toArray(o.image.data,s*4),o.needsUpdate=!0),this._visibilityChanged=!0,s}addGeometry(t,e=-1,i=-1){this._initializeGeometry(t),this._validateGeometry(t);const s={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},r=this._geometryInfo;s.vertexStart=this._nextVertexStart,s.reservedVertexCount=e===-1?t.getAttribute("position").count:e;const o=t.getIndex();if(o!==null&&(s.indexStart=this._nextIndexStart,s.reservedIndexCount=i===-1?o.count:i),s.indexStart!==-1&&s.indexStart+s.reservedIndexCount>this._maxIndexCount||s.vertexStart+s.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let u;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(eM),u=this._availableGeometryIds.shift(),r[u]=s):(u=this._geometryCount,this._geometryCount++,r.push(s)),this.setGeometryAt(u,t),this._nextIndexStart=s.indexStart+s.reservedIndexCount,this._nextVertexStart=s.vertexStart+s.reservedVertexCount,u}setGeometryAt(t,e){if(t>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(e);const i=this.geometry,s=i.getIndex()!==null,r=i.getIndex(),o=e.getIndex(),l=this._geometryInfo[t];if(s&&o.count>l.reservedIndexCount||e.attributes.position.count>l.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const u=l.vertexStart,d=l.reservedVertexCount;l.vertexCount=e.getAttribute("position").count;for(const m in i.attributes){const g=e.getAttribute(m),v=i.getAttribute(m);Gk(g,v,u);const A=g.itemSize;for(let S=g.count,E=d;S<E;S++){const T=u+S;for(let _=0;_<A;_++)v.setComponent(T,_,0)}v.needsUpdate=!0,v.addUpdateRange(u*A,d*A)}if(s){const m=l.indexStart,g=l.reservedIndexCount;l.indexCount=e.getIndex().count;for(let v=0;v<o.count;v++)r.setX(m+v,u+o.getX(v));for(let v=o.count,A=g;v<A;v++)r.setX(m+v,u);r.needsUpdate=!0,r.addUpdateRange(m,l.reservedIndexCount)}return l.start=s?l.indexStart:l.vertexStart,l.count=s?l.indexCount:l.vertexCount,l.boundingBox=null,e.boundingBox!==null&&(l.boundingBox=e.boundingBox.clone()),l.boundingSphere=null,e.boundingSphere!==null&&(l.boundingSphere=e.boundingSphere.clone()),this._visibilityChanged=!0,t}deleteGeometry(t){const e=this._geometryInfo;if(t>=e.length||e[t].active===!1)return this;const i=this._instanceInfo;for(let s=0,r=i.length;s<r;s++)i[s].active&&i[s].geometryIndex===t&&this.deleteInstance(s);return e[t].active=!1,this._availableGeometryIds.push(t),this._visibilityChanged=!0,this}deleteInstance(t){return this.validateInstanceId(t),this._instanceInfo[t].active=!1,this._availableInstanceIds.push(t),this._visibilityChanged=!0,this}optimize(){let t=0,e=0;const i=this._geometryInfo,s=i.map((o,l)=>l).sort((o,l)=>i[o].vertexStart-i[l].vertexStart),r=this.geometry;for(let o=0,l=i.length;o<l;o++){const u=s[o],d=i[u];if(d.active!==!1){if(r.index!==null){if(d.indexStart!==e){const{indexStart:m,vertexStart:g,reservedIndexCount:v}=d,A=r.index,S=A.array,E=t-g;for(let T=m;T<m+v;T++)S[T]=S[T]+E;A.array.copyWithin(e,m,m+v),A.addUpdateRange(e,v),d.indexStart=e}e+=d.reservedIndexCount}if(d.vertexStart!==t){const{vertexStart:m,reservedVertexCount:g}=d,v=r.attributes;for(const A in v){const S=v[A],{array:E,itemSize:T}=S;E.copyWithin(t*T,m*T,(m+g)*T),S.addUpdateRange(t*T,g*T)}d.vertexStart=t}t+=d.reservedVertexCount,d.start=r.index?d.indexStart:d.vertexStart,this._nextIndexStart=r.index?d.indexStart+d.reservedIndexCount:0,this._nextVertexStart=d.vertexStart+d.reservedVertexCount}}return this}getBoundingBoxAt(t,e){if(t>=this._geometryCount)return null;const i=this.geometry,s=this._geometryInfo[t];if(s.boundingBox===null){const r=new pr,o=i.index,l=i.attributes.position;for(let u=s.start,d=s.start+s.count;u<d;u++){let m=u;o&&(m=o.getX(m)),r.expandByPoint(h0.fromBufferAttribute(l,m))}s.boundingBox=r}return e.copy(s.boundingBox),e}getBoundingSphereAt(t,e){if(t>=this._geometryCount)return null;const i=this.geometry,s=this._geometryInfo[t];if(s.boundingSphere===null){const r=new Ys;this.getBoundingBoxAt(t,mA),mA.getCenter(r.center);const o=i.index,l=i.attributes.position;let u=0;for(let d=s.start,m=s.start+s.count;d<m;d++){let g=d;o&&(g=o.getX(g)),h0.fromBufferAttribute(l,g),u=Math.max(u,r.center.distanceToSquared(h0))}r.radius=Math.sqrt(u),s.boundingSphere=r}return e.copy(s.boundingSphere),e}setMatrixAt(t,e){this.validateInstanceId(t);const i=this._matricesTexture,s=this._matricesTexture.image.data;return e.toArray(s,t*16),i.needsUpdate=!0,this}getMatrixAt(t,e){return this.validateInstanceId(t),e.fromArray(this._matricesTexture.image.data,t*16)}setColorAt(t,e){return this.validateInstanceId(t),this._colorsTexture===null&&this._initColorsTexture(),e.toArray(this._colorsTexture.image.data,t*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(t,e){return this.validateInstanceId(t),e.fromArray(this._colorsTexture.image.data,t*4)}setVisibleAt(t,e){return this.validateInstanceId(t),this._instanceInfo[t].visible===e?this:(this._instanceInfo[t].visible=e,this._visibilityChanged=!0,this)}getVisibleAt(t){return this.validateInstanceId(t),this._instanceInfo[t].visible}setGeometryIdAt(t,e){return this.validateInstanceId(t),this.validateGeometryId(e),this._instanceInfo[t].geometryIndex=e,this}getGeometryIdAt(t){return this.validateInstanceId(t),this._instanceInfo[t].geometryIndex}getGeometryRangeAt(t,e={}){this.validateGeometryId(t);const i=this._geometryInfo[t];return e.vertexStart=i.vertexStart,e.vertexCount=i.vertexCount,e.reservedVertexCount=i.reservedVertexCount,e.indexStart=i.indexStart,e.indexCount=i.indexCount,e.reservedIndexCount=i.reservedIndexCount,e.start=i.start,e.count=i.count,e}setInstanceCount(t){const e=this._availableInstanceIds,i=this._instanceInfo;for(e.sort(eM);e[e.length-1]===i.length;)i.pop(),e.pop();if(t<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${t} are being used. Cannot shrink instance count.`);const s=new Int32Array(t),r=new Int32Array(t);mh(this._multiDrawCounts,s),mh(this._multiDrawStarts,r),this._multiDrawCounts=s,this._multiDrawStarts=r,this._maxInstanceCount=t;const o=this._indirectTexture,l=this._matricesTexture,u=this._colorsTexture;o.dispose(),this._initIndirectTexture(),mh(o.image.data,this._indirectTexture.image.data),l.dispose(),this._initMatricesTexture(),mh(l.image.data,this._matricesTexture.image.data),u&&(u.dispose(),this._initColorsTexture(),mh(u.image.data,this._colorsTexture.image.data))}setGeometrySize(t,e){const i=[...this._geometryInfo].filter(l=>l.active);if(Math.max(...i.map(l=>l.vertexStart+l.reservedVertexCount))>t)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${e}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(u=>u.indexStart+u.reservedIndexCount))>e)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${e}. Cannot shrink further.`);const r=this.geometry;r.dispose(),this._maxVertexCount=t,this._maxIndexCount=e,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Ke,this._initializeGeometry(r));const o=this.geometry;r.index&&mh(r.index.array,o.index.array);for(const l in r.attributes)mh(r.attributes[l].array,o.attributes[l].array)}raycast(t,e){const i=this._instanceInfo,s=this._geometryInfo,r=this.matrixWorld,o=this.geometry;ar.material=this.material,ar.geometry.index=o.index,ar.geometry.attributes=o.attributes,ar.geometry.boundingBox===null&&(ar.geometry.boundingBox=new pr),ar.geometry.boundingSphere===null&&(ar.geometry.boundingSphere=new Ys);for(let l=0,u=i.length;l<u;l++){if(!i[l].visible||!i[l].active)continue;const d=i[l].geometryIndex,m=s[d];ar.geometry.setDrawRange(m.start,m.count),this.getMatrixAt(l,ar.matrixWorld).premultiply(r),this.getBoundingBoxAt(d,ar.geometry.boundingBox),this.getBoundingSphereAt(d,ar.geometry.boundingSphere),ar.raycast(t,gA);for(let g=0,v=gA.length;g<v;g++){const A=gA[g];A.object=this,A.batchId=l,e.push(A)}gA.length=0}ar.material=null,ar.geometry.index=null,ar.geometry.attributes={},ar.geometry.setDrawRange(0,1/0)}copy(t){return super.copy(t),this.geometry=t.geometry.clone(),this.perObjectFrustumCulled=t.perObjectFrustumCulled,this.sortObjects=t.sortObjects,this.boundingBox=t.boundingBox!==null?t.boundingBox.clone():null,this.boundingSphere=t.boundingSphere!==null?t.boundingSphere.clone():null,this._geometryInfo=t._geometryInfo.map(e=>({...e,boundingBox:e.boundingBox!==null?e.boundingBox.clone():null,boundingSphere:e.boundingSphere!==null?e.boundingSphere.clone():null})),this._instanceInfo=t._instanceInfo.map(e=>({...e})),this._maxInstanceCount=t._maxInstanceCount,this._maxVertexCount=t._maxVertexCount,this._maxIndexCount=t._maxIndexCount,this._geometryInitialized=t._geometryInitialized,this._geometryCount=t._geometryCount,this._multiDrawCounts=t._multiDrawCounts.slice(),this._multiDrawStarts=t._multiDrawStarts.slice(),this._matricesTexture=t._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=t._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(t,e,i,s,r){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=s.getIndex(),l=o===null?1:o.array.BYTES_PER_ELEMENT,u=this._instanceInfo,d=this._multiDrawStarts,m=this._multiDrawCounts,g=this._geometryInfo,v=this.perObjectFrustumCulled,A=this._indirectTexture,S=A.image.data;v&&(Qr.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),nM.setFromProjectionMatrix(Qr,t.coordinateSystem));let E=0;if(this.sortObjects){Qr.copy(this.matrixWorld).invert(),h0.setFromMatrixPosition(i.matrixWorld).applyMatrix4(Qr),QB.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(Qr);for(let w=0,D=u.length;w<D;w++)if(u[w].visible&&u[w].active){const L=u[w].geometryIndex;this.getMatrixAt(w,Qr),this.getBoundingSphereAt(L,ph).applyMatrix4(Qr);let U=!1;if(v&&(U=!nM.intersectsSphere(ph)),!U){const P=g[L],F=Hk.subVectors(ph.center,h0).dot(QB);iM.push(P.start,P.count,F,w)}}const T=iM.list,_=this.customSort;_===null?T.sort(r.transparent?Ik:Nk):_.call(this,T,i);for(let w=0,D=T.length;w<D;w++){const L=T[w];d[E]=L.start*l,m[E]=L.count,S[E]=L.index,E++}iM.reset()}else for(let T=0,_=u.length;T<_;T++)if(u[T].visible&&u[T].active){const w=u[T].geometryIndex;let D=!1;if(v&&(this.getMatrixAt(T,Qr),this.getBoundingSphereAt(w,ph).applyMatrix4(Qr),D=!nM.intersectsSphere(ph)),!D){const L=g[w];d[E]=L.start*l,m[E]=L.count,S[E]=T,E++}}A.needsUpdate=!0,this._multiDrawCount=E,this._visibilityChanged=!1}onBeforeShadow(t,e,i,s,r,o){this.onBeforeRender(t,null,s,r,o)}}class mr extends us{constructor(t){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ie(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}const aS=new K,oS=new K,ZB=new Be,d0=new Bm,yA=new Ys,sM=new K,$B=new K;class $c extends gn{constructor(t=new Ke,e=new mr){super(),this.isLine=!0,this.type="Line",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(t.index===null){const e=t.attributes.position,i=[0];for(let s=1,r=e.count;s<r;s++)aS.fromBufferAttribute(e,s-1),oS.fromBufferAttribute(e,s),i[s]=i[s-1],i[s]+=aS.distanceTo(oS);t.setAttribute("lineDistance",new be(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(t,e){const i=this.geometry,s=this.matrixWorld,r=t.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),yA.copy(i.boundingSphere),yA.applyMatrix4(s),yA.radius+=r,t.ray.intersectsSphere(yA)===!1)return;ZB.copy(s).invert(),d0.copy(t.ray).applyMatrix4(ZB);const l=r/((this.scale.x+this.scale.y+this.scale.z)/3),u=l*l,d=this.isLineSegments?2:1,m=i.index,v=i.attributes.position;if(m!==null){const A=Math.max(0,o.start),S=Math.min(m.count,o.start+o.count);for(let E=A,T=S-1;E<T;E+=d){const _=m.getX(E),w=m.getX(E+1),D=vA(this,t,d0,u,_,w,E);D&&e.push(D)}if(this.isLineLoop){const E=m.getX(S-1),T=m.getX(A),_=vA(this,t,d0,u,E,T,S-1);_&&e.push(_)}}else{const A=Math.max(0,o.start),S=Math.min(v.count,o.start+o.count);for(let E=A,T=S-1;E<T;E+=d){const _=vA(this,t,d0,u,E,E+1,E);_&&e.push(_)}if(this.isLineLoop){const E=vA(this,t,d0,u,S-1,A,S-1);E&&e.push(E)}}}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){const s=e[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=s.length;r<o;r++){const l=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=r}}}}}function vA(n,t,e,i,s,r,o){const l=n.geometry.attributes.position;if(aS.fromBufferAttribute(l,s),oS.fromBufferAttribute(l,r),e.distanceSqToSegment(aS,oS,sM,$B)>i)return;sM.applyMatrix4(n.matrixWorld);const d=t.ray.origin.distanceTo(sM);if(!(d<t.near||d>t.far))return{distance:d,point:$B.clone().applyMatrix4(n.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:n}}const tD=new K,eD=new K;class qo extends $c{constructor(t,e){super(t,e),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(t.index===null){const e=t.attributes.position,i=[];for(let s=0,r=e.count;s<r;s+=2)tD.fromBufferAttribute(e,s),eD.fromBufferAttribute(e,s+1),i[s]=s===0?0:i[s-1],i[s+1]=i[s]+tD.distanceTo(eD);t.setAttribute("lineDistance",new be(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class OC extends $c{constructor(t,e){super(t,e),this.isLineLoop=!0,this.type="LineLoop"}}class WS extends us{constructor(t){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ie(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}const nD=new Be,PE=new Bm,xA=new Ys,AA=new K;class UC extends gn{constructor(t=new Ke,e=new WS){super(),this.isPoints=!0,this.type="Points",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}raycast(t,e){const i=this.geometry,s=this.matrixWorld,r=t.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),xA.copy(i.boundingSphere),xA.applyMatrix4(s),xA.radius+=r,t.ray.intersectsSphere(xA)===!1)return;nD.copy(s).invert(),PE.copy(t.ray).applyMatrix4(nD);const l=r/((this.scale.x+this.scale.y+this.scale.z)/3),u=l*l,d=i.index,g=i.attributes.position;if(d!==null){const v=Math.max(0,o.start),A=Math.min(d.count,o.start+o.count);for(let S=v,E=A;S<E;S++){const T=d.getX(S);AA.fromBufferAttribute(g,T),iD(AA,T,u,s,t,e,this)}}else{const v=Math.max(0,o.start),A=Math.min(g.count,o.start+o.count);for(let S=v,E=A;S<E;S++)AA.fromBufferAttribute(g,S),iD(AA,S,u,s,t,e,this)}}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){const s=e[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=s.length;r<o;r++){const l=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=r}}}}}function iD(n,t,e,i,s,r,o){const l=PE.distanceSqToPoint(n);if(l<e){const u=new K;PE.closestPointToPoint(n,u),u.applyMatrix4(i);const d=s.ray.origin.distanceTo(u);if(d<s.near||d>s.far)return;r.push({distance:d,distanceToRay:Math.sqrt(l),point:u,index:t,face:null,faceIndex:null,barycoord:null,object:o})}}class eI extends pi{constructor(t,e,i,s,r,o,l,u,d){super(t,e,i,s,r,o,l,u,d),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Ki,this.magFilter=r!==void 0?r:Ki,this.generateMipmaps=!1;const m=this;function g(){m.needsUpdate=!0,t.requestVideoFrameCallback(g)}"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback(g)}clone(){return new this.constructor(this.image).copy(this)}update(){const t=this.image;"requestVideoFrameCallback"in t===!1&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Vk extends eI{constructor(t,e,i,s,r,o,l,u){super({},t,e,i,s,r,o,l,u),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(t){this.image=t,this.needsUpdate=!0}}class kk extends pi{constructor(t,e){super({width:t,height:e}),this.isFramebufferTexture=!0,this.magFilter=Ls,this.minFilter=Ls,this.generateMipmaps=!1,this.needsUpdate=!0}}class KS extends pi{constructor(t,e,i,s,r,o,l,u,d,m,g,v){super(null,o,l,u,d,m,s,r,g,v),this.isCompressedTexture=!0,this.image={width:e,height:i},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}}class Xk extends KS{constructor(t,e,i,s,r,o){super(t,e,i,r,o),this.isCompressedArrayTexture=!0,this.image.depth=s,this.wrapR=Sa,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class jk extends KS{constructor(t,e,i){super(void 0,t[0].width,t[0].height,e,i,Qc),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=t}}class Yk extends pi{constructor(t,e,i,s,r,o,l,u,d){super(t,e,i,s,r,o,l,u,d),this.isCanvasTexture=!0,this.needsUpdate=!0}}class PC extends pi{constructor(t,e,i,s,r,o,l,u,d,m=Yh){if(m!==Yh&&m!==$h)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&m===Yh&&(i=Zc),i===void 0&&m===$h&&(i=Zh),super(null,s,r,o,l,u,m,i,d),this.isDepthTexture=!0,this.image={width:t,height:e},this.magFilter=l!==void 0?l:Ls,this.minFilter=u!==void 0?u:Ls,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.compareFunction=t.compareFunction,this}toJSON(t){const e=super.toJSON(t);return this.compareFunction!==null&&(e.compareFunction=this.compareFunction),e}}class Jo{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(t,e){const i=this.getUtoTmapping(t);return this.getPoint(i,e)}getPoints(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return e}getSpacedPoints(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPointAt(i/t));return e}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let i,s=this.getPoint(0),r=0;e.push(0);for(let o=1;o<=t;o++)i=this.getPoint(o/t),r+=i.distanceTo(s),e.push(r),s=i;return this.cacheArcLengths=e,e}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,e){const i=this.getLengths();let s=0;const r=i.length;let o;e?o=e:o=t*i[r-1];let l=0,u=r-1,d;for(;l<=u;)if(s=Math.floor(l+(u-l)/2),d=i[s]-o,d<0)l=s+1;else if(d>0)u=s-1;else{u=s;break}if(s=u,i[s]===o)return s/(r-1);const m=i[s],v=i[s+1]-m,A=(o-m)/v;return(s+A)/(r-1)}getTangent(t,e){let s=t-1e-4,r=t+1e-4;s<0&&(s=0),r>1&&(r=1);const o=this.getPoint(s),l=this.getPoint(r),u=e||(o.isVector2?new It:new K);return u.copy(l).sub(o).normalize(),u}getTangentAt(t,e){const i=this.getUtoTmapping(t);return this.getTangent(i,e)}computeFrenetFrames(t,e){const i=new K,s=[],r=[],o=[],l=new K,u=new Be;for(let A=0;A<=t;A++){const S=A/t;s[A]=this.getTangentAt(S,new K)}r[0]=new K,o[0]=new K;let d=Number.MAX_VALUE;const m=Math.abs(s[0].x),g=Math.abs(s[0].y),v=Math.abs(s[0].z);m<=d&&(d=m,i.set(1,0,0)),g<=d&&(d=g,i.set(0,1,0)),v<=d&&i.set(0,0,1),l.crossVectors(s[0],i).normalize(),r[0].crossVectors(s[0],l),o[0].crossVectors(s[0],r[0]);for(let A=1;A<=t;A++){if(r[A]=r[A-1].clone(),o[A]=o[A-1].clone(),l.crossVectors(s[A-1],s[A]),l.length()>Number.EPSILON){l.normalize();const S=Math.acos(Ye(s[A-1].dot(s[A]),-1,1));r[A].applyMatrix4(u.makeRotationAxis(l,S))}o[A].crossVectors(s[A],r[A])}if(e===!0){let A=Math.acos(Ye(r[0].dot(r[t]),-1,1));A/=t,s[0].dot(l.crossVectors(r[0],r[t]))>0&&(A=-A);for(let S=1;S<=t;S++)r[S].applyMatrix4(u.makeRotationAxis(s[S],A*S)),o[S].crossVectors(s[S],r[S])}return{tangents:s,normals:r,binormals:o}}clone(){return new this.constructor().copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){const t={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}class qS extends Jo{constructor(t=0,e=0,i=1,s=1,r=0,o=Math.PI*2,l=!1,u=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=t,this.aY=e,this.xRadius=i,this.yRadius=s,this.aStartAngle=r,this.aEndAngle=o,this.aClockwise=l,this.aRotation=u}getPoint(t,e=new It){const i=e,s=Math.PI*2;let r=this.aEndAngle-this.aStartAngle;const o=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=s;for(;r>s;)r-=s;r<Number.EPSILON&&(o?r=0:r=s),this.aClockwise===!0&&!o&&(r===s?r=-s:r=r-s);const l=this.aStartAngle+t*r;let u=this.aX+this.xRadius*Math.cos(l),d=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const m=Math.cos(this.aRotation),g=Math.sin(this.aRotation),v=u-this.aX,A=d-this.aY;u=v*m-A*g+this.aX,d=v*g+A*m+this.aY}return i.set(u,d)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){const t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}class nI extends qS{constructor(t,e,i,s,r,o){super(t,e,i,i,s,r,o),this.isArcCurve=!0,this.type="ArcCurve"}}function NC(){let n=0,t=0,e=0,i=0;function s(r,o,l,u){n=r,t=l,e=-3*r+3*o-2*l-u,i=2*r-2*o+l+u}return{initCatmullRom:function(r,o,l,u,d){s(o,l,d*(l-r),d*(u-o))},initNonuniformCatmullRom:function(r,o,l,u,d,m,g){let v=(o-r)/d-(l-r)/(d+m)+(l-o)/m,A=(l-o)/m-(u-o)/(m+g)+(u-l)/g;v*=m,A*=m,s(o,l,v,A)},calc:function(r){const o=r*r,l=o*r;return n+t*r+e*o+i*l}}}const SA=new K,rM=new NC,aM=new NC,oM=new NC;class iI extends Jo{constructor(t=[],e=!1,i="centripetal",s=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=i,this.tension=s}getPoint(t,e=new K){const i=e,s=this.points,r=s.length,o=(r-(this.closed?0:1))*t;let l=Math.floor(o),u=o-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/r)+1)*r:u===0&&l===r-1&&(l=r-2,u=1);let d,m;this.closed||l>0?d=s[(l-1)%r]:(SA.subVectors(s[0],s[1]).add(s[0]),d=SA);const g=s[l%r],v=s[(l+1)%r];if(this.closed||l+2<r?m=s[(l+2)%r]:(SA.subVectors(s[r-1],s[r-2]).add(s[r-1]),m=SA),this.curveType==="centripetal"||this.curveType==="chordal"){const A=this.curveType==="chordal"?.5:.25;let S=Math.pow(d.distanceToSquared(g),A),E=Math.pow(g.distanceToSquared(v),A),T=Math.pow(v.distanceToSquared(m),A);E<1e-4&&(E=1),S<1e-4&&(S=E),T<1e-4&&(T=E),rM.initNonuniformCatmullRom(d.x,g.x,v.x,m.x,S,E,T),aM.initNonuniformCatmullRom(d.y,g.y,v.y,m.y,S,E,T),oM.initNonuniformCatmullRom(d.z,g.z,v.z,m.z,S,E,T)}else this.curveType==="catmullrom"&&(rM.initCatmullRom(d.x,g.x,v.x,m.x,this.tension),aM.initCatmullRom(d.y,g.y,v.y,m.y,this.tension),oM.initCatmullRom(d.z,g.z,v.z,m.z,this.tension));return i.set(rM.calc(u),aM.calc(u),oM.calc(u)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const s=t.points[e];this.points.push(s.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e<i;e++){const s=this.points[e];t.points.push(s.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const s=t.points[e];this.points.push(new K().fromArray(s))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}function sD(n,t,e,i,s){const r=(i-t)*.5,o=(s-e)*.5,l=n*n,u=n*l;return(2*e-2*i+r+o)*u+(-3*e+3*i-2*r-o)*l+r*n+e}function Wk(n,t){const e=1-n;return e*e*t}function Kk(n,t){return 2*(1-n)*n*t}function qk(n,t){return n*n*t}function K0(n,t,e,i){return Wk(n,t)+Kk(n,e)+qk(n,i)}function Jk(n,t){const e=1-n;return e*e*e*t}function Qk(n,t){const e=1-n;return 3*e*e*n*t}function Zk(n,t){return 3*(1-n)*n*n*t}function $k(n,t){return n*n*n*t}function q0(n,t,e,i,s){return Jk(n,t)+Qk(n,e)+Zk(n,i)+$k(n,s)}class IC extends Jo{constructor(t=new It,e=new It,i=new It,s=new It){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=i,this.v3=s}getPoint(t,e=new It){const i=e,s=this.v0,r=this.v1,o=this.v2,l=this.v3;return i.set(q0(t,s.x,r.x,o.x,l.x),q0(t,s.y,r.y,o.y,l.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class sI extends Jo{constructor(t=new K,e=new K,i=new K,s=new K){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=i,this.v3=s}getPoint(t,e=new K){const i=e,s=this.v0,r=this.v1,o=this.v2,l=this.v3;return i.set(q0(t,s.x,r.x,o.x,l.x),q0(t,s.y,r.y,o.y,l.y),q0(t,s.z,r.z,o.z,l.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class FC extends Jo{constructor(t=new It,e=new It){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=t,this.v2=e}getPoint(t,e=new It){const i=e;return t===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new It){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class rI extends Jo{constructor(t=new K,e=new K){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=t,this.v2=e}getPoint(t,e=new K){const i=e;return t===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new K){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class zC extends Jo{constructor(t=new It,e=new It,i=new It){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new It){const i=e,s=this.v0,r=this.v1,o=this.v2;return i.set(K0(t,s.x,r.x,o.x),K0(t,s.y,r.y,o.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class HC extends Jo{constructor(t=new K,e=new K,i=new K){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new K){const i=e,s=this.v0,r=this.v1,o=this.v2;return i.set(K0(t,s.x,r.x,o.x),K0(t,s.y,r.y,o.y),K0(t,s.z,r.z,o.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class GC extends Jo{constructor(t=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=t}getPoint(t,e=new It){const i=e,s=this.points,r=(s.length-1)*t,o=Math.floor(r),l=r-o,u=s[o===0?o:o-1],d=s[o],m=s[o>s.length-2?s.length-1:o+1],g=s[o>s.length-3?s.length-1:o+2];return i.set(sD(l,u.x,d.x,m.x,g.x),sD(l,u.y,d.y,m.y,g.y)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const s=t.points[e];this.points.push(s.clone())}return this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e<i;e++){const s=this.points[e];t.points.push(s.toArray())}return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const s=t.points[e];this.points.push(new It().fromArray(s))}return this}}var lS=Object.freeze({__proto__:null,ArcCurve:nI,CatmullRomCurve3:iI,CubicBezierCurve:IC,CubicBezierCurve3:sI,EllipseCurve:qS,LineCurve:FC,LineCurve3:rI,QuadraticBezierCurve:zC,QuadraticBezierCurve3:HC,SplineCurve:GC});class aI extends Jo{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(t){this.curves.push(t)}closePath(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);if(!t.equals(e)){const i=t.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new lS[i](e,t))}return this}getPoint(t,e){const i=t*this.getLength(),s=this.getCurveLengths();let r=0;for(;r<s.length;){if(s[r]>=i){const o=s[r]-i,l=this.curves[r],u=l.getLength(),d=u===0?0:1-o/u;return l.getPointAt(d,e)}r++}return null}getLength(){const t=this.getCurveLengths();return t[t.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let i=0,s=this.curves.length;i<s;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t}getSpacedPoints(t=40){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e}getPoints(t=12){const e=[];let i;for(let s=0,r=this.curves;s<r.length;s++){const o=r[s],l=o.isEllipseCurve?t*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?t*o.points.length:t,u=o.getPoints(l);for(let d=0;d<u.length;d++){const m=u[d];i&&i.equals(m)||(e.push(m),i=m)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e}copy(t){super.copy(t),this.curves=[];for(let e=0,i=t.curves.length;e<i;e++){const s=t.curves[e];this.curves.push(s.clone())}return this.autoClose=t.autoClose,this}toJSON(){const t=super.toJSON();t.autoClose=this.autoClose,t.curves=[];for(let e=0,i=this.curves.length;e<i;e++){const s=this.curves[e];t.curves.push(s.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,i=t.curves.length;e<i;e++){const s=t.curves[e];this.curves.push(new lS[s.type]().fromJSON(s))}return this}}class yy extends aI{constructor(t){super(),this.type="Path",this.currentPoint=new It,t&&this.setFromPoints(t)}setFromPoints(t){this.moveTo(t[0].x,t[0].y);for(let e=1,i=t.length;e<i;e++)this.lineTo(t[e].x,t[e].y);return this}moveTo(t,e){return this.currentPoint.set(t,e),this}lineTo(t,e){const i=new FC(this.currentPoint.clone(),new It(t,e));return this.curves.push(i),this.currentPoint.set(t,e),this}quadraticCurveTo(t,e,i,s){const r=new zC(this.currentPoint.clone(),new It(t,e),new It(i,s));return this.curves.push(r),this.currentPoint.set(i,s),this}bezierCurveTo(t,e,i,s,r,o){const l=new IC(this.currentPoint.clone(),new It(t,e),new It(i,s),new It(r,o));return this.curves.push(l),this.currentPoint.set(r,o),this}splineThru(t){const e=[this.currentPoint.clone()].concat(t),i=new GC(e);return this.curves.push(i),this.currentPoint.copy(t[t.length-1]),this}arc(t,e,i,s,r,o){const l=this.currentPoint.x,u=this.currentPoint.y;return this.absarc(t+l,e+u,i,s,r,o),this}absarc(t,e,i,s,r,o){return this.absellipse(t,e,i,i,s,r,o),this}ellipse(t,e,i,s,r,o,l,u){const d=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(t+d,e+m,i,s,r,o,l,u),this}absellipse(t,e,i,s,r,o,l,u){const d=new qS(t,e,i,s,r,o,l,u);if(this.curves.length>0){const g=d.getPoint(0);g.equals(this.currentPoint)||this.lineTo(g.x,g.y)}this.curves.push(d);const m=d.getPoint(1);return this.currentPoint.copy(m),this}copy(t){return super.copy(t),this.currentPoint.copy(t.currentPoint),this}toJSON(){const t=super.toJSON();return t.currentPoint=this.currentPoint.toArray(),t}fromJSON(t){return super.fromJSON(t),this.currentPoint.fromArray(t.currentPoint),this}}class qy extends Ke{constructor(t=[new It(0,-.5),new It(.5,0),new It(0,.5)],e=12,i=0,s=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:i,phiLength:s},e=Math.floor(e),s=Ye(s,0,Math.PI*2);const r=[],o=[],l=[],u=[],d=[],m=1/e,g=new K,v=new It,A=new K,S=new K,E=new K;let T=0,_=0;for(let w=0;w<=t.length-1;w++)switch(w){case 0:T=t[w+1].x-t[w].x,_=t[w+1].y-t[w].y,A.x=_*1,A.y=-T,A.z=_*0,E.copy(A),A.normalize(),u.push(A.x,A.y,A.z);break;case t.length-1:u.push(E.x,E.y,E.z);break;default:T=t[w+1].x-t[w].x,_=t[w+1].y-t[w].y,A.x=_*1,A.y=-T,A.z=_*0,S.copy(A),A.x+=E.x,A.y+=E.y,A.z+=E.z,A.normalize(),u.push(A.x,A.y,A.z),E.copy(S)}for(let w=0;w<=e;w++){const D=i+w*m*s,L=Math.sin(D),U=Math.cos(D);for(let P=0;P<=t.length-1;P++){g.x=t[P].x*L,g.y=t[P].y,g.z=t[P].x*U,o.push(g.x,g.y,g.z),v.x=w/e,v.y=P/(t.length-1),l.push(v.x,v.y);const F=u[3*P+0]*L,z=u[3*P+1],N=u[3*P+0]*U;d.push(F,z,N)}}for(let w=0;w<e;w++)for(let D=0;D<t.length-1;D++){const L=D+w*t.length,U=L,P=L+t.length,F=L+t.length+1,z=L+1;r.push(U,P,z),r.push(F,z,P)}this.setIndex(r),this.setAttribute("position",new be(o,3)),this.setAttribute("uv",new be(l,2)),this.setAttribute("normal",new be(d,3))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new qy(t.points,t.segments,t.phiStart,t.phiLength)}}class JS extends qy{constructor(t=1,e=1,i=4,s=8){const r=new yy;r.absarc(0,-e/2,t,Math.PI*1.5,0),r.absarc(0,e/2,t,0,Math.PI*.5),super(r.getPoints(i),s),this.type="CapsuleGeometry",this.parameters={radius:t,length:e,capSegments:i,radialSegments:s}}static fromJSON(t){return new JS(t.radius,t.length,t.capSegments,t.radialSegments)}}class QS extends Ke{constructor(t=1,e=32,i=0,s=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:s},e=Math.max(3,e);const r=[],o=[],l=[],u=[],d=new K,m=new It;o.push(0,0,0),l.push(0,0,1),u.push(.5,.5);for(let g=0,v=3;g<=e;g++,v+=3){const A=i+g/e*s;d.x=t*Math.cos(A),d.y=t*Math.sin(A),o.push(d.x,d.y,d.z),l.push(0,0,1),m.x=(o[v]/t+1)/2,m.y=(o[v+1]/t+1)/2,u.push(m.x,m.y)}for(let g=1;g<=e;g++)r.push(g,g+1,0);this.setIndex(r),this.setAttribute("position",new be(o,3)),this.setAttribute("normal",new be(l,3)),this.setAttribute("uv",new be(u,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new QS(t.radius,t.segments,t.thetaStart,t.thetaLength)}}class Dm extends Ke{constructor(t=1,e=1,i=1,s=32,r=1,o=!1,l=0,u=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:s,heightSegments:r,openEnded:o,thetaStart:l,thetaLength:u};const d=this;s=Math.floor(s),r=Math.floor(r);const m=[],g=[],v=[],A=[];let S=0;const E=[],T=i/2;let _=0;w(),o===!1&&(t>0&&D(!0),e>0&&D(!1)),this.setIndex(m),this.setAttribute("position",new be(g,3)),this.setAttribute("normal",new be(v,3)),this.setAttribute("uv",new be(A,2));function w(){const L=new K,U=new K;let P=0;const F=(e-t)/i;for(let z=0;z<=r;z++){const N=[],B=z/r,H=B*(e-t)+t;for(let st=0;st<=s;st++){const tt=st/s,J=tt*u+l,lt=Math.sin(J),$=Math.cos(J);U.x=H*lt,U.y=-B*i+T,U.z=H*$,g.push(U.x,U.y,U.z),L.set(lt,F,$).normalize(),v.push(L.x,L.y,L.z),A.push(tt,1-B),N.push(S++)}E.push(N)}for(let z=0;z<s;z++)for(let N=0;N<r;N++){const B=E[N][z],H=E[N+1][z],st=E[N+1][z+1],tt=E[N][z+1];(t>0||N!==0)&&(m.push(B,H,tt),P+=3),(e>0||N!==r-1)&&(m.push(H,st,tt),P+=3)}d.addGroup(_,P,0),_+=P}function D(L){const U=S,P=new It,F=new K;let z=0;const N=L===!0?t:e,B=L===!0?1:-1;for(let st=1;st<=s;st++)g.push(0,T*B,0),v.push(0,B,0),A.push(.5,.5),S++;const H=S;for(let st=0;st<=s;st++){const J=st/s*u+l,lt=Math.cos(J),$=Math.sin(J);F.x=N*$,F.y=T*B,F.z=N*lt,g.push(F.x,F.y,F.z),v.push(0,B,0),P.x=lt*.5+.5,P.y=$*.5*B+.5,A.push(P.x,P.y),S++}for(let st=0;st<s;st++){const tt=U+st,J=H+st;L===!0?m.push(J,J+1,tt):m.push(J+1,J,tt),z+=3}d.addGroup(_,z,L===!0?1:2),_+=z}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Dm(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class ZS extends Dm{constructor(t=1,e=1,i=32,s=1,r=!1,o=0,l=Math.PI*2){super(0,t,e,i,s,r,o,l),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:i,heightSegments:s,openEnded:r,thetaStart:o,thetaLength:l}}static fromJSON(t){return new ZS(t.radius,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class gf extends Ke{constructor(t=[],e=[],i=1,s=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:i,detail:s};const r=[],o=[];l(s),d(i),m(),this.setAttribute("position",new be(r,3)),this.setAttribute("normal",new be(r.slice(),3)),this.setAttribute("uv",new be(o,2)),s===0?this.computeVertexNormals():this.normalizeNormals();function l(w){const D=new K,L=new K,U=new K;for(let P=0;P<e.length;P+=3)A(e[P+0],D),A(e[P+1],L),A(e[P+2],U),u(D,L,U,w)}function u(w,D,L,U){const P=U+1,F=[];for(let z=0;z<=P;z++){F[z]=[];const N=w.clone().lerp(L,z/P),B=D.clone().lerp(L,z/P),H=P-z;for(let st=0;st<=H;st++)st===0&&z===P?F[z][st]=N:F[z][st]=N.clone().lerp(B,st/H)}for(let z=0;z<P;z++)for(let N=0;N<2*(P-z)-1;N++){const B=Math.floor(N/2);N%2===0?(v(F[z][B+1]),v(F[z+1][B]),v(F[z][B])):(v(F[z][B+1]),v(F[z+1][B+1]),v(F[z+1][B]))}}function d(w){const D=new K;for(let L=0;L<r.length;L+=3)D.x=r[L+0],D.y=r[L+1],D.z=r[L+2],D.normalize().multiplyScalar(w),r[L+0]=D.x,r[L+1]=D.y,r[L+2]=D.z}function m(){const w=new K;for(let D=0;D<r.length;D+=3){w.x=r[D+0],w.y=r[D+1],w.z=r[D+2];const L=T(w)/2/Math.PI+.5,U=_(w)/Math.PI+.5;o.push(L,1-U)}S(),g()}function g(){for(let w=0;w<o.length;w+=6){const D=o[w+0],L=o[w+2],U=o[w+4],P=Math.max(D,L,U),F=Math.min(D,L,U);P>.9&&F<.1&&(D<.2&&(o[w+0]+=1),L<.2&&(o[w+2]+=1),U<.2&&(o[w+4]+=1))}}function v(w){r.push(w.x,w.y,w.z)}function A(w,D){const L=w*3;D.x=t[L+0],D.y=t[L+1],D.z=t[L+2]}function S(){const w=new K,D=new K,L=new K,U=new K,P=new It,F=new It,z=new It;for(let N=0,B=0;N<r.length;N+=9,B+=6){w.set(r[N+0],r[N+1],r[N+2]),D.set(r[N+3],r[N+4],r[N+5]),L.set(r[N+6],r[N+7],r[N+8]),P.set(o[B+0],o[B+1]),F.set(o[B+2],o[B+3]),z.set(o[B+4],o[B+5]),U.copy(w).add(D).add(L).divideScalar(3);const H=T(U);E(P,B+0,w,H),E(F,B+2,D,H),E(z,B+4,L,H)}}function E(w,D,L,U){U<0&&w.x===1&&(o[D]=w.x-1),L.x===0&&L.z===0&&(o[D]=U/2/Math.PI+.5)}function T(w){return Math.atan2(w.z,-w.x)}function _(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new gf(t.vertices,t.indices,t.radius,t.details)}}class $S extends gf{constructor(t=1,e=0){const i=(1+Math.sqrt(5))/2,s=1/i,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-s,-i,0,-s,i,0,s,-i,0,s,i,-s,-i,0,-s,i,0,s,-i,0,s,i,0,-i,0,-s,i,0,-s,-i,0,s,i,0,s],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(r,o,t,e),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new $S(t.radius,t.detail)}}const _A=new K,bA=new K,lM=new K,MA=new $r;class oI extends Ke{constructor(t=null,e=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:t,thresholdAngle:e},t!==null){const s=Math.pow(10,4),r=Math.cos(Wh*e),o=t.getIndex(),l=t.getAttribute("position"),u=o?o.count:l.count,d=[0,0,0],m=["a","b","c"],g=new Array(3),v={},A=[];for(let S=0;S<u;S+=3){o?(d[0]=o.getX(S),d[1]=o.getX(S+1),d[2]=o.getX(S+2)):(d[0]=S,d[1]=S+1,d[2]=S+2);const{a:E,b:T,c:_}=MA;if(E.fromBufferAttribute(l,d[0]),T.fromBufferAttribute(l,d[1]),_.fromBufferAttribute(l,d[2]),MA.getNormal(lM),g[0]=`${Math.round(E.x*s)},${Math.round(E.y*s)},${Math.round(E.z*s)}`,g[1]=`${Math.round(T.x*s)},${Math.round(T.y*s)},${Math.round(T.z*s)}`,g[2]=`${Math.round(_.x*s)},${Math.round(_.y*s)},${Math.round(_.z*s)}`,!(g[0]===g[1]||g[1]===g[2]||g[2]===g[0]))for(let w=0;w<3;w++){const D=(w+1)%3,L=g[w],U=g[D],P=MA[m[w]],F=MA[m[D]],z=`${L}_${U}`,N=`${U}_${L}`;N in v&&v[N]?(lM.dot(v[N].normal)<=r&&(A.push(P.x,P.y,P.z),A.push(F.x,F.y,F.z)),v[N]=null):z in v||(v[z]={index0:d[w],index1:d[D],normal:lM.clone()})}}for(const S in v)if(v[S]){const{index0:E,index1:T}=v[S];_A.fromBufferAttribute(l,E),bA.fromBufferAttribute(l,T),A.push(_A.x,_A.y,_A.z),A.push(bA.x,bA.y,bA.z)}this.setAttribute("position",new be(A,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}class Kh extends yy{constructor(t){super(t),this.uuid=ba(),this.type="Shape",this.holes=[]}getPointsHoles(t){const e=[];for(let i=0,s=this.holes.length;i<s;i++)e[i]=this.holes[i].getPoints(t);return e}extractPoints(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}copy(t){super.copy(t),this.holes=[];for(let e=0,i=t.holes.length;e<i;e++){const s=t.holes[e];this.holes.push(s.clone())}return this}toJSON(){const t=super.toJSON();t.uuid=this.uuid,t.holes=[];for(let e=0,i=this.holes.length;e<i;e++){const s=this.holes[e];t.holes.push(s.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.uuid=t.uuid,this.holes=[];for(let e=0,i=t.holes.length;e<i;e++){const s=t.holes[e];this.holes.push(new yy().fromJSON(s))}return this}}const t7={triangulate:function(n,t,e=2){const i=t&&t.length,s=i?t[0]*e:n.length;let r=lI(n,0,s,e,!0);const o=[];if(!r||r.next===r.prev)return o;let l,u,d,m,g,v,A;if(i&&(r=r7(n,t,r,e)),n.length>80*e){l=d=n[0],u=m=n[1];for(let S=e;S<s;S+=e)g=n[S],v=n[S+1],g<l&&(l=g),v<u&&(u=v),g>d&&(d=g),v>m&&(m=v);A=Math.max(d-l,m-u),A=A!==0?32767/A:0}return vy(r,o,e,l,u,A,0),o}};function lI(n,t,e,i,s){let r,o;if(s===g7(n,t,e,i)>0)for(r=t;r<e;r+=i)o=rD(r,n[r],n[r+1],o);else for(r=e-i;r>=t;r-=i)o=rD(r,n[r],n[r+1],o);return o&&t_(o,o.next)&&(Ay(o),o=o.next),o}function ed(n,t){if(!n)return n;t||(t=n);let e=n,i;do if(i=!1,!e.steiner&&(t_(e,e.next)||Ei(e.prev,e,e.next)===0)){if(Ay(e),e=t=e.prev,e===e.next)break;i=!0}else e=e.next;while(i||e!==t);return t}function vy(n,t,e,i,s,r,o){if(!n)return;!o&&r&&u7(n,i,s,r);let l=n,u,d;for(;n.prev!==n.next;){if(u=n.prev,d=n.next,r?n7(n,i,s,r):e7(n)){t.push(u.i/e|0),t.push(n.i/e|0),t.push(d.i/e|0),Ay(n),n=d.next,l=d.next;continue}if(n=d,n===l){o?o===1?(n=i7(ed(n),t,e),vy(n,t,e,i,s,r,2)):o===2&&s7(n,t,e,i,s,r):vy(ed(n),t,e,i,s,r,1);break}}}function e7(n){const t=n.prev,e=n,i=n.next;if(Ei(t,e,i)>=0)return!1;const s=t.x,r=e.x,o=i.x,l=t.y,u=e.y,d=i.y,m=s<r?s<o?s:o:r<o?r:o,g=l<u?l<d?l:d:u<d?u:d,v=s>r?s>o?s:o:r>o?r:o,A=l>u?l>d?l:d:u>d?u:d;let S=i.next;for(;S!==t;){if(S.x>=m&&S.x<=v&&S.y>=g&&S.y<=A&&Wp(s,l,r,u,o,d,S.x,S.y)&&Ei(S.prev,S,S.next)>=0)return!1;S=S.next}return!0}function n7(n,t,e,i){const s=n.prev,r=n,o=n.next;if(Ei(s,r,o)>=0)return!1;const l=s.x,u=r.x,d=o.x,m=s.y,g=r.y,v=o.y,A=l<u?l<d?l:d:u<d?u:d,S=m<g?m<v?m:v:g<v?g:v,E=l>u?l>d?l:d:u>d?u:d,T=m>g?m>v?m:v:g>v?g:v,_=NE(A,S,t,e,i),w=NE(E,T,t,e,i);let D=n.prevZ,L=n.nextZ;for(;D&&D.z>=_&&L&&L.z<=w;){if(D.x>=A&&D.x<=E&&D.y>=S&&D.y<=T&&D!==s&&D!==o&&Wp(l,m,u,g,d,v,D.x,D.y)&&Ei(D.prev,D,D.next)>=0||(D=D.prevZ,L.x>=A&&L.x<=E&&L.y>=S&&L.y<=T&&L!==s&&L!==o&&Wp(l,m,u,g,d,v,L.x,L.y)&&Ei(L.prev,L,L.next)>=0))return!1;L=L.nextZ}for(;D&&D.z>=_;){if(D.x>=A&&D.x<=E&&D.y>=S&&D.y<=T&&D!==s&&D!==o&&Wp(l,m,u,g,d,v,D.x,D.y)&&Ei(D.prev,D,D.next)>=0)return!1;D=D.prevZ}for(;L&&L.z<=w;){if(L.x>=A&&L.x<=E&&L.y>=S&&L.y<=T&&L!==s&&L!==o&&Wp(l,m,u,g,d,v,L.x,L.y)&&Ei(L.prev,L,L.next)>=0)return!1;L=L.nextZ}return!0}function i7(n,t,e){let i=n;do{const s=i.prev,r=i.next.next;!t_(s,r)&&cI(s,i,i.next,r)&&xy(s,r)&&xy(r,s)&&(t.push(s.i/e|0),t.push(i.i/e|0),t.push(r.i/e|0),Ay(i),Ay(i.next),i=n=r),i=i.next}while(i!==n);return ed(i)}function s7(n,t,e,i,s,r){let o=n;do{let l=o.next.next;for(;l!==o.prev;){if(o.i!==l.i&&d7(o,l)){let u=uI(o,l);o=ed(o,o.next),u=ed(u,u.next),vy(o,t,e,i,s,r,0),vy(u,t,e,i,s,r,0);return}l=l.next}o=o.next}while(o!==n)}function r7(n,t,e,i){const s=[];let r,o,l,u,d;for(r=0,o=t.length;r<o;r++)l=t[r]*i,u=r<o-1?t[r+1]*i:n.length,d=lI(n,l,u,i,!1),d===d.next&&(d.steiner=!0),s.push(h7(d));for(s.sort(a7),r=0;r<s.length;r++)e=o7(s[r],e);return e}function a7(n,t){return n.x-t.x}function o7(n,t){const e=l7(n,t);if(!e)return t;const i=uI(e,n);return ed(i,i.next),ed(e,e.next)}function l7(n,t){let e=t,i=-1/0,s;const r=n.x,o=n.y;do{if(o<=e.y&&o>=e.next.y&&e.next.y!==e.y){const v=e.x+(o-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(v<=r&&v>i&&(i=v,s=e.x<e.next.x?e:e.next,v===r))return s}e=e.next}while(e!==t);if(!s)return null;const l=s,u=s.x,d=s.y;let m=1/0,g;e=s;do r>=e.x&&e.x>=u&&r!==e.x&&Wp(o<d?r:i,o,u,d,o<d?i:r,o,e.x,e.y)&&(g=Math.abs(o-e.y)/(r-e.x),xy(e,n)&&(g<m||g===m&&(e.x>s.x||e.x===s.x&&c7(s,e)))&&(s=e,m=g)),e=e.next;while(e!==l);return s}function c7(n,t){return Ei(n.prev,n,t.prev)<0&&Ei(t.next,n,n.next)<0}function u7(n,t,e,i){let s=n;do s.z===0&&(s.z=NE(s.x,s.y,t,e,i)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==n);s.prevZ.nextZ=null,s.prevZ=null,f7(s)}function f7(n){let t,e,i,s,r,o,l,u,d=1;do{for(e=n,n=null,r=null,o=0;e;){for(o++,i=e,l=0,t=0;t<d&&(l++,i=i.nextZ,!!i);t++);for(u=d;l>0||u>0&&i;)l!==0&&(u===0||!i||e.z<=i.z)?(s=e,e=e.nextZ,l--):(s=i,i=i.nextZ,u--),r?r.nextZ=s:n=s,s.prevZ=r,r=s;e=i}r.nextZ=null,d*=2}while(o>1);return n}function NE(n,t,e,i,s){return n=(n-e)*s|0,t=(t-i)*s|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,n|t<<1}function h7(n){let t=n,e=n;do(t.x<e.x||t.x===e.x&&t.y<e.y)&&(e=t),t=t.next;while(t!==n);return e}function Wp(n,t,e,i,s,r,o,l){return(s-o)*(t-l)>=(n-o)*(r-l)&&(n-o)*(i-l)>=(e-o)*(t-l)&&(e-o)*(r-l)>=(s-o)*(i-l)}function d7(n,t){return n.next.i!==t.i&&n.prev.i!==t.i&&!p7(n,t)&&(xy(n,t)&&xy(t,n)&&m7(n,t)&&(Ei(n.prev,n,t.prev)||Ei(n,t.prev,t))||t_(n,t)&&Ei(n.prev,n,n.next)>0&&Ei(t.prev,t,t.next)>0)}function Ei(n,t,e){return(t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y)}function t_(n,t){return n.x===t.x&&n.y===t.y}function cI(n,t,e,i){const s=TA(Ei(n,t,e)),r=TA(Ei(n,t,i)),o=TA(Ei(e,i,n)),l=TA(Ei(e,i,t));return!!(s!==r&&o!==l||s===0&&EA(n,e,t)||r===0&&EA(n,i,t)||o===0&&EA(e,n,i)||l===0&&EA(e,t,i))}function EA(n,t,e){return t.x<=Math.max(n.x,e.x)&&t.x>=Math.min(n.x,e.x)&&t.y<=Math.max(n.y,e.y)&&t.y>=Math.min(n.y,e.y)}function TA(n){return n>0?1:n<0?-1:0}function p7(n,t){let e=n;do{if(e.i!==n.i&&e.next.i!==n.i&&e.i!==t.i&&e.next.i!==t.i&&cI(e,e.next,n,t))return!0;e=e.next}while(e!==n);return!1}function xy(n,t){return Ei(n.prev,n,n.next)<0?Ei(n,t,n.next)>=0&&Ei(n,n.prev,t)>=0:Ei(n,t,n.prev)<0||Ei(n,n.next,t)<0}function m7(n,t){let e=n,i=!1;const s=(n.x+t.x)/2,r=(n.y+t.y)/2;do e.y>r!=e.next.y>r&&e.next.y!==e.y&&s<(e.next.x-e.x)*(r-e.y)/(e.next.y-e.y)+e.x&&(i=!i),e=e.next;while(e!==n);return i}function uI(n,t){const e=new IE(n.i,n.x,n.y),i=new IE(t.i,t.x,t.y),s=n.next,r=t.prev;return n.next=t,t.prev=n,e.next=s,s.prev=e,i.next=e,e.prev=i,r.next=i,i.prev=r,i}function rD(n,t,e,i){const s=new IE(n,t,e);return i?(s.next=i.next,s.prev=i,i.next.prev=s,i.next=s):(s.prev=s,s.next=s),s}function Ay(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function IE(n,t,e){this.i=n,this.x=t,this.y=e,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function g7(n,t,e,i){let s=0;for(let r=t,o=e-i;r<e;r+=i)s+=(n[o]-n[r])*(n[r+1]+n[o+1]),o=r;return s}class Xl{static area(t){const e=t.length;let i=0;for(let s=e-1,r=0;r<e;s=r++)i+=t[s].x*t[r].y-t[r].x*t[s].y;return i*.5}static isClockWise(t){return Xl.area(t)<0}static triangulateShape(t,e){const i=[],s=[],r=[];aD(t),oD(i,t);let o=t.length;e.forEach(aD);for(let u=0;u<e.length;u++)s.push(o),o+=e[u].length,oD(i,e[u]);const l=t7.triangulate(i,s);for(let u=0;u<l.length;u+=3)r.push(l.slice(u,u+3));return r}}function aD(n){const t=n.length;t>2&&n[t-1].equals(n[0])&&n.pop()}function oD(n,t){for(let e=0;e<t.length;e++)n.push(t[e].x),n.push(t[e].y)}class e_ extends Ke{constructor(t=new Kh([new It(.5,.5),new It(-.5,.5),new It(-.5,-.5),new It(.5,-.5)]),e={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const i=this,s=[],r=[];for(let l=0,u=t.length;l<u;l++){const d=t[l];o(d)}this.setAttribute("position",new be(s,3)),this.setAttribute("uv",new be(r,2)),this.computeVertexNormals();function o(l){const u=[],d=e.curveSegments!==void 0?e.curveSegments:12,m=e.steps!==void 0?e.steps:1,g=e.depth!==void 0?e.depth:1;let v=e.bevelEnabled!==void 0?e.bevelEnabled:!0,A=e.bevelThickness!==void 0?e.bevelThickness:.2,S=e.bevelSize!==void 0?e.bevelSize:A-.1,E=e.bevelOffset!==void 0?e.bevelOffset:0,T=e.bevelSegments!==void 0?e.bevelSegments:3;const _=e.extrudePath,w=e.UVGenerator!==void 0?e.UVGenerator:y7;let D,L=!1,U,P,F,z;_&&(D=_.getSpacedPoints(m),L=!0,v=!1,U=_.computeFrenetFrames(m,!1),P=new K,F=new K,z=new K),v||(T=0,A=0,S=0,E=0);const N=l.extractPoints(d);let B=N.shape;const H=N.holes;if(!Xl.isClockWise(B)){B=B.reverse();for(let Pt=0,Bt=H.length;Pt<Bt;Pt++){const q=H[Pt];Xl.isClockWise(q)&&(H[Pt]=q.reverse())}}const tt=Xl.triangulateShape(B,H),J=B;for(let Pt=0,Bt=H.length;Pt<Bt;Pt++){const q=H[Pt];B=B.concat(q)}function lt(Pt,Bt,q){return Bt||console.error("THREE.ExtrudeGeometry: vec does not exist"),Pt.clone().addScaledVector(Bt,q)}const $=B.length,et=tt.length;function Q(Pt,Bt,q){let he,Vt,$t;const Qt=Pt.x-Bt.x,_e=Pt.y-Bt.y,Zt=q.x-Pt.x,Y=q.y-Pt.y,G=Qt*Qt+_e*_e,yt=Qt*Y-_e*Zt;if(Math.abs(yt)>Number.EPSILON){const Ct=Math.sqrt(G),Gt=Math.sqrt(Zt*Zt+Y*Y),Dt=Bt.x-_e/Ct,fe=Bt.y+Qt/Ct,ne=q.x-Y/Gt,de=q.y+Zt/Gt,Je=((ne-Dt)*Y-(de-fe)*Zt)/(Qt*Y-_e*Zt);he=Dt+Qt*Je-Pt.x,Vt=fe+_e*Je-Pt.y;const qt=he*he+Vt*Vt;if(qt<=2)return new It(he,Vt);$t=Math.sqrt(qt/2)}else{let Ct=!1;Qt>Number.EPSILON?Zt>Number.EPSILON&&(Ct=!0):Qt<-Number.EPSILON?Zt<-Number.EPSILON&&(Ct=!0):Math.sign(_e)===Math.sign(Y)&&(Ct=!0),Ct?(he=-_e,Vt=Qt,$t=Math.sqrt(G)):(he=Qt,Vt=_e,$t=Math.sqrt(G/2))}return new It(he/$t,Vt/$t)}const At=[];for(let Pt=0,Bt=J.length,q=Bt-1,he=Pt+1;Pt<Bt;Pt++,q++,he++)q===Bt&&(q=0),he===Bt&&(he=0),At[Pt]=Q(J[Pt],J[q],J[he]);const j=[];let rt,Tt=At.concat();for(let Pt=0,Bt=H.length;Pt<Bt;Pt++){const q=H[Pt];rt=[];for(let he=0,Vt=q.length,$t=Vt-1,Qt=he+1;he<Vt;he++,$t++,Qt++)$t===Vt&&($t=0),Qt===Vt&&(Qt=0),rt[he]=Q(q[he],q[$t],q[Qt]);j.push(rt),Tt=Tt.concat(rt)}for(let Pt=0;Pt<T;Pt++){const Bt=Pt/T,q=A*Math.cos(Bt*Math.PI/2),he=S*Math.sin(Bt*Math.PI/2)+E;for(let Vt=0,$t=J.length;Vt<$t;Vt++){const Qt=lt(J[Vt],At[Vt],he);Ht(Qt.x,Qt.y,-q)}for(let Vt=0,$t=H.length;Vt<$t;Vt++){const Qt=H[Vt];rt=j[Vt];for(let _e=0,Zt=Qt.length;_e<Zt;_e++){const Y=lt(Qt[_e],rt[_e],he);Ht(Y.x,Y.y,-q)}}}const Ft=S+E;for(let Pt=0;Pt<$;Pt++){const Bt=v?lt(B[Pt],Tt[Pt],Ft):B[Pt];L?(F.copy(U.normals[0]).multiplyScalar(Bt.x),P.copy(U.binormals[0]).multiplyScalar(Bt.y),z.copy(D[0]).add(F).add(P),Ht(z.x,z.y,z.z)):Ht(Bt.x,Bt.y,0)}for(let Pt=1;Pt<=m;Pt++)for(let Bt=0;Bt<$;Bt++){const q=v?lt(B[Bt],Tt[Bt],Ft):B[Bt];L?(F.copy(U.normals[Pt]).multiplyScalar(q.x),P.copy(U.binormals[Pt]).multiplyScalar(q.y),z.copy(D[Pt]).add(F).add(P),Ht(z.x,z.y,z.z)):Ht(q.x,q.y,g/m*Pt)}for(let Pt=T-1;Pt>=0;Pt--){const Bt=Pt/T,q=A*Math.cos(Bt*Math.PI/2),he=S*Math.sin(Bt*Math.PI/2)+E;for(let Vt=0,$t=J.length;Vt<$t;Vt++){const Qt=lt(J[Vt],At[Vt],he);Ht(Qt.x,Qt.y,g+q)}for(let Vt=0,$t=H.length;Vt<$t;Vt++){const Qt=H[Vt];rt=j[Vt];for(let _e=0,Zt=Qt.length;_e<Zt;_e++){const Y=lt(Qt[_e],rt[_e],he);L?Ht(Y.x,Y.y+D[m-1].y,D[m-1].x+q):Ht(Y.x,Y.y,g+q)}}}it(),Et();function it(){const Pt=s.length/3;if(v){let Bt=0,q=$*Bt;for(let he=0;he<et;he++){const Vt=tt[he];Xt(Vt[2]+q,Vt[1]+q,Vt[0]+q)}Bt=m+T*2,q=$*Bt;for(let he=0;he<et;he++){const Vt=tt[he];Xt(Vt[0]+q,Vt[1]+q,Vt[2]+q)}}else{for(let Bt=0;Bt<et;Bt++){const q=tt[Bt];Xt(q[2],q[1],q[0])}for(let Bt=0;Bt<et;Bt++){const q=tt[Bt];Xt(q[0]+$*m,q[1]+$*m,q[2]+$*m)}}i.addGroup(Pt,s.length/3-Pt,0)}function Et(){const Pt=s.length/3;let Bt=0;Ut(J,Bt),Bt+=J.length;for(let q=0,he=H.length;q<he;q++){const Vt=H[q];Ut(Vt,Bt),Bt+=Vt.length}i.addGroup(Pt,s.length/3-Pt,1)}function Ut(Pt,Bt){let q=Pt.length;for(;--q>=0;){const he=q;let Vt=q-1;Vt<0&&(Vt=Pt.length-1);for(let $t=0,Qt=m+T*2;$t<Qt;$t++){const _e=$*$t,Zt=$*($t+1),Y=Bt+he+_e,G=Bt+Vt+_e,yt=Bt+Vt+Zt,Ct=Bt+he+Zt;xe(Y,G,yt,Ct)}}}function Ht(Pt,Bt,q){u.push(Pt),u.push(Bt),u.push(q)}function Xt(Pt,Bt,q){Wt(Pt),Wt(Bt),Wt(q);const he=s.length/3,Vt=w.generateTopUV(i,s,he-3,he-2,he-1);ue(Vt[0]),ue(Vt[1]),ue(Vt[2])}function xe(Pt,Bt,q,he){Wt(Pt),Wt(Bt),Wt(he),Wt(Bt),Wt(q),Wt(he);const Vt=s.length/3,$t=w.generateSideWallUV(i,s,Vt-6,Vt-3,Vt-2,Vt-1);ue($t[0]),ue($t[1]),ue($t[3]),ue($t[1]),ue($t[2]),ue($t[3])}function Wt(Pt){s.push(u[Pt*3+0]),s.push(u[Pt*3+1]),s.push(u[Pt*3+2])}function ue(Pt){r.push(Pt.x),r.push(Pt.y)}}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON(),e=this.parameters.shapes,i=this.parameters.options;return v7(e,i,t)}static fromJSON(t,e){const i=[];for(let r=0,o=t.shapes.length;r<o;r++){const l=e[t.shapes[r]];i.push(l)}const s=t.options.extrudePath;return s!==void 0&&(t.options.extrudePath=new lS[s.type]().fromJSON(s)),new e_(i,t.options)}}const y7={generateTopUV:function(n,t,e,i,s){const r=t[e*3],o=t[e*3+1],l=t[i*3],u=t[i*3+1],d=t[s*3],m=t[s*3+1];return[new It(r,o),new It(l,u),new It(d,m)]},generateSideWallUV:function(n,t,e,i,s,r){const o=t[e*3],l=t[e*3+1],u=t[e*3+2],d=t[i*3],m=t[i*3+1],g=t[i*3+2],v=t[s*3],A=t[s*3+1],S=t[s*3+2],E=t[r*3],T=t[r*3+1],_=t[r*3+2];return Math.abs(l-m)<Math.abs(o-d)?[new It(o,1-u),new It(d,1-g),new It(v,1-S),new It(E,1-_)]:[new It(l,1-u),new It(m,1-g),new It(A,1-S),new It(T,1-_)]}};function v7(n,t,e){if(e.shapes=[],Array.isArray(n))for(let i=0,s=n.length;i<s;i++){const r=n[i];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e.options=Object.assign({},t),t.extrudePath!==void 0&&(e.options.extrudePath=t.extrudePath.toJSON()),e}class n_ extends gf{constructor(t=1,e=0){const i=(1+Math.sqrt(5))/2,s=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(s,r,t,e),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new n_(t.radius,t.detail)}}class Jy extends gf{constructor(t=1,e=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],s=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,s,t,e),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new Jy(t.radius,t.detail)}}class Lm extends Ke{constructor(t=1,e=1,i=1,s=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:s};const r=t/2,o=e/2,l=Math.floor(i),u=Math.floor(s),d=l+1,m=u+1,g=t/l,v=e/u,A=[],S=[],E=[],T=[];for(let _=0;_<m;_++){const w=_*v-o;for(let D=0;D<d;D++){const L=D*g-r;S.push(L,-w,0),E.push(0,0,1),T.push(D/l),T.push(1-_/u)}}for(let _=0;_<u;_++)for(let w=0;w<l;w++){const D=w+d*_,L=w+d*(_+1),U=w+1+d*(_+1),P=w+1+d*_;A.push(D,L,P),A.push(L,U,P)}this.setIndex(A),this.setAttribute("position",new be(S,3)),this.setAttribute("normal",new be(E,3)),this.setAttribute("uv",new be(T,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Lm(t.width,t.height,t.widthSegments,t.heightSegments)}}class i_ extends Ke{constructor(t=.5,e=1,i=32,s=1,r=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:s,thetaStart:r,thetaLength:o},i=Math.max(3,i),s=Math.max(1,s);const l=[],u=[],d=[],m=[];let g=t;const v=(e-t)/s,A=new K,S=new It;for(let E=0;E<=s;E++){for(let T=0;T<=i;T++){const _=r+T/i*o;A.x=g*Math.cos(_),A.y=g*Math.sin(_),u.push(A.x,A.y,A.z),d.push(0,0,1),S.x=(A.x/e+1)/2,S.y=(A.y/e+1)/2,m.push(S.x,S.y)}g+=v}for(let E=0;E<s;E++){const T=E*(i+1);for(let _=0;_<i;_++){const w=_+T,D=w,L=w+i+1,U=w+i+2,P=w+1;l.push(D,L,P),l.push(L,U,P)}}this.setIndex(l),this.setAttribute("position",new be(u,3)),this.setAttribute("normal",new be(d,3)),this.setAttribute("uv",new be(m,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new i_(t.innerRadius,t.outerRadius,t.thetaSegments,t.phiSegments,t.thetaStart,t.thetaLength)}}class s_ extends Ke{constructor(t=new Kh([new It(0,.5),new It(-.5,-.5),new It(.5,-.5)]),e=12){super(),this.type="ShapeGeometry",this.parameters={shapes:t,curveSegments:e};const i=[],s=[],r=[],o=[];let l=0,u=0;if(Array.isArray(t)===!1)d(t);else for(let m=0;m<t.length;m++)d(t[m]),this.addGroup(l,u,m),l+=u,u=0;this.setIndex(i),this.setAttribute("position",new be(s,3)),this.setAttribute("normal",new be(r,3)),this.setAttribute("uv",new be(o,2));function d(m){const g=s.length/3,v=m.extractPoints(e);let A=v.shape;const S=v.holes;Xl.isClockWise(A)===!1&&(A=A.reverse());for(let T=0,_=S.length;T<_;T++){const w=S[T];Xl.isClockWise(w)===!0&&(S[T]=w.reverse())}const E=Xl.triangulateShape(A,S);for(let T=0,_=S.length;T<_;T++){const w=S[T];A=A.concat(w)}for(let T=0,_=A.length;T<_;T++){const w=A[T];s.push(w.x,w.y,0),r.push(0,0,1),o.push(w.x,w.y)}for(let T=0,_=E.length;T<_;T++){const w=E[T],D=w[0]+g,L=w[1]+g,U=w[2]+g;i.push(D,L,U),u+=3}}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON(),e=this.parameters.shapes;return x7(e,t)}static fromJSON(t,e){const i=[];for(let s=0,r=t.shapes.length;s<r;s++){const o=e[t.shapes[s]];i.push(o)}return new s_(i,t.curveSegments)}}function x7(n,t){if(t.shapes=[],Array.isArray(n))for(let e=0,i=n.length;e<i;e++){const s=n[e];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t}class Qy extends Ke{constructor(t=1,e=32,i=16,s=0,r=Math.PI*2,o=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:s,phiLength:r,thetaStart:o,thetaLength:l},e=Math.max(3,Math.floor(e)),i=Math.max(2,Math.floor(i));const u=Math.min(o+l,Math.PI);let d=0;const m=[],g=new K,v=new K,A=[],S=[],E=[],T=[];for(let _=0;_<=i;_++){const w=[],D=_/i;let L=0;_===0&&o===0?L=.5/e:_===i&&u===Math.PI&&(L=-.5/e);for(let U=0;U<=e;U++){const P=U/e;g.x=-t*Math.cos(s+P*r)*Math.sin(o+D*l),g.y=t*Math.cos(o+D*l),g.z=t*Math.sin(s+P*r)*Math.sin(o+D*l),S.push(g.x,g.y,g.z),v.copy(g).normalize(),E.push(v.x,v.y,v.z),T.push(P+L,1-D),w.push(d++)}m.push(w)}for(let _=0;_<i;_++)for(let w=0;w<e;w++){const D=m[_][w+1],L=m[_][w],U=m[_+1][w],P=m[_+1][w+1];(_!==0||o>0)&&A.push(D,L,P),(_!==i-1||u<Math.PI)&&A.push(L,U,P)}this.setIndex(A),this.setAttribute("position",new be(S,3)),this.setAttribute("normal",new be(E,3)),this.setAttribute("uv",new be(T,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Qy(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}class r_ extends gf{constructor(t=1,e=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],s=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,s,t,e),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new r_(t.radius,t.detail)}}class a_ extends Ke{constructor(t=1,e=.4,i=12,s=48,r=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:s,arc:r},i=Math.floor(i),s=Math.floor(s);const o=[],l=[],u=[],d=[],m=new K,g=new K,v=new K;for(let A=0;A<=i;A++)for(let S=0;S<=s;S++){const E=S/s*r,T=A/i*Math.PI*2;g.x=(t+e*Math.cos(T))*Math.cos(E),g.y=(t+e*Math.cos(T))*Math.sin(E),g.z=e*Math.sin(T),l.push(g.x,g.y,g.z),m.x=t*Math.cos(E),m.y=t*Math.sin(E),v.subVectors(g,m).normalize(),u.push(v.x,v.y,v.z),d.push(S/s),d.push(A/i)}for(let A=1;A<=i;A++)for(let S=1;S<=s;S++){const E=(s+1)*A+S-1,T=(s+1)*(A-1)+S-1,_=(s+1)*(A-1)+S,w=(s+1)*A+S;o.push(E,T,w),o.push(T,_,w)}this.setIndex(o),this.setAttribute("position",new be(l,3)),this.setAttribute("normal",new be(u,3)),this.setAttribute("uv",new be(d,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new a_(t.radius,t.tube,t.radialSegments,t.tubularSegments,t.arc)}}class o_ extends Ke{constructor(t=1,e=.4,i=64,s=8,r=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:i,radialSegments:s,p:r,q:o},i=Math.floor(i),s=Math.floor(s);const l=[],u=[],d=[],m=[],g=new K,v=new K,A=new K,S=new K,E=new K,T=new K,_=new K;for(let D=0;D<=i;++D){const L=D/i*r*Math.PI*2;w(L,r,o,t,A),w(L+.01,r,o,t,S),T.subVectors(S,A),_.addVectors(S,A),E.crossVectors(T,_),_.crossVectors(E,T),E.normalize(),_.normalize();for(let U=0;U<=s;++U){const P=U/s*Math.PI*2,F=-e*Math.cos(P),z=e*Math.sin(P);g.x=A.x+(F*_.x+z*E.x),g.y=A.y+(F*_.y+z*E.y),g.z=A.z+(F*_.z+z*E.z),u.push(g.x,g.y,g.z),v.subVectors(g,A).normalize(),d.push(v.x,v.y,v.z),m.push(D/i),m.push(U/s)}}for(let D=1;D<=i;D++)for(let L=1;L<=s;L++){const U=(s+1)*(D-1)+(L-1),P=(s+1)*D+(L-1),F=(s+1)*D+L,z=(s+1)*(D-1)+L;l.push(U,P,z),l.push(P,F,z)}this.setIndex(l),this.setAttribute("position",new be(u,3)),this.setAttribute("normal",new be(d,3)),this.setAttribute("uv",new be(m,2));function w(D,L,U,P,F){const z=Math.cos(D),N=Math.sin(D),B=U/L*D,H=Math.cos(B);F.x=P*(2+H)*.5*z,F.y=P*(2+H)*N*.5,F.z=P*Math.sin(B)*.5}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new o_(t.radius,t.tube,t.tubularSegments,t.radialSegments,t.p,t.q)}}class l_ extends Ke{constructor(t=new HC(new K(-1,-1,0),new K(-1,1,0),new K(1,1,0)),e=64,i=1,s=8,r=!1){super(),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:i,radialSegments:s,closed:r};const o=t.computeFrenetFrames(e,r);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const l=new K,u=new K,d=new It;let m=new K;const g=[],v=[],A=[],S=[];E(),this.setIndex(S),this.setAttribute("position",new be(g,3)),this.setAttribute("normal",new be(v,3)),this.setAttribute("uv",new be(A,2));function E(){for(let D=0;D<e;D++)T(D);T(r===!1?e:0),w(),_()}function T(D){m=t.getPointAt(D/e,m);const L=o.normals[D],U=o.binormals[D];for(let P=0;P<=s;P++){const F=P/s*Math.PI*2,z=Math.sin(F),N=-Math.cos(F);u.x=N*L.x+z*U.x,u.y=N*L.y+z*U.y,u.z=N*L.z+z*U.z,u.normalize(),v.push(u.x,u.y,u.z),l.x=m.x+i*u.x,l.y=m.y+i*u.y,l.z=m.z+i*u.z,g.push(l.x,l.y,l.z)}}function _(){for(let D=1;D<=e;D++)for(let L=1;L<=s;L++){const U=(s+1)*(D-1)+(L-1),P=(s+1)*D+(L-1),F=(s+1)*D+L,z=(s+1)*(D-1)+L;S.push(U,P,z),S.push(P,F,z)}}function w(){for(let D=0;D<=e;D++)for(let L=0;L<=s;L++)d.x=D/e,d.y=L/s,A.push(d.x,d.y)}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON();return t.path=this.parameters.path.toJSON(),t}static fromJSON(t){return new l_(new lS[t.path.type]().fromJSON(t.path),t.tubularSegments,t.radius,t.radialSegments,t.closed)}}class fI extends Ke{constructor(t=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:t},t!==null){const e=[],i=new Set,s=new K,r=new K;if(t.index!==null){const o=t.attributes.position,l=t.index;let u=t.groups;u.length===0&&(u=[{start:0,count:l.count,materialIndex:0}]);for(let d=0,m=u.length;d<m;++d){const g=u[d],v=g.start,A=g.count;for(let S=v,E=v+A;S<E;S+=3)for(let T=0;T<3;T++){const _=l.getX(S+T),w=l.getX(S+(T+1)%3);s.fromBufferAttribute(o,_),r.fromBufferAttribute(o,w),lD(s,r,i)===!0&&(e.push(s.x,s.y,s.z),e.push(r.x,r.y,r.z))}}}else{const o=t.attributes.position;for(let l=0,u=o.count/3;l<u;l++)for(let d=0;d<3;d++){const m=3*l+d,g=3*l+(d+1)%3;s.fromBufferAttribute(o,m),r.fromBufferAttribute(o,g),lD(s,r,i)===!0&&(e.push(s.x,s.y,s.z),e.push(r.x,r.y,r.z))}}this.setAttribute("position",new be(e,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}function lD(n,t,e){const i=`${n.x},${n.y},${n.z}-${t.x},${t.y},${t.z}`,s=`${t.x},${t.y},${t.z}-${n.x},${n.y},${n.z}`;return e.has(i)===!0||e.has(s)===!0?!1:(e.add(i),e.add(s),!0)}var cD=Object.freeze({__proto__:null,BoxGeometry:cd,CapsuleGeometry:JS,CircleGeometry:QS,ConeGeometry:ZS,CylinderGeometry:Dm,DodecahedronGeometry:$S,EdgesGeometry:oI,ExtrudeGeometry:e_,IcosahedronGeometry:n_,LatheGeometry:qy,OctahedronGeometry:Jy,PlaneGeometry:Lm,PolyhedronGeometry:gf,RingGeometry:i_,ShapeGeometry:s_,SphereGeometry:Qy,TetrahedronGeometry:r_,TorusGeometry:a_,TorusKnotGeometry:o_,TubeGeometry:l_,WireframeGeometry:fI});class hI extends us{constructor(t){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ie(0),this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.fog=t.fog,this}}class dI extends Wo{constructor(t){super(t),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Zy extends us{constructor(t){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new ie(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ie(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=mf,this.normalScale=new It(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ea,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class $a extends Zy{constructor(t){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new It(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Ye(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ie(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ie(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ie(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(t)}get anisotropy(){return this._anisotropy}set anisotropy(t){this._anisotropy>0!=t>0&&this.version++,this._anisotropy=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get iridescence(){return this._iridescence}set iridescence(t){this._iridescence>0!=t>0&&this.version++,this._iridescence=t}get dispersion(){return this._dispersion}set dispersion(t){this._dispersion>0!=t>0&&this.version++,this._dispersion=t}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=t.anisotropy,this.anisotropyRotation=t.anisotropyRotation,this.anisotropyMap=t.anisotropyMap,this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.dispersion=t.dispersion,this.ior=t.ior,this.iridescence=t.iridescence,this.iridescenceMap=t.iridescenceMap,this.iridescenceIOR=t.iridescenceIOR,this.iridescenceThicknessRange=[...t.iridescenceThicknessRange],this.iridescenceThicknessMap=t.iridescenceThicknessMap,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}class pI extends us{constructor(t){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ie(16777215),this.specular=new ie(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ie(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=mf,this.normalScale=new It(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ea,this.combine=Vy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class mI extends us{constructor(t){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ie(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ie(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=mf,this.normalScale=new It(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}class gI extends us{constructor(t){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=mf,this.normalScale=new It(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.flatShading=t.flatShading,this}}class yI extends us{constructor(t){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ie(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ie(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=mf,this.normalScale=new It(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ea,this.combine=Vy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class VC extends us{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=ON,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class kC extends us{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}class vI extends us{constructor(t){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ie(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=mf,this.normalScale=new It(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.flatShading=t.flatShading,this.fog=t.fog,this}}class xI extends mr{constructor(t){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}copy(t){return super.copy(t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this}}function Hh(n,t,e){return!n||!e&&n.constructor===t?n:typeof t.BYTES_PER_ELEMENT=="number"?new t(n):Array.prototype.slice.call(n)}function AI(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function SI(n){function t(s,r){return n[s]-n[r]}const e=n.length,i=new Array(e);for(let s=0;s!==e;++s)i[s]=s;return i.sort(t),i}function FE(n,t,e){const i=n.length,s=new n.constructor(i);for(let r=0,o=0;o!==i;++r){const l=e[r]*t;for(let u=0;u!==t;++u)s[o++]=n[l+u]}return s}function XC(n,t,e,i){let s=1,r=n[0];for(;r!==void 0&&r[i]===void 0;)r=n[s++];if(r===void 0)return;let o=r[i];if(o!==void 0)if(Array.isArray(o))do o=r[i],o!==void 0&&(t.push(r.time),e.push.apply(e,o)),r=n[s++];while(r!==void 0);else if(o.toArray!==void 0)do o=r[i],o!==void 0&&(t.push(r.time),o.toArray(e,e.length)),r=n[s++];while(r!==void 0);else do o=r[i],o!==void 0&&(t.push(r.time),e.push(o)),r=n[s++];while(r!==void 0)}function A7(n,t,e,i,s=30){const r=n.clone();r.name=t;const o=[];for(let u=0;u<r.tracks.length;++u){const d=r.tracks[u],m=d.getValueSize(),g=[],v=[];for(let A=0;A<d.times.length;++A){const S=d.times[A]*s;if(!(S<e||S>=i)){g.push(d.times[A]);for(let E=0;E<m;++E)v.push(d.values[A*m+E])}}g.length!==0&&(d.times=Hh(g,d.times.constructor),d.values=Hh(v,d.values.constructor),o.push(d))}r.tracks=o;let l=1/0;for(let u=0;u<r.tracks.length;++u)l>r.tracks[u].times[0]&&(l=r.tracks[u].times[0]);for(let u=0;u<r.tracks.length;++u)r.tracks[u].shift(-1*l);return r.resetDuration(),r}function S7(n,t=0,e=n,i=30){i<=0&&(i=30);const s=e.tracks.length,r=t/i;for(let o=0;o<s;++o){const l=e.tracks[o],u=l.ValueTypeName;if(u==="bool"||u==="string")continue;const d=n.tracks.find(function(_){return _.name===l.name&&_.ValueTypeName===u});if(d===void 0)continue;let m=0;const g=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=g/3);let v=0;const A=d.getValueSize();d.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(v=A/3);const S=l.times.length-1;let E;if(r<=l.times[0]){const _=m,w=g-m;E=l.values.slice(_,w)}else if(r>=l.times[S]){const _=S*g+m,w=_+g-m;E=l.values.slice(_,w)}else{const _=l.createInterpolant(),w=m,D=g-m;_.evaluate(r),E=_.resultBuffer.slice(w,D)}u==="quaternion"&&new Ji().fromArray(E).normalize().conjugate().toArray(E);const T=d.times.length;for(let _=0;_<T;++_){const w=_*A+v;if(u==="quaternion")Ji.multiplyQuaternionsFlat(d.values,w,E,0,d.values,w);else{const D=A-v*2;for(let L=0;L<D;++L)d.values[w+L]-=E[L]}}}return n.blendMode=_C,n}const _7={convertArray:Hh,isTypedArray:AI,getKeyframeOrder:SI,sortedArray:FE,flattenJSON:XC,subclip:A7,makeClipAdditive:S7};class Om{constructor(t,e,i,s){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=s!==void 0?s:new e.constructor(i),this.sampleValues=e,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let i=this._cachedIndex,s=e[i],r=e[i-1];t:{e:{let o;n:{i:if(!(t<s)){for(let l=i+2;;){if(s===void 0){if(t<r)break i;return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===l)break;if(r=s,s=e[++i],t<s)break e}o=e.length;break n}if(!(t>=r)){const l=e[1];t<l&&(i=2,r=l);for(let u=i-2;;){if(r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===u)break;if(s=r,r=e[--i-1],t>=r)break e}o=i,i=0;break n}break t}for(;i<o;){const l=i+o>>>1;t<e[l]?o=l:i=l+1}if(s=e[i],r=e[i-1],r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(s===void 0)return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,r,s)}return this.interpolate_(i,r,t,s)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,i=this.sampleValues,s=this.valueSize,r=t*s;for(let o=0;o!==s;++o)e[o]=i[r+o];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class _I extends Om{constructor(t,e,i,s){super(t,e,i,s),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Ih,endingEnd:Ih}}intervalChanged_(t,e,i){const s=this.parameterPositions;let r=t-2,o=t+1,l=s[r],u=s[o];if(l===void 0)switch(this.getSettings_().endingStart){case Fh:r=t,l=2*e-i;break;case hy:r=s.length-2,l=e+s[r]-s[r+1];break;default:r=t,l=i}if(u===void 0)switch(this.getSettings_().endingEnd){case Fh:o=t,u=2*i-e;break;case hy:o=1,u=i+s[1]-s[0];break;default:o=t-1,u=e}const d=(i-e)*.5,m=this.valueSize;this._weightPrev=d/(e-l),this._weightNext=d/(u-i),this._offsetPrev=r*m,this._offsetNext=o*m}interpolate_(t,e,i,s){const r=this.resultBuffer,o=this.sampleValues,l=this.valueSize,u=t*l,d=u-l,m=this._offsetPrev,g=this._offsetNext,v=this._weightPrev,A=this._weightNext,S=(i-e)/(s-e),E=S*S,T=E*S,_=-v*T+2*v*E-v*S,w=(1+v)*T+(-1.5-2*v)*E+(-.5+v)*S+1,D=(-1-A)*T+(1.5+A)*E+.5*S,L=A*T-A*E;for(let U=0;U!==l;++U)r[U]=_*o[m+U]+w*o[d+U]+D*o[u+U]+L*o[g+U];return r}}class jC extends Om{constructor(t,e,i,s){super(t,e,i,s)}interpolate_(t,e,i,s){const r=this.resultBuffer,o=this.sampleValues,l=this.valueSize,u=t*l,d=u-l,m=(i-e)/(s-e),g=1-m;for(let v=0;v!==l;++v)r[v]=o[d+v]*g+o[u+v]*m;return r}}class bI extends Om{constructor(t,e,i,s){super(t,e,i,s)}interpolate_(t){return this.copySampleValue_(t-1)}}class Qo{constructor(t,e,i,s){if(t===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(e===void 0||e.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Hh(e,this.TimeBufferType),this.values=Hh(i,this.ValueBufferType),this.setInterpolation(s||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let i;if(e.toJSON!==this.toJSON)i=e.toJSON(t);else{i={name:t.name,times:Hh(t.times,Array),values:Hh(t.values,Array)};const s=t.getInterpolation();s!==t.DefaultInterpolation&&(i.interpolation=s)}return i.type=t.ValueTypeName,i}InterpolantFactoryMethodDiscrete(t){return new bI(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new jC(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new _I(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case dm:e=this.InterpolantFactoryMethodDiscrete;break;case pm:e=this.InterpolantFactoryMethodLinear;break;case n1:e=this.InterpolantFactoryMethodSmooth;break}if(e===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(t!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return dm;case this.InterpolantFactoryMethodLinear:return pm;case this.InterpolantFactoryMethodSmooth:return n1}}getValueSize(){return this.values.length/this.times.length}shift(t){if(t!==0){const e=this.times;for(let i=0,s=e.length;i!==s;++i)e[i]+=t}return this}scale(t){if(t!==1){const e=this.times;for(let i=0,s=e.length;i!==s;++i)e[i]*=t}return this}trim(t,e){const i=this.times,s=i.length;let r=0,o=s-1;for(;r!==s&&i[r]<t;)++r;for(;o!==-1&&i[o]>e;)--o;if(++o,r!==0||o!==s){r>=o&&(o=Math.max(o,1),r=o-1);const l=this.getValueSize();this.times=i.slice(r,o),this.values=this.values.slice(r*l,o*l)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const i=this.times,s=this.values,r=i.length;r===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let o=null;for(let l=0;l!==r;l++){const u=i[l];if(typeof u=="number"&&isNaN(u)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,u),t=!1;break}if(o!==null&&o>u){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,u,o),t=!1;break}o=u}if(s!==void 0&&AI(s))for(let l=0,u=s.length;l!==u;++l){const d=s[l];if(isNaN(d)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,d),t=!1;break}}return t}optimize(){const t=this.times.slice(),e=this.values.slice(),i=this.getValueSize(),s=this.getInterpolation()===n1,r=t.length-1;let o=1;for(let l=1;l<r;++l){let u=!1;const d=t[l],m=t[l+1];if(d!==m&&(l!==1||d!==t[0]))if(s)u=!0;else{const g=l*i,v=g-i,A=g+i;for(let S=0;S!==i;++S){const E=e[g+S];if(E!==e[v+S]||E!==e[A+S]){u=!0;break}}}if(u){if(l!==o){t[o]=t[l];const g=l*i,v=o*i;for(let A=0;A!==i;++A)e[v+A]=e[g+A]}++o}}if(r>0){t[o]=t[r];for(let l=r*i,u=o*i,d=0;d!==i;++d)e[u+d]=e[l+d];++o}return o!==t.length?(this.times=t.slice(0,o),this.values=e.slice(0,o*i)):(this.times=t,this.values=e),this}clone(){const t=this.times.slice(),e=this.values.slice(),i=this.constructor,s=new i(this.name,t,e);return s.createInterpolant=this.createInterpolant,s}}Qo.prototype.TimeBufferType=Float32Array;Qo.prototype.ValueBufferType=Float32Array;Qo.prototype.DefaultInterpolation=pm;class ud extends Qo{constructor(t,e,i){super(t,e,i)}}ud.prototype.ValueTypeName="bool";ud.prototype.ValueBufferType=Array;ud.prototype.DefaultInterpolation=dm;ud.prototype.InterpolantFactoryMethodLinear=void 0;ud.prototype.InterpolantFactoryMethodSmooth=void 0;class YC extends Qo{}YC.prototype.ValueTypeName="color";class nd extends Qo{}nd.prototype.ValueTypeName="number";class MI extends Om{constructor(t,e,i,s){super(t,e,i,s)}interpolate_(t,e,i,s){const r=this.resultBuffer,o=this.sampleValues,l=this.valueSize,u=(i-e)/(s-e);let d=t*l;for(let m=d+l;d!==m;d+=4)Ji.slerpFlat(r,0,o,d-l,o,d,u);return r}}class id extends Qo{InterpolantFactoryMethodLinear(t){return new MI(this.times,this.values,this.getValueSize(),t)}}id.prototype.ValueTypeName="quaternion";id.prototype.InterpolantFactoryMethodSmooth=void 0;class fd extends Qo{constructor(t,e,i){super(t,e,i)}}fd.prototype.ValueTypeName="string";fd.prototype.ValueBufferType=Array;fd.prototype.DefaultInterpolation=dm;fd.prototype.InterpolantFactoryMethodLinear=void 0;fd.prototype.InterpolantFactoryMethodSmooth=void 0;class sd extends Qo{}sd.prototype.ValueTypeName="vector";class vm{constructor(t="",e=-1,i=[],s=HS){this.name=t,this.tracks=i,this.duration=e,this.blendMode=s,this.uuid=ba(),this.duration<0&&this.resetDuration()}static parse(t){const e=[],i=t.tracks,s=1/(t.fps||1);for(let o=0,l=i.length;o!==l;++o)e.push(M7(i[o]).scale(s));const r=new this(t.name,t.duration,e,t.blendMode);return r.uuid=t.uuid,r}static toJSON(t){const e=[],i=t.tracks,s={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let r=0,o=i.length;r!==o;++r)e.push(Qo.toJSON(i[r]));return s}static CreateFromMorphTargetSequence(t,e,i,s){const r=e.length,o=[];for(let l=0;l<r;l++){let u=[],d=[];u.push((l+r-1)%r,l,(l+1)%r),d.push(0,1,0);const m=SI(u);u=FE(u,1,m),d=FE(d,1,m),!s&&u[0]===0&&(u.push(r),d.push(d[0])),o.push(new nd(".morphTargetInfluences["+e[l].name+"]",u,d).scale(1/i))}return new this(t,-1,o)}static findByName(t,e){let i=t;if(!Array.isArray(t)){const s=t;i=s.geometry&&s.geometry.animations||s.animations}for(let s=0;s<i.length;s++)if(i[s].name===e)return i[s];return null}static CreateClipsFromMorphTargetSequences(t,e,i){const s={},r=/^([\w-]*?)([\d]+)$/;for(let l=0,u=t.length;l<u;l++){const d=t[l],m=d.name.match(r);if(m&&m.length>1){const g=m[1];let v=s[g];v||(s[g]=v=[]),v.push(d)}}const o=[];for(const l in s)o.push(this.CreateFromMorphTargetSequence(l,s[l],e,i));return o}static parseAnimation(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(g,v,A,S,E){if(A.length!==0){const T=[],_=[];XC(A,T,_,S),T.length!==0&&E.push(new g(v,T,_))}},s=[],r=t.name||"default",o=t.fps||30,l=t.blendMode;let u=t.length||-1;const d=t.hierarchy||[];for(let g=0;g<d.length;g++){const v=d[g].keys;if(!(!v||v.length===0))if(v[0].morphTargets){const A={};let S;for(S=0;S<v.length;S++)if(v[S].morphTargets)for(let E=0;E<v[S].morphTargets.length;E++)A[v[S].morphTargets[E]]=-1;for(const E in A){const T=[],_=[];for(let w=0;w!==v[S].morphTargets.length;++w){const D=v[S];T.push(D.time),_.push(D.morphTarget===E?1:0)}s.push(new nd(".morphTargetInfluence["+E+"]",T,_))}u=A.length*o}else{const A=".bones["+e[g].name+"]";i(sd,A+".position",v,"pos",s),i(id,A+".quaternion",v,"rot",s),i(sd,A+".scale",v,"scl",s)}}return s.length===0?null:new this(r,u,s,l)}resetDuration(){const t=this.tracks;let e=0;for(let i=0,s=t.length;i!==s;++i){const r=this.tracks[i];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function b7(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return nd;case"vector":case"vector2":case"vector3":case"vector4":return sd;case"color":return YC;case"quaternion":return id;case"bool":case"boolean":return ud;case"string":return fd}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function M7(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=b7(n.type);if(n.times===void 0){const e=[],i=[];XC(n.keys,e,i,"value"),n.times=e,n.values=i}return t.parse!==void 0?t.parse(n):new t(n.name,n.times,n.values,n.interpolation)}const kc={enabled:!1,files:{},add:function(n,t){this.enabled!==!1&&(this.files[n]=t)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class WC{constructor(t,e,i){const s=this;let r=!1,o=0,l=0,u;const d=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=i,this.itemStart=function(m){l++,r===!1&&s.onStart!==void 0&&s.onStart(m,o,l),r=!0},this.itemEnd=function(m){o++,s.onProgress!==void 0&&s.onProgress(m,o,l),o===l&&(r=!1,s.onLoad!==void 0&&s.onLoad())},this.itemError=function(m){s.onError!==void 0&&s.onError(m)},this.resolveURL=function(m){return u?u(m):m},this.setURLModifier=function(m){return u=m,this},this.addHandler=function(m,g){return d.push(m,g),this},this.removeHandler=function(m){const g=d.indexOf(m);return g!==-1&&d.splice(g,2),this},this.getHandler=function(m){for(let g=0,v=d.length;g<v;g+=2){const A=d[g],S=d[g+1];if(A.global&&(A.lastIndex=0),A.test(m))return S}return null}}}const Kp=new WC;let gr=class{constructor(t){this.manager=t!==void 0?t:Kp,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const i=this;return new Promise(function(s,r){i.load(t,s,e,r)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}};gr.DEFAULT_MATERIAL_NAME="__DEFAULT";const Oc={};class E7 extends Error{constructor(t,e){super(t),this.response=e}}class Ta extends gr{constructor(t){super(t)}load(t,e,i,s){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const r=kc.get(t);if(r!==void 0)return this.manager.itemStart(t),setTimeout(()=>{e&&e(r),this.manager.itemEnd(t)},0),r;if(Oc[t]!==void 0){Oc[t].push({onLoad:e,onProgress:i,onError:s});return}Oc[t]=[],Oc[t].push({onLoad:e,onProgress:i,onError:s});const o=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),l=this.mimeType,u=this.responseType;fetch(o).then(d=>{if(d.status===200||d.status===0){if(d.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||d.body===void 0||d.body.getReader===void 0)return d;const m=Oc[t],g=d.body.getReader(),v=d.headers.get("X-File-Size")||d.headers.get("Content-Length"),A=v?parseInt(v):0,S=A!==0;let E=0;const T=new ReadableStream({start(_){w();function w(){g.read().then(({done:D,value:L})=>{if(D)_.close();else{E+=L.byteLength;const U=new ProgressEvent("progress",{lengthComputable:S,loaded:E,total:A});for(let P=0,F=m.length;P<F;P++){const z=m[P];z.onProgress&&z.onProgress(U)}_.enqueue(L),w()}},D=>{_.error(D)})}}});return new Response(T)}else throw new E7(`fetch for "${d.url}" responded with ${d.status}: ${d.statusText}`,d)}).then(d=>{switch(u){case"arraybuffer":return d.arrayBuffer();case"blob":return d.blob();case"document":return d.text().then(m=>new DOMParser().parseFromString(m,l));case"json":return d.json();default:if(l===void 0)return d.text();{const g=/charset="?([^;"\s]*)"?/i.exec(l),v=g&&g[1]?g[1].toLowerCase():void 0,A=new TextDecoder(v);return d.arrayBuffer().then(S=>A.decode(S))}}}).then(d=>{kc.add(t,d);const m=Oc[t];delete Oc[t];for(let g=0,v=m.length;g<v;g++){const A=m[g];A.onLoad&&A.onLoad(d)}}).catch(d=>{const m=Oc[t];if(m===void 0)throw this.manager.itemError(t),d;delete Oc[t];for(let g=0,v=m.length;g<v;g++){const A=m[g];A.onError&&A.onError(d)}this.manager.itemError(t)}).finally(()=>{this.manager.itemEnd(t)}),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class T7 extends gr{constructor(t){super(t)}load(t,e,i,s){const r=this,o=new Ta(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,function(l){try{e(r.parse(JSON.parse(l)))}catch(u){s?s(u):console.error(u),r.manager.itemError(t)}},i,s)}parse(t){const e=[];for(let i=0;i<t.length;i++){const s=vm.parse(t[i]);e.push(s)}return e}}class C7 extends gr{constructor(t){super(t)}load(t,e,i,s){const r=this,o=[],l=new KS,u=new Ta(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(r.withCredentials);let d=0;function m(g){u.load(t[g],function(v){const A=r.parse(v,!0);o[g]={width:A.width,height:A.height,format:A.format,mipmaps:A.mipmaps},d+=1,d===6&&(A.mipmapCount===1&&(l.minFilter=Ki),l.image=o,l.format=A.format,l.needsUpdate=!0,e&&e(l))},i,s)}if(Array.isArray(t))for(let g=0,v=t.length;g<v;++g)m(g);else u.load(t,function(g){const v=r.parse(g,!0);if(v.isCubemap){const A=v.mipmaps.length/v.mipmapCount;for(let S=0;S<A;S++){o[S]={mipmaps:[]};for(let E=0;E<v.mipmapCount;E++)o[S].mipmaps.push(v.mipmaps[S*v.mipmapCount+E]),o[S].format=v.format,o[S].width=v.width,o[S].height=v.height}l.image=o}else l.image.width=v.width,l.image.height=v.height,l.mipmaps=v.mipmaps;v.mipmapCount===1&&(l.minFilter=Ki),l.format=v.format,l.needsUpdate=!0,e&&e(l)},i,s);return l}}class Sy extends gr{constructor(t){super(t)}load(t,e,i,s){this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,o=kc.get(t);if(o!==void 0)return r.manager.itemStart(t),setTimeout(function(){e&&e(o),r.manager.itemEnd(t)},0),o;const l=gy("img");function u(){m(),kc.add(t,this),e&&e(this),r.manager.itemEnd(t)}function d(g){m(),s&&s(g),r.manager.itemError(t),r.manager.itemEnd(t)}function m(){l.removeEventListener("load",u,!1),l.removeEventListener("error",d,!1)}return l.addEventListener("load",u,!1),l.addEventListener("error",d,!1),t.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),r.manager.itemStart(t),l.src=t,l}}class R7 extends gr{constructor(t){super(t)}load(t,e,i,s){const r=new jy;r.colorSpace=ur;const o=new Sy(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let l=0;function u(d){o.load(t[d],function(m){r.images[d]=m,l++,l===6&&(r.needsUpdate=!0,e&&e(r))},void 0,s)}for(let d=0;d<t.length;++d)u(d);return r}}class w7 extends gr{constructor(t){super(t)}load(t,e,i,s){const r=this,o=new kl,l=new Ta(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(r.withCredentials),l.load(t,function(u){let d;try{d=r.parse(u)}catch(m){if(s!==void 0)s(m);else{console.error(m);return}}d.image!==void 0?o.image=d.image:d.data!==void 0&&(o.image.width=d.width,o.image.height=d.height,o.image.data=d.data),o.wrapS=d.wrapS!==void 0?d.wrapS:Sa,o.wrapT=d.wrapT!==void 0?d.wrapT:Sa,o.magFilter=d.magFilter!==void 0?d.magFilter:Ki,o.minFilter=d.minFilter!==void 0?d.minFilter:Ki,o.anisotropy=d.anisotropy!==void 0?d.anisotropy:1,d.colorSpace!==void 0&&(o.colorSpace=d.colorSpace),d.flipY!==void 0&&(o.flipY=d.flipY),d.format!==void 0&&(o.format=d.format),d.type!==void 0&&(o.type=d.type),d.mipmaps!==void 0&&(o.mipmaps=d.mipmaps,o.minFilter=Za),d.mipmapCount===1&&(o.minFilter=Ki),d.generateMipmaps!==void 0&&(o.generateMipmaps=d.generateMipmaps),o.needsUpdate=!0,e&&e(o,d)},i,s),o}}class EI extends gr{constructor(t){super(t)}load(t,e,i,s){const r=new pi,o=new Sy(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,function(l){r.image=l,r.needsUpdate=!0,e!==void 0&&e(r)},i,s),r}}class yf extends gn{constructor(t,e=1){super(),this.isLight=!0,this.type="Light",this.color=new ie(t),this.intensity=e}dispose(){}copy(t,e){return super.copy(t,e),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,this.groundColor!==void 0&&(e.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(e.object.distance=this.distance),this.angle!==void 0&&(e.object.angle=this.angle),this.decay!==void 0&&(e.object.decay=this.decay),this.penumbra!==void 0&&(e.object.penumbra=this.penumbra),this.shadow!==void 0&&(e.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(e.object.target=this.target.uuid),e}}class TI extends yf{constructor(t,e,i){super(t,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(gn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ie(e)}copy(t,e){return super.copy(t,e),this.groundColor.copy(t.groundColor),this}}const cM=new Be,uD=new K,fD=new K;class KC{constructor(t){this.camera=t,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new It(512,512),this.map=null,this.mapPass=null,this.matrix=new Be,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Ky,this._frameExtents=new It(1,1),this._viewportCount=1,this._viewports=[new mn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,i=this.matrix;uD.setFromMatrixPosition(t.matrixWorld),e.position.copy(uD),fD.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(fD),e.updateMatrixWorld(),cM.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(cM),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(cM)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.intensity=t.intensity,this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const t={};return this.intensity!==1&&(t.intensity=this.intensity),this.bias!==0&&(t.bias=this.bias),this.normalBias!==0&&(t.normalBias=this.normalBias),this.radius!==1&&(t.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class B7 extends KC{constructor(){super(new Wi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(t){const e=this.camera,i=mm*2*t.angle*this.focus,s=this.mapSize.width/this.mapSize.height,r=t.distance||e.far;(i!==e.fov||s!==e.aspect||r!==e.far)&&(e.fov=i,e.aspect=s,e.far=r,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}class qC extends yf{constructor(t,e,i=0,s=Math.PI/3,r=0,o=2){super(t,e),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(gn.DEFAULT_UP),this.updateMatrix(),this.target=new gn,this.distance=i,this.angle=s,this.penumbra=r,this.decay=o,this.map=null,this.shadow=new B7}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}const hD=new Be,p0=new K,uM=new K;class D7 extends KC{constructor(){super(new Wi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new It(4,2),this._viewportCount=6,this._viewports=[new mn(2,1,1,1),new mn(0,1,1,1),new mn(3,1,1,1),new mn(1,1,1,1),new mn(3,0,1,1),new mn(1,0,1,1)],this._cubeDirections=[new K(1,0,0),new K(-1,0,0),new K(0,0,1),new K(0,0,-1),new K(0,1,0),new K(0,-1,0)],this._cubeUps=[new K(0,1,0),new K(0,1,0),new K(0,1,0),new K(0,1,0),new K(0,0,1),new K(0,0,-1)]}updateMatrices(t,e=0){const i=this.camera,s=this.matrix,r=t.distance||i.far;r!==i.far&&(i.far=r,i.updateProjectionMatrix()),p0.setFromMatrixPosition(t.matrixWorld),i.position.copy(p0),uM.copy(i.position),uM.add(this._cubeDirections[e]),i.up.copy(this._cubeUps[e]),i.lookAt(uM),i.updateMatrixWorld(),s.makeTranslation(-p0.x,-p0.y,-p0.z),hD.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(hD)}}class JC extends yf{constructor(t,e,i=0,s=2){super(t,e),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=s,this.shadow=new D7}get power(){return this.intensity*4*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}class vf extends kS{constructor(t=-1,e=1,i=1,s=-1,r=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=i,this.bottom=s,this.near=r,this.far=o,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=t.view===null?null:Object.assign({},t.view),this}setViewOffset(t,e,i,s,r,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=s,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,s=(this.top+this.bottom)/2;let r=i-t,o=i+t,l=s+e,u=s-e;if(this.view!==null&&this.view.enabled){const d=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=d*this.view.offsetX,o=r+d*this.view.width,l-=m*this.view.offsetY,u=l-m*this.view.height}this.projectionMatrix.makeOrthographic(r,o,l,u,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,this.view!==null&&(e.object.view=Object.assign({},this.view)),e}}class L7 extends KC{constructor(){super(new vf(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class QC extends yf{constructor(t,e){super(t,e),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(gn.DEFAULT_UP),this.updateMatrix(),this.target=new gn,this.shadow=new L7}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}class CI extends yf{constructor(t,e){super(t,e),this.isAmbientLight=!0,this.type="AmbientLight"}}class RI extends yf{constructor(t,e,i=10,s=10){super(t,e),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=s}get power(){return this.intensity*this.width*this.height*Math.PI}set power(t){this.intensity=t/(this.width*this.height*Math.PI)}copy(t){return super.copy(t),this.width=t.width,this.height=t.height,this}toJSON(t){const e=super.toJSON(t);return e.object.width=this.width,e.object.height=this.height,e}}class wI{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new K)}set(t){for(let e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,e){const i=t.x,s=t.y,r=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.282095),e.addScaledVector(o[1],.488603*s),e.addScaledVector(o[2],.488603*r),e.addScaledVector(o[3],.488603*i),e.addScaledVector(o[4],1.092548*(i*s)),e.addScaledVector(o[5],1.092548*(s*r)),e.addScaledVector(o[6],.315392*(3*r*r-1)),e.addScaledVector(o[7],1.092548*(i*r)),e.addScaledVector(o[8],.546274*(i*i-s*s)),e}getIrradianceAt(t,e){const i=t.x,s=t.y,r=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.886227),e.addScaledVector(o[1],2*.511664*s),e.addScaledVector(o[2],2*.511664*r),e.addScaledVector(o[3],2*.511664*i),e.addScaledVector(o[4],2*.429043*i*s),e.addScaledVector(o[5],2*.429043*s*r),e.addScaledVector(o[6],.743125*r*r-.247708),e.addScaledVector(o[7],2*.429043*i*r),e.addScaledVector(o[8],.429043*(i*i-s*s)),e}add(t){for(let e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}addScaledSH(t,e){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(t.coefficients[i],e);return this}scale(t){for(let e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}lerp(t,e){for(let i=0;i<9;i++)this.coefficients[i].lerp(t.coefficients[i],e);return this}equals(t){for(let e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(t,e=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].fromArray(t,e+s*3);return this}toArray(t=[],e=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].toArray(t,e+s*3);return t}static getBasisAt(t,e){const i=t.x,s=t.y,r=t.z;e[0]=.282095,e[1]=.488603*s,e[2]=.488603*r,e[3]=.488603*i,e[4]=1.092548*i*s,e[5]=1.092548*s*r,e[6]=.315392*(3*r*r-1),e[7]=1.092548*i*r,e[8]=.546274*(i*i-s*s)}}class BI extends yf{constructor(t=new wI,e=1){super(void 0,e),this.isLightProbe=!0,this.sh=t}copy(t){return super.copy(t),this.sh.copy(t.sh),this}fromJSON(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this}toJSON(t){const e=super.toJSON(t);return e.object.sh=this.sh.toArray(),e}}class c_ extends gr{constructor(t){super(t),this.textures={}}load(t,e,i,s){const r=this,o=new Ta(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(t,function(l){try{e(r.parse(JSON.parse(l)))}catch(u){s?s(u):console.error(u),r.manager.itemError(t)}},i,s)}parse(t){const e=this.textures;function i(r){return e[r]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",r),e[r]}const s=this.createMaterialFromType(t.type);if(t.uuid!==void 0&&(s.uuid=t.uuid),t.name!==void 0&&(s.name=t.name),t.color!==void 0&&s.color!==void 0&&s.color.setHex(t.color),t.roughness!==void 0&&(s.roughness=t.roughness),t.metalness!==void 0&&(s.metalness=t.metalness),t.sheen!==void 0&&(s.sheen=t.sheen),t.sheenColor!==void 0&&(s.sheenColor=new ie().setHex(t.sheenColor)),t.sheenRoughness!==void 0&&(s.sheenRoughness=t.sheenRoughness),t.emissive!==void 0&&s.emissive!==void 0&&s.emissive.setHex(t.emissive),t.specular!==void 0&&s.specular!==void 0&&s.specular.setHex(t.specular),t.specularIntensity!==void 0&&(s.specularIntensity=t.specularIntensity),t.specularColor!==void 0&&s.specularColor!==void 0&&s.specularColor.setHex(t.specularColor),t.shininess!==void 0&&(s.shininess=t.shininess),t.clearcoat!==void 0&&(s.clearcoat=t.clearcoat),t.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=t.clearcoatRoughness),t.dispersion!==void 0&&(s.dispersion=t.dispersion),t.iridescence!==void 0&&(s.iridescence=t.iridescence),t.iridescenceIOR!==void 0&&(s.iridescenceIOR=t.iridescenceIOR),t.iridescenceThicknessRange!==void 0&&(s.iridescenceThicknessRange=t.iridescenceThicknessRange),t.transmission!==void 0&&(s.transmission=t.transmission),t.thickness!==void 0&&(s.thickness=t.thickness),t.attenuationDistance!==void 0&&(s.attenuationDistance=t.attenuationDistance),t.attenuationColor!==void 0&&s.attenuationColor!==void 0&&s.attenuationColor.setHex(t.attenuationColor),t.anisotropy!==void 0&&(s.anisotropy=t.anisotropy),t.anisotropyRotation!==void 0&&(s.anisotropyRotation=t.anisotropyRotation),t.fog!==void 0&&(s.fog=t.fog),t.flatShading!==void 0&&(s.flatShading=t.flatShading),t.blending!==void 0&&(s.blending=t.blending),t.combine!==void 0&&(s.combine=t.combine),t.side!==void 0&&(s.side=t.side),t.shadowSide!==void 0&&(s.shadowSide=t.shadowSide),t.opacity!==void 0&&(s.opacity=t.opacity),t.transparent!==void 0&&(s.transparent=t.transparent),t.alphaTest!==void 0&&(s.alphaTest=t.alphaTest),t.alphaHash!==void 0&&(s.alphaHash=t.alphaHash),t.depthFunc!==void 0&&(s.depthFunc=t.depthFunc),t.depthTest!==void 0&&(s.depthTest=t.depthTest),t.depthWrite!==void 0&&(s.depthWrite=t.depthWrite),t.colorWrite!==void 0&&(s.colorWrite=t.colorWrite),t.blendSrc!==void 0&&(s.blendSrc=t.blendSrc),t.blendDst!==void 0&&(s.blendDst=t.blendDst),t.blendEquation!==void 0&&(s.blendEquation=t.blendEquation),t.blendSrcAlpha!==void 0&&(s.blendSrcAlpha=t.blendSrcAlpha),t.blendDstAlpha!==void 0&&(s.blendDstAlpha=t.blendDstAlpha),t.blendEquationAlpha!==void 0&&(s.blendEquationAlpha=t.blendEquationAlpha),t.blendColor!==void 0&&s.blendColor!==void 0&&s.blendColor.setHex(t.blendColor),t.blendAlpha!==void 0&&(s.blendAlpha=t.blendAlpha),t.stencilWriteMask!==void 0&&(s.stencilWriteMask=t.stencilWriteMask),t.stencilFunc!==void 0&&(s.stencilFunc=t.stencilFunc),t.stencilRef!==void 0&&(s.stencilRef=t.stencilRef),t.stencilFuncMask!==void 0&&(s.stencilFuncMask=t.stencilFuncMask),t.stencilFail!==void 0&&(s.stencilFail=t.stencilFail),t.stencilZFail!==void 0&&(s.stencilZFail=t.stencilZFail),t.stencilZPass!==void 0&&(s.stencilZPass=t.stencilZPass),t.stencilWrite!==void 0&&(s.stencilWrite=t.stencilWrite),t.wireframe!==void 0&&(s.wireframe=t.wireframe),t.wireframeLinewidth!==void 0&&(s.wireframeLinewidth=t.wireframeLinewidth),t.wireframeLinecap!==void 0&&(s.wireframeLinecap=t.wireframeLinecap),t.wireframeLinejoin!==void 0&&(s.wireframeLinejoin=t.wireframeLinejoin),t.rotation!==void 0&&(s.rotation=t.rotation),t.linewidth!==void 0&&(s.linewidth=t.linewidth),t.dashSize!==void 0&&(s.dashSize=t.dashSize),t.gapSize!==void 0&&(s.gapSize=t.gapSize),t.scale!==void 0&&(s.scale=t.scale),t.polygonOffset!==void 0&&(s.polygonOffset=t.polygonOffset),t.polygonOffsetFactor!==void 0&&(s.polygonOffsetFactor=t.polygonOffsetFactor),t.polygonOffsetUnits!==void 0&&(s.polygonOffsetUnits=t.polygonOffsetUnits),t.dithering!==void 0&&(s.dithering=t.dithering),t.alphaToCoverage!==void 0&&(s.alphaToCoverage=t.alphaToCoverage),t.premultipliedAlpha!==void 0&&(s.premultipliedAlpha=t.premultipliedAlpha),t.forceSinglePass!==void 0&&(s.forceSinglePass=t.forceSinglePass),t.visible!==void 0&&(s.visible=t.visible),t.toneMapped!==void 0&&(s.toneMapped=t.toneMapped),t.userData!==void 0&&(s.userData=t.userData),t.vertexColors!==void 0&&(typeof t.vertexColors=="number"?s.vertexColors=t.vertexColors>0:s.vertexColors=t.vertexColors),t.uniforms!==void 0)for(const r in t.uniforms){const o=t.uniforms[r];switch(s.uniforms[r]={},o.type){case"t":s.uniforms[r].value=i(o.value);break;case"c":s.uniforms[r].value=new ie().setHex(o.value);break;case"v2":s.uniforms[r].value=new It().fromArray(o.value);break;case"v3":s.uniforms[r].value=new K().fromArray(o.value);break;case"v4":s.uniforms[r].value=new mn().fromArray(o.value);break;case"m3":s.uniforms[r].value=new We().fromArray(o.value);break;case"m4":s.uniforms[r].value=new Be().fromArray(o.value);break;default:s.uniforms[r].value=o.value}}if(t.defines!==void 0&&(s.defines=t.defines),t.vertexShader!==void 0&&(s.vertexShader=t.vertexShader),t.fragmentShader!==void 0&&(s.fragmentShader=t.fragmentShader),t.glslVersion!==void 0&&(s.glslVersion=t.glslVersion),t.extensions!==void 0)for(const r in t.extensions)s.extensions[r]=t.extensions[r];if(t.lights!==void 0&&(s.lights=t.lights),t.clipping!==void 0&&(s.clipping=t.clipping),t.size!==void 0&&(s.size=t.size),t.sizeAttenuation!==void 0&&(s.sizeAttenuation=t.sizeAttenuation),t.map!==void 0&&(s.map=i(t.map)),t.matcap!==void 0&&(s.matcap=i(t.matcap)),t.alphaMap!==void 0&&(s.alphaMap=i(t.alphaMap)),t.bumpMap!==void 0&&(s.bumpMap=i(t.bumpMap)),t.bumpScale!==void 0&&(s.bumpScale=t.bumpScale),t.normalMap!==void 0&&(s.normalMap=i(t.normalMap)),t.normalMapType!==void 0&&(s.normalMapType=t.normalMapType),t.normalScale!==void 0){let r=t.normalScale;Array.isArray(r)===!1&&(r=[r,r]),s.normalScale=new It().fromArray(r)}return t.displacementMap!==void 0&&(s.displacementMap=i(t.displacementMap)),t.displacementScale!==void 0&&(s.displacementScale=t.displacementScale),t.displacementBias!==void 0&&(s.displacementBias=t.displacementBias),t.roughnessMap!==void 0&&(s.roughnessMap=i(t.roughnessMap)),t.metalnessMap!==void 0&&(s.metalnessMap=i(t.metalnessMap)),t.emissiveMap!==void 0&&(s.emissiveMap=i(t.emissiveMap)),t.emissiveIntensity!==void 0&&(s.emissiveIntensity=t.emissiveIntensity),t.specularMap!==void 0&&(s.specularMap=i(t.specularMap)),t.specularIntensityMap!==void 0&&(s.specularIntensityMap=i(t.specularIntensityMap)),t.specularColorMap!==void 0&&(s.specularColorMap=i(t.specularColorMap)),t.envMap!==void 0&&(s.envMap=i(t.envMap)),t.envMapRotation!==void 0&&s.envMapRotation.fromArray(t.envMapRotation),t.envMapIntensity!==void 0&&(s.envMapIntensity=t.envMapIntensity),t.reflectivity!==void 0&&(s.reflectivity=t.reflectivity),t.refractionRatio!==void 0&&(s.refractionRatio=t.refractionRatio),t.lightMap!==void 0&&(s.lightMap=i(t.lightMap)),t.lightMapIntensity!==void 0&&(s.lightMapIntensity=t.lightMapIntensity),t.aoMap!==void 0&&(s.aoMap=i(t.aoMap)),t.aoMapIntensity!==void 0&&(s.aoMapIntensity=t.aoMapIntensity),t.gradientMap!==void 0&&(s.gradientMap=i(t.gradientMap)),t.clearcoatMap!==void 0&&(s.clearcoatMap=i(t.clearcoatMap)),t.clearcoatRoughnessMap!==void 0&&(s.clearcoatRoughnessMap=i(t.clearcoatRoughnessMap)),t.clearcoatNormalMap!==void 0&&(s.clearcoatNormalMap=i(t.clearcoatNormalMap)),t.clearcoatNormalScale!==void 0&&(s.clearcoatNormalScale=new It().fromArray(t.clearcoatNormalScale)),t.iridescenceMap!==void 0&&(s.iridescenceMap=i(t.iridescenceMap)),t.iridescenceThicknessMap!==void 0&&(s.iridescenceThicknessMap=i(t.iridescenceThicknessMap)),t.transmissionMap!==void 0&&(s.transmissionMap=i(t.transmissionMap)),t.thicknessMap!==void 0&&(s.thicknessMap=i(t.thicknessMap)),t.anisotropyMap!==void 0&&(s.anisotropyMap=i(t.anisotropyMap)),t.sheenColorMap!==void 0&&(s.sheenColorMap=i(t.sheenColorMap)),t.sheenRoughnessMap!==void 0&&(s.sheenRoughnessMap=i(t.sheenRoughnessMap)),s}setTextures(t){return this.textures=t,this}createMaterialFromType(t){return c_.createMaterialFromType(t)}static createMaterialFromType(t){const e={ShadowMaterial:hI,SpriteMaterial:BC,RawShaderMaterial:dI,ShaderMaterial:Wo,PointsMaterial:WS,MeshPhysicalMaterial:$a,MeshStandardMaterial:Zy,MeshPhongMaterial:pI,MeshToonMaterial:mI,MeshNormalMaterial:gI,MeshLambertMaterial:yI,MeshDepthMaterial:VC,MeshDistanceMaterial:kC,MeshBasicMaterial:_a,MeshMatcapMaterial:vI,LineDashedMaterial:xI,LineBasicMaterial:mr,Material:us};return new e[t]}}class rf{static decodeText(t){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(t);let e="";for(let i=0,s=t.length;i<s;i++)e+=String.fromCharCode(t[i]);try{return decodeURIComponent(escape(e))}catch{return e}}static extractUrlBase(t){const e=t.lastIndexOf("/");return e===-1?"./":t.slice(0,e+1)}static resolveURL(t,e){return typeof t!="string"||t===""?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}}class DI extends Ke{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(t){return super.copy(t),this.instanceCount=t.instanceCount,this}toJSON(){const t=super.toJSON();return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}class LI extends gr{constructor(t){super(t)}load(t,e,i,s){const r=this,o=new Ta(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(t,function(l){try{e(r.parse(JSON.parse(l)))}catch(u){s?s(u):console.error(u),r.manager.itemError(t)}},i,s)}parse(t){const e={},i={};function s(A,S){if(e[S]!==void 0)return e[S];const T=A.interleavedBuffers[S],_=r(A,T.buffer),w=Yp(T.type,_),D=new Yy(w,T.stride);return D.uuid=T.uuid,e[S]=D,D}function r(A,S){if(i[S]!==void 0)return i[S];const T=A.arrayBuffers[S],_=new Uint32Array(T).buffer;return i[S]=_,_}const o=t.isInstancedBufferGeometry?new DI:new Ke,l=t.data.index;if(l!==void 0){const A=Yp(l.type,l.array);o.setIndex(new Rn(A,1))}const u=t.data.attributes;for(const A in u){const S=u[A];let E;if(S.isInterleavedBufferAttribute){const T=s(t.data,S.data);E=new ff(T,S.itemSize,S.offset,S.normalized)}else{const T=Yp(S.type,S.array),_=S.isInstancedBufferAttribute?td:Rn;E=new _(T,S.itemSize,S.normalized)}S.name!==void 0&&(E.name=S.name),S.usage!==void 0&&E.setUsage(S.usage),o.setAttribute(A,E)}const d=t.data.morphAttributes;if(d)for(const A in d){const S=d[A],E=[];for(let T=0,_=S.length;T<_;T++){const w=S[T];let D;if(w.isInterleavedBufferAttribute){const L=s(t.data,w.data);D=new ff(L,w.itemSize,w.offset,w.normalized)}else{const L=Yp(w.type,w.array);D=new Rn(L,w.itemSize,w.normalized)}w.name!==void 0&&(D.name=w.name),E.push(D)}o.morphAttributes[A]=E}t.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const g=t.data.groups||t.data.drawcalls||t.data.offsets;if(g!==void 0)for(let A=0,S=g.length;A!==S;++A){const E=g[A];o.addGroup(E.start,E.count,E.materialIndex)}const v=t.data.boundingSphere;if(v!==void 0){const A=new K;v.center!==void 0&&A.fromArray(v.center),o.boundingSphere=new Ys(A,v.radius)}return t.name&&(o.name=t.name),t.userData&&(o.userData=t.userData),o}}class O7 extends gr{constructor(t){super(t)}load(t,e,i,s){const r=this,o=this.path===""?rf.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||o;const l=new Ta(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(t,function(u){let d=null;try{d=JSON.parse(u)}catch(g){s!==void 0&&s(g),console.error("THREE:ObjectLoader: Can't parse "+t+".",g.message);return}const m=d.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){s!==void 0&&s(new Error("THREE.ObjectLoader: Can't load "+t)),console.error("THREE.ObjectLoader: Can't load "+t);return}r.parse(d,e)},i,s)}async loadAsync(t,e){const i=this,s=this.path===""?rf.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||s;const r=new Ta(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials);const o=await r.loadAsync(t,e),l=JSON.parse(o),u=l.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+t);return await i.parseAsync(l)}parse(t,e){const i=this.parseAnimations(t.animations),s=this.parseShapes(t.shapes),r=this.parseGeometries(t.geometries,s),o=this.parseImages(t.images,function(){e!==void 0&&e(d)}),l=this.parseTextures(t.textures,o),u=this.parseMaterials(t.materials,l),d=this.parseObject(t.object,r,u,l,i),m=this.parseSkeletons(t.skeletons,d);if(this.bindSkeletons(d,m),this.bindLightTargets(d),e!==void 0){let g=!1;for(const v in o)if(o[v].data instanceof HTMLImageElement){g=!0;break}g===!1&&e(d)}return d}async parseAsync(t){const e=this.parseAnimations(t.animations),i=this.parseShapes(t.shapes),s=this.parseGeometries(t.geometries,i),r=await this.parseImagesAsync(t.images),o=this.parseTextures(t.textures,r),l=this.parseMaterials(t.materials,o),u=this.parseObject(t.object,s,l,o,e),d=this.parseSkeletons(t.skeletons,u);return this.bindSkeletons(u,d),this.bindLightTargets(u),u}parseShapes(t){const e={};if(t!==void 0)for(let i=0,s=t.length;i<s;i++){const r=new Kh().fromJSON(t[i]);e[r.uuid]=r}return e}parseSkeletons(t,e){const i={},s={};if(e.traverse(function(r){r.isBone&&(s[r.uuid]=r)}),t!==void 0)for(let r=0,o=t.length;r<o;r++){const l=new Wy().fromJSON(t[r],s);i[l.uuid]=l}return i}parseGeometries(t,e){const i={};if(t!==void 0){const s=new LI;for(let r=0,o=t.length;r<o;r++){let l;const u=t[r];switch(u.type){case"BufferGeometry":case"InstancedBufferGeometry":l=s.parse(u);break;default:u.type in cD?l=cD[u.type].fromJSON(u,e):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${u.type}"`)}l.uuid=u.uuid,u.name!==void 0&&(l.name=u.name),u.userData!==void 0&&(l.userData=u.userData),i[u.uuid]=l}}return i}parseMaterials(t,e){const i={},s={};if(t!==void 0){const r=new c_;r.setTextures(e);for(let o=0,l=t.length;o<l;o++){const u=t[o];i[u.uuid]===void 0&&(i[u.uuid]=r.parse(u)),s[u.uuid]=i[u.uuid]}}return s}parseAnimations(t){const e={};if(t!==void 0)for(let i=0;i<t.length;i++){const s=t[i],r=vm.parse(s);e[r.uuid]=r}return e}parseImages(t,e){const i=this,s={};let r;function o(u){return i.manager.itemStart(u),r.load(u,function(){i.manager.itemEnd(u)},void 0,function(){i.manager.itemError(u),i.manager.itemEnd(u)})}function l(u){if(typeof u=="string"){const d=u,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(d)?d:i.resourcePath+d;return o(m)}else return u.data?{data:Yp(u.type,u.data),width:u.width,height:u.height}:null}if(t!==void 0&&t.length>0){const u=new WC(e);r=new Sy(u),r.setCrossOrigin(this.crossOrigin);for(let d=0,m=t.length;d<m;d++){const g=t[d],v=g.url;if(Array.isArray(v)){const A=[];for(let S=0,E=v.length;S<E;S++){const T=v[S],_=l(T);_!==null&&(_ instanceof HTMLImageElement?A.push(_):A.push(new kl(_.data,_.width,_.height)))}s[g.uuid]=new zh(A)}else{const A=l(g.url);s[g.uuid]=new zh(A)}}}return s}async parseImagesAsync(t){const e=this,i={};let s;async function r(o){if(typeof o=="string"){const l=o,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l)?l:e.resourcePath+l;return await s.loadAsync(u)}else return o.data?{data:Yp(o.type,o.data),width:o.width,height:o.height}:null}if(t!==void 0&&t.length>0){s=new Sy(this.manager),s.setCrossOrigin(this.crossOrigin);for(let o=0,l=t.length;o<l;o++){const u=t[o],d=u.url;if(Array.isArray(d)){const m=[];for(let g=0,v=d.length;g<v;g++){const A=d[g],S=await r(A);S!==null&&(S instanceof HTMLImageElement?m.push(S):m.push(new kl(S.data,S.width,S.height)))}i[u.uuid]=new zh(m)}else{const m=await r(u.url);i[u.uuid]=new zh(m)}}}return i}parseTextures(t,e){function i(r,o){return typeof r=="number"?r:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",r),o[r])}const s={};if(t!==void 0)for(let r=0,o=t.length;r<o;r++){const l=t[r];l.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',l.uuid),e[l.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",l.image);const u=e[l.image],d=u.data;let m;Array.isArray(d)?(m=new jy,d.length===6&&(m.needsUpdate=!0)):(d&&d.data?m=new kl:m=new pi,d&&(m.needsUpdate=!0)),m.source=u,m.uuid=l.uuid,l.name!==void 0&&(m.name=l.name),l.mapping!==void 0&&(m.mapping=i(l.mapping,U7)),l.channel!==void 0&&(m.channel=l.channel),l.offset!==void 0&&m.offset.fromArray(l.offset),l.repeat!==void 0&&m.repeat.fromArray(l.repeat),l.center!==void 0&&m.center.fromArray(l.center),l.rotation!==void 0&&(m.rotation=l.rotation),l.wrap!==void 0&&(m.wrapS=i(l.wrap[0],dD),m.wrapT=i(l.wrap[1],dD)),l.format!==void 0&&(m.format=l.format),l.internalFormat!==void 0&&(m.internalFormat=l.internalFormat),l.type!==void 0&&(m.type=l.type),l.colorSpace!==void 0&&(m.colorSpace=l.colorSpace),l.minFilter!==void 0&&(m.minFilter=i(l.minFilter,pD)),l.magFilter!==void 0&&(m.magFilter=i(l.magFilter,pD)),l.anisotropy!==void 0&&(m.anisotropy=l.anisotropy),l.flipY!==void 0&&(m.flipY=l.flipY),l.generateMipmaps!==void 0&&(m.generateMipmaps=l.generateMipmaps),l.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=l.premultiplyAlpha),l.unpackAlignment!==void 0&&(m.unpackAlignment=l.unpackAlignment),l.compareFunction!==void 0&&(m.compareFunction=l.compareFunction),l.userData!==void 0&&(m.userData=l.userData),s[l.uuid]=m}return s}parseObject(t,e,i,s,r){let o;function l(v){return e[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",v),e[v]}function u(v){if(v!==void 0){if(Array.isArray(v)){const A=[];for(let S=0,E=v.length;S<E;S++){const T=v[S];i[T]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",T),A.push(i[T])}return A}return i[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),i[v]}}function d(v){return s[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",v),s[v]}let m,g;switch(t.type){case"Scene":o=new wC,t.background!==void 0&&(Number.isInteger(t.background)?o.background=new ie(t.background):o.background=d(t.background)),t.environment!==void 0&&(o.environment=d(t.environment)),t.fog!==void 0&&(t.fog.type==="Fog"?o.fog=new jS(t.fog.color,t.fog.near,t.fog.far):t.fog.type==="FogExp2"&&(o.fog=new XS(t.fog.color,t.fog.density)),t.fog.name!==""&&(o.fog.name=t.fog.name)),t.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=t.backgroundBlurriness),t.backgroundIntensity!==void 0&&(o.backgroundIntensity=t.backgroundIntensity),t.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(t.backgroundRotation),t.environmentIntensity!==void 0&&(o.environmentIntensity=t.environmentIntensity),t.environmentRotation!==void 0&&o.environmentRotation.fromArray(t.environmentRotation);break;case"PerspectiveCamera":o=new Wi(t.fov,t.aspect,t.near,t.far),t.focus!==void 0&&(o.focus=t.focus),t.zoom!==void 0&&(o.zoom=t.zoom),t.filmGauge!==void 0&&(o.filmGauge=t.filmGauge),t.filmOffset!==void 0&&(o.filmOffset=t.filmOffset),t.view!==void 0&&(o.view=Object.assign({},t.view));break;case"OrthographicCamera":o=new vf(t.left,t.right,t.top,t.bottom,t.near,t.far),t.zoom!==void 0&&(o.zoom=t.zoom),t.view!==void 0&&(o.view=Object.assign({},t.view));break;case"AmbientLight":o=new CI(t.color,t.intensity);break;case"DirectionalLight":o=new QC(t.color,t.intensity),o.target=t.target||"";break;case"PointLight":o=new JC(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":o=new RI(t.color,t.intensity,t.width,t.height);break;case"SpotLight":o=new qC(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay),o.target=t.target||"";break;case"HemisphereLight":o=new TI(t.color,t.groundColor,t.intensity);break;case"LightProbe":o=new BI().fromJSON(t);break;case"SkinnedMesh":m=l(t.geometry),g=u(t.material),o=new DC(m,g),t.bindMode!==void 0&&(o.bindMode=t.bindMode),t.bindMatrix!==void 0&&o.bindMatrix.fromArray(t.bindMatrix),t.skeleton!==void 0&&(o.skeleton=t.skeleton);break;case"Mesh":m=l(t.geometry),g=u(t.material),o=new qi(m,g);break;case"InstancedMesh":m=l(t.geometry),g=u(t.material);const v=t.count,A=t.instanceMatrix,S=t.instanceColor;o=new LC(m,g,v),o.instanceMatrix=new td(new Float32Array(A.array),16),S!==void 0&&(o.instanceColor=new td(new Float32Array(S.array),S.itemSize));break;case"BatchedMesh":m=l(t.geometry),g=u(t.material),o=new tI(t.maxInstanceCount,t.maxVertexCount,t.maxIndexCount,g),o.geometry=m,o.perObjectFrustumCulled=t.perObjectFrustumCulled,o.sortObjects=t.sortObjects,o._drawRanges=t.drawRanges,o._reservedRanges=t.reservedRanges,o._visibility=t.visibility,o._active=t.active,o._bounds=t.bounds.map(E=>{const T=new pr;T.min.fromArray(E.boxMin),T.max.fromArray(E.boxMax);const _=new Ys;return _.radius=E.sphereRadius,_.center.fromArray(E.sphereCenter),{boxInitialized:E.boxInitialized,box:T,sphereInitialized:E.sphereInitialized,sphere:_}}),o._maxInstanceCount=t.maxInstanceCount,o._maxVertexCount=t.maxVertexCount,o._maxIndexCount=t.maxIndexCount,o._geometryInitialized=t.geometryInitialized,o._geometryCount=t.geometryCount,o._matricesTexture=d(t.matricesTexture.uuid),t.colorsTexture!==void 0&&(o._colorsTexture=d(t.colorsTexture.uuid));break;case"LOD":o=new $N;break;case"Line":o=new $c(l(t.geometry),u(t.material));break;case"LineLoop":o=new OC(l(t.geometry),u(t.material));break;case"LineSegments":o=new qo(l(t.geometry),u(t.material));break;case"PointCloud":case"Points":o=new UC(l(t.geometry),u(t.material));break;case"Sprite":o=new ZN(u(t.material));break;case"Group":o=new Vc;break;case"Bone":o=new YS;break;default:o=new gn}if(o.uuid=t.uuid,t.name!==void 0&&(o.name=t.name),t.matrix!==void 0?(o.matrix.fromArray(t.matrix),t.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=t.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(t.position!==void 0&&o.position.fromArray(t.position),t.rotation!==void 0&&o.rotation.fromArray(t.rotation),t.quaternion!==void 0&&o.quaternion.fromArray(t.quaternion),t.scale!==void 0&&o.scale.fromArray(t.scale)),t.up!==void 0&&o.up.fromArray(t.up),t.castShadow!==void 0&&(o.castShadow=t.castShadow),t.receiveShadow!==void 0&&(o.receiveShadow=t.receiveShadow),t.shadow&&(t.shadow.intensity!==void 0&&(o.shadow.intensity=t.shadow.intensity),t.shadow.bias!==void 0&&(o.shadow.bias=t.shadow.bias),t.shadow.normalBias!==void 0&&(o.shadow.normalBias=t.shadow.normalBias),t.shadow.radius!==void 0&&(o.shadow.radius=t.shadow.radius),t.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(t.shadow.mapSize),t.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(t.shadow.camera))),t.visible!==void 0&&(o.visible=t.visible),t.frustumCulled!==void 0&&(o.frustumCulled=t.frustumCulled),t.renderOrder!==void 0&&(o.renderOrder=t.renderOrder),t.userData!==void 0&&(o.userData=t.userData),t.layers!==void 0&&(o.layers.mask=t.layers),t.children!==void 0){const v=t.children;for(let A=0;A<v.length;A++)o.add(this.parseObject(v[A],e,i,s,r))}if(t.animations!==void 0){const v=t.animations;for(let A=0;A<v.length;A++){const S=v[A];o.animations.push(r[S])}}if(t.type==="LOD"){t.autoUpdate!==void 0&&(o.autoUpdate=t.autoUpdate);const v=t.levels;for(let A=0;A<v.length;A++){const S=v[A],E=o.getObjectByProperty("uuid",S.object);E!==void 0&&o.addLevel(E,S.distance,S.hysteresis)}}return o}bindSkeletons(t,e){Object.keys(e).length!==0&&t.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const s=e[i.skeleton];s===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(s,i.bindMatrix)}})}bindLightTargets(t){t.traverse(function(e){if(e.isDirectionalLight||e.isSpotLight){const i=e.target,s=t.getObjectByProperty("uuid",i);s!==void 0?e.target=s:e.target=new gn}})}}const U7={UVMapping:LS,CubeReflectionMapping:Qc,CubeRefractionMapping:lf,EquirectangularReflectionMapping:uy,EquirectangularRefractionMapping:fy,CubeUVReflectionMapping:Rm},dD={RepeatWrapping:cf,ClampToEdgeWrapping:Sa,MirroredRepeatWrapping:fm},pD={NearestFilter:Ls,NearestMipmapNearestFilter:OS,NearestMipmapLinearFilter:Nh,LinearFilter:Ki,LinearMipmapNearestFilter:nm,LinearMipmapLinearFilter:Za};class OI extends gr{constructor(t){super(t),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(t){return this.options=t,this}load(t,e,i,s){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,o=kc.get(t);if(o!==void 0){if(r.manager.itemStart(t),o.then){o.then(d=>{e&&e(d),r.manager.itemEnd(t)}).catch(d=>{s&&s(d)});return}return setTimeout(function(){e&&e(o),r.manager.itemEnd(t)},0),o}const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader;const u=fetch(t,l).then(function(d){return d.blob()}).then(function(d){return createImageBitmap(d,Object.assign(r.options,{colorSpaceConversion:"none"}))}).then(function(d){return kc.add(t,d),e&&e(d),r.manager.itemEnd(t),d}).catch(function(d){s&&s(d),kc.remove(t),r.manager.itemError(t),r.manager.itemEnd(t)});kc.add(t,u),r.manager.itemStart(t)}}let CA;class ZC{static getContext(){return CA===void 0&&(CA=new(window.AudioContext||window.webkitAudioContext)),CA}static setContext(t){CA=t}}class P7 extends gr{constructor(t){super(t)}load(t,e,i,s){const r=this,o=new Ta(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,function(u){try{const d=u.slice(0);ZC.getContext().decodeAudioData(d,function(g){e(g)}).catch(l)}catch(d){l(d)}},i,s);function l(u){s?s(u):console.error(u),r.manager.itemError(t)}}}const mD=new Be,gD=new Be,gh=new Be;class N7{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Wi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Wi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(t){const e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep,gh.copy(t.projectionMatrix);const s=e.eyeSep/2,r=s*e.near/e.focus,o=e.near*Math.tan(Wh*e.fov*.5)/e.zoom;let l,u;gD.elements[12]=-s,mD.elements[12]=s,l=-o*e.aspect+r,u=o*e.aspect+r,gh.elements[0]=2*e.near/(u-l),gh.elements[8]=(u+l)/(u-l),this.cameraL.projectionMatrix.copy(gh),l=-o*e.aspect-r,u=o*e.aspect-r,gh.elements[0]=2*e.near/(u-l),gh.elements[8]=(u+l)/(u-l),this.cameraR.projectionMatrix.copy(gh)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(gD),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(mD)}}class UI extends Wi{constructor(t=[]){super(),this.isArrayCamera=!0,this.cameras=t,this.index=0}}class $C{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=yD(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=yD();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}function yD(){return performance.now()}const yh=new K,vD=new Ji,I7=new K,vh=new K;class F7 extends gn{constructor(){super(),this.type="AudioListener",this.context=ZC.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new $C}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(t){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}updateMatrixWorld(t){super.updateMatrixWorld(t);const e=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(yh,vD,I7),vh.set(0,0,-1).applyQuaternion(vD),e.positionX){const s=this.context.currentTime+this.timeDelta;e.positionX.linearRampToValueAtTime(yh.x,s),e.positionY.linearRampToValueAtTime(yh.y,s),e.positionZ.linearRampToValueAtTime(yh.z,s),e.forwardX.linearRampToValueAtTime(vh.x,s),e.forwardY.linearRampToValueAtTime(vh.y,s),e.forwardZ.linearRampToValueAtTime(vh.z,s),e.upX.linearRampToValueAtTime(i.x,s),e.upY.linearRampToValueAtTime(i.y,s),e.upZ.linearRampToValueAtTime(i.z,s)}else e.setPosition(yh.x,yh.y,yh.z),e.setOrientation(vh.x,vh.y,vh.z,i.x,i.y,i.z)}}class PI extends gn{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+t;const e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(t=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+t),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(t){return t||(t=[]),this._connected===!0?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){return this.detune=t,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=t,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=t,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}copy(t,e){return super.copy(t,e),t.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=t.autoplay,this.buffer=t.buffer,this.detune=t.detune,this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.offset=t.offset,this.duration=t.duration,this.playbackRate=t.playbackRate,this.hasPlaybackControl=t.hasPlaybackControl,this.sourceType=t.sourceType,this.filters=t.filters.slice(),this)}clone(t){return new this.constructor(this.listener).copy(this,t)}}const xh=new K,xD=new Ji,z7=new K,Ah=new K;class H7 extends PI{constructor(t){super(t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(t){return this.panner.refDistance=t,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(t){return this.panner.rolloffFactor=t,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(t){return this.panner.distanceModel=t,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(t){return this.panner.maxDistance=t,this}setDirectionalCone(t,e,i){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=i,this}updateMatrixWorld(t){if(super.updateMatrixWorld(t),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(xh,xD,z7),Ah.set(0,0,1).applyQuaternion(xD);const e=this.panner;if(e.positionX){const i=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(xh.x,i),e.positionY.linearRampToValueAtTime(xh.y,i),e.positionZ.linearRampToValueAtTime(xh.z,i),e.orientationX.linearRampToValueAtTime(Ah.x,i),e.orientationY.linearRampToValueAtTime(Ah.y,i),e.orientationZ.linearRampToValueAtTime(Ah.z,i)}else e.setPosition(xh.x,xh.y,xh.z),e.setOrientation(Ah.x,Ah.y,Ah.z)}}class G7{constructor(t,e=2048){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=e,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let t=0;const e=this.getFrequencyData();for(let i=0;i<e.length;i++)t+=e[i];return t/e.length}}class NI{constructor(t,e,i){this.binding=t,this.valueSize=i;let s,r,o;switch(e){case"quaternion":s=this._slerp,r=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":s=this._select,r=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:s=this._lerp,r=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=s,this._mixBufferRegionAdditive=r,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(t,e){const i=this.buffer,s=this.valueSize,r=t*s+s;let o=this.cumulativeWeight;if(o===0){for(let l=0;l!==s;++l)i[r+l]=i[l];o=e}else{o+=e;const l=e/o;this._mixBufferRegion(i,r,0,l,s)}this.cumulativeWeight=o}accumulateAdditive(t){const e=this.buffer,i=this.valueSize,s=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(e,s,0,t,i),this.cumulativeWeightAdditive+=t}apply(t){const e=this.valueSize,i=this.buffer,s=t*e+e,r=this.cumulativeWeight,o=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const u=e*this._origIndex;this._mixBufferRegion(i,s,u,1-r,e)}o>0&&this._mixBufferRegionAdditive(i,s,this._addIndex*e,1,e);for(let u=e,d=e+e;u!==d;++u)if(i[u]!==i[u+e]){l.setValue(i,s);break}}saveOriginalState(){const t=this.binding,e=this.buffer,i=this.valueSize,s=i*this._origIndex;t.getValue(e,s);for(let r=i,o=s;r!==o;++r)e[r]=e[s+r%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const t=this.valueSize*3;this.binding.setValue(this.buffer,t)}_setAdditiveIdentityNumeric(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let i=t;i<e;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[e+i]=this.buffer[t+i]}_select(t,e,i,s,r){if(s>=.5)for(let o=0;o!==r;++o)t[e+o]=t[i+o]}_slerp(t,e,i,s){Ji.slerpFlat(t,e,t,e,t,i,s)}_slerpAdditive(t,e,i,s,r){const o=this._workIndex*r;Ji.multiplyQuaternionsFlat(t,o,t,e,t,i),Ji.slerpFlat(t,e,t,e,t,o,s)}_lerp(t,e,i,s,r){const o=1-s;for(let l=0;l!==r;++l){const u=e+l;t[u]=t[u]*o+t[i+l]*s}}_lerpAdditive(t,e,i,s,r){for(let o=0;o!==r;++o){const l=e+o;t[l]=t[l]+t[i+o]*s}}}const tR="\\[\\]\\.:\\/",V7=new RegExp("["+tR+"]","g"),eR="[^"+tR+"]",k7="[^"+tR.replace("\\.","")+"]",X7=/((?:WC+[\/:])*)/.source.replace("WC",eR),j7=/(WCOD+)?/.source.replace("WCOD",k7),Y7=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",eR),W7=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",eR),K7=new RegExp("^"+X7+j7+Y7+W7+"$"),q7=["material","materials","bones","map"];class J7{constructor(t,e,i){const s=i||Tn.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,s)}getValue(t,e){this.bind();const i=this._targetGroup.nCachedObjects_,s=this._bindings[i];s!==void 0&&s.getValue(t,e)}setValue(t,e){const i=this._bindings;for(let s=this._targetGroup.nCachedObjects_,r=i.length;s!==r;++s)i[s].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}}class Tn{constructor(t,e,i){this.path=e,this.parsedPath=i||Tn.parseTrackName(e),this.node=Tn.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,e,i){return t&&t.isAnimationObjectGroup?new Tn.Composite(t,e,i):new Tn(t,e,i)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(V7,"")}static parseTrackName(t){const e=K7.exec(t);if(e===null)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const i={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},s=i.nodeName&&i.nodeName.lastIndexOf(".");if(s!==void 0&&s!==-1){const r=i.nodeName.substring(s+1);q7.indexOf(r)!==-1&&(i.nodeName=i.nodeName.substring(0,s),i.objectName=r)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i}static findNode(t,e){if(e===void 0||e===""||e==="."||e===-1||e===t.name||e===t.uuid)return t;if(t.skeleton){const i=t.skeleton.getBoneByName(e);if(i!==void 0)return i}if(t.children){const i=function(r){for(let o=0;o<r.length;o++){const l=r[o];if(l.name===e||l.uuid===e)return l;const u=i(l.children);if(u)return u}return null},s=i(t.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,e){t[e]=this.targetObject[this.propertyName]}_getValue_array(t,e){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)t[e++]=i[s]}_getValue_arrayElement(t,e){t[e]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,e){this.resolvedProperty.toArray(t,e)}_setValue_direct(t,e){this.targetObject[this.propertyName]=t[e]}_setValue_direct_setNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,e){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)i[s]=t[e++]}_setValue_array_setNeedsUpdate(t,e){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)i[s]=t[e++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,e){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)i[s]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,e){this.resolvedProperty[this.propertyIndex]=t[e]}_setValue_arrayElement_setNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,e){this.resolvedProperty.fromArray(t,e)}_setValue_fromArray_setNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,e){this.bind(),this.getValue(t,e)}_setValue_unbound(t,e){this.bind(),this.setValue(t,e)}bind(){let t=this.node;const e=this.parsedPath,i=e.objectName,s=e.propertyName;let r=e.propertyIndex;if(t||(t=Tn.findNode(this.rootNode,e.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let d=e.objectIndex;switch(i){case"materials":if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}t=t.material.materials;break;case"bones":if(!t.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}t=t.skeleton.bones;for(let m=0;m<t.length;m++)if(t[m].name===d){d=m;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}t=t.material.map;break;default:if(t[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}t=t[i]}if(d!==void 0){if(t[d]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);return}t=t[d]}}const o=t[s];if(o===void 0){const d=e.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+d+"."+s+" but it wasn't found.",t);return}let l=this.Versioning.None;this.targetObject=t,t.isMaterial===!0?l=this.Versioning.NeedsUpdate:t.isObject3D===!0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let u=this.BindingType.Direct;if(r!==void 0){if(s==="morphTargetInfluences"){if(!t.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!t.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}t.morphTargetDictionary[r]!==void 0&&(r=t.morphTargetDictionary[r])}u=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=r}else o.fromArray!==void 0&&o.toArray!==void 0?(u=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(u=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=s;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Tn.Composite=J7;Tn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Tn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Tn.prototype.GetterByBindingType=[Tn.prototype._getValue_direct,Tn.prototype._getValue_array,Tn.prototype._getValue_arrayElement,Tn.prototype._getValue_toArray];Tn.prototype.SetterByBindingTypeAndVersioning=[[Tn.prototype._setValue_direct,Tn.prototype._setValue_direct_setNeedsUpdate,Tn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Tn.prototype._setValue_array,Tn.prototype._setValue_array_setNeedsUpdate,Tn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Tn.prototype._setValue_arrayElement,Tn.prototype._setValue_arrayElement_setNeedsUpdate,Tn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Tn.prototype._setValue_fromArray,Tn.prototype._setValue_fromArray_setNeedsUpdate,Tn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Q7{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ba(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const t={};this._indicesByUUID=t;for(let i=0,s=arguments.length;i!==s;++i)t[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}}add(){const t=this._objects,e=this._indicesByUUID,i=this._paths,s=this._parsedPaths,r=this._bindings,o=r.length;let l,u=t.length,d=this.nCachedObjects_;for(let m=0,g=arguments.length;m!==g;++m){const v=arguments[m],A=v.uuid;let S=e[A];if(S===void 0){S=u++,e[A]=S,t.push(v);for(let E=0,T=o;E!==T;++E)r[E].push(new Tn(v,i[E],s[E]))}else if(S<d){l=t[S];const E=--d,T=t[E];e[T.uuid]=S,t[S]=T,e[A]=E,t[E]=v;for(let _=0,w=o;_!==w;++_){const D=r[_],L=D[E];let U=D[S];D[S]=L,U===void 0&&(U=new Tn(v,i[_],s[_])),D[E]=U}}else t[S]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=d}remove(){const t=this._objects,e=this._indicesByUUID,i=this._bindings,s=i.length;let r=this.nCachedObjects_;for(let o=0,l=arguments.length;o!==l;++o){const u=arguments[o],d=u.uuid,m=e[d];if(m!==void 0&&m>=r){const g=r++,v=t[g];e[v.uuid]=m,t[m]=v,e[d]=g,t[g]=u;for(let A=0,S=s;A!==S;++A){const E=i[A],T=E[g],_=E[m];E[m]=T,E[g]=_}}}this.nCachedObjects_=r}uncache(){const t=this._objects,e=this._indicesByUUID,i=this._bindings,s=i.length;let r=this.nCachedObjects_,o=t.length;for(let l=0,u=arguments.length;l!==u;++l){const d=arguments[l],m=d.uuid,g=e[m];if(g!==void 0)if(delete e[m],g<r){const v=--r,A=t[v],S=--o,E=t[S];e[A.uuid]=g,t[g]=A,e[E.uuid]=v,t[v]=E,t.pop();for(let T=0,_=s;T!==_;++T){const w=i[T],D=w[v],L=w[S];w[g]=D,w[v]=L,w.pop()}}else{const v=--o,A=t[v];v>0&&(e[A.uuid]=g),t[g]=A,t.pop();for(let S=0,E=s;S!==E;++S){const T=i[S];T[g]=T[v],T.pop()}}}this.nCachedObjects_=r}subscribe_(t,e){const i=this._bindingsIndicesByPath;let s=i[t];const r=this._bindings;if(s!==void 0)return r[s];const o=this._paths,l=this._parsedPaths,u=this._objects,d=u.length,m=this.nCachedObjects_,g=new Array(d);s=r.length,i[t]=s,o.push(t),l.push(e),r.push(g);for(let v=m,A=u.length;v!==A;++v){const S=u[v];g[v]=new Tn(S,t,e)}return g}unsubscribe_(t){const e=this._bindingsIndicesByPath,i=e[t];if(i!==void 0){const s=this._paths,r=this._parsedPaths,o=this._bindings,l=o.length-1,u=o[l],d=t[l];e[d]=i,o[i]=u,o.pop(),r[i]=r[l],r.pop(),s[i]=s[l],s.pop()}}}class II{constructor(t,e,i=null,s=e.blendMode){this._mixer=t,this._clip=e,this._localRoot=i,this.blendMode=s;const r=e.tracks,o=r.length,l=new Array(o),u={endingStart:Ih,endingEnd:Ih};for(let d=0;d!==o;++d){const m=r[d].createInterpolant(null);l[d]=m,m.settings=u}this._interpolantSettings=u,this._interpolants=l,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=BN,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,e,i){if(t.fadeOut(e),this.fadeIn(e),i){const s=this._clip.duration,r=t._clip.duration,o=r/s,l=s/r;t.warp(1,o,e),this.warp(l,1,e)}return this}crossFadeTo(t,e,i){return t.crossFadeFrom(this,e,i)}stopFading(){const t=this._weightInterpolant;return t!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,e,i){const s=this._mixer,r=s.time,o=this.timeScale;let l=this._timeScaleInterpolant;l===null&&(l=s._lendControlInterpolant(),this._timeScaleInterpolant=l);const u=l.parameterPositions,d=l.sampleValues;return u[0]=r,u[1]=r+i,d[0]=t/o,d[1]=e/o,this}stopWarping(){const t=this._timeScaleInterpolant;return t!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,e,i,s){if(!this.enabled){this._updateWeight(t);return}const r=this._startTime;if(r!==null){const u=(t-r)*i;u<0||i===0?e=0:(this._startTime=null,e=i*u)}e*=this._updateTimeScale(t);const o=this._updateTime(e),l=this._updateWeight(t);if(l>0){const u=this._interpolants,d=this._propertyBindings;switch(this.blendMode){case _C:for(let m=0,g=u.length;m!==g;++m)u[m].evaluate(o),d[m].accumulateAdditive(l);break;case HS:default:for(let m=0,g=u.length;m!==g;++m)u[m].evaluate(o),d[m].accumulate(s,l)}}}_updateWeight(t){let e=0;if(this.enabled){e=this.weight;const i=this._weightInterpolant;if(i!==null){const s=i.evaluate(t)[0];e*=s,t>i.parameterPositions[1]&&(this.stopFading(),s===0&&(this.enabled=!1))}}return this._effectiveWeight=e,e}_updateTimeScale(t){let e=0;if(!this.paused){e=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const s=i.evaluate(t)[0];e*=s,t>i.parameterPositions[1]&&(this.stopWarping(),e===0?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e}_updateTime(t){const e=this._clip.duration,i=this.loop;let s=this.time+t,r=this._loopCount;const o=i===DN;if(t===0)return r===-1?s:o&&(r&1)===1?e-s:s;if(i===wN){r===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(s>=e)s=e;else if(s<0)s=0;else{this.time=s;break t}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(r===-1&&(t>=0?(r=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),s>=e||s<0){const l=Math.floor(s/e);s-=e*l,r+=Math.abs(l);const u=this.repetitions-r;if(u<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,s=t>0?e:0,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(u===1){const d=t<0;this._setEndings(d,!d,o)}else this._setEndings(!1,!1,o);this._loopCount=r,this.time=s,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=s;if(o&&(r&1)===1)return e-s}return s}_setEndings(t,e,i){const s=this._interpolantSettings;i?(s.endingStart=Fh,s.endingEnd=Fh):(t?s.endingStart=this.zeroSlopeAtStart?Fh:Ih:s.endingStart=hy,e?s.endingEnd=this.zeroSlopeAtEnd?Fh:Ih:s.endingEnd=hy)}_scheduleFading(t,e,i){const s=this._mixer,r=s.time;let o=this._weightInterpolant;o===null&&(o=s._lendControlInterpolant(),this._weightInterpolant=o);const l=o.parameterPositions,u=o.sampleValues;return l[0]=r,u[0]=e,l[1]=r+t,u[1]=i,this}}const Z7=new Float32Array(1);class FI extends Zl{constructor(t){super(),this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(t,e){const i=t._localRoot||this._root,s=t._clip.tracks,r=s.length,o=t._propertyBindings,l=t._interpolants,u=i.uuid,d=this._bindingsByRootAndName;let m=d[u];m===void 0&&(m={},d[u]=m);for(let g=0;g!==r;++g){const v=s[g],A=v.name;let S=m[A];if(S!==void 0)++S.referenceCount,o[g]=S;else{if(S=o[g],S!==void 0){S._cacheIndex===null&&(++S.referenceCount,this._addInactiveBinding(S,u,A));continue}const E=e&&e._propertyBindings[g].binding.parsedPath;S=new NI(Tn.create(i,A,E),v.ValueTypeName,v.getValueSize()),++S.referenceCount,this._addInactiveBinding(S,u,A),o[g]=S}l[g].resultBuffer=S.buffer}}_activateAction(t){if(!this._isActiveAction(t)){if(t._cacheIndex===null){const i=(t._localRoot||this._root).uuid,s=t._clip.uuid,r=this._actionsByClip[s];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,s,i)}const e=t._propertyBindings;for(let i=0,s=e.length;i!==s;++i){const r=e[i];r.useCount++===0&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(t)}}_deactivateAction(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let i=0,s=e.length;i!==s;++i){const r=e[i];--r.useCount===0&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(t)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}_isActiveAction(t){const e=t._cacheIndex;return e!==null&&e<this._nActiveActions}_addInactiveAction(t,e,i){const s=this._actions,r=this._actionsByClip;let o=r[e];if(o===void 0)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,r[e]=o;else{const l=o.knownActions;t._byClipCacheIndex=l.length,l.push(t)}t._cacheIndex=s.length,s.push(t),o.actionByRoot[i]=t}_removeInactiveAction(t){const e=this._actions,i=e[e.length-1],s=t._cacheIndex;i._cacheIndex=s,e[s]=i,e.pop(),t._cacheIndex=null;const r=t._clip.uuid,o=this._actionsByClip,l=o[r],u=l.knownActions,d=u[u.length-1],m=t._byClipCacheIndex;d._byClipCacheIndex=m,u[m]=d,u.pop(),t._byClipCacheIndex=null;const g=l.actionByRoot,v=(t._localRoot||this._root).uuid;delete g[v],u.length===0&&delete o[r],this._removeInactiveBindingsForAction(t)}_removeInactiveBindingsForAction(t){const e=t._propertyBindings;for(let i=0,s=e.length;i!==s;++i){const r=e[i];--r.referenceCount===0&&this._removeInactiveBinding(r)}}_lendAction(t){const e=this._actions,i=t._cacheIndex,s=this._nActiveActions++,r=e[s];t._cacheIndex=s,e[s]=t,r._cacheIndex=i,e[i]=r}_takeBackAction(t){const e=this._actions,i=t._cacheIndex,s=--this._nActiveActions,r=e[s];t._cacheIndex=s,e[s]=t,r._cacheIndex=i,e[i]=r}_addInactiveBinding(t,e,i){const s=this._bindingsByRootAndName,r=this._bindings;let o=s[e];o===void 0&&(o={},s[e]=o),o[i]=t,t._cacheIndex=r.length,r.push(t)}_removeInactiveBinding(t){const e=this._bindings,i=t.binding,s=i.rootNode.uuid,r=i.path,o=this._bindingsByRootAndName,l=o[s],u=e[e.length-1],d=t._cacheIndex;u._cacheIndex=d,e[d]=u,e.pop(),delete l[r],Object.keys(l).length===0&&delete o[s]}_lendBinding(t){const e=this._bindings,i=t._cacheIndex,s=this._nActiveBindings++,r=e[s];t._cacheIndex=s,e[s]=t,r._cacheIndex=i,e[i]=r}_takeBackBinding(t){const e=this._bindings,i=t._cacheIndex,s=--this._nActiveBindings,r=e[s];t._cacheIndex=s,e[s]=t,r._cacheIndex=i,e[i]=r}_lendControlInterpolant(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let i=t[e];return i===void 0&&(i=new jC(new Float32Array(2),new Float32Array(2),1,Z7),i.__cacheIndex=e,t[e]=i),i}_takeBackControlInterpolant(t){const e=this._controlInterpolants,i=t.__cacheIndex,s=--this._nActiveControlInterpolants,r=e[s];t.__cacheIndex=s,e[s]=t,r.__cacheIndex=i,e[i]=r}clipAction(t,e,i){const s=e||this._root,r=s.uuid;let o=typeof t=="string"?vm.findByName(s,t):t;const l=o!==null?o.uuid:t,u=this._actionsByClip[l];let d=null;if(i===void 0&&(o!==null?i=o.blendMode:i=HS),u!==void 0){const g=u.actionByRoot[r];if(g!==void 0&&g.blendMode===i)return g;d=u.knownActions[0],o===null&&(o=d._clip)}if(o===null)return null;const m=new II(this,o,e,i);return this._bindAction(m,d),this._addInactiveAction(m,l,r),m}existingAction(t,e){const i=e||this._root,s=i.uuid,r=typeof t=="string"?vm.findByName(i,t):t,o=r?r.uuid:t,l=this._actionsByClip[o];return l!==void 0&&l.actionByRoot[s]||null}stopAllAction(){const t=this._actions,e=this._nActiveActions;for(let i=e-1;i>=0;--i)t[i].stop();return this}update(t){t*=this.timeScale;const e=this._actions,i=this._nActiveActions,s=this.time+=t,r=Math.sign(t),o=this._accuIndex^=1;for(let d=0;d!==i;++d)e[d]._update(s,t,r,o);const l=this._bindings,u=this._nActiveBindings;for(let d=0;d!==u;++d)l[d].apply(o);return this}setTime(t){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(t)}getRoot(){return this._root}uncacheClip(t){const e=this._actions,i=t.uuid,s=this._actionsByClip,r=s[i];if(r!==void 0){const o=r.knownActions;for(let l=0,u=o.length;l!==u;++l){const d=o[l];this._deactivateAction(d);const m=d._cacheIndex,g=e[e.length-1];d._cacheIndex=null,d._byClipCacheIndex=null,g._cacheIndex=m,e[m]=g,e.pop(),this._removeInactiveBindingsForAction(d)}delete s[i]}}uncacheRoot(t){const e=t.uuid,i=this._actionsByClip;for(const o in i){const l=i[o].actionByRoot,u=l[e];u!==void 0&&(this._deactivateAction(u),this._removeInactiveAction(u))}const s=this._bindingsByRootAndName,r=s[e];if(r!==void 0)for(const o in r){const l=r[o];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(t,e){const i=this.existingAction(t,e);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class $7 extends GS{constructor(t=1,e=1,i=1,s={}){super(t,e,s),this.isRenderTarget3D=!0,this.depth=i,this.texture=new VS(null,t,e,i),this.texture.isRenderTargetTexture=!0}}class tX extends GS{constructor(t=1,e=1,i=1,s={}){super(t,e,s),this.isRenderTargetArray=!0,this.depth=i,this.texture=new Xy(null,t,e,i),this.texture.isRenderTargetTexture=!0}}class nR{constructor(t){this.value=t}clone(){return new nR(this.value.clone===void 0?this.value:this.value.clone())}}let eX=0;class nX extends Zl{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:eX++}),this.name="",this.usage=py,this.uniforms=[]}add(t){return this.uniforms.push(t),this}remove(t){const e=this.uniforms.indexOf(t);return e!==-1&&this.uniforms.splice(e,1),this}setName(t){return this.name=t,this}setUsage(t){return this.usage=t,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(t){this.name=t.name,this.usage=t.usage;const e=t.uniforms;this.uniforms.length=0;for(let i=0,s=e.length;i<s;i++){const r=Array.isArray(e[i])?e[i]:[e[i]];for(let o=0;o<r.length;o++)this.uniforms.push(r[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class iX extends Yy{constructor(t,e,i=1){super(t,e),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}clone(t){const e=super.clone(t);return e.meshPerAttribute=this.meshPerAttribute,e}toJSON(t){const e=super.toJSON(t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}class sX{constructor(t,e,i,s,r){this.isGLBufferAttribute=!0,this.name="",this.buffer=t,this.type=e,this.itemSize=i,this.elementSize=s,this.count=r,this.version=0}set needsUpdate(t){t===!0&&this.version++}setBuffer(t){return this.buffer=t,this}setType(t,e){return this.type=t,this.elementSize=e,this}setItemSize(t){return this.itemSize=t,this}setCount(t){return this.count=t,this}}const AD=new Be;class zI{constructor(t,e,i=0,s=1/0){this.ray=new Bm(t,e),this.near=i,this.far=s,this.camera=null,this.layers=new gm,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,e){this.ray.set(t,e)}setFromCamera(t,e){e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)}setFromXRController(t){return AD.identity().extractRotation(t.matrixWorld),this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(AD),this}intersectObject(t,e=!0,i=[]){return zE(t,this,i,e),i.sort(SD),i}intersectObjects(t,e=!0,i=[]){for(let s=0,r=t.length;s<r;s++)zE(t[s],this,i,e);return i.sort(SD),i}}function SD(n,t){return n.distance-t.distance}function zE(n,t,e,i){let s=!0;if(n.layers.test(t.layers)&&n.raycast(t,e)===!1&&(s=!1),s===!0&&i===!0){const r=n.children;for(let o=0,l=r.length;o<l;o++)zE(r[o],t,e,!0)}}class HI{constructor(t=1,e=0,i=0){return this.radius=t,this.phi=e,this.theta=i,this}set(t,e,i){return this.radius=t,this.phi=e,this.theta=i,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){return this.phi=Ye(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,i){return this.radius=Math.sqrt(t*t+e*e+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,i),this.phi=Math.acos(Ye(e/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class rX{constructor(t=1,e=0,i=0){return this.radius=t,this.theta=e,this.y=i,this}set(t,e,i){return this.radius=t,this.theta=e,this.y=i,this}copy(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,i){return this.radius=Math.sqrt(t*t+i*i),this.theta=Math.atan2(t,i),this.y=e,this}clone(){return new this.constructor().copy(this)}}class iR{constructor(t,e,i,s){iR.prototype.isMatrix2=!0,this.elements=[1,0,0,1],t!==void 0&&this.set(t,e,i,s)}identity(){return this.set(1,0,0,1),this}fromArray(t,e=0){for(let i=0;i<4;i++)this.elements[i]=t[i+e];return this}set(t,e,i,s){const r=this.elements;return r[0]=t,r[2]=e,r[1]=i,r[3]=s,this}}const _D=new It;class aX{constructor(t=new It(1/0,1/0),e=new It(-1/0,-1/0)){this.isBox2=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=_D.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,_D).distanceTo(t)}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const bD=new K,RA=new K;class oX{constructor(t=new K,e=new K){this.start=t,this.end=e}set(t,e){return this.start.copy(t),this.end.copy(e),this}copy(t){return this.start.copy(t.start),this.end.copy(t.end),this}getCenter(t){return t.addVectors(this.start,this.end).multiplyScalar(.5)}delta(t){return t.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(t,e){return this.delta(e).multiplyScalar(t).add(this.start)}closestPointToPointParameter(t,e){bD.subVectors(t,this.start),RA.subVectors(this.end,this.start);const i=RA.dot(RA);let r=RA.dot(bD)/i;return e&&(r=Ye(r,0,1)),r}closestPointToPoint(t,e,i){const s=this.closestPointToPointParameter(t,e);return this.delta(i).multiplyScalar(s).add(this.start)}applyMatrix4(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}equals(t){return t.start.equals(this.start)&&t.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const MD=new K;class lX extends gn{constructor(t,e){super(),this.light=t,this.matrixAutoUpdate=!1,this.color=e,this.type="SpotLightHelper";const i=new Ke,s=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,l=1,u=32;o<u;o++,l++){const d=o/u*Math.PI*2,m=l/u*Math.PI*2;s.push(Math.cos(d),Math.sin(d),1,Math.cos(m),Math.sin(m),1)}i.setAttribute("position",new be(s,3));const r=new mr({fog:!1,toneMapped:!1});this.cone=new qo(i,r),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const t=this.light.distance?this.light.distance:1e3,e=t*Math.tan(this.light.angle);this.cone.scale.set(e,e,t),MD.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(MD),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Ku=new K,wA=new Be,fM=new Be;class cX extends qo{constructor(t){const e=GI(t),i=new Ke,s=[],r=[],o=new ie(0,0,1),l=new ie(0,1,0);for(let d=0;d<e.length;d++){const m=e[d];m.parent&&m.parent.isBone&&(s.push(0,0,0),s.push(0,0,0),r.push(o.r,o.g,o.b),r.push(l.r,l.g,l.b))}i.setAttribute("position",new be(s,3)),i.setAttribute("color",new be(r,3));const u=new mr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,u),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){const e=this.bones,i=this.geometry,s=i.getAttribute("position");fM.copy(this.root.matrixWorld).invert();for(let r=0,o=0;r<e.length;r++){const l=e[r];l.parent&&l.parent.isBone&&(wA.multiplyMatrices(fM,l.matrixWorld),Ku.setFromMatrixPosition(wA),s.setXYZ(o,Ku.x,Ku.y,Ku.z),wA.multiplyMatrices(fM,l.parent.matrixWorld),Ku.setFromMatrixPosition(wA),s.setXYZ(o+1,Ku.x,Ku.y,Ku.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}dispose(){this.geometry.dispose(),this.material.dispose()}}function GI(n){const t=[];n.isBone===!0&&t.push(n);for(let e=0;e<n.children.length;e++)t.push.apply(t,GI(n.children[e]));return t}class uX extends qi{constructor(t,e,i){const s=new Qy(e,4,2),r=new _a({wireframe:!0,fog:!1,toneMapped:!1});super(s,r),this.light=t,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const fX=new K,ED=new ie,TD=new ie;class hX extends gn{constructor(t,e,i){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const s=new Jy(e);s.rotateY(Math.PI*.5),this.material=new _a({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const r=s.getAttribute("position"),o=new Float32Array(r.count*3);s.setAttribute("color",new Rn(o,3)),this.add(new qi(s,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const t=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const e=t.geometry.getAttribute("color");ED.copy(this.light.color),TD.copy(this.light.groundColor);for(let i=0,s=e.count;i<s;i++){const r=i<s/2?ED:TD;e.setXYZ(i,r.r,r.g,r.b)}e.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),t.lookAt(fX.setFromMatrixPosition(this.light.matrixWorld).negate())}}class dX extends qo{constructor(t=10,e=10,i=4473924,s=8947848){i=new ie(i),s=new ie(s);const r=e/2,o=t/e,l=t/2,u=[],d=[];for(let v=0,A=0,S=-l;v<=e;v++,S+=o){u.push(-l,0,S,l,0,S),u.push(S,0,-l,S,0,l);const E=v===r?i:s;E.toArray(d,A),A+=3,E.toArray(d,A),A+=3,E.toArray(d,A),A+=3,E.toArray(d,A),A+=3}const m=new Ke;m.setAttribute("position",new be(u,3)),m.setAttribute("color",new be(d,3));const g=new mr({vertexColors:!0,toneMapped:!1});super(m,g),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class pX extends qo{constructor(t=10,e=16,i=8,s=64,r=4473924,o=8947848){r=new ie(r),o=new ie(o);const l=[],u=[];if(e>1)for(let g=0;g<e;g++){const v=g/e*(Math.PI*2),A=Math.sin(v)*t,S=Math.cos(v)*t;l.push(0,0,0),l.push(A,0,S);const E=g&1?r:o;u.push(E.r,E.g,E.b),u.push(E.r,E.g,E.b)}for(let g=0;g<i;g++){const v=g&1?r:o,A=t-t/i*g;for(let S=0;S<s;S++){let E=S/s*(Math.PI*2),T=Math.sin(E)*A,_=Math.cos(E)*A;l.push(T,0,_),u.push(v.r,v.g,v.b),E=(S+1)/s*(Math.PI*2),T=Math.sin(E)*A,_=Math.cos(E)*A,l.push(T,0,_),u.push(v.r,v.g,v.b)}}const d=new Ke;d.setAttribute("position",new be(l,3)),d.setAttribute("color",new be(u,3));const m=new mr({vertexColors:!0,toneMapped:!1});super(d,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const CD=new K,BA=new K,RD=new K;class mX extends gn{constructor(t,e,i){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",e===void 0&&(e=1);let s=new Ke;s.setAttribute("position",new be([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));const r=new mr({fog:!1,toneMapped:!1});this.lightPlane=new $c(s,r),this.add(this.lightPlane),s=new Ke,s.setAttribute("position",new be([0,0,0,0,0,1],3)),this.targetLine=new $c(s,r),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),CD.setFromMatrixPosition(this.light.matrixWorld),BA.setFromMatrixPosition(this.light.target.matrixWorld),RD.subVectors(BA,CD),this.lightPlane.lookAt(BA),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(BA),this.targetLine.scale.z=RD.length()}}const DA=new K,Ni=new kS;class gX extends qo{constructor(t){const e=new Ke,i=new mr({color:16777215,vertexColors:!0,toneMapped:!1}),s=[],r=[],o={};l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4");function l(S,E){u(S),u(E)}function u(S){s.push(0,0,0),r.push(0,0,0),o[S]===void 0&&(o[S]=[]),o[S].push(s.length/3-1)}e.setAttribute("position",new be(s,3)),e.setAttribute("color",new be(r,3)),super(e,i),this.type="CameraHelper",this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const d=new ie(16755200),m=new ie(16711680),g=new ie(43775),v=new ie(16777215),A=new ie(3355443);this.setColors(d,m,g,v,A)}setColors(t,e,i,s,r){const l=this.geometry.getAttribute("color");l.setXYZ(0,t.r,t.g,t.b),l.setXYZ(1,t.r,t.g,t.b),l.setXYZ(2,t.r,t.g,t.b),l.setXYZ(3,t.r,t.g,t.b),l.setXYZ(4,t.r,t.g,t.b),l.setXYZ(5,t.r,t.g,t.b),l.setXYZ(6,t.r,t.g,t.b),l.setXYZ(7,t.r,t.g,t.b),l.setXYZ(8,t.r,t.g,t.b),l.setXYZ(9,t.r,t.g,t.b),l.setXYZ(10,t.r,t.g,t.b),l.setXYZ(11,t.r,t.g,t.b),l.setXYZ(12,t.r,t.g,t.b),l.setXYZ(13,t.r,t.g,t.b),l.setXYZ(14,t.r,t.g,t.b),l.setXYZ(15,t.r,t.g,t.b),l.setXYZ(16,t.r,t.g,t.b),l.setXYZ(17,t.r,t.g,t.b),l.setXYZ(18,t.r,t.g,t.b),l.setXYZ(19,t.r,t.g,t.b),l.setXYZ(20,t.r,t.g,t.b),l.setXYZ(21,t.r,t.g,t.b),l.setXYZ(22,t.r,t.g,t.b),l.setXYZ(23,t.r,t.g,t.b),l.setXYZ(24,e.r,e.g,e.b),l.setXYZ(25,e.r,e.g,e.b),l.setXYZ(26,e.r,e.g,e.b),l.setXYZ(27,e.r,e.g,e.b),l.setXYZ(28,e.r,e.g,e.b),l.setXYZ(29,e.r,e.g,e.b),l.setXYZ(30,e.r,e.g,e.b),l.setXYZ(31,e.r,e.g,e.b),l.setXYZ(32,i.r,i.g,i.b),l.setXYZ(33,i.r,i.g,i.b),l.setXYZ(34,i.r,i.g,i.b),l.setXYZ(35,i.r,i.g,i.b),l.setXYZ(36,i.r,i.g,i.b),l.setXYZ(37,i.r,i.g,i.b),l.setXYZ(38,s.r,s.g,s.b),l.setXYZ(39,s.r,s.g,s.b),l.setXYZ(40,r.r,r.g,r.b),l.setXYZ(41,r.r,r.g,r.b),l.setXYZ(42,r.r,r.g,r.b),l.setXYZ(43,r.r,r.g,r.b),l.setXYZ(44,r.r,r.g,r.b),l.setXYZ(45,r.r,r.g,r.b),l.setXYZ(46,r.r,r.g,r.b),l.setXYZ(47,r.r,r.g,r.b),l.setXYZ(48,r.r,r.g,r.b),l.setXYZ(49,r.r,r.g,r.b),l.needsUpdate=!0}update(){const t=this.geometry,e=this.pointMap,i=1,s=1;Ni.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const r=this.camera.coordinateSystem===Xo?-1:0;Xi("c",e,t,Ni,0,0,r),Xi("t",e,t,Ni,0,0,1),Xi("n1",e,t,Ni,-1,-1,r),Xi("n2",e,t,Ni,i,-1,r),Xi("n3",e,t,Ni,-1,s,r),Xi("n4",e,t,Ni,i,s,r),Xi("f1",e,t,Ni,-1,-1,1),Xi("f2",e,t,Ni,i,-1,1),Xi("f3",e,t,Ni,-1,s,1),Xi("f4",e,t,Ni,i,s,1),Xi("u1",e,t,Ni,i*.7,s*1.1,r),Xi("u2",e,t,Ni,-1*.7,s*1.1,r),Xi("u3",e,t,Ni,0,s*2,r),Xi("cf1",e,t,Ni,-1,0,1),Xi("cf2",e,t,Ni,i,0,1),Xi("cf3",e,t,Ni,0,-1,1),Xi("cf4",e,t,Ni,0,s,1),Xi("cn1",e,t,Ni,-1,0,r),Xi("cn2",e,t,Ni,i,0,r),Xi("cn3",e,t,Ni,0,-1,r),Xi("cn4",e,t,Ni,0,s,r),t.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Xi(n,t,e,i,s,r,o){DA.set(s,r,o).unproject(i);const l=t[n];if(l!==void 0){const u=e.getAttribute("position");for(let d=0,m=l.length;d<m;d++)u.setXYZ(l[d],DA.x,DA.y,DA.z)}}const LA=new pr;class yX extends qo{constructor(t,e=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=new Float32Array(8*3),r=new Ke;r.setIndex(new Rn(i,1)),r.setAttribute("position",new Rn(s,3)),super(r,new mr({color:e,toneMapped:!1})),this.object=t,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(t){if(t!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&LA.setFromObject(this.object),LA.isEmpty())return;const e=LA.min,i=LA.max,s=this.geometry.attributes.position,r=s.array;r[0]=i.x,r[1]=i.y,r[2]=i.z,r[3]=e.x,r[4]=i.y,r[5]=i.z,r[6]=e.x,r[7]=e.y,r[8]=i.z,r[9]=i.x,r[10]=e.y,r[11]=i.z,r[12]=i.x,r[13]=i.y,r[14]=e.z,r[15]=e.x,r[16]=i.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=i.x,r[22]=e.y,r[23]=e.z,s.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(t){return this.object=t,this.update(),this}copy(t,e){return super.copy(t,e),this.object=t.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class vX extends qo{constructor(t,e=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],r=new Ke;r.setIndex(new Rn(i,1)),r.setAttribute("position",new be(s,3)),super(r,new mr({color:e,toneMapped:!1})),this.box=t,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(t){const e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(t))}dispose(){this.geometry.dispose(),this.material.dispose()}}class xX extends $c{constructor(t,e=1,i=16776960){const s=i,r=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Ke;o.setAttribute("position",new be(r,3)),o.computeBoundingSphere(),super(o,new mr({color:s,toneMapped:!1})),this.type="PlaneHelper",this.plane=t,this.size=e;const l=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],u=new Ke;u.setAttribute("position",new be(l,3)),u.computeBoundingSphere(),this.add(new qi(u,new _a({color:s,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(t){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(t)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const wD=new K;let OA,hM;class AX extends gn{constructor(t=new K(0,0,1),e=new K(0,0,0),i=1,s=16776960,r=i*.2,o=r*.2){super(),this.type="ArrowHelper",OA===void 0&&(OA=new Ke,OA.setAttribute("position",new be([0,0,0,0,1,0],3)),hM=new Dm(0,.5,1,5,1),hM.translate(0,-.5,0)),this.position.copy(e),this.line=new $c(OA,new mr({color:s,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new qi(hM,new _a({color:s,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(i,r,o)}setDirection(t){if(t.y>.99999)this.quaternion.set(0,0,0,1);else if(t.y<-.99999)this.quaternion.set(1,0,0,0);else{wD.set(t.z,0,-t.x).normalize();const e=Math.acos(t.y);this.quaternion.setFromAxisAngle(wD,e)}}setLength(t,e=t*.2,i=e*.2){this.line.scale.set(1,Math.max(1e-4,t-e),1),this.line.updateMatrix(),this.cone.scale.set(i,e,i),this.cone.position.y=t,this.cone.updateMatrix()}setColor(t){this.line.material.color.set(t),this.cone.material.color.set(t)}copy(t){return super.copy(t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class SX extends qo{constructor(t=1){const e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],s=new Ke;s.setAttribute("position",new be(e,3)),s.setAttribute("color",new be(i,3));const r=new mr({vertexColors:!0,toneMapped:!1});super(s,r),this.type="AxesHelper"}setColors(t,e,i){const s=new ie,r=this.geometry.attributes.color.array;return s.set(t),s.toArray(r,0),s.toArray(r,3),s.set(e),s.toArray(r,6),s.toArray(r,9),s.set(i),s.toArray(r,12),s.toArray(r,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class _X{constructor(){this.type="ShapePath",this.color=new ie,this.subPaths=[],this.currentPath=null}moveTo(t,e){return this.currentPath=new yy,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this}lineTo(t,e){return this.currentPath.lineTo(t,e),this}quadraticCurveTo(t,e,i,s){return this.currentPath.quadraticCurveTo(t,e,i,s),this}bezierCurveTo(t,e,i,s,r,o){return this.currentPath.bezierCurveTo(t,e,i,s,r,o),this}splineThru(t){return this.currentPath.splineThru(t),this}toShapes(t){function e(_){const w=[];for(let D=0,L=_.length;D<L;D++){const U=_[D],P=new Kh;P.curves=U.curves,w.push(P)}return w}function i(_,w){const D=w.length;let L=!1;for(let U=D-1,P=0;P<D;U=P++){let F=w[U],z=w[P],N=z.x-F.x,B=z.y-F.y;if(Math.abs(B)>Number.EPSILON){if(B<0&&(F=w[P],N=-N,z=w[U],B=-B),_.y<F.y||_.y>z.y)continue;if(_.y===F.y){if(_.x===F.x)return!0}else{const H=B*(_.x-F.x)-N*(_.y-F.y);if(H===0)return!0;if(H<0)continue;L=!L}}else{if(_.y!==F.y)continue;if(z.x<=_.x&&_.x<=F.x||F.x<=_.x&&_.x<=z.x)return!0}}return L}const s=Xl.isClockWise,r=this.subPaths;if(r.length===0)return[];let o,l,u;const d=[];if(r.length===1)return l=r[0],u=new Kh,u.curves=l.curves,d.push(u),d;let m=!s(r[0].getPoints());m=t?!m:m;const g=[],v=[];let A=[],S=0,E;v[S]=void 0,A[S]=[];for(let _=0,w=r.length;_<w;_++)l=r[_],E=l.getPoints(),o=s(E),o=t?!o:o,o?(!m&&v[S]&&S++,v[S]={s:new Kh,p:E},v[S].s.curves=l.curves,m&&S++,A[S]=[]):A[S].push({h:l,p:E[0]});if(!v[0])return e(r);if(v.length>1){let _=!1,w=0;for(let D=0,L=v.length;D<L;D++)g[D]=[];for(let D=0,L=v.length;D<L;D++){const U=A[D];for(let P=0;P<U.length;P++){const F=U[P];let z=!0;for(let N=0;N<v.length;N++)i(F.p,v[N].p)&&(D!==N&&w++,z?(z=!1,g[N].push(F)):_=!0);z&&g[D].push(F)}}w>0&&_===!1&&(A=g)}let T;for(let _=0,w=v.length;_<w;_++){u=v[_].s,d.push(u),T=A[_];for(let D=0,L=T.length;D<L;D++)u.holes.push(T[D].h)}return d}}class bX extends Zl{constructor(t,e=null){super(),this.object=t,this.domElement=e,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}function MX(n,t){const e=n.image&&n.image.width?n.image.width/n.image.height:1;return e>t?(n.repeat.x=1,n.repeat.y=e/t,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=t/e,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function EX(n,t){const e=n.image&&n.image.width?n.image.width/n.image.height:1;return e>t?(n.repeat.x=t/e,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=e/t,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function TX(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function HE(n,t,e,i){const s=CX(i);switch(e){case gC:return n*t;case vC:return n*t;case xC:return n*t*2;case IS:return n*t/s.components*s.byteLength;case ky:return n*t/s.components*s.byteLength;case AC:return n*t*2/s.components*s.byteLength;case FS:return n*t*2/s.components*s.byteLength;case yC:return n*t*3/s.components*s.byteLength;case fr:return n*t*4/s.components*s.byteLength;case zS:return n*t*4/s.components*s.byteLength;case V0:case k0:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*8;case X0:case j0:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*16;case U1:case N1:return Math.max(n,16)*Math.max(t,8)/4;case O1:case P1:return Math.max(n,8)*Math.max(t,8)/2;case I1:case F1:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*8;case z1:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*16;case H1:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*16;case G1:return Math.floor((n+4)/5)*Math.floor((t+3)/4)*16;case V1:return Math.floor((n+4)/5)*Math.floor((t+4)/5)*16;case k1:return Math.floor((n+5)/6)*Math.floor((t+4)/5)*16;case X1:return Math.floor((n+5)/6)*Math.floor((t+5)/6)*16;case j1:return Math.floor((n+7)/8)*Math.floor((t+4)/5)*16;case Y1:return Math.floor((n+7)/8)*Math.floor((t+5)/6)*16;case W1:return Math.floor((n+7)/8)*Math.floor((t+7)/8)*16;case K1:return Math.floor((n+9)/10)*Math.floor((t+4)/5)*16;case q1:return Math.floor((n+9)/10)*Math.floor((t+5)/6)*16;case J1:return Math.floor((n+9)/10)*Math.floor((t+7)/8)*16;case Q1:return Math.floor((n+9)/10)*Math.floor((t+9)/10)*16;case Z1:return Math.floor((n+11)/12)*Math.floor((t+9)/10)*16;case $1:return Math.floor((n+11)/12)*Math.floor((t+11)/12)*16;case Y0:case tS:case eS:return Math.ceil(n/4)*Math.ceil(t/4)*16;case SC:case nS:return Math.ceil(n/4)*Math.ceil(t/4)*8;case iS:case sS:return Math.ceil(n/4)*Math.ceil(t/4)*16}throw new Error(`Unable to determine texture byte length for ${e} format.`)}function CX(n){switch(n){case Yo:case dC:return{byteLength:1,components:1};case hm:case pC:case wm:return{byteLength:2,components:1};case PS:case NS:return{byteLength:2,components:4};case Zc:case US:case ta:return{byteLength:4,components:1};case mC:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}const RX={contain:MX,cover:EX,fill:TX,getByteLength:HE};typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Gy}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Gy);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function VI(){let n=null,t=!1,e=null,i=null;function s(r,o){e(r,o),i=n.requestAnimationFrame(s)}return{start:function(){t!==!0&&e!==null&&(i=n.requestAnimationFrame(s),t=!0)},stop:function(){n.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(r){e=r},setContext:function(r){n=r}}}function wX(n){const t=new WeakMap;function e(l,u){const d=l.array,m=l.usage,g=d.byteLength,v=n.createBuffer();n.bindBuffer(u,v),n.bufferData(u,d,m),l.onUploadCallback();let A;if(d instanceof Float32Array)A=n.FLOAT;else if(d instanceof Uint16Array)l.isFloat16BufferAttribute?A=n.HALF_FLOAT:A=n.UNSIGNED_SHORT;else if(d instanceof Int16Array)A=n.SHORT;else if(d instanceof Uint32Array)A=n.UNSIGNED_INT;else if(d instanceof Int32Array)A=n.INT;else if(d instanceof Int8Array)A=n.BYTE;else if(d instanceof Uint8Array)A=n.UNSIGNED_BYTE;else if(d instanceof Uint8ClampedArray)A=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:v,type:A,bytesPerElement:d.BYTES_PER_ELEMENT,version:l.version,size:g}}function i(l,u,d){const m=u.array,g=u.updateRanges;if(n.bindBuffer(d,l),g.length===0)n.bufferSubData(d,0,m);else{g.sort((A,S)=>A.start-S.start);let v=0;for(let A=1;A<g.length;A++){const S=g[v],E=g[A];E.start<=S.start+S.count+1?S.count=Math.max(S.count,E.start+E.count-S.start):(++v,g[v]=E)}g.length=v+1;for(let A=0,S=g.length;A<S;A++){const E=g[A];n.bufferSubData(d,E.start*m.BYTES_PER_ELEMENT,m,E.start,E.count)}u.clearUpdateRanges()}u.onUploadCallback()}function s(l){return l.isInterleavedBufferAttribute&&(l=l.data),t.get(l)}function r(l){l.isInterleavedBufferAttribute&&(l=l.data);const u=t.get(l);u&&(n.deleteBuffer(u.buffer),t.delete(l))}function o(l,u){if(l.isInterleavedBufferAttribute&&(l=l.data),l.isGLBufferAttribute){const m=t.get(l);(!m||m.version<l.version)&&t.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version});return}const d=t.get(l);if(d===void 0)t.set(l,e(l,u));else if(d.version<l.version){if(d.size!==l.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(d.buffer,l,u),d.version=l.version}}return{get:s,remove:r,update:o}}var BX=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,DX=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,LX=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,OX=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,UX=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,PX=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,NX=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,IX=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,FX=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,zX=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,HX=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,GX=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,VX=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,kX=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,XX=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,jX=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,YX=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,WX=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,KX=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,qX=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,JX=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,QX=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,ZX=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,$X=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,tj=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,ej=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,nj=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,ij=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,sj=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,rj=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,aj="gl_FragColor = linearToOutputTexel( gl_FragColor );",oj=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,lj=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,cj=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,uj=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,fj=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,hj=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,dj=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,pj=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,mj=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,gj=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,yj=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,vj=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,xj=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Aj=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Sj=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,_j=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,bj=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Mj=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Ej=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Tj=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Cj=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Rj=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,wj=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Bj=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Dj=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Lj=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Oj=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Uj=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Pj=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,Nj=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Ij=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Fj=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,zj=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Hj=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Gj=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Vj=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,kj=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Xj=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,jj=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Yj=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Wj=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Kj=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,qj=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Jj=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Qj=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Zj=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,$j=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,tY=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,eY=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,nY=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,iY=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,sY=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,rY=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,aY=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,oY=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,lY=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,cY=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,uY=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,fY=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,hY=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,dY=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,pY=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,mY=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,gY=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,yY=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,vY=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,xY=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,AY=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,SY=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,_Y=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,bY=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,MY=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,EY=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,TY=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,CY=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,RY=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const wY=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,BY=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,DY=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,LY=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,OY=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,UY=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,PY=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,NY=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,IY=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,FY=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,zY=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,HY=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,GY=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,VY=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,kY=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,XY=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jY=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,YY=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,WY=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,KY=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,qY=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,JY=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,QY=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ZY=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$Y=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,tW=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,eW=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,nW=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,iW=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,sW=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,rW=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,aW=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,oW=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,lW=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,en={alphahash_fragment:BX,alphahash_pars_fragment:DX,alphamap_fragment:LX,alphamap_pars_fragment:OX,alphatest_fragment:UX,alphatest_pars_fragment:PX,aomap_fragment:NX,aomap_pars_fragment:IX,batching_pars_vertex:FX,batching_vertex:zX,begin_vertex:HX,beginnormal_vertex:GX,bsdfs:VX,iridescence_fragment:kX,bumpmap_pars_fragment:XX,clipping_planes_fragment:jX,clipping_planes_pars_fragment:YX,clipping_planes_pars_vertex:WX,clipping_planes_vertex:KX,color_fragment:qX,color_pars_fragment:JX,color_pars_vertex:QX,color_vertex:ZX,common:$X,cube_uv_reflection_fragment:tj,defaultnormal_vertex:ej,displacementmap_pars_vertex:nj,displacementmap_vertex:ij,emissivemap_fragment:sj,emissivemap_pars_fragment:rj,colorspace_fragment:aj,colorspace_pars_fragment:oj,envmap_fragment:lj,envmap_common_pars_fragment:cj,envmap_pars_fragment:uj,envmap_pars_vertex:fj,envmap_physical_pars_fragment:_j,envmap_vertex:hj,fog_vertex:dj,fog_pars_vertex:pj,fog_fragment:mj,fog_pars_fragment:gj,gradientmap_pars_fragment:yj,lightmap_pars_fragment:vj,lights_lambert_fragment:xj,lights_lambert_pars_fragment:Aj,lights_pars_begin:Sj,lights_toon_fragment:bj,lights_toon_pars_fragment:Mj,lights_phong_fragment:Ej,lights_phong_pars_fragment:Tj,lights_physical_fragment:Cj,lights_physical_pars_fragment:Rj,lights_fragment_begin:wj,lights_fragment_maps:Bj,lights_fragment_end:Dj,logdepthbuf_fragment:Lj,logdepthbuf_pars_fragment:Oj,logdepthbuf_pars_vertex:Uj,logdepthbuf_vertex:Pj,map_fragment:Nj,map_pars_fragment:Ij,map_particle_fragment:Fj,map_particle_pars_fragment:zj,metalnessmap_fragment:Hj,metalnessmap_pars_fragment:Gj,morphinstance_vertex:Vj,morphcolor_vertex:kj,morphnormal_vertex:Xj,morphtarget_pars_vertex:jj,morphtarget_vertex:Yj,normal_fragment_begin:Wj,normal_fragment_maps:Kj,normal_pars_fragment:qj,normal_pars_vertex:Jj,normal_vertex:Qj,normalmap_pars_fragment:Zj,clearcoat_normal_fragment_begin:$j,clearcoat_normal_fragment_maps:tY,clearcoat_pars_fragment:eY,iridescence_pars_fragment:nY,opaque_fragment:iY,packing:sY,premultiplied_alpha_fragment:rY,project_vertex:aY,dithering_fragment:oY,dithering_pars_fragment:lY,roughnessmap_fragment:cY,roughnessmap_pars_fragment:uY,shadowmap_pars_fragment:fY,shadowmap_pars_vertex:hY,shadowmap_vertex:dY,shadowmask_pars_fragment:pY,skinbase_vertex:mY,skinning_pars_vertex:gY,skinning_vertex:yY,skinnormal_vertex:vY,specularmap_fragment:xY,specularmap_pars_fragment:AY,tonemapping_fragment:SY,tonemapping_pars_fragment:_Y,transmission_fragment:bY,transmission_pars_fragment:MY,uv_pars_fragment:EY,uv_pars_vertex:TY,uv_vertex:CY,worldpos_vertex:RY,background_vert:wY,background_frag:BY,backgroundCube_vert:DY,backgroundCube_frag:LY,cube_vert:OY,cube_frag:UY,depth_vert:PY,depth_frag:NY,distanceRGBA_vert:IY,distanceRGBA_frag:FY,equirect_vert:zY,equirect_frag:HY,linedashed_vert:GY,linedashed_frag:VY,meshbasic_vert:kY,meshbasic_frag:XY,meshlambert_vert:jY,meshlambert_frag:YY,meshmatcap_vert:WY,meshmatcap_frag:KY,meshnormal_vert:qY,meshnormal_frag:JY,meshphong_vert:QY,meshphong_frag:ZY,meshphysical_vert:$Y,meshphysical_frag:tW,meshtoon_vert:eW,meshtoon_frag:nW,points_vert:iW,points_frag:sW,shadow_vert:rW,shadow_frag:aW,sprite_vert:oW,sprite_frag:lW},ce={common:{diffuse:{value:new ie(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new We},alphaMap:{value:null},alphaMapTransform:{value:new We},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new We}},envmap:{envMap:{value:null},envMapRotation:{value:new We},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new We}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new We}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new We},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new We},normalScale:{value:new It(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new We},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new We}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new We}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new We}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ie(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ie(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new We},alphaTest:{value:0},uvTransform:{value:new We}},sprite:{diffuse:{value:new ie(16777215)},opacity:{value:1},center:{value:new It(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new We},alphaMap:{value:null},alphaMapTransform:{value:new We},alphaTest:{value:0}}},ko={basic:{uniforms:Rr([ce.common,ce.specularmap,ce.envmap,ce.aomap,ce.lightmap,ce.fog]),vertexShader:en.meshbasic_vert,fragmentShader:en.meshbasic_frag},lambert:{uniforms:Rr([ce.common,ce.specularmap,ce.envmap,ce.aomap,ce.lightmap,ce.emissivemap,ce.bumpmap,ce.normalmap,ce.displacementmap,ce.fog,ce.lights,{emissive:{value:new ie(0)}}]),vertexShader:en.meshlambert_vert,fragmentShader:en.meshlambert_frag},phong:{uniforms:Rr([ce.common,ce.specularmap,ce.envmap,ce.aomap,ce.lightmap,ce.emissivemap,ce.bumpmap,ce.normalmap,ce.displacementmap,ce.fog,ce.lights,{emissive:{value:new ie(0)},specular:{value:new ie(1118481)},shininess:{value:30}}]),vertexShader:en.meshphong_vert,fragmentShader:en.meshphong_frag},standard:{uniforms:Rr([ce.common,ce.envmap,ce.aomap,ce.lightmap,ce.emissivemap,ce.bumpmap,ce.normalmap,ce.displacementmap,ce.roughnessmap,ce.metalnessmap,ce.fog,ce.lights,{emissive:{value:new ie(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:en.meshphysical_vert,fragmentShader:en.meshphysical_frag},toon:{uniforms:Rr([ce.common,ce.aomap,ce.lightmap,ce.emissivemap,ce.bumpmap,ce.normalmap,ce.displacementmap,ce.gradientmap,ce.fog,ce.lights,{emissive:{value:new ie(0)}}]),vertexShader:en.meshtoon_vert,fragmentShader:en.meshtoon_frag},matcap:{uniforms:Rr([ce.common,ce.bumpmap,ce.normalmap,ce.displacementmap,ce.fog,{matcap:{value:null}}]),vertexShader:en.meshmatcap_vert,fragmentShader:en.meshmatcap_frag},points:{uniforms:Rr([ce.points,ce.fog]),vertexShader:en.points_vert,fragmentShader:en.points_frag},dashed:{uniforms:Rr([ce.common,ce.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:en.linedashed_vert,fragmentShader:en.linedashed_frag},depth:{uniforms:Rr([ce.common,ce.displacementmap]),vertexShader:en.depth_vert,fragmentShader:en.depth_frag},normal:{uniforms:Rr([ce.common,ce.bumpmap,ce.normalmap,ce.displacementmap,{opacity:{value:1}}]),vertexShader:en.meshnormal_vert,fragmentShader:en.meshnormal_frag},sprite:{uniforms:Rr([ce.sprite,ce.fog]),vertexShader:en.sprite_vert,fragmentShader:en.sprite_frag},background:{uniforms:{uvTransform:{value:new We},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:en.background_vert,fragmentShader:en.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new We}},vertexShader:en.backgroundCube_vert,fragmentShader:en.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:en.cube_vert,fragmentShader:en.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:en.equirect_vert,fragmentShader:en.equirect_frag},distanceRGBA:{uniforms:Rr([ce.common,ce.displacementmap,{referencePosition:{value:new K},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:en.distanceRGBA_vert,fragmentShader:en.distanceRGBA_frag},shadow:{uniforms:Rr([ce.lights,ce.fog,{color:{value:new ie(0)},opacity:{value:1}}]),vertexShader:en.shadow_vert,fragmentShader:en.shadow_frag}};ko.physical={uniforms:Rr([ko.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new We},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new We},clearcoatNormalScale:{value:new It(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new We},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new We},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new We},sheen:{value:0},sheenColor:{value:new ie(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new We},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new We},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new We},transmissionSamplerSize:{value:new It},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new We},attenuationDistance:{value:0},attenuationColor:{value:new ie(0)},specularColor:{value:new ie(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new We},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new We},anisotropyVector:{value:new It},anisotropyMap:{value:null},anisotropyMapTransform:{value:new We}}]),vertexShader:en.meshphysical_vert,fragmentShader:en.meshphysical_frag};const UA={r:0,b:0,g:0},Sh=new ea,cW=new Be;function uW(n,t,e,i,s,r,o){const l=new ie(0);let u=r===!0?0:1,d,m,g=null,v=0,A=null;function S(D){let L=D.isScene===!0?D.background:null;return L&&L.isTexture&&(L=(D.backgroundBlurriness>0?e:t).get(L)),L}function E(D){let L=!1;const U=S(D);U===null?_(l,u):U&&U.isColor&&(_(U,1),L=!0);const P=n.xr.getEnvironmentBlendMode();P==="additive"?i.buffers.color.setClear(0,0,0,1,o):P==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(n.autoClear||L)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function T(D,L){const U=S(L);U&&(U.isCubeTexture||U.mapping===Rm)?(m===void 0&&(m=new qi(new cd(1,1,1),new Wo({name:"BackgroundCubeMaterial",uniforms:ym(ko.backgroundCube.uniforms),vertexShader:ko.backgroundCube.vertexShader,fragmentShader:ko.backgroundCube.fragmentShader,side:Ur,depthTest:!1,depthWrite:!1,fog:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(P,F,z){this.matrixWorld.copyPosition(z.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),s.update(m)),Sh.copy(L.backgroundRotation),Sh.x*=-1,Sh.y*=-1,Sh.z*=-1,U.isCubeTexture&&U.isRenderTargetTexture===!1&&(Sh.y*=-1,Sh.z*=-1),m.material.uniforms.envMap.value=U,m.material.uniforms.flipEnvMap.value=U.isCubeTexture&&U.isRenderTargetTexture===!1?-1:1,m.material.uniforms.backgroundBlurriness.value=L.backgroundBlurriness,m.material.uniforms.backgroundIntensity.value=L.backgroundIntensity,m.material.uniforms.backgroundRotation.value.setFromMatrix4(cW.makeRotationFromEuler(Sh)),m.material.toneMapped=_n.getTransfer(U.colorSpace)!==jn,(g!==U||v!==U.version||A!==n.toneMapping)&&(m.material.needsUpdate=!0,g=U,v=U.version,A=n.toneMapping),m.layers.enableAll(),D.unshift(m,m.geometry,m.material,0,0,null)):U&&U.isTexture&&(d===void 0&&(d=new qi(new Lm(2,2),new Wo({name:"BackgroundMaterial",uniforms:ym(ko.background.uniforms),vertexShader:ko.background.vertexShader,fragmentShader:ko.background.fragmentShader,side:ql,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),Object.defineProperty(d.material,"map",{get:function(){return this.uniforms.t2D.value}}),s.update(d)),d.material.uniforms.t2D.value=U,d.material.uniforms.backgroundIntensity.value=L.backgroundIntensity,d.material.toneMapped=_n.getTransfer(U.colorSpace)!==jn,U.matrixAutoUpdate===!0&&U.updateMatrix(),d.material.uniforms.uvTransform.value.copy(U.matrix),(g!==U||v!==U.version||A!==n.toneMapping)&&(d.material.needsUpdate=!0,g=U,v=U.version,A=n.toneMapping),d.layers.enableAll(),D.unshift(d,d.geometry,d.material,0,0,null))}function _(D,L){D.getRGB(UA,WN(n)),i.buffers.color.setClear(UA.r,UA.g,UA.b,L,o)}function w(){m!==void 0&&(m.geometry.dispose(),m.material.dispose(),m=void 0),d!==void 0&&(d.geometry.dispose(),d.material.dispose(),d=void 0)}return{getClearColor:function(){return l},setClearColor:function(D,L=1){l.set(D),u=L,_(l,u)},getClearAlpha:function(){return u},setClearAlpha:function(D){u=D,_(l,u)},render:E,addToRenderList:T,dispose:w}}function fW(n,t){const e=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},s=v(null);let r=s,o=!1;function l(B,H,st,tt,J){let lt=!1;const $=g(tt,st,H);r!==$&&(r=$,d(r.object)),lt=A(B,tt,st,J),lt&&S(B,tt,st,J),J!==null&&t.update(J,n.ELEMENT_ARRAY_BUFFER),(lt||o)&&(o=!1,L(B,H,st,tt),J!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(J).buffer))}function u(){return n.createVertexArray()}function d(B){return n.bindVertexArray(B)}function m(B){return n.deleteVertexArray(B)}function g(B,H,st){const tt=st.wireframe===!0;let J=i[B.id];J===void 0&&(J={},i[B.id]=J);let lt=J[H.id];lt===void 0&&(lt={},J[H.id]=lt);let $=lt[tt];return $===void 0&&($=v(u()),lt[tt]=$),$}function v(B){const H=[],st=[],tt=[];for(let J=0;J<e;J++)H[J]=0,st[J]=0,tt[J]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:H,enabledAttributes:st,attributeDivisors:tt,object:B,attributes:{},index:null}}function A(B,H,st,tt){const J=r.attributes,lt=H.attributes;let $=0;const et=st.getAttributes();for(const Q in et)if(et[Q].location>=0){const j=J[Q];let rt=lt[Q];if(rt===void 0&&(Q==="instanceMatrix"&&B.instanceMatrix&&(rt=B.instanceMatrix),Q==="instanceColor"&&B.instanceColor&&(rt=B.instanceColor)),j===void 0||j.attribute!==rt||rt&&j.data!==rt.data)return!0;$++}return r.attributesNum!==$||r.index!==tt}function S(B,H,st,tt){const J={},lt=H.attributes;let $=0;const et=st.getAttributes();for(const Q in et)if(et[Q].location>=0){let j=lt[Q];j===void 0&&(Q==="instanceMatrix"&&B.instanceMatrix&&(j=B.instanceMatrix),Q==="instanceColor"&&B.instanceColor&&(j=B.instanceColor));const rt={};rt.attribute=j,j&&j.data&&(rt.data=j.data),J[Q]=rt,$++}r.attributes=J,r.attributesNum=$,r.index=tt}function E(){const B=r.newAttributes;for(let H=0,st=B.length;H<st;H++)B[H]=0}function T(B){_(B,0)}function _(B,H){const st=r.newAttributes,tt=r.enabledAttributes,J=r.attributeDivisors;st[B]=1,tt[B]===0&&(n.enableVertexAttribArray(B),tt[B]=1),J[B]!==H&&(n.vertexAttribDivisor(B,H),J[B]=H)}function w(){const B=r.newAttributes,H=r.enabledAttributes;for(let st=0,tt=H.length;st<tt;st++)H[st]!==B[st]&&(n.disableVertexAttribArray(st),H[st]=0)}function D(B,H,st,tt,J,lt,$){$===!0?n.vertexAttribIPointer(B,H,st,J,lt):n.vertexAttribPointer(B,H,st,tt,J,lt)}function L(B,H,st,tt){E();const J=tt.attributes,lt=st.getAttributes(),$=H.defaultAttributeValues;for(const et in lt){const Q=lt[et];if(Q.location>=0){let At=J[et];if(At===void 0&&(et==="instanceMatrix"&&B.instanceMatrix&&(At=B.instanceMatrix),et==="instanceColor"&&B.instanceColor&&(At=B.instanceColor)),At!==void 0){const j=At.normalized,rt=At.itemSize,Tt=t.get(At);if(Tt===void 0)continue;const Ft=Tt.buffer,it=Tt.type,Et=Tt.bytesPerElement,Ut=it===n.INT||it===n.UNSIGNED_INT||At.gpuType===US;if(At.isInterleavedBufferAttribute){const Ht=At.data,Xt=Ht.stride,xe=At.offset;if(Ht.isInstancedInterleavedBuffer){for(let Wt=0;Wt<Q.locationSize;Wt++)_(Q.location+Wt,Ht.meshPerAttribute);B.isInstancedMesh!==!0&&tt._maxInstanceCount===void 0&&(tt._maxInstanceCount=Ht.meshPerAttribute*Ht.count)}else for(let Wt=0;Wt<Q.locationSize;Wt++)T(Q.location+Wt);n.bindBuffer(n.ARRAY_BUFFER,Ft);for(let Wt=0;Wt<Q.locationSize;Wt++)D(Q.location+Wt,rt/Q.locationSize,it,j,Xt*Et,(xe+rt/Q.locationSize*Wt)*Et,Ut)}else{if(At.isInstancedBufferAttribute){for(let Ht=0;Ht<Q.locationSize;Ht++)_(Q.location+Ht,At.meshPerAttribute);B.isInstancedMesh!==!0&&tt._maxInstanceCount===void 0&&(tt._maxInstanceCount=At.meshPerAttribute*At.count)}else for(let Ht=0;Ht<Q.locationSize;Ht++)T(Q.location+Ht);n.bindBuffer(n.ARRAY_BUFFER,Ft);for(let Ht=0;Ht<Q.locationSize;Ht++)D(Q.location+Ht,rt/Q.locationSize,it,j,rt*Et,rt/Q.locationSize*Ht*Et,Ut)}}else if($!==void 0){const j=$[et];if(j!==void 0)switch(j.length){case 2:n.vertexAttrib2fv(Q.location,j);break;case 3:n.vertexAttrib3fv(Q.location,j);break;case 4:n.vertexAttrib4fv(Q.location,j);break;default:n.vertexAttrib1fv(Q.location,j)}}}}w()}function U(){z();for(const B in i){const H=i[B];for(const st in H){const tt=H[st];for(const J in tt)m(tt[J].object),delete tt[J];delete H[st]}delete i[B]}}function P(B){if(i[B.id]===void 0)return;const H=i[B.id];for(const st in H){const tt=H[st];for(const J in tt)m(tt[J].object),delete tt[J];delete H[st]}delete i[B.id]}function F(B){for(const H in i){const st=i[H];if(st[B.id]===void 0)continue;const tt=st[B.id];for(const J in tt)m(tt[J].object),delete tt[J];delete st[B.id]}}function z(){N(),o=!0,r!==s&&(r=s,d(r.object))}function N(){s.geometry=null,s.program=null,s.wireframe=!1}return{setup:l,reset:z,resetDefaultState:N,dispose:U,releaseStatesOfGeometry:P,releaseStatesOfProgram:F,initAttributes:E,enableAttribute:T,disableUnusedAttributes:w}}function hW(n,t,e){let i;function s(d){i=d}function r(d,m){n.drawArrays(i,d,m),e.update(m,i,1)}function o(d,m,g){g!==0&&(n.drawArraysInstanced(i,d,m,g),e.update(m,i,g))}function l(d,m,g){if(g===0)return;t.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,d,0,m,0,g);let A=0;for(let S=0;S<g;S++)A+=m[S];e.update(A,i,1)}function u(d,m,g,v){if(g===0)return;const A=t.get("WEBGL_multi_draw");if(A===null)for(let S=0;S<d.length;S++)o(d[S],m[S],v[S]);else{A.multiDrawArraysInstancedWEBGL(i,d,0,m,0,v,0,g);let S=0;for(let E=0;E<g;E++)S+=m[E]*v[E];e.update(S,i,1)}}this.setMode=s,this.render=r,this.renderInstances=o,this.renderMultiDraw=l,this.renderMultiDrawInstances=u}function dW(n,t,e,i){let s;function r(){if(s!==void 0)return s;if(t.has("EXT_texture_filter_anisotropic")===!0){const F=t.get("EXT_texture_filter_anisotropic");s=n.getParameter(F.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else s=0;return s}function o(F){return!(F!==fr&&i.convert(F)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function l(F){const z=F===wm&&(t.has("EXT_color_buffer_half_float")||t.has("EXT_color_buffer_float"));return!(F!==Yo&&i.convert(F)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&F!==ta&&!z)}function u(F){if(F==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";F="mediump"}return F==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let d=e.precision!==void 0?e.precision:"highp";const m=u(d);m!==d&&(console.warn("THREE.WebGLRenderer:",d,"not supported, using",m,"instead."),d=m);const g=e.logarithmicDepthBuffer===!0,v=e.reverseDepthBuffer===!0&&t.has("EXT_clip_control"),A=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),S=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),E=n.getParameter(n.MAX_TEXTURE_SIZE),T=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),_=n.getParameter(n.MAX_VERTEX_ATTRIBS),w=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),D=n.getParameter(n.MAX_VARYING_VECTORS),L=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),U=S>0,P=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:r,getMaxPrecision:u,textureFormatReadable:o,textureTypeReadable:l,precision:d,logarithmicDepthBuffer:g,reverseDepthBuffer:v,maxTextures:A,maxVertexTextures:S,maxTextureSize:E,maxCubemapSize:T,maxAttributes:_,maxVertexUniforms:w,maxVaryings:D,maxFragmentUniforms:L,vertexTextures:U,maxSamples:P}}function pW(n){const t=this;let e=null,i=0,s=!1,r=!1;const o=new ef,l=new We,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(g,v){const A=g.length!==0||v||i!==0||s;return s=v,i=g.length,A},this.beginShadows=function(){r=!0,m(null)},this.endShadows=function(){r=!1},this.setGlobalState=function(g,v){e=m(g,v,0)},this.setState=function(g,v,A){const S=g.clippingPlanes,E=g.clipIntersection,T=g.clipShadows,_=n.get(g);if(!s||S===null||S.length===0||r&&!T)r?m(null):d();else{const w=r?0:i,D=w*4;let L=_.clippingState||null;u.value=L,L=m(S,v,D,A);for(let U=0;U!==D;++U)L[U]=e[U];_.clippingState=L,this.numIntersection=E?this.numPlanes:0,this.numPlanes+=w}};function d(){u.value!==e&&(u.value=e,u.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0}function m(g,v,A,S){const E=g!==null?g.length:0;let T=null;if(E!==0){if(T=u.value,S!==!0||T===null){const _=A+E*4,w=v.matrixWorldInverse;l.getNormalMatrix(w),(T===null||T.length<_)&&(T=new Float32Array(_));for(let D=0,L=A;D!==E;++D,L+=4)o.copy(g[D]).applyMatrix4(w,l),o.normal.toArray(T,L),T[L+3]=o.constant}u.value=T,u.needsUpdate=!0}return t.numPlanes=E,t.numIntersection=0,T}}function mW(n){let t=new WeakMap;function e(o,l){return l===uy?o.mapping=Qc:l===fy&&(o.mapping=lf),o}function i(o){if(o&&o.isTexture){const l=o.mapping;if(l===uy||l===fy)if(t.has(o)){const u=t.get(o).texture;return e(u,o.mapping)}else{const u=o.image;if(u&&u.height>0){const d=new JN(u.height);return d.fromEquirectangularTexture(n,o),t.set(o,d),o.addEventListener("dispose",s),e(d.texture,o.mapping)}else return null}}return o}function s(o){const l=o.target;l.removeEventListener("dispose",s);const u=t.get(l);u!==void 0&&(t.delete(l),u.dispose())}function r(){t=new WeakMap}return{get:i,dispose:r}}const qp=4,BD=[.125,.215,.35,.446,.526,.582],Uh=20,dM=new vf,DD=new ie;let pM=null,mM=0,gM=0,yM=!1;const Dh=(1+Math.sqrt(5))/2,Cp=1/Dh,LD=[new K(-Dh,Cp,0),new K(Dh,Cp,0),new K(-Cp,0,Dh),new K(Cp,0,Dh),new K(0,Dh,-Cp),new K(0,Dh,Cp),new K(-1,1,-1),new K(1,1,-1),new K(-1,1,1),new K(1,1,1)];class GE{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,i=.1,s=100){pM=this._renderer.getRenderTarget(),mM=this._renderer.getActiveCubeFace(),gM=this._renderer.getActiveMipmapLevel(),yM=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const r=this._allocateTargets();return r.depthBuffer=!0,this._sceneToCubeUV(t,i,s,r),e>0&&this._blur(r,0,0,e),this._applyPMREM(r),this._cleanup(r),r}fromEquirectangular(t,e=null){return this._fromTexture(t,e)}fromCubemap(t,e=null){return this._fromTexture(t,e)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=PD(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=UD(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(pM,mM,gM),this._renderer.xr.enabled=yM,t.scissorTest=!1,PA(t,0,0,t.width,t.height)}_fromTexture(t,e){t.mapping===Qc||t.mapping===lf?this._setSize(t.image.length===0?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),pM=this._renderer.getRenderTarget(),mM=this._renderer.getActiveCubeFace(),gM=this._renderer.getActiveMipmapLevel(),yM=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=e||this._allocateTargets();return this._textureToCubeUV(t,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),e=4*this._cubeSize,i={magFilter:Ki,minFilter:Ki,generateMipmaps:!1,type:wm,format:fr,colorSpace:uf,depthBuffer:!1},s=OD(t,e,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==t||this._pingPongRenderTarget.height!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=OD(t,e,i);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=gW(r)),this._blurMaterial=yW(r,t,e)}return s}_compileMaterial(t){const e=new qi(this._lodPlanes[0],t);this._renderer.compile(e,dM)}_sceneToCubeUV(t,e,i,s){const l=new Wi(90,1,e,i),u=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],m=this._renderer,g=m.autoClear,v=m.toneMapping;m.getClearColor(DD),m.toneMapping=Vl,m.autoClear=!1;const A=new _a({name:"PMREM.Background",side:Ur,depthWrite:!1,depthTest:!1}),S=new qi(new cd,A);let E=!1;const T=t.background;T?T.isColor&&(A.color.copy(T),t.background=null,E=!0):(A.color.copy(DD),E=!0);for(let _=0;_<6;_++){const w=_%3;w===0?(l.up.set(0,u[_],0),l.lookAt(d[_],0,0)):w===1?(l.up.set(0,0,u[_]),l.lookAt(0,d[_],0)):(l.up.set(0,u[_],0),l.lookAt(0,0,d[_]));const D=this._cubeSize;PA(s,w*D,_>2?D:0,D,D),m.setRenderTarget(s),E&&m.render(S,l),m.render(t,l)}S.geometry.dispose(),S.material.dispose(),m.toneMapping=v,m.autoClear=g,t.background=T}_textureToCubeUV(t,e){const i=this._renderer,s=t.mapping===Qc||t.mapping===lf;s?(this._cubemapMaterial===null&&(this._cubemapMaterial=PD()),this._cubemapMaterial.uniforms.flipEnvMap.value=t.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=UD());const r=s?this._cubemapMaterial:this._equirectMaterial,o=new qi(this._lodPlanes[0],r),l=r.uniforms;l.envMap.value=t;const u=this._cubeSize;PA(e,0,0,3*u,2*u),i.setRenderTarget(e),i.render(o,dM)}_applyPMREM(t){const e=this._renderer,i=e.autoClear;e.autoClear=!1;const s=this._lodPlanes.length;for(let r=1;r<s;r++){const o=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),l=LD[(s-r-1)%LD.length];this._blur(t,r-1,r,o,l)}e.autoClear=i}_blur(t,e,i,s,r){const o=this._pingPongRenderTarget;this._halfBlur(t,o,e,i,s,"latitudinal",r),this._halfBlur(o,t,i,i,s,"longitudinal",r)}_halfBlur(t,e,i,s,r,o,l){const u=this._renderer,d=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const m=3,g=new qi(this._lodPlanes[s],d),v=d.uniforms,A=this._sizeLods[i]-1,S=isFinite(r)?Math.PI/(2*A):2*Math.PI/(2*Uh-1),E=r/S,T=isFinite(r)?1+Math.floor(m*E):Uh;T>Uh&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${T} samples when the maximum is set to ${Uh}`);const _=[];let w=0;for(let F=0;F<Uh;++F){const z=F/E,N=Math.exp(-z*z/2);_.push(N),F===0?w+=N:F<T&&(w+=2*N)}for(let F=0;F<_.length;F++)_[F]=_[F]/w;v.envMap.value=t.texture,v.samples.value=T,v.weights.value=_,v.latitudinal.value=o==="latitudinal",l&&(v.poleAxis.value=l);const{_lodMax:D}=this;v.dTheta.value=S,v.mipInt.value=D-i;const L=this._sizeLods[s],U=3*L*(s>D-qp?s-D+qp:0),P=4*(this._cubeSize-L);PA(e,U,P,3*L,2*L),u.setRenderTarget(e),u.render(g,dM)}}function gW(n){const t=[],e=[],i=[];let s=n;const r=n-qp+1+BD.length;for(let o=0;o<r;o++){const l=Math.pow(2,s);e.push(l);let u=1/l;o>n-qp?u=BD[o-n+qp-1]:o===0&&(u=0),i.push(u);const d=1/(l-2),m=-d,g=1+d,v=[m,m,g,m,g,g,m,m,g,g,m,g],A=6,S=6,E=3,T=2,_=1,w=new Float32Array(E*S*A),D=new Float32Array(T*S*A),L=new Float32Array(_*S*A);for(let P=0;P<A;P++){const F=P%3*2/3-1,z=P>2?0:-1,N=[F,z,0,F+2/3,z,0,F+2/3,z+1,0,F,z,0,F+2/3,z+1,0,F,z+1,0];w.set(N,E*S*P),D.set(v,T*S*P);const B=[P,P,P,P,P,P];L.set(B,_*S*P)}const U=new Ke;U.setAttribute("position",new Rn(w,E)),U.setAttribute("uv",new Rn(D,T)),U.setAttribute("faceIndex",new Rn(L,_)),t.push(U),s>qp&&s--}return{lodPlanes:t,sizeLods:e,sigmas:i}}function OD(n,t,e){const i=new Jl(n,t,e);return i.texture.mapping=Rm,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function PA(n,t,e,i,s){n.viewport.set(t,e,i,s),n.scissor.set(t,e,i,s)}function yW(n,t,e){const i=new Float32Array(Uh),s=new K(0,1,0);return new Wo({name:"SphericalGaussianBlur",defines:{n:Uh,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/e,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:s}},vertexShader:sR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Yc,depthTest:!1,depthWrite:!1})}function UD(){return new Wo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:sR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Yc,depthTest:!1,depthWrite:!1})}function PD(){return new Wo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:sR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Yc,depthTest:!1,depthWrite:!1})}function sR(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function vW(n){let t=new WeakMap,e=null;function i(l){if(l&&l.isTexture){const u=l.mapping,d=u===uy||u===fy,m=u===Qc||u===lf;if(d||m){let g=t.get(l);const v=g!==void 0?g.texture.pmremVersion:0;if(l.isRenderTargetTexture&&l.pmremVersion!==v)return e===null&&(e=new GE(n)),g=d?e.fromEquirectangular(l,g):e.fromCubemap(l,g),g.texture.pmremVersion=l.pmremVersion,t.set(l,g),g.texture;if(g!==void 0)return g.texture;{const A=l.image;return d&&A&&A.height>0||m&&A&&s(A)?(e===null&&(e=new GE(n)),g=d?e.fromEquirectangular(l):e.fromCubemap(l),g.texture.pmremVersion=l.pmremVersion,t.set(l,g),l.addEventListener("dispose",r),g.texture):null}}}return l}function s(l){let u=0;const d=6;for(let m=0;m<d;m++)l[m]!==void 0&&u++;return u===d}function r(l){const u=l.target;u.removeEventListener("dispose",r);const d=t.get(u);d!==void 0&&(t.delete(u),d.dispose())}function o(){t=new WeakMap,e!==null&&(e.dispose(),e=null)}return{get:i,dispose:o}}function xW(n){const t={};function e(i){if(t[i]!==void 0)return t[i];let s;switch(i){case"WEBGL_depth_texture":s=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":s=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":s=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":s=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:s=n.getExtension(i)}return t[i]=s,s}return{has:function(i){return e(i)!==null},init:function(){e("EXT_color_buffer_float"),e("WEBGL_clip_cull_distance"),e("OES_texture_float_linear"),e("EXT_color_buffer_half_float"),e("WEBGL_multisampled_render_to_texture"),e("WEBGL_render_shared_exponent")},get:function(i){const s=e(i);return s===null&&zp("THREE.WebGLRenderer: "+i+" extension not supported."),s}}}function AW(n,t,e,i){const s={},r=new WeakMap;function o(g){const v=g.target;v.index!==null&&t.remove(v.index);for(const S in v.attributes)t.remove(v.attributes[S]);v.removeEventListener("dispose",o),delete s[v.id];const A=r.get(v);A&&(t.remove(A),r.delete(v)),i.releaseStatesOfGeometry(v),v.isInstancedBufferGeometry===!0&&delete v._maxInstanceCount,e.memory.geometries--}function l(g,v){return s[v.id]===!0||(v.addEventListener("dispose",o),s[v.id]=!0,e.memory.geometries++),v}function u(g){const v=g.attributes;for(const A in v)t.update(v[A],n.ARRAY_BUFFER)}function d(g){const v=[],A=g.index,S=g.attributes.position;let E=0;if(A!==null){const w=A.array;E=A.version;for(let D=0,L=w.length;D<L;D+=3){const U=w[D+0],P=w[D+1],F=w[D+2];v.push(U,P,P,F,F,U)}}else if(S!==void 0){const w=S.array;E=S.version;for(let D=0,L=w.length/3-1;D<L;D+=3){const U=D+0,P=D+1,F=D+2;v.push(U,P,P,F,F,U)}}else return;const T=new(kN(v)?RC:CC)(v,1);T.version=E;const _=r.get(g);_&&t.remove(_),r.set(g,T)}function m(g){const v=r.get(g);if(v){const A=g.index;A!==null&&v.version<A.version&&d(g)}else d(g);return r.get(g)}return{get:l,update:u,getWireframeAttribute:m}}function SW(n,t,e){let i;function s(v){i=v}let r,o;function l(v){r=v.type,o=v.bytesPerElement}function u(v,A){n.drawElements(i,A,r,v*o),e.update(A,i,1)}function d(v,A,S){S!==0&&(n.drawElementsInstanced(i,A,r,v*o,S),e.update(A,i,S))}function m(v,A,S){if(S===0)return;t.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,A,0,r,v,0,S);let T=0;for(let _=0;_<S;_++)T+=A[_];e.update(T,i,1)}function g(v,A,S,E){if(S===0)return;const T=t.get("WEBGL_multi_draw");if(T===null)for(let _=0;_<v.length;_++)d(v[_]/o,A[_],E[_]);else{T.multiDrawElementsInstancedWEBGL(i,A,0,r,v,0,E,0,S);let _=0;for(let w=0;w<S;w++)_+=A[w]*E[w];e.update(_,i,1)}}this.setMode=s,this.setIndex=l,this.render=u,this.renderInstances=d,this.renderMultiDraw=m,this.renderMultiDrawInstances=g}function _W(n){const t={geometries:0,textures:0},e={frame:0,calls:0,triangles:0,points:0,lines:0};function i(r,o,l){switch(e.calls++,o){case n.TRIANGLES:e.triangles+=l*(r/3);break;case n.LINES:e.lines+=l*(r/2);break;case n.LINE_STRIP:e.lines+=l*(r-1);break;case n.LINE_LOOP:e.lines+=l*r;break;case n.POINTS:e.points+=l*r;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function s(){e.calls=0,e.triangles=0,e.points=0,e.lines=0}return{memory:t,render:e,programs:null,autoReset:!0,reset:s,update:i}}function bW(n,t,e){const i=new WeakMap,s=new mn;function r(o,l,u){const d=o.morphTargetInfluences,m=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,g=m!==void 0?m.length:0;let v=i.get(l);if(v===void 0||v.count!==g){let B=function(){z.dispose(),i.delete(l),l.removeEventListener("dispose",B)};var A=B;v!==void 0&&v.texture.dispose();const S=l.morphAttributes.position!==void 0,E=l.morphAttributes.normal!==void 0,T=l.morphAttributes.color!==void 0,_=l.morphAttributes.position||[],w=l.morphAttributes.normal||[],D=l.morphAttributes.color||[];let L=0;S===!0&&(L=1),E===!0&&(L=2),T===!0&&(L=3);let U=l.attributes.position.count*L,P=1;U>t.maxTextureSize&&(P=Math.ceil(U/t.maxTextureSize),U=t.maxTextureSize);const F=new Float32Array(U*P*4*g),z=new Xy(F,U,P,g);z.type=ta,z.needsUpdate=!0;const N=L*4;for(let H=0;H<g;H++){const st=_[H],tt=w[H],J=D[H],lt=U*P*4*H;for(let $=0;$<st.count;$++){const et=$*N;S===!0&&(s.fromBufferAttribute(st,$),F[lt+et+0]=s.x,F[lt+et+1]=s.y,F[lt+et+2]=s.z,F[lt+et+3]=0),E===!0&&(s.fromBufferAttribute(tt,$),F[lt+et+4]=s.x,F[lt+et+5]=s.y,F[lt+et+6]=s.z,F[lt+et+7]=0),T===!0&&(s.fromBufferAttribute(J,$),F[lt+et+8]=s.x,F[lt+et+9]=s.y,F[lt+et+10]=s.z,F[lt+et+11]=J.itemSize===4?s.w:1)}}v={count:g,texture:z,size:new It(U,P)},i.set(l,v),l.addEventListener("dispose",B)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)u.getUniforms().setValue(n,"morphTexture",o.morphTexture,e);else{let S=0;for(let T=0;T<d.length;T++)S+=d[T];const E=l.morphTargetsRelative?1:1-S;u.getUniforms().setValue(n,"morphTargetBaseInfluence",E),u.getUniforms().setValue(n,"morphTargetInfluences",d)}u.getUniforms().setValue(n,"morphTargetsTexture",v.texture,e),u.getUniforms().setValue(n,"morphTargetsTextureSize",v.size)}return{update:r}}function MW(n,t,e,i){let s=new WeakMap;function r(u){const d=i.render.frame,m=u.geometry,g=t.get(u,m);if(s.get(g)!==d&&(t.update(g),s.set(g,d)),u.isInstancedMesh&&(u.hasEventListener("dispose",l)===!1&&u.addEventListener("dispose",l),s.get(u)!==d&&(e.update(u.instanceMatrix,n.ARRAY_BUFFER),u.instanceColor!==null&&e.update(u.instanceColor,n.ARRAY_BUFFER),s.set(u,d))),u.isSkinnedMesh){const v=u.skeleton;s.get(v)!==d&&(v.update(),s.set(v,d))}return g}function o(){s=new WeakMap}function l(u){const d=u.target;d.removeEventListener("dispose",l),e.remove(d.instanceMatrix),d.instanceColor!==null&&e.remove(d.instanceColor)}return{update:r,dispose:o}}const kI=new pi,ND=new PC(1,1),XI=new Xy,jI=new VS,YI=new jy,ID=[],FD=[],zD=new Float32Array(16),HD=new Float32Array(9),GD=new Float32Array(4);function Um(n,t,e){const i=n[0];if(i<=0||i>0)return n;const s=t*e;let r=ID[s];if(r===void 0&&(r=new Float32Array(s),ID[s]=r),t!==0){i.toArray(r,0);for(let o=1,l=0;o!==t;++o)l+=e,n[o].toArray(r,l)}return r}function fs(n,t){if(n.length!==t.length)return!1;for(let e=0,i=n.length;e<i;e++)if(n[e]!==t[e])return!1;return!0}function hs(n,t){for(let e=0,i=t.length;e<i;e++)n[e]=t[e]}function u_(n,t){let e=FD[t];e===void 0&&(e=new Int32Array(t),FD[t]=e);for(let i=0;i!==t;++i)e[i]=n.allocateTextureUnit();return e}function EW(n,t){const e=this.cache;e[0]!==t&&(n.uniform1f(this.addr,t),e[0]=t)}function TW(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2f(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(fs(e,t))return;n.uniform2fv(this.addr,t),hs(e,t)}}function CW(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3f(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else if(t.r!==void 0)(e[0]!==t.r||e[1]!==t.g||e[2]!==t.b)&&(n.uniform3f(this.addr,t.r,t.g,t.b),e[0]=t.r,e[1]=t.g,e[2]=t.b);else{if(fs(e,t))return;n.uniform3fv(this.addr,t),hs(e,t)}}function RW(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4f(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(fs(e,t))return;n.uniform4fv(this.addr,t),hs(e,t)}}function wW(n,t){const e=this.cache,i=t.elements;if(i===void 0){if(fs(e,t))return;n.uniformMatrix2fv(this.addr,!1,t),hs(e,t)}else{if(fs(e,i))return;GD.set(i),n.uniformMatrix2fv(this.addr,!1,GD),hs(e,i)}}function BW(n,t){const e=this.cache,i=t.elements;if(i===void 0){if(fs(e,t))return;n.uniformMatrix3fv(this.addr,!1,t),hs(e,t)}else{if(fs(e,i))return;HD.set(i),n.uniformMatrix3fv(this.addr,!1,HD),hs(e,i)}}function DW(n,t){const e=this.cache,i=t.elements;if(i===void 0){if(fs(e,t))return;n.uniformMatrix4fv(this.addr,!1,t),hs(e,t)}else{if(fs(e,i))return;zD.set(i),n.uniformMatrix4fv(this.addr,!1,zD),hs(e,i)}}function LW(n,t){const e=this.cache;e[0]!==t&&(n.uniform1i(this.addr,t),e[0]=t)}function OW(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2i(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(fs(e,t))return;n.uniform2iv(this.addr,t),hs(e,t)}}function UW(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3i(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if(fs(e,t))return;n.uniform3iv(this.addr,t),hs(e,t)}}function PW(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4i(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(fs(e,t))return;n.uniform4iv(this.addr,t),hs(e,t)}}function NW(n,t){const e=this.cache;e[0]!==t&&(n.uniform1ui(this.addr,t),e[0]=t)}function IW(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2ui(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(fs(e,t))return;n.uniform2uiv(this.addr,t),hs(e,t)}}function FW(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3ui(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if(fs(e,t))return;n.uniform3uiv(this.addr,t),hs(e,t)}}function zW(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4ui(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(fs(e,t))return;n.uniform4uiv(this.addr,t),hs(e,t)}}function HW(n,t,e){const i=this.cache,s=e.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s);let r;this.type===n.SAMPLER_2D_SHADOW?(ND.compareFunction=MC,r=ND):r=kI,e.setTexture2D(t||r,s)}function GW(n,t,e){const i=this.cache,s=e.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s),e.setTexture3D(t||jI,s)}function VW(n,t,e){const i=this.cache,s=e.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s),e.setTextureCube(t||YI,s)}function kW(n,t,e){const i=this.cache,s=e.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s),e.setTexture2DArray(t||XI,s)}function XW(n){switch(n){case 5126:return EW;case 35664:return TW;case 35665:return CW;case 35666:return RW;case 35674:return wW;case 35675:return BW;case 35676:return DW;case 5124:case 35670:return LW;case 35667:case 35671:return OW;case 35668:case 35672:return UW;case 35669:case 35673:return PW;case 5125:return NW;case 36294:return IW;case 36295:return FW;case 36296:return zW;case 35678:case 36198:case 36298:case 36306:case 35682:return HW;case 35679:case 36299:case 36307:return GW;case 35680:case 36300:case 36308:case 36293:return VW;case 36289:case 36303:case 36311:case 36292:return kW}}function jW(n,t){n.uniform1fv(this.addr,t)}function YW(n,t){const e=Um(t,this.size,2);n.uniform2fv(this.addr,e)}function WW(n,t){const e=Um(t,this.size,3);n.uniform3fv(this.addr,e)}function KW(n,t){const e=Um(t,this.size,4);n.uniform4fv(this.addr,e)}function qW(n,t){const e=Um(t,this.size,4);n.uniformMatrix2fv(this.addr,!1,e)}function JW(n,t){const e=Um(t,this.size,9);n.uniformMatrix3fv(this.addr,!1,e)}function QW(n,t){const e=Um(t,this.size,16);n.uniformMatrix4fv(this.addr,!1,e)}function ZW(n,t){n.uniform1iv(this.addr,t)}function $W(n,t){n.uniform2iv(this.addr,t)}function tK(n,t){n.uniform3iv(this.addr,t)}function eK(n,t){n.uniform4iv(this.addr,t)}function nK(n,t){n.uniform1uiv(this.addr,t)}function iK(n,t){n.uniform2uiv(this.addr,t)}function sK(n,t){n.uniform3uiv(this.addr,t)}function rK(n,t){n.uniform4uiv(this.addr,t)}function aK(n,t,e){const i=this.cache,s=t.length,r=u_(e,s);fs(i,r)||(n.uniform1iv(this.addr,r),hs(i,r));for(let o=0;o!==s;++o)e.setTexture2D(t[o]||kI,r[o])}function oK(n,t,e){const i=this.cache,s=t.length,r=u_(e,s);fs(i,r)||(n.uniform1iv(this.addr,r),hs(i,r));for(let o=0;o!==s;++o)e.setTexture3D(t[o]||jI,r[o])}function lK(n,t,e){const i=this.cache,s=t.length,r=u_(e,s);fs(i,r)||(n.uniform1iv(this.addr,r),hs(i,r));for(let o=0;o!==s;++o)e.setTextureCube(t[o]||YI,r[o])}function cK(n,t,e){const i=this.cache,s=t.length,r=u_(e,s);fs(i,r)||(n.uniform1iv(this.addr,r),hs(i,r));for(let o=0;o!==s;++o)e.setTexture2DArray(t[o]||XI,r[o])}function uK(n){switch(n){case 5126:return jW;case 35664:return YW;case 35665:return WW;case 35666:return KW;case 35674:return qW;case 35675:return JW;case 35676:return QW;case 5124:case 35670:return ZW;case 35667:case 35671:return $W;case 35668:case 35672:return tK;case 35669:case 35673:return eK;case 5125:return nK;case 36294:return iK;case 36295:return sK;case 36296:return rK;case 35678:case 36198:case 36298:case 36306:case 35682:return aK;case 35679:case 36299:case 36307:return oK;case 35680:case 36300:case 36308:case 36293:return lK;case 36289:case 36303:case 36311:case 36292:return cK}}class fK{constructor(t,e,i){this.id=t,this.addr=i,this.cache=[],this.type=e.type,this.setValue=XW(e.type)}}class hK{constructor(t,e,i){this.id=t,this.addr=i,this.cache=[],this.type=e.type,this.size=e.size,this.setValue=uK(e.type)}}class dK{constructor(t){this.id=t,this.seq=[],this.map={}}setValue(t,e,i){const s=this.seq;for(let r=0,o=s.length;r!==o;++r){const l=s[r];l.setValue(t,e[l.id],i)}}}const vM=/(\w+)(\])?(\[|\.)?/g;function VD(n,t){n.seq.push(t),n.map[t.id]=t}function pK(n,t,e){const i=n.name,s=i.length;for(vM.lastIndex=0;;){const r=vM.exec(i),o=vM.lastIndex;let l=r[1];const u=r[2]==="]",d=r[3];if(u&&(l=l|0),d===void 0||d==="["&&o+2===s){VD(e,d===void 0?new fK(l,n,t):new hK(l,n,t));break}else{let g=e.map[l];g===void 0&&(g=new dK(l),VD(e,g)),e=g}}}class s1{constructor(t,e){this.seq=[],this.map={};const i=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let s=0;s<i;++s){const r=t.getActiveUniform(e,s),o=t.getUniformLocation(e,r.name);pK(r,o,this)}}setValue(t,e,i,s){const r=this.map[e];r!==void 0&&r.setValue(t,i,s)}setOptional(t,e,i){const s=e[i];s!==void 0&&this.setValue(t,i,s)}static upload(t,e,i,s){for(let r=0,o=e.length;r!==o;++r){const l=e[r],u=i[l.id];u.needsUpdate!==!1&&l.setValue(t,u.value,s)}}static seqWithValue(t,e){const i=[];for(let s=0,r=t.length;s!==r;++s){const o=t[s];o.id in e&&i.push(o)}return i}}function kD(n,t,e){const i=n.createShader(t);return n.shaderSource(i,e),n.compileShader(i),i}const mK=37297;let gK=0;function yK(n,t){const e=n.split(`
`),i=[],s=Math.max(t-6,0),r=Math.min(t+6,e.length);for(let o=s;o<r;o++){const l=o+1;i.push(`${l===t?">":" "} ${l}: ${e[o]}`)}return i.join(`
`)}const XD=new We;function vK(n){_n._getMatrix(XD,_n.workingColorSpace,n);const t=`mat3( ${XD.elements.map(e=>e.toFixed(4))} )`;switch(_n.getTransfer(n)){case dy:return[t,"LinearTransferOETF"];case jn:return[t,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[t,"LinearTransferOETF"]}}function jD(n,t,e){const i=n.getShaderParameter(t,n.COMPILE_STATUS),s=n.getShaderInfoLog(t).trim();if(i&&s==="")return"";const r=/ERROR: 0:(\d+)/.exec(s);if(r){const o=parseInt(r[1]);return e.toUpperCase()+`

`+s+`

`+yK(n.getShaderSource(t),o)}else return s}function xK(n,t){const e=vK(t);return[`vec4 ${n}( vec4 value ) {`,`	return ${e[1]}( vec4( value.rgb * ${e[0]}, value.a ) );`,"}"].join(`
`)}function AK(n,t){let e;switch(t){case _N:e="Linear";break;case bN:e="Reinhard";break;case MN:e="Cineon";break;case hC:e="ACESFilmic";break;case TN:e="AgX";break;case CN:e="Neutral";break;case EN:e="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),e="Linear"}return"vec3 "+n+"( vec3 color ) { return "+e+"ToneMapping( color ); }"}const NA=new K;function SK(){_n.getLuminanceCoefficients(NA);const n=NA.x.toFixed(4),t=NA.y.toFixed(4),e=NA.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${t}, ${e} );`,"	return dot( weights, rgb );","}"].join(`
`)}function _K(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(D0).join(`
`)}function bK(n){const t=[];for(const e in n){const i=n[e];i!==!1&&t.push("#define "+e+" "+i)}return t.join(`
`)}function MK(n,t){const e={},i=n.getProgramParameter(t,n.ACTIVE_ATTRIBUTES);for(let s=0;s<i;s++){const r=n.getActiveAttrib(t,s),o=r.name;let l=1;r.type===n.FLOAT_MAT2&&(l=2),r.type===n.FLOAT_MAT3&&(l=3),r.type===n.FLOAT_MAT4&&(l=4),e[o]={type:r.type,location:n.getAttribLocation(t,o),locationSize:l}}return e}function D0(n){return n!==""}function YD(n,t){const e=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,e).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function WD(n,t){return n.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const EK=/^[ \t]*#include +<([\w\d./]+)>/gm;function VE(n){return n.replace(EK,CK)}const TK=new Map;function CK(n,t){let e=en[t];if(e===void 0){const i=TK.get(t);if(i!==void 0)e=en[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,i);else throw new Error("Can not resolve #include <"+t+">")}return VE(e)}const RK=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function KD(n){return n.replace(RK,wK)}function wK(n,t,e,i){let s="";for(let r=parseInt(t);r<parseInt(e);r++)s+=i.replace(/\[\s*i\s*\]/g,"[ "+r+" ]").replace(/UNROLLED_LOOP_INDEX/g,r);return s}function qD(n){let t=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?t+=`
#define HIGH_PRECISION`:n.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function BK(n){let t="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===DS?t="SHADOWMAP_TYPE_PCF":n.shadowMapType===G0?t="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Vo&&(t="SHADOWMAP_TYPE_VSM"),t}function DK(n){let t="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Qc:case lf:t="ENVMAP_TYPE_CUBE";break;case Rm:t="ENVMAP_TYPE_CUBE_UV";break}return t}function LK(n){let t="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case lf:t="ENVMAP_MODE_REFRACTION";break}return t}function OK(n){let t="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Vy:t="ENVMAP_BLENDING_MULTIPLY";break;case AN:t="ENVMAP_BLENDING_MIX";break;case SN:t="ENVMAP_BLENDING_ADD";break}return t}function UK(n){const t=n.envMapCubeUVHeight;if(t===null)return null;const e=Math.log2(t)-2,i=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,e),7*16)),texelHeight:i,maxMip:e}}function PK(n,t,e,i){const s=n.getContext(),r=e.defines;let o=e.vertexShader,l=e.fragmentShader;const u=BK(e),d=DK(e),m=LK(e),g=OK(e),v=UK(e),A=_K(e),S=bK(r),E=s.createProgram();let T,_,w=e.glslVersion?"#version "+e.glslVersion+`
`:"";e.isRawShaderMaterial?(T=["#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,S].filter(D0).join(`
`),T.length>0&&(T+=`
`),_=["#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,S].filter(D0).join(`
`),_.length>0&&(_+=`
`)):(T=[qD(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,S,e.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",e.batching?"#define USE_BATCHING":"",e.batchingColor?"#define USE_BATCHING_COLOR":"",e.instancing?"#define USE_INSTANCING":"",e.instancingColor?"#define USE_INSTANCING_COLOR":"",e.instancingMorph?"#define USE_INSTANCING_MORPH":"",e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+m:"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.displacementMap?"#define USE_DISPLACEMENTMAP":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropy?"#define USE_ANISOTROPY":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.mapUv?"#define MAP_UV "+e.mapUv:"",e.alphaMapUv?"#define ALPHAMAP_UV "+e.alphaMapUv:"",e.lightMapUv?"#define LIGHTMAP_UV "+e.lightMapUv:"",e.aoMapUv?"#define AOMAP_UV "+e.aoMapUv:"",e.emissiveMapUv?"#define EMISSIVEMAP_UV "+e.emissiveMapUv:"",e.bumpMapUv?"#define BUMPMAP_UV "+e.bumpMapUv:"",e.normalMapUv?"#define NORMALMAP_UV "+e.normalMapUv:"",e.displacementMapUv?"#define DISPLACEMENTMAP_UV "+e.displacementMapUv:"",e.metalnessMapUv?"#define METALNESSMAP_UV "+e.metalnessMapUv:"",e.roughnessMapUv?"#define ROUGHNESSMAP_UV "+e.roughnessMapUv:"",e.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+e.anisotropyMapUv:"",e.clearcoatMapUv?"#define CLEARCOATMAP_UV "+e.clearcoatMapUv:"",e.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+e.clearcoatNormalMapUv:"",e.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+e.clearcoatRoughnessMapUv:"",e.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+e.iridescenceMapUv:"",e.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+e.iridescenceThicknessMapUv:"",e.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+e.sheenColorMapUv:"",e.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+e.sheenRoughnessMapUv:"",e.specularMapUv?"#define SPECULARMAP_UV "+e.specularMapUv:"",e.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+e.specularColorMapUv:"",e.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+e.specularIntensityMapUv:"",e.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+e.transmissionMapUv:"",e.thicknessMapUv?"#define THICKNESSMAP_UV "+e.thicknessMapUv:"",e.vertexTangents&&e.flatShading===!1?"#define USE_TANGENT":"",e.vertexColors?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.flatShading?"#define FLAT_SHADED":"",e.skinning?"#define USE_SKINNING":"",e.morphTargets?"#define USE_MORPHTARGETS":"",e.morphNormals&&e.flatShading===!1?"#define USE_MORPHNORMALS":"",e.morphColors?"#define USE_MORPHCOLORS":"",e.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+e.morphTextureStride:"",e.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+e.morphTargetsCount:"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+u:"",e.sizeAttenuation?"#define USE_SIZEATTENUATION":"",e.numLightProbes>0?"#define USE_LIGHT_PROBES":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(D0).join(`
`),_=[qD(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,S,e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",e.map?"#define USE_MAP":"",e.matcap?"#define USE_MATCAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+d:"",e.envMap?"#define "+m:"",e.envMap?"#define "+g:"",v?"#define CUBEUV_TEXEL_WIDTH "+v.texelWidth:"",v?"#define CUBEUV_TEXEL_HEIGHT "+v.texelHeight:"",v?"#define CUBEUV_MAX_MIP "+v.maxMip+".0":"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropy?"#define USE_ANISOTROPY":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoat?"#define USE_CLEARCOAT":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.dispersion?"#define USE_DISPERSION":"",e.iridescence?"#define USE_IRIDESCENCE":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaTest?"#define USE_ALPHATEST":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.sheen?"#define USE_SHEEN":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.vertexTangents&&e.flatShading===!1?"#define USE_TANGENT":"",e.vertexColors||e.instancingColor||e.batchingColor?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.gradientMap?"#define USE_GRADIENTMAP":"",e.flatShading?"#define FLAT_SHADED":"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+u:"",e.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",e.numLightProbes>0?"#define USE_LIGHT_PROBES":"",e.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",e.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",e.toneMapping!==Vl?"#define TONE_MAPPING":"",e.toneMapping!==Vl?en.tonemapping_pars_fragment:"",e.toneMapping!==Vl?AK("toneMapping",e.toneMapping):"",e.dithering?"#define DITHERING":"",e.opaque?"#define OPAQUE":"",en.colorspace_pars_fragment,xK("linearToOutputTexel",e.outputColorSpace),SK(),e.useDepthPacking?"#define DEPTH_PACKING "+e.depthPacking:"",`
`].filter(D0).join(`
`)),o=VE(o),o=YD(o,e),o=WD(o,e),l=VE(l),l=YD(l,e),l=WD(l,e),o=KD(o),l=KD(l),e.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,T=[A,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+T,_=["#define varying in",e.glslVersion===UE?"":"layout(location = 0) out highp vec4 pc_fragColor;",e.glslVersion===UE?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+_);const D=w+T+o,L=w+_+l,U=kD(s,s.VERTEX_SHADER,D),P=kD(s,s.FRAGMENT_SHADER,L);s.attachShader(E,U),s.attachShader(E,P),e.index0AttributeName!==void 0?s.bindAttribLocation(E,0,e.index0AttributeName):e.morphTargets===!0&&s.bindAttribLocation(E,0,"position"),s.linkProgram(E);function F(H){if(n.debug.checkShaderErrors){const st=s.getProgramInfoLog(E).trim(),tt=s.getShaderInfoLog(U).trim(),J=s.getShaderInfoLog(P).trim();let lt=!0,$=!0;if(s.getProgramParameter(E,s.LINK_STATUS)===!1)if(lt=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(s,E,U,P);else{const et=jD(s,U,"vertex"),Q=jD(s,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+s.getError()+" - VALIDATE_STATUS "+s.getProgramParameter(E,s.VALIDATE_STATUS)+`

Material Name: `+H.name+`
Material Type: `+H.type+`

Program Info Log: `+st+`
`+et+`
`+Q)}else st!==""?console.warn("THREE.WebGLProgram: Program Info Log:",st):(tt===""||J==="")&&($=!1);$&&(H.diagnostics={runnable:lt,programLog:st,vertexShader:{log:tt,prefix:T},fragmentShader:{log:J,prefix:_}})}s.deleteShader(U),s.deleteShader(P),z=new s1(s,E),N=MK(s,E)}let z;this.getUniforms=function(){return z===void 0&&F(this),z};let N;this.getAttributes=function(){return N===void 0&&F(this),N};let B=e.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return B===!1&&(B=s.getProgramParameter(E,mK)),B},this.destroy=function(){i.releaseStatesOfProgram(this),s.deleteProgram(E),this.program=void 0},this.type=e.shaderType,this.name=e.shaderName,this.id=gK++,this.cacheKey=t,this.usedTimes=1,this.program=E,this.vertexShader=U,this.fragmentShader=P,this}let NK=0;class IK{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const e=t.vertexShader,i=t.fragmentShader,s=this._getShaderStage(e),r=this._getShaderStage(i),o=this._getShaderCacheForMaterial(t);return o.has(s)===!1&&(o.add(s),s.usedTimes++),o.has(r)===!1&&(o.add(r),r.usedTimes++),this}remove(t){const e=this.materialCache.get(t);for(const i of e)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const e=this.materialCache;let i=e.get(t);return i===void 0&&(i=new Set,e.set(t,i)),i}_getShaderStage(t){const e=this.shaderCache;let i=e.get(t);return i===void 0&&(i=new FK(t),e.set(t,i)),i}}class FK{constructor(t){this.id=NK++,this.code=t,this.usedTimes=0}}function zK(n,t,e,i,s,r,o){const l=new gm,u=new IK,d=new Set,m=[],g=s.logarithmicDepthBuffer,v=s.vertexTextures;let A=s.precision;const S={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function E(N){return d.add(N),N===0?"uv":`uv${N}`}function T(N,B,H,st,tt){const J=st.fog,lt=tt.geometry,$=N.isMeshStandardMaterial?st.environment:null,et=(N.isMeshStandardMaterial?e:t).get(N.envMap||$),Q=et&&et.mapping===Rm?et.image.height:null,At=S[N.type];N.precision!==null&&(A=s.getMaxPrecision(N.precision),A!==N.precision&&console.warn("THREE.WebGLProgram.getParameters:",N.precision,"not supported, using",A,"instead."));const j=lt.morphAttributes.position||lt.morphAttributes.normal||lt.morphAttributes.color,rt=j!==void 0?j.length:0;let Tt=0;lt.morphAttributes.position!==void 0&&(Tt=1),lt.morphAttributes.normal!==void 0&&(Tt=2),lt.morphAttributes.color!==void 0&&(Tt=3);let Ft,it,Et,Ut;if(At){const dn=ko[At];Ft=dn.vertexShader,it=dn.fragmentShader}else Ft=N.vertexShader,it=N.fragmentShader,u.update(N),Et=u.getVertexShaderID(N),Ut=u.getFragmentShaderID(N);const Ht=n.getRenderTarget(),Xt=n.state.buffers.depth.getReversed(),xe=tt.isInstancedMesh===!0,Wt=tt.isBatchedMesh===!0,ue=!!N.map,Pt=!!N.matcap,Bt=!!et,q=!!N.aoMap,he=!!N.lightMap,Vt=!!N.bumpMap,$t=!!N.normalMap,Qt=!!N.displacementMap,_e=!!N.emissiveMap,Zt=!!N.metalnessMap,Y=!!N.roughnessMap,G=N.anisotropy>0,yt=N.clearcoat>0,Ct=N.dispersion>0,Gt=N.iridescence>0,Dt=N.sheen>0,fe=N.transmission>0,ne=G&&!!N.anisotropyMap,de=yt&&!!N.clearcoatMap,Je=yt&&!!N.clearcoatNormalMap,qt=yt&&!!N.clearcoatRoughnessMap,me=Gt&&!!N.iridescenceMap,Ae=Gt&&!!N.iridescenceThicknessMap,ve=Dt&&!!N.sheenColorMap,pe=Dt&&!!N.sheenRoughnessMap,Ge=!!N.specularMap,Me=!!N.specularColorMap,bn=!!N.specularIntensityMap,ut=fe&&!!N.transmissionMap,re=fe&&!!N.thicknessMap,Mt=!!N.gradientMap,Nt=!!N.alphaMap,ee=N.alphaTest>0,se=!!N.alphaHash,Oe=!!N.extensions;let Vn=Vl;N.toneMapped&&(Ht===null||Ht.isXRRenderTarget===!0)&&(Vn=n.toneMapping);const ai={shaderID:At,shaderType:N.type,shaderName:N.name,vertexShader:Ft,fragmentShader:it,defines:N.defines,customVertexShaderID:Et,customFragmentShaderID:Ut,isRawShaderMaterial:N.isRawShaderMaterial===!0,glslVersion:N.glslVersion,precision:A,batching:Wt,batchingColor:Wt&&tt._colorsTexture!==null,instancing:xe,instancingColor:xe&&tt.instanceColor!==null,instancingMorph:xe&&tt.morphTexture!==null,supportsVertexTextures:v,outputColorSpace:Ht===null?n.outputColorSpace:Ht.isXRRenderTarget===!0?Ht.texture.colorSpace:uf,alphaToCoverage:!!N.alphaToCoverage,map:ue,matcap:Pt,envMap:Bt,envMapMode:Bt&&et.mapping,envMapCubeUVHeight:Q,aoMap:q,lightMap:he,bumpMap:Vt,normalMap:$t,displacementMap:v&&Qt,emissiveMap:_e,normalMapObjectSpace:$t&&N.normalMapType===PN,normalMapTangentSpace:$t&&N.normalMapType===mf,metalnessMap:Zt,roughnessMap:Y,anisotropy:G,anisotropyMap:ne,clearcoat:yt,clearcoatMap:de,clearcoatNormalMap:Je,clearcoatRoughnessMap:qt,dispersion:Ct,iridescence:Gt,iridescenceMap:me,iridescenceThicknessMap:Ae,sheen:Dt,sheenColorMap:ve,sheenRoughnessMap:pe,specularMap:Ge,specularColorMap:Me,specularIntensityMap:bn,transmission:fe,transmissionMap:ut,thicknessMap:re,gradientMap:Mt,opaque:N.transparent===!1&&N.blending===jh&&N.alphaToCoverage===!1,alphaMap:Nt,alphaTest:ee,alphaHash:se,combine:N.combine,mapUv:ue&&E(N.map.channel),aoMapUv:q&&E(N.aoMap.channel),lightMapUv:he&&E(N.lightMap.channel),bumpMapUv:Vt&&E(N.bumpMap.channel),normalMapUv:$t&&E(N.normalMap.channel),displacementMapUv:Qt&&E(N.displacementMap.channel),emissiveMapUv:_e&&E(N.emissiveMap.channel),metalnessMapUv:Zt&&E(N.metalnessMap.channel),roughnessMapUv:Y&&E(N.roughnessMap.channel),anisotropyMapUv:ne&&E(N.anisotropyMap.channel),clearcoatMapUv:de&&E(N.clearcoatMap.channel),clearcoatNormalMapUv:Je&&E(N.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:qt&&E(N.clearcoatRoughnessMap.channel),iridescenceMapUv:me&&E(N.iridescenceMap.channel),iridescenceThicknessMapUv:Ae&&E(N.iridescenceThicknessMap.channel),sheenColorMapUv:ve&&E(N.sheenColorMap.channel),sheenRoughnessMapUv:pe&&E(N.sheenRoughnessMap.channel),specularMapUv:Ge&&E(N.specularMap.channel),specularColorMapUv:Me&&E(N.specularColorMap.channel),specularIntensityMapUv:bn&&E(N.specularIntensityMap.channel),transmissionMapUv:ut&&E(N.transmissionMap.channel),thicknessMapUv:re&&E(N.thicknessMap.channel),alphaMapUv:Nt&&E(N.alphaMap.channel),vertexTangents:!!lt.attributes.tangent&&($t||G),vertexColors:N.vertexColors,vertexAlphas:N.vertexColors===!0&&!!lt.attributes.color&&lt.attributes.color.itemSize===4,pointsUvs:tt.isPoints===!0&&!!lt.attributes.uv&&(ue||Nt),fog:!!J,useFog:N.fog===!0,fogExp2:!!J&&J.isFogExp2,flatShading:N.flatShading===!0,sizeAttenuation:N.sizeAttenuation===!0,logarithmicDepthBuffer:g,reverseDepthBuffer:Xt,skinning:tt.isSkinnedMesh===!0,morphTargets:lt.morphAttributes.position!==void 0,morphNormals:lt.morphAttributes.normal!==void 0,morphColors:lt.morphAttributes.color!==void 0,morphTargetsCount:rt,morphTextureStride:Tt,numDirLights:B.directional.length,numPointLights:B.point.length,numSpotLights:B.spot.length,numSpotLightMaps:B.spotLightMap.length,numRectAreaLights:B.rectArea.length,numHemiLights:B.hemi.length,numDirLightShadows:B.directionalShadowMap.length,numPointLightShadows:B.pointShadowMap.length,numSpotLightShadows:B.spotShadowMap.length,numSpotLightShadowsWithMaps:B.numSpotLightShadowsWithMaps,numLightProbes:B.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:N.dithering,shadowMapEnabled:n.shadowMap.enabled&&H.length>0,shadowMapType:n.shadowMap.type,toneMapping:Vn,decodeVideoTexture:ue&&N.map.isVideoTexture===!0&&_n.getTransfer(N.map.colorSpace)===jn,decodeVideoTextureEmissive:_e&&N.emissiveMap.isVideoTexture===!0&&_n.getTransfer(N.emissiveMap.colorSpace)===jn,premultipliedAlpha:N.premultipliedAlpha,doubleSided:N.side===Qa,flipSided:N.side===Ur,useDepthPacking:N.depthPacking>=0,depthPacking:N.depthPacking||0,index0AttributeName:N.index0AttributeName,extensionClipCullDistance:Oe&&N.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Oe&&N.extensions.multiDraw===!0||Wt)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:N.customProgramCacheKey()};return ai.vertexUv1s=d.has(1),ai.vertexUv2s=d.has(2),ai.vertexUv3s=d.has(3),d.clear(),ai}function _(N){const B=[];if(N.shaderID?B.push(N.shaderID):(B.push(N.customVertexShaderID),B.push(N.customFragmentShaderID)),N.defines!==void 0)for(const H in N.defines)B.push(H),B.push(N.defines[H]);return N.isRawShaderMaterial===!1&&(w(B,N),D(B,N),B.push(n.outputColorSpace)),B.push(N.customProgramCacheKey),B.join()}function w(N,B){N.push(B.precision),N.push(B.outputColorSpace),N.push(B.envMapMode),N.push(B.envMapCubeUVHeight),N.push(B.mapUv),N.push(B.alphaMapUv),N.push(B.lightMapUv),N.push(B.aoMapUv),N.push(B.bumpMapUv),N.push(B.normalMapUv),N.push(B.displacementMapUv),N.push(B.emissiveMapUv),N.push(B.metalnessMapUv),N.push(B.roughnessMapUv),N.push(B.anisotropyMapUv),N.push(B.clearcoatMapUv),N.push(B.clearcoatNormalMapUv),N.push(B.clearcoatRoughnessMapUv),N.push(B.iridescenceMapUv),N.push(B.iridescenceThicknessMapUv),N.push(B.sheenColorMapUv),N.push(B.sheenRoughnessMapUv),N.push(B.specularMapUv),N.push(B.specularColorMapUv),N.push(B.specularIntensityMapUv),N.push(B.transmissionMapUv),N.push(B.thicknessMapUv),N.push(B.combine),N.push(B.fogExp2),N.push(B.sizeAttenuation),N.push(B.morphTargetsCount),N.push(B.morphAttributeCount),N.push(B.numDirLights),N.push(B.numPointLights),N.push(B.numSpotLights),N.push(B.numSpotLightMaps),N.push(B.numHemiLights),N.push(B.numRectAreaLights),N.push(B.numDirLightShadows),N.push(B.numPointLightShadows),N.push(B.numSpotLightShadows),N.push(B.numSpotLightShadowsWithMaps),N.push(B.numLightProbes),N.push(B.shadowMapType),N.push(B.toneMapping),N.push(B.numClippingPlanes),N.push(B.numClipIntersection),N.push(B.depthPacking)}function D(N,B){l.disableAll(),B.supportsVertexTextures&&l.enable(0),B.instancing&&l.enable(1),B.instancingColor&&l.enable(2),B.instancingMorph&&l.enable(3),B.matcap&&l.enable(4),B.envMap&&l.enable(5),B.normalMapObjectSpace&&l.enable(6),B.normalMapTangentSpace&&l.enable(7),B.clearcoat&&l.enable(8),B.iridescence&&l.enable(9),B.alphaTest&&l.enable(10),B.vertexColors&&l.enable(11),B.vertexAlphas&&l.enable(12),B.vertexUv1s&&l.enable(13),B.vertexUv2s&&l.enable(14),B.vertexUv3s&&l.enable(15),B.vertexTangents&&l.enable(16),B.anisotropy&&l.enable(17),B.alphaHash&&l.enable(18),B.batching&&l.enable(19),B.dispersion&&l.enable(20),B.batchingColor&&l.enable(21),N.push(l.mask),l.disableAll(),B.fog&&l.enable(0),B.useFog&&l.enable(1),B.flatShading&&l.enable(2),B.logarithmicDepthBuffer&&l.enable(3),B.reverseDepthBuffer&&l.enable(4),B.skinning&&l.enable(5),B.morphTargets&&l.enable(6),B.morphNormals&&l.enable(7),B.morphColors&&l.enable(8),B.premultipliedAlpha&&l.enable(9),B.shadowMapEnabled&&l.enable(10),B.doubleSided&&l.enable(11),B.flipSided&&l.enable(12),B.useDepthPacking&&l.enable(13),B.dithering&&l.enable(14),B.transmission&&l.enable(15),B.sheen&&l.enable(16),B.opaque&&l.enable(17),B.pointsUvs&&l.enable(18),B.decodeVideoTexture&&l.enable(19),B.decodeVideoTextureEmissive&&l.enable(20),B.alphaToCoverage&&l.enable(21),N.push(l.mask)}function L(N){const B=S[N.type];let H;if(B){const st=ko[B];H=KN.clone(st.uniforms)}else H=N.uniforms;return H}function U(N,B){let H;for(let st=0,tt=m.length;st<tt;st++){const J=m[st];if(J.cacheKey===B){H=J,++H.usedTimes;break}}return H===void 0&&(H=new PK(n,B,N,r),m.push(H)),H}function P(N){if(--N.usedTimes===0){const B=m.indexOf(N);m[B]=m[m.length-1],m.pop(),N.destroy()}}function F(N){u.remove(N)}function z(){u.dispose()}return{getParameters:T,getProgramCacheKey:_,getUniforms:L,acquireProgram:U,releaseProgram:P,releaseShaderCache:F,programs:m,dispose:z}}function HK(){let n=new WeakMap;function t(o){return n.has(o)}function e(o){let l=n.get(o);return l===void 0&&(l={},n.set(o,l)),l}function i(o){n.delete(o)}function s(o,l,u){n.get(o)[l]=u}function r(){n=new WeakMap}return{has:t,get:e,remove:i,update:s,dispose:r}}function GK(n,t){return n.groupOrder!==t.groupOrder?n.groupOrder-t.groupOrder:n.renderOrder!==t.renderOrder?n.renderOrder-t.renderOrder:n.material.id!==t.material.id?n.material.id-t.material.id:n.z!==t.z?n.z-t.z:n.id-t.id}function JD(n,t){return n.groupOrder!==t.groupOrder?n.groupOrder-t.groupOrder:n.renderOrder!==t.renderOrder?n.renderOrder-t.renderOrder:n.z!==t.z?t.z-n.z:n.id-t.id}function QD(){const n=[];let t=0;const e=[],i=[],s=[];function r(){t=0,e.length=0,i.length=0,s.length=0}function o(g,v,A,S,E,T){let _=n[t];return _===void 0?(_={id:g.id,object:g,geometry:v,material:A,groupOrder:S,renderOrder:g.renderOrder,z:E,group:T},n[t]=_):(_.id=g.id,_.object=g,_.geometry=v,_.material=A,_.groupOrder=S,_.renderOrder=g.renderOrder,_.z=E,_.group=T),t++,_}function l(g,v,A,S,E,T){const _=o(g,v,A,S,E,T);A.transmission>0?i.push(_):A.transparent===!0?s.push(_):e.push(_)}function u(g,v,A,S,E,T){const _=o(g,v,A,S,E,T);A.transmission>0?i.unshift(_):A.transparent===!0?s.unshift(_):e.unshift(_)}function d(g,v){e.length>1&&e.sort(g||GK),i.length>1&&i.sort(v||JD),s.length>1&&s.sort(v||JD)}function m(){for(let g=t,v=n.length;g<v;g++){const A=n[g];if(A.id===null)break;A.id=null,A.object=null,A.geometry=null,A.material=null,A.group=null}}return{opaque:e,transmissive:i,transparent:s,init:r,push:l,unshift:u,finish:m,sort:d}}function VK(){let n=new WeakMap;function t(i,s){const r=n.get(i);let o;return r===void 0?(o=new QD,n.set(i,[o])):s>=r.length?(o=new QD,r.push(o)):o=r[s],o}function e(){n=new WeakMap}return{get:t,dispose:e}}function kK(){const n={};return{get:function(t){if(n[t.id]!==void 0)return n[t.id];let e;switch(t.type){case"DirectionalLight":e={direction:new K,color:new ie};break;case"SpotLight":e={position:new K,direction:new K,color:new ie,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":e={position:new K,color:new ie,distance:0,decay:0};break;case"HemisphereLight":e={direction:new K,skyColor:new ie,groundColor:new ie};break;case"RectAreaLight":e={color:new ie,position:new K,halfWidth:new K,halfHeight:new K};break}return n[t.id]=e,e}}}function XK(){const n={};return{get:function(t){if(n[t.id]!==void 0)return n[t.id];let e;switch(t.type){case"DirectionalLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new It};break;case"SpotLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new It};break;case"PointLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new It,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[t.id]=e,e}}}let jK=0;function YK(n,t){return(t.castShadow?2:0)-(n.castShadow?2:0)+(t.map?1:0)-(n.map?1:0)}function WK(n){const t=new kK,e=XK(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let d=0;d<9;d++)i.probe.push(new K);const s=new K,r=new Be,o=new Be;function l(d){let m=0,g=0,v=0;for(let N=0;N<9;N++)i.probe[N].set(0,0,0);let A=0,S=0,E=0,T=0,_=0,w=0,D=0,L=0,U=0,P=0,F=0;d.sort(YK);for(let N=0,B=d.length;N<B;N++){const H=d[N],st=H.color,tt=H.intensity,J=H.distance,lt=H.shadow&&H.shadow.map?H.shadow.map.texture:null;if(H.isAmbientLight)m+=st.r*tt,g+=st.g*tt,v+=st.b*tt;else if(H.isLightProbe){for(let $=0;$<9;$++)i.probe[$].addScaledVector(H.sh.coefficients[$],tt);F++}else if(H.isDirectionalLight){const $=t.get(H);if($.color.copy(H.color).multiplyScalar(H.intensity),H.castShadow){const et=H.shadow,Q=e.get(H);Q.shadowIntensity=et.intensity,Q.shadowBias=et.bias,Q.shadowNormalBias=et.normalBias,Q.shadowRadius=et.radius,Q.shadowMapSize=et.mapSize,i.directionalShadow[A]=Q,i.directionalShadowMap[A]=lt,i.directionalShadowMatrix[A]=H.shadow.matrix,w++}i.directional[A]=$,A++}else if(H.isSpotLight){const $=t.get(H);$.position.setFromMatrixPosition(H.matrixWorld),$.color.copy(st).multiplyScalar(tt),$.distance=J,$.coneCos=Math.cos(H.angle),$.penumbraCos=Math.cos(H.angle*(1-H.penumbra)),$.decay=H.decay,i.spot[E]=$;const et=H.shadow;if(H.map&&(i.spotLightMap[U]=H.map,U++,et.updateMatrices(H),H.castShadow&&P++),i.spotLightMatrix[E]=et.matrix,H.castShadow){const Q=e.get(H);Q.shadowIntensity=et.intensity,Q.shadowBias=et.bias,Q.shadowNormalBias=et.normalBias,Q.shadowRadius=et.radius,Q.shadowMapSize=et.mapSize,i.spotShadow[E]=Q,i.spotShadowMap[E]=lt,L++}E++}else if(H.isRectAreaLight){const $=t.get(H);$.color.copy(st).multiplyScalar(tt),$.halfWidth.set(H.width*.5,0,0),$.halfHeight.set(0,H.height*.5,0),i.rectArea[T]=$,T++}else if(H.isPointLight){const $=t.get(H);if($.color.copy(H.color).multiplyScalar(H.intensity),$.distance=H.distance,$.decay=H.decay,H.castShadow){const et=H.shadow,Q=e.get(H);Q.shadowIntensity=et.intensity,Q.shadowBias=et.bias,Q.shadowNormalBias=et.normalBias,Q.shadowRadius=et.radius,Q.shadowMapSize=et.mapSize,Q.shadowCameraNear=et.camera.near,Q.shadowCameraFar=et.camera.far,i.pointShadow[S]=Q,i.pointShadowMap[S]=lt,i.pointShadowMatrix[S]=H.shadow.matrix,D++}i.point[S]=$,S++}else if(H.isHemisphereLight){const $=t.get(H);$.skyColor.copy(H.color).multiplyScalar(tt),$.groundColor.copy(H.groundColor).multiplyScalar(tt),i.hemi[_]=$,_++}}T>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=ce.LTC_FLOAT_1,i.rectAreaLTC2=ce.LTC_FLOAT_2):(i.rectAreaLTC1=ce.LTC_HALF_1,i.rectAreaLTC2=ce.LTC_HALF_2)),i.ambient[0]=m,i.ambient[1]=g,i.ambient[2]=v;const z=i.hash;(z.directionalLength!==A||z.pointLength!==S||z.spotLength!==E||z.rectAreaLength!==T||z.hemiLength!==_||z.numDirectionalShadows!==w||z.numPointShadows!==D||z.numSpotShadows!==L||z.numSpotMaps!==U||z.numLightProbes!==F)&&(i.directional.length=A,i.spot.length=E,i.rectArea.length=T,i.point.length=S,i.hemi.length=_,i.directionalShadow.length=w,i.directionalShadowMap.length=w,i.pointShadow.length=D,i.pointShadowMap.length=D,i.spotShadow.length=L,i.spotShadowMap.length=L,i.directionalShadowMatrix.length=w,i.pointShadowMatrix.length=D,i.spotLightMatrix.length=L+U-P,i.spotLightMap.length=U,i.numSpotLightShadowsWithMaps=P,i.numLightProbes=F,z.directionalLength=A,z.pointLength=S,z.spotLength=E,z.rectAreaLength=T,z.hemiLength=_,z.numDirectionalShadows=w,z.numPointShadows=D,z.numSpotShadows=L,z.numSpotMaps=U,z.numLightProbes=F,i.version=jK++)}function u(d,m){let g=0,v=0,A=0,S=0,E=0;const T=m.matrixWorldInverse;for(let _=0,w=d.length;_<w;_++){const D=d[_];if(D.isDirectionalLight){const L=i.directional[g];L.direction.setFromMatrixPosition(D.matrixWorld),s.setFromMatrixPosition(D.target.matrixWorld),L.direction.sub(s),L.direction.transformDirection(T),g++}else if(D.isSpotLight){const L=i.spot[A];L.position.setFromMatrixPosition(D.matrixWorld),L.position.applyMatrix4(T),L.direction.setFromMatrixPosition(D.matrixWorld),s.setFromMatrixPosition(D.target.matrixWorld),L.direction.sub(s),L.direction.transformDirection(T),A++}else if(D.isRectAreaLight){const L=i.rectArea[S];L.position.setFromMatrixPosition(D.matrixWorld),L.position.applyMatrix4(T),o.identity(),r.copy(D.matrixWorld),r.premultiply(T),o.extractRotation(r),L.halfWidth.set(D.width*.5,0,0),L.halfHeight.set(0,D.height*.5,0),L.halfWidth.applyMatrix4(o),L.halfHeight.applyMatrix4(o),S++}else if(D.isPointLight){const L=i.point[v];L.position.setFromMatrixPosition(D.matrixWorld),L.position.applyMatrix4(T),v++}else if(D.isHemisphereLight){const L=i.hemi[E];L.direction.setFromMatrixPosition(D.matrixWorld),L.direction.transformDirection(T),E++}}}return{setup:l,setupView:u,state:i}}function ZD(n){const t=new WK(n),e=[],i=[];function s(m){d.camera=m,e.length=0,i.length=0}function r(m){e.push(m)}function o(m){i.push(m)}function l(){t.setup(e)}function u(m){t.setupView(e,m)}const d={lightsArray:e,shadowsArray:i,camera:null,lights:t,transmissionRenderTarget:{}};return{init:s,state:d,setupLights:l,setupLightsView:u,pushLight:r,pushShadow:o}}function KK(n){let t=new WeakMap;function e(s,r=0){const o=t.get(s);let l;return o===void 0?(l=new ZD(n),t.set(s,[l])):r>=o.length?(l=new ZD(n),o.push(l)):l=o[r],l}function i(){t=new WeakMap}return{get:e,dispose:i}}const qK=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,JK=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function QK(n,t,e){let i=new Ky;const s=new It,r=new It,o=new mn,l=new VC({depthPacking:UN}),u=new kC,d={},m=e.maxTextureSize,g={[ql]:Ur,[Ur]:ql,[Qa]:Qa},v=new Wo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new It},radius:{value:4}},vertexShader:qK,fragmentShader:JK}),A=v.clone();A.defines.HORIZONTAL_PASS=1;const S=new Ke;S.setAttribute("position",new Rn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const E=new qi(S,v),T=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=DS;let _=this.type;this.render=function(P,F,z){if(T.enabled===!1||T.autoUpdate===!1&&T.needsUpdate===!1||P.length===0)return;const N=n.getRenderTarget(),B=n.getActiveCubeFace(),H=n.getActiveMipmapLevel(),st=n.state;st.setBlending(Yc),st.buffers.color.setClear(1,1,1,1),st.buffers.depth.setTest(!0),st.setScissorTest(!1);const tt=_!==Vo&&this.type===Vo,J=_===Vo&&this.type!==Vo;for(let lt=0,$=P.length;lt<$;lt++){const et=P[lt],Q=et.shadow;if(Q===void 0){console.warn("THREE.WebGLShadowMap:",et,"has no shadow.");continue}if(Q.autoUpdate===!1&&Q.needsUpdate===!1)continue;s.copy(Q.mapSize);const At=Q.getFrameExtents();if(s.multiply(At),r.copy(Q.mapSize),(s.x>m||s.y>m)&&(s.x>m&&(r.x=Math.floor(m/At.x),s.x=r.x*At.x,Q.mapSize.x=r.x),s.y>m&&(r.y=Math.floor(m/At.y),s.y=r.y*At.y,Q.mapSize.y=r.y)),Q.map===null||tt===!0||J===!0){const rt=this.type!==Vo?{minFilter:Ls,magFilter:Ls}:{};Q.map!==null&&Q.map.dispose(),Q.map=new Jl(s.x,s.y,rt),Q.map.texture.name=et.name+".shadowMap",Q.camera.updateProjectionMatrix()}n.setRenderTarget(Q.map),n.clear();const j=Q.getViewportCount();for(let rt=0;rt<j;rt++){const Tt=Q.getViewport(rt);o.set(r.x*Tt.x,r.y*Tt.y,r.x*Tt.z,r.y*Tt.w),st.viewport(o),Q.updateMatrices(et,rt),i=Q.getFrustum(),L(F,z,Q.camera,et,this.type)}Q.isPointLightShadow!==!0&&this.type===Vo&&w(Q,z),Q.needsUpdate=!1}_=this.type,T.needsUpdate=!1,n.setRenderTarget(N,B,H)};function w(P,F){const z=t.update(E);v.defines.VSM_SAMPLES!==P.blurSamples&&(v.defines.VSM_SAMPLES=P.blurSamples,A.defines.VSM_SAMPLES=P.blurSamples,v.needsUpdate=!0,A.needsUpdate=!0),P.mapPass===null&&(P.mapPass=new Jl(s.x,s.y)),v.uniforms.shadow_pass.value=P.map.texture,v.uniforms.resolution.value=P.mapSize,v.uniforms.radius.value=P.radius,n.setRenderTarget(P.mapPass),n.clear(),n.renderBufferDirect(F,null,z,v,E,null),A.uniforms.shadow_pass.value=P.mapPass.texture,A.uniforms.resolution.value=P.mapSize,A.uniforms.radius.value=P.radius,n.setRenderTarget(P.map),n.clear(),n.renderBufferDirect(F,null,z,A,E,null)}function D(P,F,z,N){let B=null;const H=z.isPointLight===!0?P.customDistanceMaterial:P.customDepthMaterial;if(H!==void 0)B=H;else if(B=z.isPointLight===!0?u:l,n.localClippingEnabled&&F.clipShadows===!0&&Array.isArray(F.clippingPlanes)&&F.clippingPlanes.length!==0||F.displacementMap&&F.displacementScale!==0||F.alphaMap&&F.alphaTest>0||F.map&&F.alphaTest>0){const st=B.uuid,tt=F.uuid;let J=d[st];J===void 0&&(J={},d[st]=J);let lt=J[tt];lt===void 0&&(lt=B.clone(),J[tt]=lt,F.addEventListener("dispose",U)),B=lt}if(B.visible=F.visible,B.wireframe=F.wireframe,N===Vo?B.side=F.shadowSide!==null?F.shadowSide:F.side:B.side=F.shadowSide!==null?F.shadowSide:g[F.side],B.alphaMap=F.alphaMap,B.alphaTest=F.alphaTest,B.map=F.map,B.clipShadows=F.clipShadows,B.clippingPlanes=F.clippingPlanes,B.clipIntersection=F.clipIntersection,B.displacementMap=F.displacementMap,B.displacementScale=F.displacementScale,B.displacementBias=F.displacementBias,B.wireframeLinewidth=F.wireframeLinewidth,B.linewidth=F.linewidth,z.isPointLight===!0&&B.isMeshDistanceMaterial===!0){const st=n.properties.get(B);st.light=z}return B}function L(P,F,z,N,B){if(P.visible===!1)return;if(P.layers.test(F.layers)&&(P.isMesh||P.isLine||P.isPoints)&&(P.castShadow||P.receiveShadow&&B===Vo)&&(!P.frustumCulled||i.intersectsObject(P))){P.modelViewMatrix.multiplyMatrices(z.matrixWorldInverse,P.matrixWorld);const tt=t.update(P),J=P.material;if(Array.isArray(J)){const lt=tt.groups;for(let $=0,et=lt.length;$<et;$++){const Q=lt[$],At=J[Q.materialIndex];if(At&&At.visible){const j=D(P,At,N,B);P.onBeforeShadow(n,P,F,z,tt,j,Q),n.renderBufferDirect(z,null,tt,j,P,Q),P.onAfterShadow(n,P,F,z,tt,j,Q)}}}else if(J.visible){const lt=D(P,J,N,B);P.onBeforeShadow(n,P,F,z,tt,lt,null),n.renderBufferDirect(z,null,tt,lt,P,null),P.onAfterShadow(n,P,F,z,tt,lt,null)}}const st=P.children;for(let tt=0,J=st.length;tt<J;tt++)L(st[tt],F,z,N,B)}function U(P){P.target.removeEventListener("dispose",U);for(const z in d){const N=d[z],B=P.target.uuid;B in N&&(N[B].dispose(),delete N[B])}}}const ZK={[T1]:C1,[R1]:D1,[w1]:L1,[Qh]:B1,[C1]:T1,[D1]:R1,[L1]:w1,[B1]:Qh};function $K(n,t){function e(){let ut=!1;const re=new mn;let Mt=null;const Nt=new mn(0,0,0,0);return{setMask:function(ee){Mt!==ee&&!ut&&(n.colorMask(ee,ee,ee,ee),Mt=ee)},setLocked:function(ee){ut=ee},setClear:function(ee,se,Oe,Vn,ai){ai===!0&&(ee*=Vn,se*=Vn,Oe*=Vn),re.set(ee,se,Oe,Vn),Nt.equals(re)===!1&&(n.clearColor(ee,se,Oe,Vn),Nt.copy(re))},reset:function(){ut=!1,Mt=null,Nt.set(-1,0,0,0)}}}function i(){let ut=!1,re=!1,Mt=null,Nt=null,ee=null;return{setReversed:function(se){if(re!==se){const Oe=t.get("EXT_clip_control");re?Oe.clipControlEXT(Oe.LOWER_LEFT_EXT,Oe.ZERO_TO_ONE_EXT):Oe.clipControlEXT(Oe.LOWER_LEFT_EXT,Oe.NEGATIVE_ONE_TO_ONE_EXT);const Vn=ee;ee=null,this.setClear(Vn)}re=se},getReversed:function(){return re},setTest:function(se){se?Ht(n.DEPTH_TEST):Xt(n.DEPTH_TEST)},setMask:function(se){Mt!==se&&!ut&&(n.depthMask(se),Mt=se)},setFunc:function(se){if(re&&(se=ZK[se]),Nt!==se){switch(se){case T1:n.depthFunc(n.NEVER);break;case C1:n.depthFunc(n.ALWAYS);break;case R1:n.depthFunc(n.LESS);break;case Qh:n.depthFunc(n.LEQUAL);break;case w1:n.depthFunc(n.EQUAL);break;case B1:n.depthFunc(n.GEQUAL);break;case D1:n.depthFunc(n.GREATER);break;case L1:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Nt=se}},setLocked:function(se){ut=se},setClear:function(se){ee!==se&&(re&&(se=1-se),n.clearDepth(se),ee=se)},reset:function(){ut=!1,Mt=null,Nt=null,ee=null,re=!1}}}function s(){let ut=!1,re=null,Mt=null,Nt=null,ee=null,se=null,Oe=null,Vn=null,ai=null;return{setTest:function(dn){ut||(dn?Ht(n.STENCIL_TEST):Xt(n.STENCIL_TEST))},setMask:function(dn){re!==dn&&!ut&&(n.stencilMask(dn),re=dn)},setFunc:function(dn,ds,ps){(Mt!==dn||Nt!==ds||ee!==ps)&&(n.stencilFunc(dn,ds,ps),Mt=dn,Nt=ds,ee=ps)},setOp:function(dn,ds,ps){(se!==dn||Oe!==ds||Vn!==ps)&&(n.stencilOp(dn,ds,ps),se=dn,Oe=ds,Vn=ps)},setLocked:function(dn){ut=dn},setClear:function(dn){ai!==dn&&(n.clearStencil(dn),ai=dn)},reset:function(){ut=!1,re=null,Mt=null,Nt=null,ee=null,se=null,Oe=null,Vn=null,ai=null}}}const r=new e,o=new i,l=new s,u=new WeakMap,d=new WeakMap;let m={},g={},v=new WeakMap,A=[],S=null,E=!1,T=null,_=null,w=null,D=null,L=null,U=null,P=null,F=new ie(0,0,0),z=0,N=!1,B=null,H=null,st=null,tt=null,J=null;const lt=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let $=!1,et=0;const Q=n.getParameter(n.VERSION);Q.indexOf("WebGL")!==-1?(et=parseFloat(/^WebGL (\d)/.exec(Q)[1]),$=et>=1):Q.indexOf("OpenGL ES")!==-1&&(et=parseFloat(/^OpenGL ES (\d)/.exec(Q)[1]),$=et>=2);let At=null,j={};const rt=n.getParameter(n.SCISSOR_BOX),Tt=n.getParameter(n.VIEWPORT),Ft=new mn().fromArray(rt),it=new mn().fromArray(Tt);function Et(ut,re,Mt,Nt){const ee=new Uint8Array(4),se=n.createTexture();n.bindTexture(ut,se),n.texParameteri(ut,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(ut,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Oe=0;Oe<Mt;Oe++)ut===n.TEXTURE_3D||ut===n.TEXTURE_2D_ARRAY?n.texImage3D(re,0,n.RGBA,1,1,Nt,0,n.RGBA,n.UNSIGNED_BYTE,ee):n.texImage2D(re+Oe,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,ee);return se}const Ut={};Ut[n.TEXTURE_2D]=Et(n.TEXTURE_2D,n.TEXTURE_2D,1),Ut[n.TEXTURE_CUBE_MAP]=Et(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),Ut[n.TEXTURE_2D_ARRAY]=Et(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Ut[n.TEXTURE_3D]=Et(n.TEXTURE_3D,n.TEXTURE_3D,1,1),r.setClear(0,0,0,1),o.setClear(1),l.setClear(0),Ht(n.DEPTH_TEST),o.setFunc(Qh),Vt(!1),$t(RE),Ht(n.CULL_FACE),q(Yc);function Ht(ut){m[ut]!==!0&&(n.enable(ut),m[ut]=!0)}function Xt(ut){m[ut]!==!1&&(n.disable(ut),m[ut]=!1)}function xe(ut,re){return g[ut]!==re?(n.bindFramebuffer(ut,re),g[ut]=re,ut===n.DRAW_FRAMEBUFFER&&(g[n.FRAMEBUFFER]=re),ut===n.FRAMEBUFFER&&(g[n.DRAW_FRAMEBUFFER]=re),!0):!1}function Wt(ut,re){let Mt=A,Nt=!1;if(ut){Mt=v.get(re),Mt===void 0&&(Mt=[],v.set(re,Mt));const ee=ut.textures;if(Mt.length!==ee.length||Mt[0]!==n.COLOR_ATTACHMENT0){for(let se=0,Oe=ee.length;se<Oe;se++)Mt[se]=n.COLOR_ATTACHMENT0+se;Mt.length=ee.length,Nt=!0}}else Mt[0]!==n.BACK&&(Mt[0]=n.BACK,Nt=!0);Nt&&n.drawBuffers(Mt)}function ue(ut){return S!==ut?(n.useProgram(ut),S=ut,!0):!1}const Pt={[nf]:n.FUNC_ADD,[iN]:n.FUNC_SUBTRACT,[sN]:n.FUNC_REVERSE_SUBTRACT};Pt[rN]=n.MIN,Pt[aN]=n.MAX;const Bt={[oN]:n.ZERO,[lN]:n.ONE,[cN]:n.SRC_COLOR,[M1]:n.SRC_ALPHA,[mN]:n.SRC_ALPHA_SATURATE,[dN]:n.DST_COLOR,[fN]:n.DST_ALPHA,[uN]:n.ONE_MINUS_SRC_COLOR,[E1]:n.ONE_MINUS_SRC_ALPHA,[pN]:n.ONE_MINUS_DST_COLOR,[hN]:n.ONE_MINUS_DST_ALPHA,[gN]:n.CONSTANT_COLOR,[yN]:n.ONE_MINUS_CONSTANT_COLOR,[vN]:n.CONSTANT_ALPHA,[xN]:n.ONE_MINUS_CONSTANT_ALPHA};function q(ut,re,Mt,Nt,ee,se,Oe,Vn,ai,dn){if(ut===Yc){E===!0&&(Xt(n.BLEND),E=!1);return}if(E===!1&&(Ht(n.BLEND),E=!0),ut!==nN){if(ut!==T||dn!==N){if((_!==nf||L!==nf)&&(n.blendEquation(n.FUNC_ADD),_=nf,L=nf),dn)switch(ut){case jh:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case wE:n.blendFunc(n.ONE,n.ONE);break;case BE:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case DE:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ut);break}else switch(ut){case jh:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case wE:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case BE:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case DE:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ut);break}w=null,D=null,U=null,P=null,F.set(0,0,0),z=0,T=ut,N=dn}return}ee=ee||re,se=se||Mt,Oe=Oe||Nt,(re!==_||ee!==L)&&(n.blendEquationSeparate(Pt[re],Pt[ee]),_=re,L=ee),(Mt!==w||Nt!==D||se!==U||Oe!==P)&&(n.blendFuncSeparate(Bt[Mt],Bt[Nt],Bt[se],Bt[Oe]),w=Mt,D=Nt,U=se,P=Oe),(Vn.equals(F)===!1||ai!==z)&&(n.blendColor(Vn.r,Vn.g,Vn.b,ai),F.copy(Vn),z=ai),T=ut,N=!1}function he(ut,re){ut.side===Qa?Xt(n.CULL_FACE):Ht(n.CULL_FACE);let Mt=ut.side===Ur;re&&(Mt=!Mt),Vt(Mt),ut.blending===jh&&ut.transparent===!1?q(Yc):q(ut.blending,ut.blendEquation,ut.blendSrc,ut.blendDst,ut.blendEquationAlpha,ut.blendSrcAlpha,ut.blendDstAlpha,ut.blendColor,ut.blendAlpha,ut.premultipliedAlpha),o.setFunc(ut.depthFunc),o.setTest(ut.depthTest),o.setMask(ut.depthWrite),r.setMask(ut.colorWrite);const Nt=ut.stencilWrite;l.setTest(Nt),Nt&&(l.setMask(ut.stencilWriteMask),l.setFunc(ut.stencilFunc,ut.stencilRef,ut.stencilFuncMask),l.setOp(ut.stencilFail,ut.stencilZFail,ut.stencilZPass)),_e(ut.polygonOffset,ut.polygonOffsetFactor,ut.polygonOffsetUnits),ut.alphaToCoverage===!0?Ht(n.SAMPLE_ALPHA_TO_COVERAGE):Xt(n.SAMPLE_ALPHA_TO_COVERAGE)}function Vt(ut){B!==ut&&(ut?n.frontFace(n.CW):n.frontFace(n.CCW),B=ut)}function $t(ut){ut!==$P?(Ht(n.CULL_FACE),ut!==H&&(ut===RE?n.cullFace(n.BACK):ut===tN?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Xt(n.CULL_FACE),H=ut}function Qt(ut){ut!==st&&($&&n.lineWidth(ut),st=ut)}function _e(ut,re,Mt){ut?(Ht(n.POLYGON_OFFSET_FILL),(tt!==re||J!==Mt)&&(n.polygonOffset(re,Mt),tt=re,J=Mt)):Xt(n.POLYGON_OFFSET_FILL)}function Zt(ut){ut?Ht(n.SCISSOR_TEST):Xt(n.SCISSOR_TEST)}function Y(ut){ut===void 0&&(ut=n.TEXTURE0+lt-1),At!==ut&&(n.activeTexture(ut),At=ut)}function G(ut,re,Mt){Mt===void 0&&(At===null?Mt=n.TEXTURE0+lt-1:Mt=At);let Nt=j[Mt];Nt===void 0&&(Nt={type:void 0,texture:void 0},j[Mt]=Nt),(Nt.type!==ut||Nt.texture!==re)&&(At!==Mt&&(n.activeTexture(Mt),At=Mt),n.bindTexture(ut,re||Ut[ut]),Nt.type=ut,Nt.texture=re)}function yt(){const ut=j[At];ut!==void 0&&ut.type!==void 0&&(n.bindTexture(ut.type,null),ut.type=void 0,ut.texture=void 0)}function Ct(){try{n.compressedTexImage2D.apply(n,arguments)}catch(ut){console.error("THREE.WebGLState:",ut)}}function Gt(){try{n.compressedTexImage3D.apply(n,arguments)}catch(ut){console.error("THREE.WebGLState:",ut)}}function Dt(){try{n.texSubImage2D.apply(n,arguments)}catch(ut){console.error("THREE.WebGLState:",ut)}}function fe(){try{n.texSubImage3D.apply(n,arguments)}catch(ut){console.error("THREE.WebGLState:",ut)}}function ne(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(ut){console.error("THREE.WebGLState:",ut)}}function de(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(ut){console.error("THREE.WebGLState:",ut)}}function Je(){try{n.texStorage2D.apply(n,arguments)}catch(ut){console.error("THREE.WebGLState:",ut)}}function qt(){try{n.texStorage3D.apply(n,arguments)}catch(ut){console.error("THREE.WebGLState:",ut)}}function me(){try{n.texImage2D.apply(n,arguments)}catch(ut){console.error("THREE.WebGLState:",ut)}}function Ae(){try{n.texImage3D.apply(n,arguments)}catch(ut){console.error("THREE.WebGLState:",ut)}}function ve(ut){Ft.equals(ut)===!1&&(n.scissor(ut.x,ut.y,ut.z,ut.w),Ft.copy(ut))}function pe(ut){it.equals(ut)===!1&&(n.viewport(ut.x,ut.y,ut.z,ut.w),it.copy(ut))}function Ge(ut,re){let Mt=d.get(re);Mt===void 0&&(Mt=new WeakMap,d.set(re,Mt));let Nt=Mt.get(ut);Nt===void 0&&(Nt=n.getUniformBlockIndex(re,ut.name),Mt.set(ut,Nt))}function Me(ut,re){const Nt=d.get(re).get(ut);u.get(re)!==Nt&&(n.uniformBlockBinding(re,Nt,ut.__bindingPointIndex),u.set(re,Nt))}function bn(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),o.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),m={},At=null,j={},g={},v=new WeakMap,A=[],S=null,E=!1,T=null,_=null,w=null,D=null,L=null,U=null,P=null,F=new ie(0,0,0),z=0,N=!1,B=null,H=null,st=null,tt=null,J=null,Ft.set(0,0,n.canvas.width,n.canvas.height),it.set(0,0,n.canvas.width,n.canvas.height),r.reset(),o.reset(),l.reset()}return{buffers:{color:r,depth:o,stencil:l},enable:Ht,disable:Xt,bindFramebuffer:xe,drawBuffers:Wt,useProgram:ue,setBlending:q,setMaterial:he,setFlipSided:Vt,setCullFace:$t,setLineWidth:Qt,setPolygonOffset:_e,setScissorTest:Zt,activeTexture:Y,bindTexture:G,unbindTexture:yt,compressedTexImage2D:Ct,compressedTexImage3D:Gt,texImage2D:me,texImage3D:Ae,updateUBOMapping:Ge,uniformBlockBinding:Me,texStorage2D:Je,texStorage3D:qt,texSubImage2D:Dt,texSubImage3D:fe,compressedTexSubImage2D:ne,compressedTexSubImage3D:de,scissor:ve,viewport:pe,reset:bn}}function tq(n,t,e,i,s,r,o){const l=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,u=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),d=new It,m=new WeakMap;let g;const v=new WeakMap;let A=!1;try{A=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function S(Y,G){return A?new OffscreenCanvas(Y,G):gy("canvas")}function E(Y,G,yt){let Ct=1;const Gt=Zt(Y);if((Gt.width>yt||Gt.height>yt)&&(Ct=yt/Math.max(Gt.width,Gt.height)),Ct<1)if(typeof HTMLImageElement<"u"&&Y instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Y instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Y instanceof ImageBitmap||typeof VideoFrame<"u"&&Y instanceof VideoFrame){const Dt=Math.floor(Ct*Gt.width),fe=Math.floor(Ct*Gt.height);g===void 0&&(g=S(Dt,fe));const ne=G?S(Dt,fe):g;return ne.width=Dt,ne.height=fe,ne.getContext("2d").drawImage(Y,0,0,Dt,fe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Gt.width+"x"+Gt.height+") to ("+Dt+"x"+fe+")."),ne}else return"data"in Y&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Gt.width+"x"+Gt.height+")."),Y;return Y}function T(Y){return Y.generateMipmaps}function _(Y){n.generateMipmap(Y)}function w(Y){return Y.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:Y.isWebGL3DRenderTarget?n.TEXTURE_3D:Y.isWebGLArrayRenderTarget||Y.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function D(Y,G,yt,Ct,Gt=!1){if(Y!==null){if(n[Y]!==void 0)return n[Y];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Y+"'")}let Dt=G;if(G===n.RED&&(yt===n.FLOAT&&(Dt=n.R32F),yt===n.HALF_FLOAT&&(Dt=n.R16F),yt===n.UNSIGNED_BYTE&&(Dt=n.R8)),G===n.RED_INTEGER&&(yt===n.UNSIGNED_BYTE&&(Dt=n.R8UI),yt===n.UNSIGNED_SHORT&&(Dt=n.R16UI),yt===n.UNSIGNED_INT&&(Dt=n.R32UI),yt===n.BYTE&&(Dt=n.R8I),yt===n.SHORT&&(Dt=n.R16I),yt===n.INT&&(Dt=n.R32I)),G===n.RG&&(yt===n.FLOAT&&(Dt=n.RG32F),yt===n.HALF_FLOAT&&(Dt=n.RG16F),yt===n.UNSIGNED_BYTE&&(Dt=n.RG8)),G===n.RG_INTEGER&&(yt===n.UNSIGNED_BYTE&&(Dt=n.RG8UI),yt===n.UNSIGNED_SHORT&&(Dt=n.RG16UI),yt===n.UNSIGNED_INT&&(Dt=n.RG32UI),yt===n.BYTE&&(Dt=n.RG8I),yt===n.SHORT&&(Dt=n.RG16I),yt===n.INT&&(Dt=n.RG32I)),G===n.RGB_INTEGER&&(yt===n.UNSIGNED_BYTE&&(Dt=n.RGB8UI),yt===n.UNSIGNED_SHORT&&(Dt=n.RGB16UI),yt===n.UNSIGNED_INT&&(Dt=n.RGB32UI),yt===n.BYTE&&(Dt=n.RGB8I),yt===n.SHORT&&(Dt=n.RGB16I),yt===n.INT&&(Dt=n.RGB32I)),G===n.RGBA_INTEGER&&(yt===n.UNSIGNED_BYTE&&(Dt=n.RGBA8UI),yt===n.UNSIGNED_SHORT&&(Dt=n.RGBA16UI),yt===n.UNSIGNED_INT&&(Dt=n.RGBA32UI),yt===n.BYTE&&(Dt=n.RGBA8I),yt===n.SHORT&&(Dt=n.RGBA16I),yt===n.INT&&(Dt=n.RGBA32I)),G===n.RGB&&yt===n.UNSIGNED_INT_5_9_9_9_REV&&(Dt=n.RGB9_E5),G===n.RGBA){const fe=Gt?dy:_n.getTransfer(Ct);yt===n.FLOAT&&(Dt=n.RGBA32F),yt===n.HALF_FLOAT&&(Dt=n.RGBA16F),yt===n.UNSIGNED_BYTE&&(Dt=fe===jn?n.SRGB8_ALPHA8:n.RGBA8),yt===n.UNSIGNED_SHORT_4_4_4_4&&(Dt=n.RGBA4),yt===n.UNSIGNED_SHORT_5_5_5_1&&(Dt=n.RGB5_A1)}return(Dt===n.R16F||Dt===n.R32F||Dt===n.RG16F||Dt===n.RG32F||Dt===n.RGBA16F||Dt===n.RGBA32F)&&t.get("EXT_color_buffer_float"),Dt}function L(Y,G){let yt;return Y?G===null||G===Zc||G===Zh?yt=n.DEPTH24_STENCIL8:G===ta?yt=n.DEPTH32F_STENCIL8:G===hm&&(yt=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):G===null||G===Zc||G===Zh?yt=n.DEPTH_COMPONENT24:G===ta?yt=n.DEPTH_COMPONENT32F:G===hm&&(yt=n.DEPTH_COMPONENT16),yt}function U(Y,G){return T(Y)===!0||Y.isFramebufferTexture&&Y.minFilter!==Ls&&Y.minFilter!==Ki?Math.log2(Math.max(G.width,G.height))+1:Y.mipmaps!==void 0&&Y.mipmaps.length>0?Y.mipmaps.length:Y.isCompressedTexture&&Array.isArray(Y.image)?G.mipmaps.length:1}function P(Y){const G=Y.target;G.removeEventListener("dispose",P),z(G),G.isVideoTexture&&m.delete(G)}function F(Y){const G=Y.target;G.removeEventListener("dispose",F),B(G)}function z(Y){const G=i.get(Y);if(G.__webglInit===void 0)return;const yt=Y.source,Ct=v.get(yt);if(Ct){const Gt=Ct[G.__cacheKey];Gt.usedTimes--,Gt.usedTimes===0&&N(Y),Object.keys(Ct).length===0&&v.delete(yt)}i.remove(Y)}function N(Y){const G=i.get(Y);n.deleteTexture(G.__webglTexture);const yt=Y.source,Ct=v.get(yt);delete Ct[G.__cacheKey],o.memory.textures--}function B(Y){const G=i.get(Y);if(Y.depthTexture&&(Y.depthTexture.dispose(),i.remove(Y.depthTexture)),Y.isWebGLCubeRenderTarget)for(let Ct=0;Ct<6;Ct++){if(Array.isArray(G.__webglFramebuffer[Ct]))for(let Gt=0;Gt<G.__webglFramebuffer[Ct].length;Gt++)n.deleteFramebuffer(G.__webglFramebuffer[Ct][Gt]);else n.deleteFramebuffer(G.__webglFramebuffer[Ct]);G.__webglDepthbuffer&&n.deleteRenderbuffer(G.__webglDepthbuffer[Ct])}else{if(Array.isArray(G.__webglFramebuffer))for(let Ct=0;Ct<G.__webglFramebuffer.length;Ct++)n.deleteFramebuffer(G.__webglFramebuffer[Ct]);else n.deleteFramebuffer(G.__webglFramebuffer);if(G.__webglDepthbuffer&&n.deleteRenderbuffer(G.__webglDepthbuffer),G.__webglMultisampledFramebuffer&&n.deleteFramebuffer(G.__webglMultisampledFramebuffer),G.__webglColorRenderbuffer)for(let Ct=0;Ct<G.__webglColorRenderbuffer.length;Ct++)G.__webglColorRenderbuffer[Ct]&&n.deleteRenderbuffer(G.__webglColorRenderbuffer[Ct]);G.__webglDepthRenderbuffer&&n.deleteRenderbuffer(G.__webglDepthRenderbuffer)}const yt=Y.textures;for(let Ct=0,Gt=yt.length;Ct<Gt;Ct++){const Dt=i.get(yt[Ct]);Dt.__webglTexture&&(n.deleteTexture(Dt.__webglTexture),o.memory.textures--),i.remove(yt[Ct])}i.remove(Y)}let H=0;function st(){H=0}function tt(){const Y=H;return Y>=s.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+Y+" texture units while this GPU supports only "+s.maxTextures),H+=1,Y}function J(Y){const G=[];return G.push(Y.wrapS),G.push(Y.wrapT),G.push(Y.wrapR||0),G.push(Y.magFilter),G.push(Y.minFilter),G.push(Y.anisotropy),G.push(Y.internalFormat),G.push(Y.format),G.push(Y.type),G.push(Y.generateMipmaps),G.push(Y.premultiplyAlpha),G.push(Y.flipY),G.push(Y.unpackAlignment),G.push(Y.colorSpace),G.join()}function lt(Y,G){const yt=i.get(Y);if(Y.isVideoTexture&&Qt(Y),Y.isRenderTargetTexture===!1&&Y.version>0&&yt.__version!==Y.version){const Ct=Y.image;if(Ct===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ct.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{it(yt,Y,G);return}}e.bindTexture(n.TEXTURE_2D,yt.__webglTexture,n.TEXTURE0+G)}function $(Y,G){const yt=i.get(Y);if(Y.version>0&&yt.__version!==Y.version){it(yt,Y,G);return}e.bindTexture(n.TEXTURE_2D_ARRAY,yt.__webglTexture,n.TEXTURE0+G)}function et(Y,G){const yt=i.get(Y);if(Y.version>0&&yt.__version!==Y.version){it(yt,Y,G);return}e.bindTexture(n.TEXTURE_3D,yt.__webglTexture,n.TEXTURE0+G)}function Q(Y,G){const yt=i.get(Y);if(Y.version>0&&yt.__version!==Y.version){Et(yt,Y,G);return}e.bindTexture(n.TEXTURE_CUBE_MAP,yt.__webglTexture,n.TEXTURE0+G)}const At={[cf]:n.REPEAT,[Sa]:n.CLAMP_TO_EDGE,[fm]:n.MIRRORED_REPEAT},j={[Ls]:n.NEAREST,[OS]:n.NEAREST_MIPMAP_NEAREST,[Nh]:n.NEAREST_MIPMAP_LINEAR,[Ki]:n.LINEAR,[nm]:n.LINEAR_MIPMAP_NEAREST,[Za]:n.LINEAR_MIPMAP_LINEAR},rt={[NN]:n.NEVER,[VN]:n.ALWAYS,[IN]:n.LESS,[MC]:n.LEQUAL,[FN]:n.EQUAL,[GN]:n.GEQUAL,[zN]:n.GREATER,[HN]:n.NOTEQUAL};function Tt(Y,G){if(G.type===ta&&t.has("OES_texture_float_linear")===!1&&(G.magFilter===Ki||G.magFilter===nm||G.magFilter===Nh||G.magFilter===Za||G.minFilter===Ki||G.minFilter===nm||G.minFilter===Nh||G.minFilter===Za)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(Y,n.TEXTURE_WRAP_S,At[G.wrapS]),n.texParameteri(Y,n.TEXTURE_WRAP_T,At[G.wrapT]),(Y===n.TEXTURE_3D||Y===n.TEXTURE_2D_ARRAY)&&n.texParameteri(Y,n.TEXTURE_WRAP_R,At[G.wrapR]),n.texParameteri(Y,n.TEXTURE_MAG_FILTER,j[G.magFilter]),n.texParameteri(Y,n.TEXTURE_MIN_FILTER,j[G.minFilter]),G.compareFunction&&(n.texParameteri(Y,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(Y,n.TEXTURE_COMPARE_FUNC,rt[G.compareFunction])),t.has("EXT_texture_filter_anisotropic")===!0){if(G.magFilter===Ls||G.minFilter!==Nh&&G.minFilter!==Za||G.type===ta&&t.has("OES_texture_float_linear")===!1)return;if(G.anisotropy>1||i.get(G).__currentAnisotropy){const yt=t.get("EXT_texture_filter_anisotropic");n.texParameterf(Y,yt.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(G.anisotropy,s.getMaxAnisotropy())),i.get(G).__currentAnisotropy=G.anisotropy}}}function Ft(Y,G){let yt=!1;Y.__webglInit===void 0&&(Y.__webglInit=!0,G.addEventListener("dispose",P));const Ct=G.source;let Gt=v.get(Ct);Gt===void 0&&(Gt={},v.set(Ct,Gt));const Dt=J(G);if(Dt!==Y.__cacheKey){Gt[Dt]===void 0&&(Gt[Dt]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,yt=!0),Gt[Dt].usedTimes++;const fe=Gt[Y.__cacheKey];fe!==void 0&&(Gt[Y.__cacheKey].usedTimes--,fe.usedTimes===0&&N(G)),Y.__cacheKey=Dt,Y.__webglTexture=Gt[Dt].texture}return yt}function it(Y,G,yt){let Ct=n.TEXTURE_2D;(G.isDataArrayTexture||G.isCompressedArrayTexture)&&(Ct=n.TEXTURE_2D_ARRAY),G.isData3DTexture&&(Ct=n.TEXTURE_3D);const Gt=Ft(Y,G),Dt=G.source;e.bindTexture(Ct,Y.__webglTexture,n.TEXTURE0+yt);const fe=i.get(Dt);if(Dt.version!==fe.__version||Gt===!0){e.activeTexture(n.TEXTURE0+yt);const ne=_n.getPrimaries(_n.workingColorSpace),de=G.colorSpace===zc?null:_n.getPrimaries(G.colorSpace),Je=G.colorSpace===zc||ne===de?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,G.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,G.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Je);let qt=E(G.image,!1,s.maxTextureSize);qt=_e(G,qt);const me=r.convert(G.format,G.colorSpace),Ae=r.convert(G.type);let ve=D(G.internalFormat,me,Ae,G.colorSpace,G.isVideoTexture);Tt(Ct,G);let pe;const Ge=G.mipmaps,Me=G.isVideoTexture!==!0,bn=fe.__version===void 0||Gt===!0,ut=Dt.dataReady,re=U(G,qt);if(G.isDepthTexture)ve=L(G.format===$h,G.type),bn&&(Me?e.texStorage2D(n.TEXTURE_2D,1,ve,qt.width,qt.height):e.texImage2D(n.TEXTURE_2D,0,ve,qt.width,qt.height,0,me,Ae,null));else if(G.isDataTexture)if(Ge.length>0){Me&&bn&&e.texStorage2D(n.TEXTURE_2D,re,ve,Ge[0].width,Ge[0].height);for(let Mt=0,Nt=Ge.length;Mt<Nt;Mt++)pe=Ge[Mt],Me?ut&&e.texSubImage2D(n.TEXTURE_2D,Mt,0,0,pe.width,pe.height,me,Ae,pe.data):e.texImage2D(n.TEXTURE_2D,Mt,ve,pe.width,pe.height,0,me,Ae,pe.data);G.generateMipmaps=!1}else Me?(bn&&e.texStorage2D(n.TEXTURE_2D,re,ve,qt.width,qt.height),ut&&e.texSubImage2D(n.TEXTURE_2D,0,0,0,qt.width,qt.height,me,Ae,qt.data)):e.texImage2D(n.TEXTURE_2D,0,ve,qt.width,qt.height,0,me,Ae,qt.data);else if(G.isCompressedTexture)if(G.isCompressedArrayTexture){Me&&bn&&e.texStorage3D(n.TEXTURE_2D_ARRAY,re,ve,Ge[0].width,Ge[0].height,qt.depth);for(let Mt=0,Nt=Ge.length;Mt<Nt;Mt++)if(pe=Ge[Mt],G.format!==fr)if(me!==null)if(Me){if(ut)if(G.layerUpdates.size>0){const ee=HE(pe.width,pe.height,G.format,G.type);for(const se of G.layerUpdates){const Oe=pe.data.subarray(se*ee/pe.data.BYTES_PER_ELEMENT,(se+1)*ee/pe.data.BYTES_PER_ELEMENT);e.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Mt,0,0,se,pe.width,pe.height,1,me,Oe)}G.clearLayerUpdates()}else e.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Mt,0,0,0,pe.width,pe.height,qt.depth,me,pe.data)}else e.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Mt,ve,pe.width,pe.height,qt.depth,0,pe.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Me?ut&&e.texSubImage3D(n.TEXTURE_2D_ARRAY,Mt,0,0,0,pe.width,pe.height,qt.depth,me,Ae,pe.data):e.texImage3D(n.TEXTURE_2D_ARRAY,Mt,ve,pe.width,pe.height,qt.depth,0,me,Ae,pe.data)}else{Me&&bn&&e.texStorage2D(n.TEXTURE_2D,re,ve,Ge[0].width,Ge[0].height);for(let Mt=0,Nt=Ge.length;Mt<Nt;Mt++)pe=Ge[Mt],G.format!==fr?me!==null?Me?ut&&e.compressedTexSubImage2D(n.TEXTURE_2D,Mt,0,0,pe.width,pe.height,me,pe.data):e.compressedTexImage2D(n.TEXTURE_2D,Mt,ve,pe.width,pe.height,0,pe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Me?ut&&e.texSubImage2D(n.TEXTURE_2D,Mt,0,0,pe.width,pe.height,me,Ae,pe.data):e.texImage2D(n.TEXTURE_2D,Mt,ve,pe.width,pe.height,0,me,Ae,pe.data)}else if(G.isDataArrayTexture)if(Me){if(bn&&e.texStorage3D(n.TEXTURE_2D_ARRAY,re,ve,qt.width,qt.height,qt.depth),ut)if(G.layerUpdates.size>0){const Mt=HE(qt.width,qt.height,G.format,G.type);for(const Nt of G.layerUpdates){const ee=qt.data.subarray(Nt*Mt/qt.data.BYTES_PER_ELEMENT,(Nt+1)*Mt/qt.data.BYTES_PER_ELEMENT);e.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,Nt,qt.width,qt.height,1,me,Ae,ee)}G.clearLayerUpdates()}else e.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,qt.width,qt.height,qt.depth,me,Ae,qt.data)}else e.texImage3D(n.TEXTURE_2D_ARRAY,0,ve,qt.width,qt.height,qt.depth,0,me,Ae,qt.data);else if(G.isData3DTexture)Me?(bn&&e.texStorage3D(n.TEXTURE_3D,re,ve,qt.width,qt.height,qt.depth),ut&&e.texSubImage3D(n.TEXTURE_3D,0,0,0,0,qt.width,qt.height,qt.depth,me,Ae,qt.data)):e.texImage3D(n.TEXTURE_3D,0,ve,qt.width,qt.height,qt.depth,0,me,Ae,qt.data);else if(G.isFramebufferTexture){if(bn)if(Me)e.texStorage2D(n.TEXTURE_2D,re,ve,qt.width,qt.height);else{let Mt=qt.width,Nt=qt.height;for(let ee=0;ee<re;ee++)e.texImage2D(n.TEXTURE_2D,ee,ve,Mt,Nt,0,me,Ae,null),Mt>>=1,Nt>>=1}}else if(Ge.length>0){if(Me&&bn){const Mt=Zt(Ge[0]);e.texStorage2D(n.TEXTURE_2D,re,ve,Mt.width,Mt.height)}for(let Mt=0,Nt=Ge.length;Mt<Nt;Mt++)pe=Ge[Mt],Me?ut&&e.texSubImage2D(n.TEXTURE_2D,Mt,0,0,me,Ae,pe):e.texImage2D(n.TEXTURE_2D,Mt,ve,me,Ae,pe);G.generateMipmaps=!1}else if(Me){if(bn){const Mt=Zt(qt);e.texStorage2D(n.TEXTURE_2D,re,ve,Mt.width,Mt.height)}ut&&e.texSubImage2D(n.TEXTURE_2D,0,0,0,me,Ae,qt)}else e.texImage2D(n.TEXTURE_2D,0,ve,me,Ae,qt);T(G)&&_(Ct),fe.__version=Dt.version,G.onUpdate&&G.onUpdate(G)}Y.__version=G.version}function Et(Y,G,yt){if(G.image.length!==6)return;const Ct=Ft(Y,G),Gt=G.source;e.bindTexture(n.TEXTURE_CUBE_MAP,Y.__webglTexture,n.TEXTURE0+yt);const Dt=i.get(Gt);if(Gt.version!==Dt.__version||Ct===!0){e.activeTexture(n.TEXTURE0+yt);const fe=_n.getPrimaries(_n.workingColorSpace),ne=G.colorSpace===zc?null:_n.getPrimaries(G.colorSpace),de=G.colorSpace===zc||fe===ne?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,G.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,G.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,de);const Je=G.isCompressedTexture||G.image[0].isCompressedTexture,qt=G.image[0]&&G.image[0].isDataTexture,me=[];for(let Nt=0;Nt<6;Nt++)!Je&&!qt?me[Nt]=E(G.image[Nt],!0,s.maxCubemapSize):me[Nt]=qt?G.image[Nt].image:G.image[Nt],me[Nt]=_e(G,me[Nt]);const Ae=me[0],ve=r.convert(G.format,G.colorSpace),pe=r.convert(G.type),Ge=D(G.internalFormat,ve,pe,G.colorSpace),Me=G.isVideoTexture!==!0,bn=Dt.__version===void 0||Ct===!0,ut=Gt.dataReady;let re=U(G,Ae);Tt(n.TEXTURE_CUBE_MAP,G);let Mt;if(Je){Me&&bn&&e.texStorage2D(n.TEXTURE_CUBE_MAP,re,Ge,Ae.width,Ae.height);for(let Nt=0;Nt<6;Nt++){Mt=me[Nt].mipmaps;for(let ee=0;ee<Mt.length;ee++){const se=Mt[ee];G.format!==fr?ve!==null?Me?ut&&e.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Nt,ee,0,0,se.width,se.height,ve,se.data):e.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Nt,ee,Ge,se.width,se.height,0,se.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Me?ut&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Nt,ee,0,0,se.width,se.height,ve,pe,se.data):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Nt,ee,Ge,se.width,se.height,0,ve,pe,se.data)}}}else{if(Mt=G.mipmaps,Me&&bn){Mt.length>0&&re++;const Nt=Zt(me[0]);e.texStorage2D(n.TEXTURE_CUBE_MAP,re,Ge,Nt.width,Nt.height)}for(let Nt=0;Nt<6;Nt++)if(qt){Me?ut&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Nt,0,0,0,me[Nt].width,me[Nt].height,ve,pe,me[Nt].data):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Nt,0,Ge,me[Nt].width,me[Nt].height,0,ve,pe,me[Nt].data);for(let ee=0;ee<Mt.length;ee++){const Oe=Mt[ee].image[Nt].image;Me?ut&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Nt,ee+1,0,0,Oe.width,Oe.height,ve,pe,Oe.data):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Nt,ee+1,Ge,Oe.width,Oe.height,0,ve,pe,Oe.data)}}else{Me?ut&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Nt,0,0,0,ve,pe,me[Nt]):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Nt,0,Ge,ve,pe,me[Nt]);for(let ee=0;ee<Mt.length;ee++){const se=Mt[ee];Me?ut&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Nt,ee+1,0,0,ve,pe,se.image[Nt]):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Nt,ee+1,Ge,ve,pe,se.image[Nt])}}}T(G)&&_(n.TEXTURE_CUBE_MAP),Dt.__version=Gt.version,G.onUpdate&&G.onUpdate(G)}Y.__version=G.version}function Ut(Y,G,yt,Ct,Gt,Dt){const fe=r.convert(yt.format,yt.colorSpace),ne=r.convert(yt.type),de=D(yt.internalFormat,fe,ne,yt.colorSpace),Je=i.get(G),qt=i.get(yt);if(qt.__renderTarget=G,!Je.__hasExternalTextures){const me=Math.max(1,G.width>>Dt),Ae=Math.max(1,G.height>>Dt);Gt===n.TEXTURE_3D||Gt===n.TEXTURE_2D_ARRAY?e.texImage3D(Gt,Dt,de,me,Ae,G.depth,0,fe,ne,null):e.texImage2D(Gt,Dt,de,me,Ae,0,fe,ne,null)}e.bindFramebuffer(n.FRAMEBUFFER,Y),$t(G)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Ct,Gt,qt.__webglTexture,0,Vt(G)):(Gt===n.TEXTURE_2D||Gt>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Gt<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Ct,Gt,qt.__webglTexture,Dt),e.bindFramebuffer(n.FRAMEBUFFER,null)}function Ht(Y,G,yt){if(n.bindRenderbuffer(n.RENDERBUFFER,Y),G.depthBuffer){const Ct=G.depthTexture,Gt=Ct&&Ct.isDepthTexture?Ct.type:null,Dt=L(G.stencilBuffer,Gt),fe=G.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ne=Vt(G);$t(G)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ne,Dt,G.width,G.height):yt?n.renderbufferStorageMultisample(n.RENDERBUFFER,ne,Dt,G.width,G.height):n.renderbufferStorage(n.RENDERBUFFER,Dt,G.width,G.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,fe,n.RENDERBUFFER,Y)}else{const Ct=G.textures;for(let Gt=0;Gt<Ct.length;Gt++){const Dt=Ct[Gt],fe=r.convert(Dt.format,Dt.colorSpace),ne=r.convert(Dt.type),de=D(Dt.internalFormat,fe,ne,Dt.colorSpace),Je=Vt(G);yt&&$t(G)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Je,de,G.width,G.height):$t(G)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Je,de,G.width,G.height):n.renderbufferStorage(n.RENDERBUFFER,de,G.width,G.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Xt(Y,G){if(G&&G.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(n.FRAMEBUFFER,Y),!(G.depthTexture&&G.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ct=i.get(G.depthTexture);Ct.__renderTarget=G,(!Ct.__webglTexture||G.depthTexture.image.width!==G.width||G.depthTexture.image.height!==G.height)&&(G.depthTexture.image.width=G.width,G.depthTexture.image.height=G.height,G.depthTexture.needsUpdate=!0),lt(G.depthTexture,0);const Gt=Ct.__webglTexture,Dt=Vt(G);if(G.depthTexture.format===Yh)$t(G)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Gt,0,Dt):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Gt,0);else if(G.depthTexture.format===$h)$t(G)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Gt,0,Dt):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Gt,0);else throw new Error("Unknown depthTexture format")}function xe(Y){const G=i.get(Y),yt=Y.isWebGLCubeRenderTarget===!0;if(G.__boundDepthTexture!==Y.depthTexture){const Ct=Y.depthTexture;if(G.__depthDisposeCallback&&G.__depthDisposeCallback(),Ct){const Gt=()=>{delete G.__boundDepthTexture,delete G.__depthDisposeCallback,Ct.removeEventListener("dispose",Gt)};Ct.addEventListener("dispose",Gt),G.__depthDisposeCallback=Gt}G.__boundDepthTexture=Ct}if(Y.depthTexture&&!G.__autoAllocateDepthBuffer){if(yt)throw new Error("target.depthTexture not supported in Cube render targets");Xt(G.__webglFramebuffer,Y)}else if(yt){G.__webglDepthbuffer=[];for(let Ct=0;Ct<6;Ct++)if(e.bindFramebuffer(n.FRAMEBUFFER,G.__webglFramebuffer[Ct]),G.__webglDepthbuffer[Ct]===void 0)G.__webglDepthbuffer[Ct]=n.createRenderbuffer(),Ht(G.__webglDepthbuffer[Ct],Y,!1);else{const Gt=Y.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Dt=G.__webglDepthbuffer[Ct];n.bindRenderbuffer(n.RENDERBUFFER,Dt),n.framebufferRenderbuffer(n.FRAMEBUFFER,Gt,n.RENDERBUFFER,Dt)}}else if(e.bindFramebuffer(n.FRAMEBUFFER,G.__webglFramebuffer),G.__webglDepthbuffer===void 0)G.__webglDepthbuffer=n.createRenderbuffer(),Ht(G.__webglDepthbuffer,Y,!1);else{const Ct=Y.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Gt=G.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,Gt),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ct,n.RENDERBUFFER,Gt)}e.bindFramebuffer(n.FRAMEBUFFER,null)}function Wt(Y,G,yt){const Ct=i.get(Y);G!==void 0&&Ut(Ct.__webglFramebuffer,Y,Y.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),yt!==void 0&&xe(Y)}function ue(Y){const G=Y.texture,yt=i.get(Y),Ct=i.get(G);Y.addEventListener("dispose",F);const Gt=Y.textures,Dt=Y.isWebGLCubeRenderTarget===!0,fe=Gt.length>1;if(fe||(Ct.__webglTexture===void 0&&(Ct.__webglTexture=n.createTexture()),Ct.__version=G.version,o.memory.textures++),Dt){yt.__webglFramebuffer=[];for(let ne=0;ne<6;ne++)if(G.mipmaps&&G.mipmaps.length>0){yt.__webglFramebuffer[ne]=[];for(let de=0;de<G.mipmaps.length;de++)yt.__webglFramebuffer[ne][de]=n.createFramebuffer()}else yt.__webglFramebuffer[ne]=n.createFramebuffer()}else{if(G.mipmaps&&G.mipmaps.length>0){yt.__webglFramebuffer=[];for(let ne=0;ne<G.mipmaps.length;ne++)yt.__webglFramebuffer[ne]=n.createFramebuffer()}else yt.__webglFramebuffer=n.createFramebuffer();if(fe)for(let ne=0,de=Gt.length;ne<de;ne++){const Je=i.get(Gt[ne]);Je.__webglTexture===void 0&&(Je.__webglTexture=n.createTexture(),o.memory.textures++)}if(Y.samples>0&&$t(Y)===!1){yt.__webglMultisampledFramebuffer=n.createFramebuffer(),yt.__webglColorRenderbuffer=[],e.bindFramebuffer(n.FRAMEBUFFER,yt.__webglMultisampledFramebuffer);for(let ne=0;ne<Gt.length;ne++){const de=Gt[ne];yt.__webglColorRenderbuffer[ne]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,yt.__webglColorRenderbuffer[ne]);const Je=r.convert(de.format,de.colorSpace),qt=r.convert(de.type),me=D(de.internalFormat,Je,qt,de.colorSpace,Y.isXRRenderTarget===!0),Ae=Vt(Y);n.renderbufferStorageMultisample(n.RENDERBUFFER,Ae,me,Y.width,Y.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ne,n.RENDERBUFFER,yt.__webglColorRenderbuffer[ne])}n.bindRenderbuffer(n.RENDERBUFFER,null),Y.depthBuffer&&(yt.__webglDepthRenderbuffer=n.createRenderbuffer(),Ht(yt.__webglDepthRenderbuffer,Y,!0)),e.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Dt){e.bindTexture(n.TEXTURE_CUBE_MAP,Ct.__webglTexture),Tt(n.TEXTURE_CUBE_MAP,G);for(let ne=0;ne<6;ne++)if(G.mipmaps&&G.mipmaps.length>0)for(let de=0;de<G.mipmaps.length;de++)Ut(yt.__webglFramebuffer[ne][de],Y,G,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,de);else Ut(yt.__webglFramebuffer[ne],Y,G,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ne,0);T(G)&&_(n.TEXTURE_CUBE_MAP),e.unbindTexture()}else if(fe){for(let ne=0,de=Gt.length;ne<de;ne++){const Je=Gt[ne],qt=i.get(Je);e.bindTexture(n.TEXTURE_2D,qt.__webglTexture),Tt(n.TEXTURE_2D,Je),Ut(yt.__webglFramebuffer,Y,Je,n.COLOR_ATTACHMENT0+ne,n.TEXTURE_2D,0),T(Je)&&_(n.TEXTURE_2D)}e.unbindTexture()}else{let ne=n.TEXTURE_2D;if((Y.isWebGL3DRenderTarget||Y.isWebGLArrayRenderTarget)&&(ne=Y.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),e.bindTexture(ne,Ct.__webglTexture),Tt(ne,G),G.mipmaps&&G.mipmaps.length>0)for(let de=0;de<G.mipmaps.length;de++)Ut(yt.__webglFramebuffer[de],Y,G,n.COLOR_ATTACHMENT0,ne,de);else Ut(yt.__webglFramebuffer,Y,G,n.COLOR_ATTACHMENT0,ne,0);T(G)&&_(ne),e.unbindTexture()}Y.depthBuffer&&xe(Y)}function Pt(Y){const G=Y.textures;for(let yt=0,Ct=G.length;yt<Ct;yt++){const Gt=G[yt];if(T(Gt)){const Dt=w(Y),fe=i.get(Gt).__webglTexture;e.bindTexture(Dt,fe),_(Dt),e.unbindTexture()}}}const Bt=[],q=[];function he(Y){if(Y.samples>0){if($t(Y)===!1){const G=Y.textures,yt=Y.width,Ct=Y.height;let Gt=n.COLOR_BUFFER_BIT;const Dt=Y.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,fe=i.get(Y),ne=G.length>1;if(ne)for(let de=0;de<G.length;de++)e.bindFramebuffer(n.FRAMEBUFFER,fe.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+de,n.RENDERBUFFER,null),e.bindFramebuffer(n.FRAMEBUFFER,fe.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+de,n.TEXTURE_2D,null,0);e.bindFramebuffer(n.READ_FRAMEBUFFER,fe.__webglMultisampledFramebuffer),e.bindFramebuffer(n.DRAW_FRAMEBUFFER,fe.__webglFramebuffer);for(let de=0;de<G.length;de++){if(Y.resolveDepthBuffer&&(Y.depthBuffer&&(Gt|=n.DEPTH_BUFFER_BIT),Y.stencilBuffer&&Y.resolveStencilBuffer&&(Gt|=n.STENCIL_BUFFER_BIT)),ne){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,fe.__webglColorRenderbuffer[de]);const Je=i.get(G[de]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Je,0)}n.blitFramebuffer(0,0,yt,Ct,0,0,yt,Ct,Gt,n.NEAREST),u===!0&&(Bt.length=0,q.length=0,Bt.push(n.COLOR_ATTACHMENT0+de),Y.depthBuffer&&Y.resolveDepthBuffer===!1&&(Bt.push(Dt),q.push(Dt),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,q)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Bt))}if(e.bindFramebuffer(n.READ_FRAMEBUFFER,null),e.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),ne)for(let de=0;de<G.length;de++){e.bindFramebuffer(n.FRAMEBUFFER,fe.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+de,n.RENDERBUFFER,fe.__webglColorRenderbuffer[de]);const Je=i.get(G[de]).__webglTexture;e.bindFramebuffer(n.FRAMEBUFFER,fe.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+de,n.TEXTURE_2D,Je,0)}e.bindFramebuffer(n.DRAW_FRAMEBUFFER,fe.__webglMultisampledFramebuffer)}else if(Y.depthBuffer&&Y.resolveDepthBuffer===!1&&u){const G=Y.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[G])}}}function Vt(Y){return Math.min(s.maxSamples,Y.samples)}function $t(Y){const G=i.get(Y);return Y.samples>0&&t.has("WEBGL_multisampled_render_to_texture")===!0&&G.__useRenderToTexture!==!1}function Qt(Y){const G=o.render.frame;m.get(Y)!==G&&(m.set(Y,G),Y.update())}function _e(Y,G){const yt=Y.colorSpace,Ct=Y.format,Gt=Y.type;return Y.isCompressedTexture===!0||Y.isVideoTexture===!0||yt!==uf&&yt!==zc&&(_n.getTransfer(yt)===jn?(Ct!==fr||Gt!==Yo)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",yt)),G}function Zt(Y){return typeof HTMLImageElement<"u"&&Y instanceof HTMLImageElement?(d.width=Y.naturalWidth||Y.width,d.height=Y.naturalHeight||Y.height):typeof VideoFrame<"u"&&Y instanceof VideoFrame?(d.width=Y.displayWidth,d.height=Y.displayHeight):(d.width=Y.width,d.height=Y.height),d}this.allocateTextureUnit=tt,this.resetTextureUnits=st,this.setTexture2D=lt,this.setTexture2DArray=$,this.setTexture3D=et,this.setTextureCube=Q,this.rebindTextures=Wt,this.setupRenderTarget=ue,this.updateRenderTargetMipmap=Pt,this.updateMultisampleRenderTarget=he,this.setupDepthRenderbuffer=xe,this.setupFrameBufferTexture=Ut,this.useMultisampledRTT=$t}function WI(n,t){function e(i,s=zc){let r;const o=_n.getTransfer(s);if(i===Yo)return n.UNSIGNED_BYTE;if(i===PS)return n.UNSIGNED_SHORT_4_4_4_4;if(i===NS)return n.UNSIGNED_SHORT_5_5_5_1;if(i===mC)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===dC)return n.BYTE;if(i===pC)return n.SHORT;if(i===hm)return n.UNSIGNED_SHORT;if(i===US)return n.INT;if(i===Zc)return n.UNSIGNED_INT;if(i===ta)return n.FLOAT;if(i===wm)return n.HALF_FLOAT;if(i===gC)return n.ALPHA;if(i===yC)return n.RGB;if(i===fr)return n.RGBA;if(i===vC)return n.LUMINANCE;if(i===xC)return n.LUMINANCE_ALPHA;if(i===Yh)return n.DEPTH_COMPONENT;if(i===$h)return n.DEPTH_STENCIL;if(i===IS)return n.RED;if(i===ky)return n.RED_INTEGER;if(i===AC)return n.RG;if(i===FS)return n.RG_INTEGER;if(i===zS)return n.RGBA_INTEGER;if(i===V0||i===k0||i===X0||i===j0)if(o===jn)if(r=t.get("WEBGL_compressed_texture_s3tc_srgb"),r!==null){if(i===V0)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===k0)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===X0)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===j0)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(r=t.get("WEBGL_compressed_texture_s3tc"),r!==null){if(i===V0)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===k0)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===X0)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===j0)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===O1||i===U1||i===P1||i===N1)if(r=t.get("WEBGL_compressed_texture_pvrtc"),r!==null){if(i===O1)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===U1)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===P1)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===N1)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===I1||i===F1||i===z1)if(r=t.get("WEBGL_compressed_texture_etc"),r!==null){if(i===I1||i===F1)return o===jn?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(i===z1)return o===jn?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===H1||i===G1||i===V1||i===k1||i===X1||i===j1||i===Y1||i===W1||i===K1||i===q1||i===J1||i===Q1||i===Z1||i===$1)if(r=t.get("WEBGL_compressed_texture_astc"),r!==null){if(i===H1)return o===jn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===G1)return o===jn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===V1)return o===jn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===k1)return o===jn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===X1)return o===jn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===j1)return o===jn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===Y1)return o===jn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===W1)return o===jn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===K1)return o===jn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===q1)return o===jn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===J1)return o===jn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===Q1)return o===jn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===Z1)return o===jn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===$1)return o===jn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===Y0||i===tS||i===eS)if(r=t.get("EXT_texture_compression_bptc"),r!==null){if(i===Y0)return o===jn?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===tS)return r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===eS)return r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===SC||i===nS||i===iS||i===sS)if(r=t.get("EXT_texture_compression_rgtc"),r!==null){if(i===Y0)return r.COMPRESSED_RED_RGTC1_EXT;if(i===nS)return r.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===iS)return r.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===sS)return r.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===Zh?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:e}}const eq=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,nq=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class iq{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(t,e,i){if(this.texture===null){const s=new pi,r=t.properties.get(s);r.__webglTexture=e.texture,(e.depthNear!==i.depthNear||e.depthFar!==i.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=s}}getMesh(t){if(this.texture!==null&&this.mesh===null){const e=t.cameras[0].viewport,i=new Wo({vertexShader:eq,fragmentShader:nq,uniforms:{depthColor:{value:this.texture},depthWidth:{value:e.z},depthHeight:{value:e.w}}});this.mesh=new qi(new Lm(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class sq extends Zl{constructor(t,e){super();const i=this;let s=null,r=1,o=null,l="local-floor",u=1,d=null,m=null,g=null,v=null,A=null,S=null;const E=new iq,T=e.getContextAttributes();let _=null,w=null;const D=[],L=[],U=new It;let P=null;const F=new Wi;F.viewport=new mn;const z=new Wi;z.viewport=new mn;const N=[F,z],B=new UI;let H=null,st=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(it){let Et=D[it];return Et===void 0&&(Et=new i1,D[it]=Et),Et.getTargetRaySpace()},this.getControllerGrip=function(it){let Et=D[it];return Et===void 0&&(Et=new i1,D[it]=Et),Et.getGripSpace()},this.getHand=function(it){let Et=D[it];return Et===void 0&&(Et=new i1,D[it]=Et),Et.getHandSpace()};function tt(it){const Et=L.indexOf(it.inputSource);if(Et===-1)return;const Ut=D[Et];Ut!==void 0&&(Ut.update(it.inputSource,it.frame,d||o),Ut.dispatchEvent({type:it.type,data:it.inputSource}))}function J(){s.removeEventListener("select",tt),s.removeEventListener("selectstart",tt),s.removeEventListener("selectend",tt),s.removeEventListener("squeeze",tt),s.removeEventListener("squeezestart",tt),s.removeEventListener("squeezeend",tt),s.removeEventListener("end",J),s.removeEventListener("inputsourceschange",lt);for(let it=0;it<D.length;it++){const Et=L[it];Et!==null&&(L[it]=null,D[it].disconnect(Et))}H=null,st=null,E.reset(),t.setRenderTarget(_),A=null,v=null,g=null,s=null,w=null,Ft.stop(),i.isPresenting=!1,t.setPixelRatio(P),t.setSize(U.width,U.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(it){r=it,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(it){l=it,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return d||o},this.setReferenceSpace=function(it){d=it},this.getBaseLayer=function(){return v!==null?v:A},this.getBinding=function(){return g},this.getFrame=function(){return S},this.getSession=function(){return s},this.setSession=async function(it){if(s=it,s!==null){if(_=t.getRenderTarget(),s.addEventListener("select",tt),s.addEventListener("selectstart",tt),s.addEventListener("selectend",tt),s.addEventListener("squeeze",tt),s.addEventListener("squeezestart",tt),s.addEventListener("squeezeend",tt),s.addEventListener("end",J),s.addEventListener("inputsourceschange",lt),T.xrCompatible!==!0&&await e.makeXRCompatible(),P=t.getPixelRatio(),t.getSize(U),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let Ut=null,Ht=null,Xt=null;T.depth&&(Xt=T.stencil?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT24,Ut=T.stencil?$h:Yh,Ht=T.stencil?Zh:Zc);const xe={colorFormat:e.RGBA8,depthFormat:Xt,scaleFactor:r};g=new XRWebGLBinding(s,e),v=g.createProjectionLayer(xe),s.updateRenderState({layers:[v]}),t.setPixelRatio(1),t.setSize(v.textureWidth,v.textureHeight,!1),w=new Jl(v.textureWidth,v.textureHeight,{format:fr,type:Yo,depthTexture:new PC(v.textureWidth,v.textureHeight,Ht,void 0,void 0,void 0,void 0,void 0,void 0,Ut),stencilBuffer:T.stencil,colorSpace:t.outputColorSpace,samples:T.antialias?4:0,resolveDepthBuffer:v.ignoreDepthValues===!1})}else{const Ut={antialias:T.antialias,alpha:!0,depth:T.depth,stencil:T.stencil,framebufferScaleFactor:r};A=new XRWebGLLayer(s,e,Ut),s.updateRenderState({baseLayer:A}),t.setPixelRatio(1),t.setSize(A.framebufferWidth,A.framebufferHeight,!1),w=new Jl(A.framebufferWidth,A.framebufferHeight,{format:fr,type:Yo,colorSpace:t.outputColorSpace,stencilBuffer:T.stencil})}w.isXRRenderTarget=!0,this.setFoveation(u),d=null,o=await s.requestReferenceSpace(l),Ft.setContext(s),Ft.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(s!==null)return s.environmentBlendMode},this.getDepthTexture=function(){return E.getDepthTexture()};function lt(it){for(let Et=0;Et<it.removed.length;Et++){const Ut=it.removed[Et],Ht=L.indexOf(Ut);Ht>=0&&(L[Ht]=null,D[Ht].disconnect(Ut))}for(let Et=0;Et<it.added.length;Et++){const Ut=it.added[Et];let Ht=L.indexOf(Ut);if(Ht===-1){for(let xe=0;xe<D.length;xe++)if(xe>=L.length){L.push(Ut),Ht=xe;break}else if(L[xe]===null){L[xe]=Ut,Ht=xe;break}if(Ht===-1)break}const Xt=D[Ht];Xt&&Xt.connect(Ut)}}const $=new K,et=new K;function Q(it,Et,Ut){$.setFromMatrixPosition(Et.matrixWorld),et.setFromMatrixPosition(Ut.matrixWorld);const Ht=$.distanceTo(et),Xt=Et.projectionMatrix.elements,xe=Ut.projectionMatrix.elements,Wt=Xt[14]/(Xt[10]-1),ue=Xt[14]/(Xt[10]+1),Pt=(Xt[9]+1)/Xt[5],Bt=(Xt[9]-1)/Xt[5],q=(Xt[8]-1)/Xt[0],he=(xe[8]+1)/xe[0],Vt=Wt*q,$t=Wt*he,Qt=Ht/(-q+he),_e=Qt*-q;if(Et.matrixWorld.decompose(it.position,it.quaternion,it.scale),it.translateX(_e),it.translateZ(Qt),it.matrixWorld.compose(it.position,it.quaternion,it.scale),it.matrixWorldInverse.copy(it.matrixWorld).invert(),Xt[10]===-1)it.projectionMatrix.copy(Et.projectionMatrix),it.projectionMatrixInverse.copy(Et.projectionMatrixInverse);else{const Zt=Wt+Qt,Y=ue+Qt,G=Vt-_e,yt=$t+(Ht-_e),Ct=Pt*ue/Y*Zt,Gt=Bt*ue/Y*Zt;it.projectionMatrix.makePerspective(G,yt,Ct,Gt,Zt,Y),it.projectionMatrixInverse.copy(it.projectionMatrix).invert()}}function At(it,Et){Et===null?it.matrixWorld.copy(it.matrix):it.matrixWorld.multiplyMatrices(Et.matrixWorld,it.matrix),it.matrixWorldInverse.copy(it.matrixWorld).invert()}this.updateCamera=function(it){if(s===null)return;let Et=it.near,Ut=it.far;E.texture!==null&&(E.depthNear>0&&(Et=E.depthNear),E.depthFar>0&&(Ut=E.depthFar)),B.near=z.near=F.near=Et,B.far=z.far=F.far=Ut,(H!==B.near||st!==B.far)&&(s.updateRenderState({depthNear:B.near,depthFar:B.far}),H=B.near,st=B.far),F.layers.mask=it.layers.mask|2,z.layers.mask=it.layers.mask|4,B.layers.mask=F.layers.mask|z.layers.mask;const Ht=it.parent,Xt=B.cameras;At(B,Ht);for(let xe=0;xe<Xt.length;xe++)At(Xt[xe],Ht);Xt.length===2?Q(B,F,z):B.projectionMatrix.copy(F.projectionMatrix),j(it,B,Ht)};function j(it,Et,Ut){Ut===null?it.matrix.copy(Et.matrixWorld):(it.matrix.copy(Ut.matrixWorld),it.matrix.invert(),it.matrix.multiply(Et.matrixWorld)),it.matrix.decompose(it.position,it.quaternion,it.scale),it.updateMatrixWorld(!0),it.projectionMatrix.copy(Et.projectionMatrix),it.projectionMatrixInverse.copy(Et.projectionMatrixInverse),it.isPerspectiveCamera&&(it.fov=mm*2*Math.atan(1/it.projectionMatrix.elements[5]),it.zoom=1)}this.getCamera=function(){return B},this.getFoveation=function(){if(!(v===null&&A===null))return u},this.setFoveation=function(it){u=it,v!==null&&(v.fixedFoveation=it),A!==null&&A.fixedFoveation!==void 0&&(A.fixedFoveation=it)},this.hasDepthSensing=function(){return E.texture!==null},this.getDepthSensingMesh=function(){return E.getMesh(B)};let rt=null;function Tt(it,Et){if(m=Et.getViewerPose(d||o),S=Et,m!==null){const Ut=m.views;A!==null&&(t.setRenderTargetFramebuffer(w,A.framebuffer),t.setRenderTarget(w));let Ht=!1;Ut.length!==B.cameras.length&&(B.cameras.length=0,Ht=!0);for(let Wt=0;Wt<Ut.length;Wt++){const ue=Ut[Wt];let Pt=null;if(A!==null)Pt=A.getViewport(ue);else{const q=g.getViewSubImage(v,ue);Pt=q.viewport,Wt===0&&(t.setRenderTargetTextures(w,q.colorTexture,v.ignoreDepthValues?void 0:q.depthStencilTexture),t.setRenderTarget(w))}let Bt=N[Wt];Bt===void 0&&(Bt=new Wi,Bt.layers.enable(Wt),Bt.viewport=new mn,N[Wt]=Bt),Bt.matrix.fromArray(ue.transform.matrix),Bt.matrix.decompose(Bt.position,Bt.quaternion,Bt.scale),Bt.projectionMatrix.fromArray(ue.projectionMatrix),Bt.projectionMatrixInverse.copy(Bt.projectionMatrix).invert(),Bt.viewport.set(Pt.x,Pt.y,Pt.width,Pt.height),Wt===0&&(B.matrix.copy(Bt.matrix),B.matrix.decompose(B.position,B.quaternion,B.scale)),Ht===!0&&B.cameras.push(Bt)}const Xt=s.enabledFeatures;if(Xt&&Xt.includes("depth-sensing")&&s.depthUsage=="gpu-optimized"&&g){const Wt=g.getDepthInformation(Ut[0]);Wt&&Wt.isValid&&Wt.texture&&E.init(t,Wt,s.renderState)}}for(let Ut=0;Ut<D.length;Ut++){const Ht=L[Ut],Xt=D[Ut];Ht!==null&&Xt!==void 0&&Xt.update(Ht,Et,d||o)}rt&&rt(it,Et),Et.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:Et}),S=null}const Ft=new VI;Ft.setAnimationLoop(Tt),this.setAnimationLoop=function(it){rt=it},this.dispose=function(){}}}const _h=new ea,rq=new Be;function aq(n,t){function e(T,_){T.matrixAutoUpdate===!0&&T.updateMatrix(),_.value.copy(T.matrix)}function i(T,_){_.color.getRGB(T.fogColor.value,WN(n)),_.isFog?(T.fogNear.value=_.near,T.fogFar.value=_.far):_.isFogExp2&&(T.fogDensity.value=_.density)}function s(T,_,w,D,L){_.isMeshBasicMaterial||_.isMeshLambertMaterial?r(T,_):_.isMeshToonMaterial?(r(T,_),g(T,_)):_.isMeshPhongMaterial?(r(T,_),m(T,_)):_.isMeshStandardMaterial?(r(T,_),v(T,_),_.isMeshPhysicalMaterial&&A(T,_,L)):_.isMeshMatcapMaterial?(r(T,_),S(T,_)):_.isMeshDepthMaterial?r(T,_):_.isMeshDistanceMaterial?(r(T,_),E(T,_)):_.isMeshNormalMaterial?r(T,_):_.isLineBasicMaterial?(o(T,_),_.isLineDashedMaterial&&l(T,_)):_.isPointsMaterial?u(T,_,w,D):_.isSpriteMaterial?d(T,_):_.isShadowMaterial?(T.color.value.copy(_.color),T.opacity.value=_.opacity):_.isShaderMaterial&&(_.uniformsNeedUpdate=!1)}function r(T,_){T.opacity.value=_.opacity,_.color&&T.diffuse.value.copy(_.color),_.emissive&&T.emissive.value.copy(_.emissive).multiplyScalar(_.emissiveIntensity),_.map&&(T.map.value=_.map,e(_.map,T.mapTransform)),_.alphaMap&&(T.alphaMap.value=_.alphaMap,e(_.alphaMap,T.alphaMapTransform)),_.bumpMap&&(T.bumpMap.value=_.bumpMap,e(_.bumpMap,T.bumpMapTransform),T.bumpScale.value=_.bumpScale,_.side===Ur&&(T.bumpScale.value*=-1)),_.normalMap&&(T.normalMap.value=_.normalMap,e(_.normalMap,T.normalMapTransform),T.normalScale.value.copy(_.normalScale),_.side===Ur&&T.normalScale.value.negate()),_.displacementMap&&(T.displacementMap.value=_.displacementMap,e(_.displacementMap,T.displacementMapTransform),T.displacementScale.value=_.displacementScale,T.displacementBias.value=_.displacementBias),_.emissiveMap&&(T.emissiveMap.value=_.emissiveMap,e(_.emissiveMap,T.emissiveMapTransform)),_.specularMap&&(T.specularMap.value=_.specularMap,e(_.specularMap,T.specularMapTransform)),_.alphaTest>0&&(T.alphaTest.value=_.alphaTest);const w=t.get(_),D=w.envMap,L=w.envMapRotation;D&&(T.envMap.value=D,_h.copy(L),_h.x*=-1,_h.y*=-1,_h.z*=-1,D.isCubeTexture&&D.isRenderTargetTexture===!1&&(_h.y*=-1,_h.z*=-1),T.envMapRotation.value.setFromMatrix4(rq.makeRotationFromEuler(_h)),T.flipEnvMap.value=D.isCubeTexture&&D.isRenderTargetTexture===!1?-1:1,T.reflectivity.value=_.reflectivity,T.ior.value=_.ior,T.refractionRatio.value=_.refractionRatio),_.lightMap&&(T.lightMap.value=_.lightMap,T.lightMapIntensity.value=_.lightMapIntensity,e(_.lightMap,T.lightMapTransform)),_.aoMap&&(T.aoMap.value=_.aoMap,T.aoMapIntensity.value=_.aoMapIntensity,e(_.aoMap,T.aoMapTransform))}function o(T,_){T.diffuse.value.copy(_.color),T.opacity.value=_.opacity,_.map&&(T.map.value=_.map,e(_.map,T.mapTransform))}function l(T,_){T.dashSize.value=_.dashSize,T.totalSize.value=_.dashSize+_.gapSize,T.scale.value=_.scale}function u(T,_,w,D){T.diffuse.value.copy(_.color),T.opacity.value=_.opacity,T.size.value=_.size*w,T.scale.value=D*.5,_.map&&(T.map.value=_.map,e(_.map,T.uvTransform)),_.alphaMap&&(T.alphaMap.value=_.alphaMap,e(_.alphaMap,T.alphaMapTransform)),_.alphaTest>0&&(T.alphaTest.value=_.alphaTest)}function d(T,_){T.diffuse.value.copy(_.color),T.opacity.value=_.opacity,T.rotation.value=_.rotation,_.map&&(T.map.value=_.map,e(_.map,T.mapTransform)),_.alphaMap&&(T.alphaMap.value=_.alphaMap,e(_.alphaMap,T.alphaMapTransform)),_.alphaTest>0&&(T.alphaTest.value=_.alphaTest)}function m(T,_){T.specular.value.copy(_.specular),T.shininess.value=Math.max(_.shininess,1e-4)}function g(T,_){_.gradientMap&&(T.gradientMap.value=_.gradientMap)}function v(T,_){T.metalness.value=_.metalness,_.metalnessMap&&(T.metalnessMap.value=_.metalnessMap,e(_.metalnessMap,T.metalnessMapTransform)),T.roughness.value=_.roughness,_.roughnessMap&&(T.roughnessMap.value=_.roughnessMap,e(_.roughnessMap,T.roughnessMapTransform)),_.envMap&&(T.envMapIntensity.value=_.envMapIntensity)}function A(T,_,w){T.ior.value=_.ior,_.sheen>0&&(T.sheenColor.value.copy(_.sheenColor).multiplyScalar(_.sheen),T.sheenRoughness.value=_.sheenRoughness,_.sheenColorMap&&(T.sheenColorMap.value=_.sheenColorMap,e(_.sheenColorMap,T.sheenColorMapTransform)),_.sheenRoughnessMap&&(T.sheenRoughnessMap.value=_.sheenRoughnessMap,e(_.sheenRoughnessMap,T.sheenRoughnessMapTransform))),_.clearcoat>0&&(T.clearcoat.value=_.clearcoat,T.clearcoatRoughness.value=_.clearcoatRoughness,_.clearcoatMap&&(T.clearcoatMap.value=_.clearcoatMap,e(_.clearcoatMap,T.clearcoatMapTransform)),_.clearcoatRoughnessMap&&(T.clearcoatRoughnessMap.value=_.clearcoatRoughnessMap,e(_.clearcoatRoughnessMap,T.clearcoatRoughnessMapTransform)),_.clearcoatNormalMap&&(T.clearcoatNormalMap.value=_.clearcoatNormalMap,e(_.clearcoatNormalMap,T.clearcoatNormalMapTransform),T.clearcoatNormalScale.value.copy(_.clearcoatNormalScale),_.side===Ur&&T.clearcoatNormalScale.value.negate())),_.dispersion>0&&(T.dispersion.value=_.dispersion),_.iridescence>0&&(T.iridescence.value=_.iridescence,T.iridescenceIOR.value=_.iridescenceIOR,T.iridescenceThicknessMinimum.value=_.iridescenceThicknessRange[0],T.iridescenceThicknessMaximum.value=_.iridescenceThicknessRange[1],_.iridescenceMap&&(T.iridescenceMap.value=_.iridescenceMap,e(_.iridescenceMap,T.iridescenceMapTransform)),_.iridescenceThicknessMap&&(T.iridescenceThicknessMap.value=_.iridescenceThicknessMap,e(_.iridescenceThicknessMap,T.iridescenceThicknessMapTransform))),_.transmission>0&&(T.transmission.value=_.transmission,T.transmissionSamplerMap.value=w.texture,T.transmissionSamplerSize.value.set(w.width,w.height),_.transmissionMap&&(T.transmissionMap.value=_.transmissionMap,e(_.transmissionMap,T.transmissionMapTransform)),T.thickness.value=_.thickness,_.thicknessMap&&(T.thicknessMap.value=_.thicknessMap,e(_.thicknessMap,T.thicknessMapTransform)),T.attenuationDistance.value=_.attenuationDistance,T.attenuationColor.value.copy(_.attenuationColor)),_.anisotropy>0&&(T.anisotropyVector.value.set(_.anisotropy*Math.cos(_.anisotropyRotation),_.anisotropy*Math.sin(_.anisotropyRotation)),_.anisotropyMap&&(T.anisotropyMap.value=_.anisotropyMap,e(_.anisotropyMap,T.anisotropyMapTransform))),T.specularIntensity.value=_.specularIntensity,T.specularColor.value.copy(_.specularColor),_.specularColorMap&&(T.specularColorMap.value=_.specularColorMap,e(_.specularColorMap,T.specularColorMapTransform)),_.specularIntensityMap&&(T.specularIntensityMap.value=_.specularIntensityMap,e(_.specularIntensityMap,T.specularIntensityMapTransform))}function S(T,_){_.matcap&&(T.matcap.value=_.matcap)}function E(T,_){const w=t.get(_).light;T.referencePosition.value.setFromMatrixPosition(w.matrixWorld),T.nearDistance.value=w.shadow.camera.near,T.farDistance.value=w.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:s}}function oq(n,t,e,i){let s={},r={},o=[];const l=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function u(w,D){const L=D.program;i.uniformBlockBinding(w,L)}function d(w,D){let L=s[w.id];L===void 0&&(S(w),L=m(w),s[w.id]=L,w.addEventListener("dispose",T));const U=D.program;i.updateUBOMapping(w,U);const P=t.render.frame;r[w.id]!==P&&(v(w),r[w.id]=P)}function m(w){const D=g();w.__bindingPointIndex=D;const L=n.createBuffer(),U=w.__size,P=w.usage;return n.bindBuffer(n.UNIFORM_BUFFER,L),n.bufferData(n.UNIFORM_BUFFER,U,P),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,D,L),L}function g(){for(let w=0;w<l;w++)if(o.indexOf(w)===-1)return o.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function v(w){const D=s[w.id],L=w.uniforms,U=w.__cache;n.bindBuffer(n.UNIFORM_BUFFER,D);for(let P=0,F=L.length;P<F;P++){const z=Array.isArray(L[P])?L[P]:[L[P]];for(let N=0,B=z.length;N<B;N++){const H=z[N];if(A(H,P,N,U)===!0){const st=H.__offset,tt=Array.isArray(H.value)?H.value:[H.value];let J=0;for(let lt=0;lt<tt.length;lt++){const $=tt[lt],et=E($);typeof $=="number"||typeof $=="boolean"?(H.__data[0]=$,n.bufferSubData(n.UNIFORM_BUFFER,st+J,H.__data)):$.isMatrix3?(H.__data[0]=$.elements[0],H.__data[1]=$.elements[1],H.__data[2]=$.elements[2],H.__data[3]=0,H.__data[4]=$.elements[3],H.__data[5]=$.elements[4],H.__data[6]=$.elements[5],H.__data[7]=0,H.__data[8]=$.elements[6],H.__data[9]=$.elements[7],H.__data[10]=$.elements[8],H.__data[11]=0):($.toArray(H.__data,J),J+=et.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,st,H.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function A(w,D,L,U){const P=w.value,F=D+"_"+L;if(U[F]===void 0)return typeof P=="number"||typeof P=="boolean"?U[F]=P:U[F]=P.clone(),!0;{const z=U[F];if(typeof P=="number"||typeof P=="boolean"){if(z!==P)return U[F]=P,!0}else if(z.equals(P)===!1)return z.copy(P),!0}return!1}function S(w){const D=w.uniforms;let L=0;const U=16;for(let F=0,z=D.length;F<z;F++){const N=Array.isArray(D[F])?D[F]:[D[F]];for(let B=0,H=N.length;B<H;B++){const st=N[B],tt=Array.isArray(st.value)?st.value:[st.value];for(let J=0,lt=tt.length;J<lt;J++){const $=tt[J],et=E($),Q=L%U,At=Q%et.boundary,j=Q+At;L+=At,j!==0&&U-j<et.storage&&(L+=U-j),st.__data=new Float32Array(et.storage/Float32Array.BYTES_PER_ELEMENT),st.__offset=L,L+=et.storage}}}const P=L%U;return P>0&&(L+=U-P),w.__size=L,w.__cache={},this}function E(w){const D={boundary:0,storage:0};return typeof w=="number"||typeof w=="boolean"?(D.boundary=4,D.storage=4):w.isVector2?(D.boundary=8,D.storage=8):w.isVector3||w.isColor?(D.boundary=16,D.storage=12):w.isVector4?(D.boundary=16,D.storage=16):w.isMatrix3?(D.boundary=48,D.storage=48):w.isMatrix4?(D.boundary=64,D.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),D}function T(w){const D=w.target;D.removeEventListener("dispose",T);const L=o.indexOf(D.__bindingPointIndex);o.splice(L,1),n.deleteBuffer(s[D.id]),delete s[D.id],delete r[D.id]}function _(){for(const w in s)n.deleteBuffer(s[w]);o=[],s={},r={}}return{bind:u,update:d,dispose:_}}class KI{constructor(t={}){const{canvas:e=XN(),context:i=null,depth:s=!0,stencil:r=!1,alpha:o=!1,antialias:l=!1,premultipliedAlpha:u=!0,preserveDrawingBuffer:d=!1,powerPreference:m="default",failIfMajorPerformanceCaveat:g=!1,reverseDepthBuffer:v=!1}=t;this.isWebGLRenderer=!0;let A;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");A=i.getContextAttributes().alpha}else A=o;const S=new Uint32Array(4),E=new Int32Array(4);let T=null,_=null;const w=[],D=[];this.domElement=e,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=ur,this.toneMapping=Vl,this.toneMappingExposure=1;const L=this;let U=!1,P=0,F=0,z=null,N=-1,B=null;const H=new mn,st=new mn;let tt=null;const J=new ie(0);let lt=0,$=e.width,et=e.height,Q=1,At=null,j=null;const rt=new mn(0,0,$,et),Tt=new mn(0,0,$,et);let Ft=!1;const it=new Ky;let Et=!1,Ut=!1;this.transmissionResolutionScale=1;const Ht=new Be,Xt=new Be,xe=new K,Wt=new mn,ue={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Pt=!1;function Bt(){return z===null?Q:1}let q=i;function he(V,at){return e.getContext(V,at)}try{const V={alpha:!0,depth:s,stencil:r,antialias:l,premultipliedAlpha:u,preserveDrawingBuffer:d,powerPreference:m,failIfMajorPerformanceCaveat:g};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${Gy}`),e.addEventListener("webglcontextlost",Nt,!1),e.addEventListener("webglcontextrestored",ee,!1),e.addEventListener("webglcontextcreationerror",se,!1),q===null){const at="webgl2";if(q=he(at,V),q===null)throw he(at)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(V){throw console.error("THREE.WebGLRenderer: "+V.message),V}let Vt,$t,Qt,_e,Zt,Y,G,yt,Ct,Gt,Dt,fe,ne,de,Je,qt,me,Ae,ve,pe,Ge,Me,bn,ut;function re(){Vt=new xW(q),Vt.init(),Me=new WI(q,Vt),$t=new dW(q,Vt,t,Me),Qt=new $K(q,Vt),$t.reverseDepthBuffer&&v&&Qt.buffers.depth.setReversed(!0),_e=new _W(q),Zt=new HK,Y=new tq(q,Vt,Qt,Zt,$t,Me,_e),G=new mW(L),yt=new vW(L),Ct=new wX(q),bn=new fW(q,Ct),Gt=new AW(q,Ct,_e,bn),Dt=new MW(q,Gt,Ct,_e),ve=new bW(q,$t,Y),qt=new pW(Zt),fe=new zK(L,G,yt,Vt,$t,bn,qt),ne=new aq(L,Zt),de=new VK,Je=new KK(Vt),Ae=new uW(L,G,yt,Qt,Dt,A,u),me=new QK(L,Dt,$t),ut=new oq(q,_e,$t,Qt),pe=new hW(q,Vt,_e),Ge=new SW(q,Vt,_e),_e.programs=fe.programs,L.capabilities=$t,L.extensions=Vt,L.properties=Zt,L.renderLists=de,L.shadowMap=me,L.state=Qt,L.info=_e}re();const Mt=new sq(L,q);this.xr=Mt,this.getContext=function(){return q},this.getContextAttributes=function(){return q.getContextAttributes()},this.forceContextLoss=function(){const V=Vt.get("WEBGL_lose_context");V&&V.loseContext()},this.forceContextRestore=function(){const V=Vt.get("WEBGL_lose_context");V&&V.restoreContext()},this.getPixelRatio=function(){return Q},this.setPixelRatio=function(V){V!==void 0&&(Q=V,this.setSize($,et,!1))},this.getSize=function(V){return V.set($,et)},this.setSize=function(V,at,xt=!0){if(Mt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}$=V,et=at,e.width=Math.floor(V*Q),e.height=Math.floor(at*Q),xt===!0&&(e.style.width=V+"px",e.style.height=at+"px"),this.setViewport(0,0,V,at)},this.getDrawingBufferSize=function(V){return V.set($*Q,et*Q).floor()},this.setDrawingBufferSize=function(V,at,xt){$=V,et=at,Q=xt,e.width=Math.floor(V*xt),e.height=Math.floor(at*xt),this.setViewport(0,0,V,at)},this.getCurrentViewport=function(V){return V.copy(H)},this.getViewport=function(V){return V.copy(rt)},this.setViewport=function(V,at,xt,gt){V.isVector4?rt.set(V.x,V.y,V.z,V.w):rt.set(V,at,xt,gt),Qt.viewport(H.copy(rt).multiplyScalar(Q).round())},this.getScissor=function(V){return V.copy(Tt)},this.setScissor=function(V,at,xt,gt){V.isVector4?Tt.set(V.x,V.y,V.z,V.w):Tt.set(V,at,xt,gt),Qt.scissor(st.copy(Tt).multiplyScalar(Q).round())},this.getScissorTest=function(){return Ft},this.setScissorTest=function(V){Qt.setScissorTest(Ft=V)},this.setOpaqueSort=function(V){At=V},this.setTransparentSort=function(V){j=V},this.getClearColor=function(V){return V.copy(Ae.getClearColor())},this.setClearColor=function(){Ae.setClearColor.apply(Ae,arguments)},this.getClearAlpha=function(){return Ae.getClearAlpha()},this.setClearAlpha=function(){Ae.setClearAlpha.apply(Ae,arguments)},this.clear=function(V=!0,at=!0,xt=!0){let gt=0;if(V){let ht=!1;if(z!==null){const kt=z.texture.format;ht=kt===zS||kt===FS||kt===ky}if(ht){const kt=z.texture.type,te=kt===Yo||kt===Zc||kt===hm||kt===Zh||kt===PS||kt===NS,oe=Ae.getClearColor(),ae=Ae.getClearAlpha(),Ue=oe.r,Pe=oe.g,Ce=oe.b;te?(S[0]=Ue,S[1]=Pe,S[2]=Ce,S[3]=ae,q.clearBufferuiv(q.COLOR,0,S)):(E[0]=Ue,E[1]=Pe,E[2]=Ce,E[3]=ae,q.clearBufferiv(q.COLOR,0,E))}else gt|=q.COLOR_BUFFER_BIT}at&&(gt|=q.DEPTH_BUFFER_BIT),xt&&(gt|=q.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),q.clear(gt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Nt,!1),e.removeEventListener("webglcontextrestored",ee,!1),e.removeEventListener("webglcontextcreationerror",se,!1),Ae.dispose(),de.dispose(),Je.dispose(),Zt.dispose(),G.dispose(),yt.dispose(),Dt.dispose(),bn.dispose(),ut.dispose(),fe.dispose(),Mt.dispose(),Mt.removeEventListener("sessionstart",Af),Mt.removeEventListener("sessionend",$l),Nr.stop()};function Nt(V){V.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),U=!0}function ee(){console.log("THREE.WebGLRenderer: Context Restored."),U=!1;const V=_e.autoReset,at=me.enabled,xt=me.autoUpdate,gt=me.needsUpdate,ht=me.type;re(),_e.autoReset=V,me.enabled=at,me.autoUpdate=xt,me.needsUpdate=gt,me.type=ht}function se(V){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",V.statusMessage)}function Oe(V){const at=V.target;at.removeEventListener("dispose",Oe),Vn(at)}function Vn(V){ai(V),Zt.remove(V)}function ai(V){const at=Zt.get(V).programs;at!==void 0&&(at.forEach(function(xt){fe.releaseProgram(xt)}),V.isShaderMaterial&&fe.releaseShaderCache(V))}this.renderBufferDirect=function(V,at,xt,gt,ht,kt){at===null&&(at=ue);const te=ht.isMesh&&ht.matrixWorld.determinant()<0,oe=dd(V,at,xt,gt,ht);Qt.setMaterial(gt,te);let ae=xt.index,Ue=1;if(gt.wireframe===!0){if(ae=Gt.getWireframeAttribute(xt),ae===void 0)return;Ue=2}const Pe=xt.drawRange,Ce=xt.attributes.position;let ln=Pe.start*Ue,cn=(Pe.start+Pe.count)*Ue;kt!==null&&(ln=Math.max(ln,kt.start*Ue),cn=Math.min(cn,(kt.start+kt.count)*Ue)),ae!==null?(ln=Math.max(ln,0),cn=Math.min(cn,ae.count)):Ce!=null&&(ln=Math.max(ln,0),cn=Math.min(cn,Ce.count));const Yn=cn-ln;if(Yn<0||Yn===1/0)return;bn.setup(ht,gt,oe,xt,ae);let yn,He=pe;if(ae!==null&&(yn=Ct.get(ae),He=Ge,He.setIndex(yn)),ht.isMesh)gt.wireframe===!0?(Qt.setLineWidth(gt.wireframeLinewidth*Bt()),He.setMode(q.LINES)):He.setMode(q.TRIANGLES);else if(ht.isLine){let Re=gt.linewidth;Re===void 0&&(Re=1),Qt.setLineWidth(Re*Bt()),ht.isLineSegments?He.setMode(q.LINES):ht.isLineLoop?He.setMode(q.LINE_LOOP):He.setMode(q.LINE_STRIP)}else ht.isPoints?He.setMode(q.POINTS):ht.isSprite&&He.setMode(q.TRIANGLES);if(ht.isBatchedMesh)if(ht._multiDrawInstances!==null)He.renderMultiDrawInstances(ht._multiDrawStarts,ht._multiDrawCounts,ht._multiDrawCount,ht._multiDrawInstances);else if(Vt.get("WEBGL_multi_draw"))He.renderMultiDraw(ht._multiDrawStarts,ht._multiDrawCounts,ht._multiDrawCount);else{const Re=ht._multiDrawStarts,Ci=ht._multiDrawCounts,un=ht._multiDrawCount,Os=ae?Ct.get(ae).bytesPerElement:1,vr=Zt.get(gt).currentProgram.getUniforms();for(let ms=0;ms<un;ms++)vr.setValue(q,"_gl_DrawID",ms),He.render(Re[ms]/Os,Ci[ms])}else if(ht.isInstancedMesh)He.renderInstances(ln,Yn,ht.count);else if(xt.isInstancedBufferGeometry){const Re=xt._maxInstanceCount!==void 0?xt._maxInstanceCount:1/0,Ci=Math.min(xt.instanceCount,Re);He.renderInstances(ln,Yn,Ci)}else He.render(ln,Yn)};function dn(V,at,xt){V.transparent===!0&&V.side===Qa&&V.forceSinglePass===!1?(V.side=Ur,V.needsUpdate=!0,Qe(V,at,xt),V.side=ql,V.needsUpdate=!0,Qe(V,at,xt),V.side=Qa):Qe(V,at,xt)}this.compile=function(V,at,xt=null){xt===null&&(xt=V),_=Je.get(xt),_.init(at),D.push(_),xt.traverseVisible(function(ht){ht.isLight&&ht.layers.test(at.layers)&&(_.pushLight(ht),ht.castShadow&&_.pushShadow(ht))}),V!==xt&&V.traverseVisible(function(ht){ht.isLight&&ht.layers.test(at.layers)&&(_.pushLight(ht),ht.castShadow&&_.pushShadow(ht))}),_.setupLights();const gt=new Set;return V.traverse(function(ht){if(!(ht.isMesh||ht.isPoints||ht.isLine||ht.isSprite))return;const kt=ht.material;if(kt)if(Array.isArray(kt))for(let te=0;te<kt.length;te++){const oe=kt[te];dn(oe,xt,ht),gt.add(oe)}else dn(kt,xt,ht),gt.add(kt)}),D.pop(),_=null,gt},this.compileAsync=function(V,at,xt=null){const gt=this.compile(V,at,xt);return new Promise(ht=>{function kt(){if(gt.forEach(function(te){Zt.get(te).currentProgram.isReady()&&gt.delete(te)}),gt.size===0){ht(V);return}setTimeout(kt,10)}Vt.get("KHR_parallel_shader_compile")!==null?kt():setTimeout(kt,10)})};let ds=null;function ps(V){ds&&ds(V)}function Af(){Nr.stop()}function $l(){Nr.start()}const Nr=new VI;Nr.setAnimationLoop(ps),typeof self<"u"&&Nr.setContext(self),this.setAnimationLoop=function(V){ds=V,Mt.setAnimationLoop(V),V===null?Nr.stop():Nr.start()},Mt.addEventListener("sessionstart",Af),Mt.addEventListener("sessionend",$l),this.render=function(V,at){if(at!==void 0&&at.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(U===!0)return;if(V.matrixWorldAutoUpdate===!0&&V.updateMatrixWorld(),at.parent===null&&at.matrixWorldAutoUpdate===!0&&at.updateMatrixWorld(),Mt.enabled===!0&&Mt.isPresenting===!0&&(Mt.cameraAutoUpdate===!0&&Mt.updateCamera(at),at=Mt.getCamera()),V.isScene===!0&&V.onBeforeRender(L,V,at,z),_=Je.get(V,D.length),_.init(at),D.push(_),Xt.multiplyMatrices(at.projectionMatrix,at.matrixWorldInverse),it.setFromProjectionMatrix(Xt),Ut=this.localClippingEnabled,Et=qt.init(this.clippingPlanes,Ut),T=de.get(V,w.length),T.init(),w.push(T),Mt.enabled===!0&&Mt.isPresenting===!0){const kt=L.xr.getDepthSensingMesh();kt!==null&&yr(kt,at,-1/0,L.sortObjects)}yr(V,at,0,L.sortObjects),T.finish(),L.sortObjects===!0&&T.sort(At,j),Pt=Mt.enabled===!1||Mt.isPresenting===!1||Mt.hasDepthSensing()===!1,Pt&&Ae.addToRenderList(T,V),this.info.render.frame++,Et===!0&&qt.beginShadows();const xt=_.state.shadowsArray;me.render(xt,V,at),Et===!0&&qt.endShadows(),this.info.autoReset===!0&&this.info.reset();const gt=T.opaque,ht=T.transmissive;if(_.setupLights(),at.isArrayCamera){const kt=at.cameras;if(ht.length>0)for(let te=0,oe=kt.length;te<oe;te++){const ae=kt[te];ia(gt,ht,V,ae)}Pt&&Ae.render(V);for(let te=0,oe=kt.length;te<oe;te++){const ae=kt[te];eu(T,V,ae,ae.viewport)}}else ht.length>0&&ia(gt,ht,V,at),Pt&&Ae.render(V),eu(T,V,at);z!==null&&F===0&&(Y.updateMultisampleRenderTarget(z),Y.updateRenderTargetMipmap(z)),V.isScene===!0&&V.onAfterRender(L,V,at),bn.resetDefaultState(),N=-1,B=null,D.pop(),D.length>0?(_=D[D.length-1],Et===!0&&qt.setGlobalState(L.clippingPlanes,_.state.camera)):_=null,w.pop(),w.length>0?T=w[w.length-1]:T=null};function yr(V,at,xt,gt){if(V.visible===!1)return;if(V.layers.test(at.layers)){if(V.isGroup)xt=V.renderOrder;else if(V.isLOD)V.autoUpdate===!0&&V.update(at);else if(V.isLight)_.pushLight(V),V.castShadow&&_.pushShadow(V);else if(V.isSprite){if(!V.frustumCulled||it.intersectsSprite(V)){gt&&Wt.setFromMatrixPosition(V.matrixWorld).applyMatrix4(Xt);const te=Dt.update(V),oe=V.material;oe.visible&&T.push(V,te,oe,xt,Wt.z,null)}}else if((V.isMesh||V.isLine||V.isPoints)&&(!V.frustumCulled||it.intersectsObject(V))){const te=Dt.update(V),oe=V.material;if(gt&&(V.boundingSphere!==void 0?(V.boundingSphere===null&&V.computeBoundingSphere(),Wt.copy(V.boundingSphere.center)):(te.boundingSphere===null&&te.computeBoundingSphere(),Wt.copy(te.boundingSphere.center)),Wt.applyMatrix4(V.matrixWorld).applyMatrix4(Xt)),Array.isArray(oe)){const ae=te.groups;for(let Ue=0,Pe=ae.length;Ue<Pe;Ue++){const Ce=ae[Ue],ln=oe[Ce.materialIndex];ln&&ln.visible&&T.push(V,te,ln,xt,Wt.z,Ce)}}else oe.visible&&T.push(V,te,oe,xt,Wt.z,null)}}const kt=V.children;for(let te=0,oe=kt.length;te<oe;te++)yr(kt[te],at,xt,gt)}function eu(V,at,xt,gt){const ht=V.opaque,kt=V.transmissive,te=V.transparent;_.setupLightsView(xt),Et===!0&&qt.setGlobalState(L.clippingPlanes,xt),gt&&Qt.viewport(H.copy(gt)),ht.length>0&&mi(ht,at,xt),kt.length>0&&mi(kt,at,xt),te.length>0&&mi(te,at,xt),Qt.buffers.depth.setTest(!0),Qt.buffers.depth.setMask(!0),Qt.buffers.color.setMask(!0),Qt.setPolygonOffset(!1)}function ia(V,at,xt,gt){if((xt.isScene===!0?xt.overrideMaterial:null)!==null)return;_.state.transmissionRenderTarget[gt.id]===void 0&&(_.state.transmissionRenderTarget[gt.id]=new Jl(1,1,{generateMipmaps:!0,type:Vt.has("EXT_color_buffer_half_float")||Vt.has("EXT_color_buffer_float")?wm:Yo,minFilter:Za,samples:4,stencilBuffer:r,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:_n.workingColorSpace}));const kt=_.state.transmissionRenderTarget[gt.id],te=gt.viewport||H;kt.setSize(te.z*L.transmissionResolutionScale,te.w*L.transmissionResolutionScale);const oe=L.getRenderTarget();L.setRenderTarget(kt),L.getClearColor(J),lt=L.getClearAlpha(),lt<1&&L.setClearColor(16777215,.5),L.clear(),Pt&&Ae.render(xt);const ae=L.toneMapping;L.toneMapping=Vl;const Ue=gt.viewport;if(gt.viewport!==void 0&&(gt.viewport=void 0),_.setupLightsView(gt),Et===!0&&qt.setGlobalState(L.clippingPlanes,gt),mi(V,xt,gt),Y.updateMultisampleRenderTarget(kt),Y.updateRenderTargetMipmap(kt),Vt.has("WEBGL_multisampled_render_to_texture")===!1){let Pe=!1;for(let Ce=0,ln=at.length;Ce<ln;Ce++){const cn=at[Ce],Yn=cn.object,yn=cn.geometry,He=cn.material,Re=cn.group;if(He.side===Qa&&Yn.layers.test(gt.layers)){const Ci=He.side;He.side=Ur,He.needsUpdate=!0,li(Yn,xt,gt,yn,He,Re),He.side=Ci,He.needsUpdate=!0,Pe=!0}}Pe===!0&&(Y.updateMultisampleRenderTarget(kt),Y.updateRenderTargetMipmap(kt))}L.setRenderTarget(oe),L.setClearColor(J,lt),Ue!==void 0&&(gt.viewport=Ue),L.toneMapping=ae}function mi(V,at,xt){const gt=at.isScene===!0?at.overrideMaterial:null;for(let ht=0,kt=V.length;ht<kt;ht++){const te=V[ht],oe=te.object,ae=te.geometry,Ue=gt===null?te.material:gt,Pe=te.group;oe.layers.test(xt.layers)&&li(oe,at,xt,ae,Ue,Pe)}}function li(V,at,xt,gt,ht,kt){V.onBeforeRender(L,at,xt,gt,ht,kt),V.modelViewMatrix.multiplyMatrices(xt.matrixWorldInverse,V.matrixWorld),V.normalMatrix.getNormalMatrix(V.modelViewMatrix),ht.onBeforeRender(L,at,xt,gt,V,kt),ht.transparent===!0&&ht.side===Qa&&ht.forceSinglePass===!1?(ht.side=Ur,ht.needsUpdate=!0,L.renderBufferDirect(xt,at,gt,ht,V,kt),ht.side=ql,ht.needsUpdate=!0,L.renderBufferDirect(xt,at,gt,ht,V,kt),ht.side=Qa):L.renderBufferDirect(xt,at,gt,ht,V,kt),V.onAfterRender(L,at,xt,gt,ht,kt)}function Qe(V,at,xt){at.isScene!==!0&&(at=ue);const gt=Zt.get(V),ht=_.state.lights,kt=_.state.shadowsArray,te=ht.state.version,oe=fe.getParameters(V,ht.state,kt,at,xt),ae=fe.getProgramCacheKey(oe);let Ue=gt.programs;gt.environment=V.isMeshStandardMaterial?at.environment:null,gt.fog=at.fog,gt.envMap=(V.isMeshStandardMaterial?yt:G).get(V.envMap||gt.environment),gt.envMapRotation=gt.environment!==null&&V.envMap===null?at.environmentRotation:V.envMapRotation,Ue===void 0&&(V.addEventListener("dispose",Oe),Ue=new Map,gt.programs=Ue);let Pe=Ue.get(ae);if(Pe!==void 0){if(gt.currentProgram===Pe&&gt.lightsStateVersion===te)return Zo(V,oe),Pe}else oe.uniforms=fe.getUniforms(V),V.onBeforeCompile(oe,L),Pe=fe.acquireProgram(oe,ae),Ue.set(ae,Pe),gt.uniforms=oe.uniforms;const Ce=gt.uniforms;return(!V.isShaderMaterial&&!V.isRawShaderMaterial||V.clipping===!0)&&(Ce.clippingPlanes=qt.uniform),Zo(V,oe),gt.needsLights=md(V),gt.lightsStateVersion=te,gt.needsLights&&(Ce.ambientLightColor.value=ht.state.ambient,Ce.lightProbe.value=ht.state.probe,Ce.directionalLights.value=ht.state.directional,Ce.directionalLightShadows.value=ht.state.directionalShadow,Ce.spotLights.value=ht.state.spot,Ce.spotLightShadows.value=ht.state.spotShadow,Ce.rectAreaLights.value=ht.state.rectArea,Ce.ltc_1.value=ht.state.rectAreaLTC1,Ce.ltc_2.value=ht.state.rectAreaLTC2,Ce.pointLights.value=ht.state.point,Ce.pointLightShadows.value=ht.state.pointShadow,Ce.hemisphereLights.value=ht.state.hemi,Ce.directionalShadowMap.value=ht.state.directionalShadowMap,Ce.directionalShadowMatrix.value=ht.state.directionalShadowMatrix,Ce.spotShadowMap.value=ht.state.spotShadowMap,Ce.spotLightMatrix.value=ht.state.spotLightMatrix,Ce.spotLightMap.value=ht.state.spotLightMap,Ce.pointShadowMap.value=ht.state.pointShadowMap,Ce.pointShadowMatrix.value=ht.state.pointShadowMatrix),gt.currentProgram=Pe,gt.uniformsList=null,Pe}function sa(V){if(V.uniformsList===null){const at=V.currentProgram.getUniforms();V.uniformsList=s1.seqWithValue(at.seq,V.uniforms)}return V.uniformsList}function Zo(V,at){const xt=Zt.get(V);xt.outputColorSpace=at.outputColorSpace,xt.batching=at.batching,xt.batchingColor=at.batchingColor,xt.instancing=at.instancing,xt.instancingColor=at.instancingColor,xt.instancingMorph=at.instancingMorph,xt.skinning=at.skinning,xt.morphTargets=at.morphTargets,xt.morphNormals=at.morphNormals,xt.morphColors=at.morphColors,xt.morphTargetsCount=at.morphTargetsCount,xt.numClippingPlanes=at.numClippingPlanes,xt.numIntersection=at.numClipIntersection,xt.vertexAlphas=at.vertexAlphas,xt.vertexTangents=at.vertexTangents,xt.toneMapping=at.toneMapping}function dd(V,at,xt,gt,ht){at.isScene!==!0&&(at=ue),Y.resetTextureUnits();const kt=at.fog,te=gt.isMeshStandardMaterial?at.environment:null,oe=z===null?L.outputColorSpace:z.isXRRenderTarget===!0?z.texture.colorSpace:uf,ae=(gt.isMeshStandardMaterial?yt:G).get(gt.envMap||te),Ue=gt.vertexColors===!0&&!!xt.attributes.color&&xt.attributes.color.itemSize===4,Pe=!!xt.attributes.tangent&&(!!gt.normalMap||gt.anisotropy>0),Ce=!!xt.morphAttributes.position,ln=!!xt.morphAttributes.normal,cn=!!xt.morphAttributes.color;let Yn=Vl;gt.toneMapped&&(z===null||z.isXRRenderTarget===!0)&&(Yn=L.toneMapping);const yn=xt.morphAttributes.position||xt.morphAttributes.normal||xt.morphAttributes.color,He=yn!==void 0?yn.length:0,Re=Zt.get(gt),Ci=_.state.lights;if(Et===!0&&(Ut===!0||V!==B)){const ci=V===B&&gt.id===N;qt.setState(gt,V,ci)}let un=!1;gt.version===Re.__version?(Re.needsLights&&Re.lightsStateVersion!==Ci.state.version||Re.outputColorSpace!==oe||ht.isBatchedMesh&&Re.batching===!1||!ht.isBatchedMesh&&Re.batching===!0||ht.isBatchedMesh&&Re.batchingColor===!0&&ht.colorTexture===null||ht.isBatchedMesh&&Re.batchingColor===!1&&ht.colorTexture!==null||ht.isInstancedMesh&&Re.instancing===!1||!ht.isInstancedMesh&&Re.instancing===!0||ht.isSkinnedMesh&&Re.skinning===!1||!ht.isSkinnedMesh&&Re.skinning===!0||ht.isInstancedMesh&&Re.instancingColor===!0&&ht.instanceColor===null||ht.isInstancedMesh&&Re.instancingColor===!1&&ht.instanceColor!==null||ht.isInstancedMesh&&Re.instancingMorph===!0&&ht.morphTexture===null||ht.isInstancedMesh&&Re.instancingMorph===!1&&ht.morphTexture!==null||Re.envMap!==ae||gt.fog===!0&&Re.fog!==kt||Re.numClippingPlanes!==void 0&&(Re.numClippingPlanes!==qt.numPlanes||Re.numIntersection!==qt.numIntersection)||Re.vertexAlphas!==Ue||Re.vertexTangents!==Pe||Re.morphTargets!==Ce||Re.morphNormals!==ln||Re.morphColors!==cn||Re.toneMapping!==Yn||Re.morphTargetsCount!==He)&&(un=!0):(un=!0,Re.__version=gt.version);let Os=Re.currentProgram;un===!0&&(Os=Qe(gt,at,ht));let vr=!1,ms=!1,Gi=!1;const Ln=Os.getUniforms(),gs=Re.uniforms;if(Qt.useProgram(Os.program)&&(vr=!0,ms=!0,Gi=!0),gt.id!==N&&(N=gt.id,ms=!0),vr||B!==V){Qt.buffers.depth.getReversed()?(Ht.copy(V.projectionMatrix),ek(Ht),nk(Ht),Ln.setValue(q,"projectionMatrix",Ht)):Ln.setValue(q,"projectionMatrix",V.projectionMatrix),Ln.setValue(q,"viewMatrix",V.matrixWorldInverse);const Zi=Ln.map.cameraPosition;Zi!==void 0&&Zi.setValue(q,xe.setFromMatrixPosition(V.matrixWorld)),$t.logarithmicDepthBuffer&&Ln.setValue(q,"logDepthBufFC",2/(Math.log(V.far+1)/Math.LN2)),(gt.isMeshPhongMaterial||gt.isMeshToonMaterial||gt.isMeshLambertMaterial||gt.isMeshBasicMaterial||gt.isMeshStandardMaterial||gt.isShaderMaterial)&&Ln.setValue(q,"isOrthographic",V.isOrthographicCamera===!0),B!==V&&(B=V,ms=!0,Gi=!0)}if(ht.isSkinnedMesh){Ln.setOptional(q,ht,"bindMatrix"),Ln.setOptional(q,ht,"bindMatrixInverse");const ci=ht.skeleton;ci&&(ci.boneTexture===null&&ci.computeBoneTexture(),Ln.setValue(q,"boneTexture",ci.boneTexture,Y))}ht.isBatchedMesh&&(Ln.setOptional(q,ht,"batchingTexture"),Ln.setValue(q,"batchingTexture",ht._matricesTexture,Y),Ln.setOptional(q,ht,"batchingIdTexture"),Ln.setValue(q,"batchingIdTexture",ht._indirectTexture,Y),Ln.setOptional(q,ht,"batchingColorTexture"),ht._colorsTexture!==null&&Ln.setValue(q,"batchingColorTexture",ht._colorsTexture,Y));const ss=xt.morphAttributes;if((ss.position!==void 0||ss.normal!==void 0||ss.color!==void 0)&&ve.update(ht,xt,Os),(ms||Re.receiveShadow!==ht.receiveShadow)&&(Re.receiveShadow=ht.receiveShadow,Ln.setValue(q,"receiveShadow",ht.receiveShadow)),gt.isMeshGouraudMaterial&&gt.envMap!==null&&(gs.envMap.value=ae,gs.flipEnvMap.value=ae.isCubeTexture&&ae.isRenderTargetTexture===!1?-1:1),gt.isMeshStandardMaterial&&gt.envMap===null&&at.environment!==null&&(gs.envMapIntensity.value=at.environmentIntensity),ms&&(Ln.setValue(q,"toneMappingExposure",L.toneMappingExposure),Re.needsLights&&pd(gs,Gi),kt&&gt.fog===!0&&ne.refreshFogUniforms(gs,kt),ne.refreshMaterialUniforms(gs,gt,Q,et,_.state.transmissionRenderTarget[V.id]),s1.upload(q,sa(Re),gs,Y)),gt.isShaderMaterial&&gt.uniformsNeedUpdate===!0&&(s1.upload(q,sa(Re),gs,Y),gt.uniformsNeedUpdate=!1),gt.isSpriteMaterial&&Ln.setValue(q,"center",ht.center),Ln.setValue(q,"modelViewMatrix",ht.modelViewMatrix),Ln.setValue(q,"normalMatrix",ht.normalMatrix),Ln.setValue(q,"modelMatrix",ht.matrixWorld),gt.isShaderMaterial||gt.isRawShaderMaterial){const ci=gt.uniformsGroups;for(let Zi=0,aa=ci.length;Zi<aa;Zi++){const Us=ci[Zi];ut.update(Us,Os),ut.bind(Us,Os)}}return Os}function pd(V,at){V.ambientLightColor.needsUpdate=at,V.lightProbe.needsUpdate=at,V.directionalLights.needsUpdate=at,V.directionalLightShadows.needsUpdate=at,V.pointLights.needsUpdate=at,V.pointLightShadows.needsUpdate=at,V.spotLights.needsUpdate=at,V.spotLightShadows.needsUpdate=at,V.rectAreaLights.needsUpdate=at,V.hemisphereLights.needsUpdate=at}function md(V){return V.isMeshLambertMaterial||V.isMeshToonMaterial||V.isMeshPhongMaterial||V.isMeshStandardMaterial||V.isShadowMaterial||V.isShaderMaterial&&V.lights===!0}this.getActiveCubeFace=function(){return P},this.getActiveMipmapLevel=function(){return F},this.getRenderTarget=function(){return z},this.setRenderTargetTextures=function(V,at,xt){Zt.get(V.texture).__webglTexture=at,Zt.get(V.depthTexture).__webglTexture=xt;const gt=Zt.get(V);gt.__hasExternalTextures=!0,gt.__autoAllocateDepthBuffer=xt===void 0,gt.__autoAllocateDepthBuffer||Vt.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),gt.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(V,at){const xt=Zt.get(V);xt.__webglFramebuffer=at,xt.__useDefaultFramebuffer=at===void 0};const eo=q.createFramebuffer();this.setRenderTarget=function(V,at=0,xt=0){z=V,P=at,F=xt;let gt=!0,ht=null,kt=!1,te=!1;if(V){const ae=Zt.get(V);if(ae.__useDefaultFramebuffer!==void 0)Qt.bindFramebuffer(q.FRAMEBUFFER,null),gt=!1;else if(ae.__webglFramebuffer===void 0)Y.setupRenderTarget(V);else if(ae.__hasExternalTextures)Y.rebindTextures(V,Zt.get(V.texture).__webglTexture,Zt.get(V.depthTexture).__webglTexture);else if(V.depthBuffer){const Ce=V.depthTexture;if(ae.__boundDepthTexture!==Ce){if(Ce!==null&&Zt.has(Ce)&&(V.width!==Ce.image.width||V.height!==Ce.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Y.setupDepthRenderbuffer(V)}}const Ue=V.texture;(Ue.isData3DTexture||Ue.isDataArrayTexture||Ue.isCompressedArrayTexture)&&(te=!0);const Pe=Zt.get(V).__webglFramebuffer;V.isWebGLCubeRenderTarget?(Array.isArray(Pe[at])?ht=Pe[at][xt]:ht=Pe[at],kt=!0):V.samples>0&&Y.useMultisampledRTT(V)===!1?ht=Zt.get(V).__webglMultisampledFramebuffer:Array.isArray(Pe)?ht=Pe[xt]:ht=Pe,H.copy(V.viewport),st.copy(V.scissor),tt=V.scissorTest}else H.copy(rt).multiplyScalar(Q).floor(),st.copy(Tt).multiplyScalar(Q).floor(),tt=Ft;if(xt!==0&&(ht=eo),Qt.bindFramebuffer(q.FRAMEBUFFER,ht)&&gt&&Qt.drawBuffers(V,ht),Qt.viewport(H),Qt.scissor(st),Qt.setScissorTest(tt),kt){const ae=Zt.get(V.texture);q.framebufferTexture2D(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_CUBE_MAP_POSITIVE_X+at,ae.__webglTexture,xt)}else if(te){const ae=Zt.get(V.texture),Ue=at;q.framebufferTextureLayer(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,ae.__webglTexture,xt,Ue)}else if(V!==null&&xt!==0){const ae=Zt.get(V.texture);q.framebufferTexture2D(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_2D,ae.__webglTexture,xt)}N=-1},this.readRenderTargetPixels=function(V,at,xt,gt,ht,kt,te){if(!(V&&V.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let oe=Zt.get(V).__webglFramebuffer;if(V.isWebGLCubeRenderTarget&&te!==void 0&&(oe=oe[te]),oe){Qt.bindFramebuffer(q.FRAMEBUFFER,oe);try{const ae=V.texture,Ue=ae.format,Pe=ae.type;if(!$t.textureFormatReadable(Ue)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!$t.textureTypeReadable(Pe)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}at>=0&&at<=V.width-gt&&xt>=0&&xt<=V.height-ht&&q.readPixels(at,xt,gt,ht,Me.convert(Ue),Me.convert(Pe),kt)}finally{const ae=z!==null?Zt.get(z).__webglFramebuffer:null;Qt.bindFramebuffer(q.FRAMEBUFFER,ae)}}},this.readRenderTargetPixelsAsync=async function(V,at,xt,gt,ht,kt,te){if(!(V&&V.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let oe=Zt.get(V).__webglFramebuffer;if(V.isWebGLCubeRenderTarget&&te!==void 0&&(oe=oe[te]),oe){const ae=V.texture,Ue=ae.format,Pe=ae.type;if(!$t.textureFormatReadable(Ue))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!$t.textureTypeReadable(Pe))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(at>=0&&at<=V.width-gt&&xt>=0&&xt<=V.height-ht){Qt.bindFramebuffer(q.FRAMEBUFFER,oe);const Ce=q.createBuffer();q.bindBuffer(q.PIXEL_PACK_BUFFER,Ce),q.bufferData(q.PIXEL_PACK_BUFFER,kt.byteLength,q.STREAM_READ),q.readPixels(at,xt,gt,ht,Me.convert(Ue),Me.convert(Pe),0);const ln=z!==null?Zt.get(z).__webglFramebuffer:null;Qt.bindFramebuffer(q.FRAMEBUFFER,ln);const cn=q.fenceSync(q.SYNC_GPU_COMMANDS_COMPLETE,0);return q.flush(),await tk(q,cn,4),q.bindBuffer(q.PIXEL_PACK_BUFFER,Ce),q.getBufferSubData(q.PIXEL_PACK_BUFFER,0,kt),q.deleteBuffer(Ce),q.deleteSync(cn),kt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(V,at=null,xt=0){V.isTexture!==!0&&(zp("WebGLRenderer: copyFramebufferToTexture function signature has changed."),at=arguments[0]||null,V=arguments[1]);const gt=Math.pow(2,-xt),ht=Math.floor(V.image.width*gt),kt=Math.floor(V.image.height*gt),te=at!==null?at.x:0,oe=at!==null?at.y:0;Y.setTexture2D(V,0),q.copyTexSubImage2D(q.TEXTURE_2D,xt,0,0,te,oe,ht,kt),Qt.unbindTexture()};const tc=q.createFramebuffer(),ra=q.createFramebuffer();this.copyTextureToTexture=function(V,at,xt=null,gt=null,ht=0,kt=null){V.isTexture!==!0&&(zp("WebGLRenderer: copyTextureToTexture function signature has changed."),gt=arguments[0]||null,V=arguments[1],at=arguments[2],kt=arguments[3]||0,xt=null),kt===null&&(ht!==0?(zp("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),kt=ht,ht=0):kt=0);let te,oe,ae,Ue,Pe,Ce,ln,cn,Yn;const yn=V.isCompressedTexture?V.mipmaps[kt]:V.image;if(xt!==null)te=xt.max.x-xt.min.x,oe=xt.max.y-xt.min.y,ae=xt.isBox3?xt.max.z-xt.min.z:1,Ue=xt.min.x,Pe=xt.min.y,Ce=xt.isBox3?xt.min.z:0;else{const ss=Math.pow(2,-ht);te=Math.floor(yn.width*ss),oe=Math.floor(yn.height*ss),V.isDataArrayTexture?ae=yn.depth:V.isData3DTexture?ae=Math.floor(yn.depth*ss):ae=1,Ue=0,Pe=0,Ce=0}gt!==null?(ln=gt.x,cn=gt.y,Yn=gt.z):(ln=0,cn=0,Yn=0);const He=Me.convert(at.format),Re=Me.convert(at.type);let Ci;at.isData3DTexture?(Y.setTexture3D(at,0),Ci=q.TEXTURE_3D):at.isDataArrayTexture||at.isCompressedArrayTexture?(Y.setTexture2DArray(at,0),Ci=q.TEXTURE_2D_ARRAY):(Y.setTexture2D(at,0),Ci=q.TEXTURE_2D),q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,at.flipY),q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,at.premultiplyAlpha),q.pixelStorei(q.UNPACK_ALIGNMENT,at.unpackAlignment);const un=q.getParameter(q.UNPACK_ROW_LENGTH),Os=q.getParameter(q.UNPACK_IMAGE_HEIGHT),vr=q.getParameter(q.UNPACK_SKIP_PIXELS),ms=q.getParameter(q.UNPACK_SKIP_ROWS),Gi=q.getParameter(q.UNPACK_SKIP_IMAGES);q.pixelStorei(q.UNPACK_ROW_LENGTH,yn.width),q.pixelStorei(q.UNPACK_IMAGE_HEIGHT,yn.height),q.pixelStorei(q.UNPACK_SKIP_PIXELS,Ue),q.pixelStorei(q.UNPACK_SKIP_ROWS,Pe),q.pixelStorei(q.UNPACK_SKIP_IMAGES,Ce);const Ln=V.isDataArrayTexture||V.isData3DTexture,gs=at.isDataArrayTexture||at.isData3DTexture;if(V.isDepthTexture){const ss=Zt.get(V),ci=Zt.get(at),Zi=Zt.get(ss.__renderTarget),aa=Zt.get(ci.__renderTarget);Qt.bindFramebuffer(q.READ_FRAMEBUFFER,Zi.__webglFramebuffer),Qt.bindFramebuffer(q.DRAW_FRAMEBUFFER,aa.__webglFramebuffer);for(let Us=0;Us<ae;Us++)Ln&&(q.framebufferTextureLayer(q.READ_FRAMEBUFFER,q.COLOR_ATTACHMENT0,Zt.get(V).__webglTexture,ht,Ce+Us),q.framebufferTextureLayer(q.DRAW_FRAMEBUFFER,q.COLOR_ATTACHMENT0,Zt.get(at).__webglTexture,kt,Yn+Us)),q.blitFramebuffer(Ue,Pe,te,oe,ln,cn,te,oe,q.DEPTH_BUFFER_BIT,q.NEAREST);Qt.bindFramebuffer(q.READ_FRAMEBUFFER,null),Qt.bindFramebuffer(q.DRAW_FRAMEBUFFER,null)}else if(ht!==0||V.isRenderTargetTexture||Zt.has(V)){const ss=Zt.get(V),ci=Zt.get(at);Qt.bindFramebuffer(q.READ_FRAMEBUFFER,tc),Qt.bindFramebuffer(q.DRAW_FRAMEBUFFER,ra);for(let Zi=0;Zi<ae;Zi++)Ln?q.framebufferTextureLayer(q.READ_FRAMEBUFFER,q.COLOR_ATTACHMENT0,ss.__webglTexture,ht,Ce+Zi):q.framebufferTexture2D(q.READ_FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_2D,ss.__webglTexture,ht),gs?q.framebufferTextureLayer(q.DRAW_FRAMEBUFFER,q.COLOR_ATTACHMENT0,ci.__webglTexture,kt,Yn+Zi):q.framebufferTexture2D(q.DRAW_FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_2D,ci.__webglTexture,kt),ht!==0?q.blitFramebuffer(Ue,Pe,te,oe,ln,cn,te,oe,q.COLOR_BUFFER_BIT,q.NEAREST):gs?q.copyTexSubImage3D(Ci,kt,ln,cn,Yn+Zi,Ue,Pe,te,oe):q.copyTexSubImage2D(Ci,kt,ln,cn,Ue,Pe,te,oe);Qt.bindFramebuffer(q.READ_FRAMEBUFFER,null),Qt.bindFramebuffer(q.DRAW_FRAMEBUFFER,null)}else gs?V.isDataTexture||V.isData3DTexture?q.texSubImage3D(Ci,kt,ln,cn,Yn,te,oe,ae,He,Re,yn.data):at.isCompressedArrayTexture?q.compressedTexSubImage3D(Ci,kt,ln,cn,Yn,te,oe,ae,He,yn.data):q.texSubImage3D(Ci,kt,ln,cn,Yn,te,oe,ae,He,Re,yn):V.isDataTexture?q.texSubImage2D(q.TEXTURE_2D,kt,ln,cn,te,oe,He,Re,yn.data):V.isCompressedTexture?q.compressedTexSubImage2D(q.TEXTURE_2D,kt,ln,cn,yn.width,yn.height,He,yn.data):q.texSubImage2D(q.TEXTURE_2D,kt,ln,cn,te,oe,He,Re,yn);q.pixelStorei(q.UNPACK_ROW_LENGTH,un),q.pixelStorei(q.UNPACK_IMAGE_HEIGHT,Os),q.pixelStorei(q.UNPACK_SKIP_PIXELS,vr),q.pixelStorei(q.UNPACK_SKIP_ROWS,ms),q.pixelStorei(q.UNPACK_SKIP_IMAGES,Gi),kt===0&&at.generateMipmaps&&q.generateMipmap(Ci),Qt.unbindTexture()},this.copyTextureToTexture3D=function(V,at,xt=null,gt=null,ht=0){return V.isTexture!==!0&&(zp("WebGLRenderer: copyTextureToTexture3D function signature has changed."),xt=arguments[0]||null,gt=arguments[1]||null,V=arguments[2],at=arguments[3],ht=arguments[4]||0),zp('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(V,at,xt,gt,ht)},this.initRenderTarget=function(V){Zt.get(V).__webglFramebuffer===void 0&&Y.setupRenderTarget(V)},this.initTexture=function(V){V.isCubeTexture?Y.setTextureCube(V,0):V.isData3DTexture?Y.setTexture3D(V,0):V.isDataArrayTexture||V.isCompressedArrayTexture?Y.setTexture2DArray(V,0):Y.setTexture2D(V,0),Qt.unbindTexture()},this.resetState=function(){P=0,F=0,z=null,Qt.reset(),bn.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Xo}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(t){this._outputColorSpace=t;const e=this.getContext();e.drawingBufferColorspace=_n._getDrawingBufferColorSpace(t),e.unpackColorSpace=_n._getUnpackColorSpace()}}const lq=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:hC,AddEquation:nf,AddOperation:SN,AdditiveAnimationBlendMode:_C,AdditiveBlending:wE,AgXToneMapping:TN,AlphaFormat:gC,AlwaysCompare:VN,AlwaysDepth:C1,AlwaysStencilFunc:OE,AmbientLight:CI,AnimationAction:II,AnimationClip:vm,AnimationLoader:T7,AnimationMixer:FI,AnimationObjectGroup:Q7,AnimationUtils:_7,ArcCurve:nI,ArrayCamera:UI,ArrowHelper:AX,AttachedBindMode:LE,Audio:PI,AudioAnalyser:G7,AudioContext:ZC,AudioListener:F7,AudioLoader:P7,AxesHelper:SX,BackSide:Ur,BasicDepthPacking:ON,BasicShadowMap:eN,BatchedMesh:tI,Bone:YS,BooleanKeyframeTrack:ud,Box2:aX,Box3:pr,Box3Helper:vX,BoxGeometry:cd,BoxHelper:yX,BufferAttribute:Rn,BufferGeometry:Ke,BufferGeometryLoader:LI,ByteType:dC,Cache:kc,Camera:kS,CameraHelper:gX,CanvasTexture:Yk,CapsuleGeometry:JS,CatmullRomCurve3:iI,CineonToneMapping:MN,CircleGeometry:QS,ClampToEdgeWrapping:Sa,Clock:$C,Color:ie,ColorKeyframeTrack:YC,ColorManagement:_n,CompressedArrayTexture:Xk,CompressedCubeTexture:jk,CompressedTexture:KS,CompressedTextureLoader:C7,ConeGeometry:ZS,ConstantAlphaFactor:vN,ConstantColorFactor:gN,Controls:bX,CubeCamera:qN,CubeReflectionMapping:Qc,CubeRefractionMapping:lf,CubeTexture:jy,CubeTextureLoader:R7,CubeUVReflectionMapping:Rm,CubicBezierCurve:IC,CubicBezierCurve3:sI,CubicInterpolant:_I,CullFaceBack:RE,CullFaceFront:tN,CullFaceFrontBack:r8,CullFaceNone:$P,Curve:Jo,CurvePath:aI,CustomBlending:nN,CustomToneMapping:EN,CylinderGeometry:Dm,Cylindrical:rX,Data3DTexture:VS,DataArrayTexture:Xy,DataTexture:kl,DataTextureLoader:w7,DataUtils:yk,DecrementStencilOp:g8,DecrementWrapStencilOp:v8,DefaultLoadingManager:Kp,DepthFormat:Yh,DepthStencilFormat:$h,DepthTexture:PC,DetachedBindMode:RN,DirectionalLight:QC,DirectionalLightHelper:mX,DiscreteInterpolant:bI,DodecahedronGeometry:$S,DoubleSide:Qa,DstAlphaFactor:fN,DstColorFactor:dN,DynamicCopyUsage:O8,DynamicDrawUsage:C8,DynamicReadUsage:B8,EdgesGeometry:oI,EllipseCurve:qS,EqualCompare:FN,EqualDepth:w1,EqualStencilFunc:_8,EquirectangularReflectionMapping:uy,EquirectangularRefractionMapping:fy,Euler:ea,EventDispatcher:Zl,ExtrudeGeometry:e_,FileLoader:Ta,Float16BufferAttribute:Mk,Float32BufferAttribute:be,FloatType:ta,Fog:jS,FogExp2:XS,FramebufferTexture:kk,FrontSide:ql,Frustum:Ky,GLBufferAttribute:sX,GLSL1:P8,GLSL3:UE,GreaterCompare:zN,GreaterDepth:D1,GreaterEqualCompare:GN,GreaterEqualDepth:B1,GreaterEqualStencilFunc:T8,GreaterStencilFunc:M8,GridHelper:dX,Group:Vc,HalfFloatType:wm,HemisphereLight:TI,HemisphereLightHelper:hX,IcosahedronGeometry:n_,ImageBitmapLoader:OI,ImageLoader:Sy,ImageUtils:jN,IncrementStencilOp:m8,IncrementWrapStencilOp:y8,InstancedBufferAttribute:td,InstancedBufferGeometry:DI,InstancedInterleavedBuffer:iX,InstancedMesh:LC,Int16BufferAttribute:_k,Int32BufferAttribute:bk,Int8BufferAttribute:xk,IntType:US,InterleavedBuffer:Yy,InterleavedBufferAttribute:ff,Interpolant:Om,InterpolateDiscrete:dm,InterpolateLinear:pm,InterpolateSmooth:n1,InvertStencilOp:x8,KeepStencilOp:Bh,KeyframeTrack:Qo,LOD:$N,LatheGeometry:qy,Layers:gm,LessCompare:IN,LessDepth:R1,LessEqualCompare:MC,LessEqualDepth:Qh,LessEqualStencilFunc:b8,LessStencilFunc:S8,Light:yf,LightProbe:BI,Line:$c,Line3:oX,LineBasicMaterial:mr,LineCurve:FC,LineCurve3:rI,LineDashedMaterial:xI,LineLoop:OC,LineSegments:qo,LinearFilter:Ki,LinearInterpolant:jC,LinearMipMapLinearFilter:c8,LinearMipMapNearestFilter:l8,LinearMipmapLinearFilter:Za,LinearMipmapNearestFilter:nm,LinearSRGBColorSpace:uf,LinearToneMapping:_N,LinearTransfer:dy,Loader:gr,LoaderUtils:rf,LoadingManager:WC,LoopOnce:wN,LoopPingPong:DN,LoopRepeat:BN,LuminanceAlphaFormat:xC,LuminanceFormat:vC,MOUSE:i8,Material:us,MaterialLoader:c_,MathUtils:TC,Matrix2:iR,Matrix3:We,Matrix4:Be,MaxEquation:aN,Mesh:qi,MeshBasicMaterial:_a,MeshDepthMaterial:VC,MeshDistanceMaterial:kC,MeshLambertMaterial:yI,MeshMatcapMaterial:vI,MeshNormalMaterial:gI,MeshPhongMaterial:pI,MeshPhysicalMaterial:$a,MeshStandardMaterial:Zy,MeshToonMaterial:mI,MinEquation:rN,MirroredRepeatWrapping:fm,MixOperation:AN,MultiplyBlending:DE,MultiplyOperation:Vy,NearestFilter:Ls,NearestMipMapLinearFilter:o8,NearestMipMapNearestFilter:a8,NearestMipmapLinearFilter:Nh,NearestMipmapNearestFilter:OS,NeutralToneMapping:CN,NeverCompare:NN,NeverDepth:T1,NeverStencilFunc:A8,NoBlending:Yc,NoColorSpace:zc,NoToneMapping:Vl,NormalAnimationBlendMode:HS,NormalBlending:jh,NotEqualCompare:HN,NotEqualDepth:L1,NotEqualStencilFunc:E8,NumberKeyframeTrack:nd,Object3D:gn,ObjectLoader:O7,ObjectSpaceNormalMap:PN,OctahedronGeometry:Jy,OneFactor:lN,OneMinusConstantAlphaFactor:xN,OneMinusConstantColorFactor:yN,OneMinusDstAlphaFactor:hN,OneMinusDstColorFactor:pN,OneMinusSrcAlphaFactor:E1,OneMinusSrcColorFactor:uN,OrthographicCamera:vf,PCFShadowMap:DS,PCFSoftShadowMap:G0,PMREMGenerator:GE,Path:yy,PerspectiveCamera:Wi,Plane:ef,PlaneGeometry:Lm,PlaneHelper:xX,PointLight:JC,PointLightHelper:uX,Points:UC,PointsMaterial:WS,PolarGridHelper:pX,PolyhedronGeometry:gf,PositionalAudio:H7,PropertyBinding:Tn,PropertyMixer:NI,QuadraticBezierCurve:zC,QuadraticBezierCurve3:HC,Quaternion:Ji,QuaternionKeyframeTrack:id,QuaternionLinearInterpolant:MI,RED_GREEN_RGTC2_Format:iS,RED_RGTC1_Format:SC,REVISION:Gy,RGBADepthPacking:UN,RGBAFormat:fr,RGBAIntegerFormat:zS,RGBA_ASTC_10x10_Format:Q1,RGBA_ASTC_10x5_Format:K1,RGBA_ASTC_10x6_Format:q1,RGBA_ASTC_10x8_Format:J1,RGBA_ASTC_12x10_Format:Z1,RGBA_ASTC_12x12_Format:$1,RGBA_ASTC_4x4_Format:H1,RGBA_ASTC_5x4_Format:G1,RGBA_ASTC_5x5_Format:V1,RGBA_ASTC_6x5_Format:k1,RGBA_ASTC_6x6_Format:X1,RGBA_ASTC_8x5_Format:j1,RGBA_ASTC_8x6_Format:Y1,RGBA_ASTC_8x8_Format:W1,RGBA_BPTC_Format:Y0,RGBA_ETC2_EAC_Format:z1,RGBA_PVRTC_2BPPV1_Format:N1,RGBA_PVRTC_4BPPV1_Format:P1,RGBA_S3TC_DXT1_Format:k0,RGBA_S3TC_DXT3_Format:X0,RGBA_S3TC_DXT5_Format:j0,RGBDepthPacking:f8,RGBFormat:yC,RGBIntegerFormat:u8,RGB_BPTC_SIGNED_Format:tS,RGB_BPTC_UNSIGNED_Format:eS,RGB_ETC1_Format:I1,RGB_ETC2_Format:F1,RGB_PVRTC_2BPPV1_Format:U1,RGB_PVRTC_4BPPV1_Format:O1,RGB_S3TC_DXT1_Format:V0,RGDepthPacking:h8,RGFormat:AC,RGIntegerFormat:FS,RawShaderMaterial:dI,Ray:Bm,Raycaster:zI,RectAreaLight:RI,RedFormat:IS,RedIntegerFormat:ky,ReinhardToneMapping:bN,RenderTarget:GS,RenderTarget3D:$7,RenderTargetArray:tX,RepeatWrapping:cf,ReplaceStencilOp:p8,ReverseSubtractEquation:sN,RingGeometry:i_,SIGNED_RED_GREEN_RGTC2_Format:sS,SIGNED_RED_RGTC1_Format:nS,SRGBColorSpace:ur,SRGBTransfer:jn,Scene:wC,ShaderChunk:en,ShaderLib:ko,ShaderMaterial:Wo,ShadowMaterial:hI,Shape:Kh,ShapeGeometry:s_,ShapePath:_X,ShapeUtils:Xl,ShortType:pC,Skeleton:Wy,SkeletonHelper:cX,SkinnedMesh:DC,Source:zh,Sphere:Ys,SphereGeometry:Qy,Spherical:HI,SphericalHarmonics3:wI,SplineCurve:GC,SpotLight:qC,SpotLightHelper:lX,Sprite:ZN,SpriteMaterial:BC,SrcAlphaFactor:M1,SrcAlphaSaturateFactor:mN,SrcColorFactor:cN,StaticCopyUsage:L8,StaticDrawUsage:py,StaticReadUsage:w8,StereoCamera:N7,StreamCopyUsage:U8,StreamDrawUsage:R8,StreamReadUsage:D8,StringKeyframeTrack:fd,SubtractEquation:iN,SubtractiveBlending:BE,TOUCH:s8,TangentSpaceNormalMap:mf,TetrahedronGeometry:r_,Texture:pi,TextureLoader:EI,TextureUtils:RX,TimestampQuery:N8,TorusGeometry:a_,TorusKnotGeometry:o_,Triangle:$r,TriangleFanDrawMode:rS,TriangleStripDrawMode:bC,TrianglesDrawMode:LN,TubeGeometry:l_,UVMapping:LS,Uint16BufferAttribute:CC,Uint32BufferAttribute:RC,Uint8BufferAttribute:Ak,Uint8ClampedBufferAttribute:Sk,Uniform:nR,UniformsGroup:nX,UniformsLib:ce,UniformsUtils:KN,UnsignedByteType:Yo,UnsignedInt248Type:Zh,UnsignedInt5999Type:mC,UnsignedIntType:Zc,UnsignedShort4444Type:PS,UnsignedShort5551Type:NS,UnsignedShortType:hm,VSMShadowMap:Vo,Vector2:It,Vector3:K,Vector4:mn,VectorKeyframeTrack:sd,VideoFrameTexture:Vk,VideoTexture:eI,WebGL3DRenderTarget:ok,WebGLArrayRenderTarget:ak,WebGLCoordinateSystem:Xo,WebGLCubeRenderTarget:JN,WebGLRenderTarget:Jl,WebGLRenderer:KI,WebGLUtils:WI,WebGPUCoordinateSystem:my,WebXRController:i1,WireframeGeometry:fI,WrapAroundEnding:hy,ZeroCurvatureEnding:Ih,ZeroFactor:oN,ZeroSlopeEnding:Fh,ZeroStencilOp:d8,createCanvasElement:XN},Symbol.toStringTag,{value:"Module"}));var xM={exports:{}},Uc={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $D;function cq(){return $D||($D=1,Uc.ConcurrentRoot=1,Uc.ContinuousEventPriority=8,Uc.DefaultEventPriority=32,Uc.DiscreteEventPriority=2,Uc.IdleEventPriority=268435456,Uc.LegacyRoot=0,Uc.NoEventPriority=0),Uc}var t3;function uq(){return t3||(t3=1,xM.exports=cq()),xM.exports}var r1=uq(),AM={exports:{}},SM={},_M={exports:{}},bM={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e3;function fq(){if(e3)return bM;e3=1;var n=Em();function t(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var e=typeof Object.is=="function"?Object.is:t,i=n.useState,s=n.useEffect,r=n.useLayoutEffect,o=n.useDebugValue;function l(g,v){var A=v(),S=i({inst:{value:A,getSnapshot:v}}),E=S[0].inst,T=S[1];return r(function(){E.value=A,E.getSnapshot=v,u(E)&&T({inst:E})},[g,A,v]),s(function(){return u(E)&&T({inst:E}),g(function(){u(E)&&T({inst:E})})},[g]),o(A),A}function u(g){var v=g.getSnapshot;g=g.value;try{var A=v();return!e(g,A)}catch{return!0}}function d(g,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return bM.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:m,bM}var n3;function hq(){return n3||(n3=1,_M.exports=fq()),_M.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i3;function dq(){if(i3)return SM;i3=1;var n=Em(),t=hq();function e(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var i=typeof Object.is=="function"?Object.is:e,s=t.useSyncExternalStore,r=n.useRef,o=n.useEffect,l=n.useMemo,u=n.useDebugValue;return SM.useSyncExternalStoreWithSelector=function(d,m,g,v,A){var S=r(null);if(S.current===null){var E={hasValue:!1,value:null};S.current=E}else E=S.current;S=l(function(){function _(P){if(!w){if(w=!0,D=P,P=v(P),A!==void 0&&E.hasValue){var F=E.value;if(A(F,P))return L=F}return L=P}if(F=L,i(D,P))return F;var z=v(P);return A!==void 0&&A(F,z)?(D=P,F):(D=P,L=z)}var w=!1,D,L,U=g===void 0?null:g;return[function(){return _(m())},U===null?void 0:function(){return _(U())}]},[m,g,v,A]);var T=s(d,S[0],S[1]);return o(function(){E.hasValue=!0,E.value=T},[T]),u(T),T},SM}var s3;function pq(){return s3||(s3=1,AM.exports=dq()),AM.exports}var mq=pq();const gq=Uy(mq),r3=n=>{let t;const e=new Set,i=(d,m)=>{const g=typeof d=="function"?d(t):d;if(!Object.is(g,t)){const v=t;t=m??(typeof g!="object"||g===null)?g:Object.assign({},t,g),e.forEach(A=>A(t,v))}},s=()=>t,l={setState:i,getState:s,getInitialState:()=>u,subscribe:d=>(e.add(d),()=>e.delete(d))},u=t=n(i,s,l);return l},qI=n=>n?r3(n):r3,{useSyncExternalStoreWithSelector:yq}=gq,vq=n=>n;function xq(n,t=vq,e){const i=yq(n.subscribe,n.getState,n.getInitialState,t,e);return lm.useDebugValue(i),i}const a3=(n,t)=>{const e=qI(n),i=(s,r=t)=>xq(e,s,r);return Object.assign(i,e),i},Aq=(n,t)=>n?a3(n,t):a3;var MM={exports:{}},EM={exports:{}};/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o3;function Sq(){return o3||(o3=1,function(n){n.exports=function(t){function e(f,h,x,M){return new Pv(f,h,x,M)}function i(){}function s(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)h+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(f){return f===null||typeof f!="object"?null:(f=On&&f[On]||f["@@iterator"],typeof f=="function"?f:null)}function o(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===Bi?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case pl:return"Fragment";case La:return"Portal";case ml:return"Profiler";case hc:return"StrictMode";case vo:return"Suspense";case qf:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case gl:return(f.displayName||"Context")+".Provider";case dg:return(f._context.displayName||"Context")+".Consumer";case Id:var h=f.render;return f=f.displayName,f||(f=h.displayName||h.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case xu:return h=f.displayName||null,h!==null?h:o(f.type)||"Memo";case xo:h=f._payload,f=f._init;try{return o(f(h))}catch{}}return null}function l(f){if(yl===void 0)try{throw Error()}catch(x){var h=x.stack.trim().match(/\n( *(at )?)/);yl=h&&h[1]||"",vl=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yl+f+vl}function u(f,h){if(!f||Au)return"";Au=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var M={DetermineComponentFrameRoot:function(){try{if(h){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(Xe){var Kt=Xe}Reflect.construct(f,[],le)}else{try{le.call()}catch(Xe){Kt=Xe}f.call(le.prototype)}}else{try{throw Error()}catch(Xe){Kt=Xe}(le=f())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(Xe){if(Xe&&Kt&&typeof Xe.stack=="string")return[Xe.stack,Kt.stack]}return[null,null]}};M.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var R=Object.getOwnPropertyDescriptor(M.DetermineComponentFrameRoot,"name");R&&R.configurable&&Object.defineProperty(M.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var O=M.DetermineComponentFrameRoot(),X=O[0],nt=O[1];if(X&&nt){var mt=X.split(`
`),Lt=nt.split(`
`);for(R=M=0;M<mt.length&&!mt[M].includes("DetermineComponentFrameRoot");)M++;for(;R<Lt.length&&!Lt[R].includes("DetermineComponentFrameRoot");)R++;if(M===mt.length||R===Lt.length)for(M=mt.length-1,R=Lt.length-1;1<=M&&0<=R&&mt[M]!==Lt[R];)R--;for(;1<=M&&0<=R;M--,R--)if(mt[M]!==Lt[R]){if(M!==1||R!==1)do if(M--,R--,0>R||mt[M]!==Lt[R]){var Jt=`
`+mt[M].replace(" at new "," at ");return f.displayName&&Jt.includes("<anonymous>")&&(Jt=Jt.replace("<anonymous>",f.displayName)),Jt}while(1<=M&&0<=R);break}}}finally{Au=!1,Error.prepareStackTrace=x}return(x=f?f.displayName||f.name:"")?l(x):""}function d(f){switch(f.tag){case 26:case 27:case 5:return l(f.type);case 16:return l("Lazy");case 13:return l("Suspense");case 19:return l("SuspenseList");case 0:case 15:return f=u(f.type,!1),f;case 11:return f=u(f.type.render,!1),f;case 1:return f=u(f.type,!0),f;default:return""}}function m(f){try{var h="";do h+=d(f),f=f.return;while(f);return h}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}function g(f){var h=f,x=f;if(f.alternate)for(;h.return;)h=h.return;else{f=h;do h=f,h.flags&4098&&(x=h.return),f=h.return;while(f)}return h.tag===3?x:null}function v(f){if(g(f)!==f)throw Error(s(188))}function A(f){var h=f.alternate;if(!h){if(h=g(f),h===null)throw Error(s(188));return h!==f?null:f}for(var x=f,M=h;;){var R=x.return;if(R===null)break;var O=R.alternate;if(O===null){if(M=R.return,M!==null){x=M;continue}break}if(R.child===O.child){for(O=R.child;O;){if(O===x)return v(R),f;if(O===M)return v(R),h;O=O.sibling}throw Error(s(188))}if(x.return!==M.return)x=R,M=O;else{for(var X=!1,nt=R.child;nt;){if(nt===x){X=!0,x=R,M=O;break}if(nt===M){X=!0,M=R,x=O;break}nt=nt.sibling}if(!X){for(nt=O.child;nt;){if(nt===x){X=!0,x=O,M=R;break}if(nt===M){X=!0,M=O,x=R;break}nt=nt.sibling}if(!X)throw Error(s(189))}}if(x.alternate!==M)throw Error(s(190))}if(x.tag!==3)throw Error(s(188));return x.stateNode.current===x?f:h}function S(f){var h=f.tag;if(h===5||h===26||h===27||h===6)return f;for(f=f.child;f!==null;){if(h=S(f),h!==null)return h;f=f.sibling}return null}function E(f){var h=f.tag;if(h===5||h===26||h===27||h===6)return f;for(f=f.child;f!==null;){if(f.tag!==4&&(h=E(f),h!==null))return h;f=f.sibling}return null}function T(f){return{current:f}}function _(f){0>_l||(f.current=Jd[_l],Jd[_l]=null,_l--)}function w(f,h){_l++,Jd[_l]=f.current,f.current=h}function D(f){return f>>>=0,f===0?32:31-(Ig(f)/V_|0)|0}function L(f){var h=f&42;if(h!==0)return h;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function U(f,h){var x=f.pendingLanes;if(x===0)return 0;var M=0,R=f.suspendedLanes,O=f.pingedLanes,X=f.warmLanes;f=f.finishedLanes!==0;var nt=x&134217727;return nt!==0?(x=nt&~R,x!==0?M=L(x):(O&=nt,O!==0?M=L(O):f||(X=nt&~X,X!==0&&(M=L(X))))):(nt=x&~R,nt!==0?M=L(nt):O!==0?M=L(O):f||(X=x&~X,X!==0&&(M=L(X)))),M===0?0:h!==0&&h!==M&&!(h&R)&&(R=M&-M,X=h&-h,R>=X||R===32&&(X&4194176)!==0)?h:M}function P(f,h){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&h)===0}function F(f,h){switch(f){case 1:case 2:case 4:case 8:return h+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function z(){var f=$f;return $f<<=1,!($f&4194176)&&($f=128),f}function N(){var f=Eu;return Eu<<=1,!(Eu&62914560)&&(Eu=4194304),f}function B(f){for(var h=[],x=0;31>x;x++)h.push(f);return h}function H(f,h){f.pendingLanes|=h,h!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function st(f,h,x,M,R,O){var X=f.pendingLanes;f.pendingLanes=x,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=x,f.entangledLanes&=x,f.errorRecoveryDisabledLanes&=x,f.shellSuspendCounter=0;var nt=f.entanglements,mt=f.expirationTimes,Lt=f.hiddenUpdates;for(x=X&~x;0<x;){var Jt=31-vi(x),le=1<<Jt;nt[Jt]=0,mt[Jt]=-1;var Kt=Lt[Jt];if(Kt!==null)for(Lt[Jt]=null,Jt=0;Jt<Kt.length;Jt++){var Xe=Kt[Jt];Xe!==null&&(Xe.lane&=-536870913)}x&=~le}M!==0&&tt(f,M,0),O!==0&&R===0&&f.tag!==0&&(f.suspendedLanes|=O&~(X&~h))}function tt(f,h,x){f.pendingLanes|=h,f.suspendedLanes&=~h;var M=31-vi(h);f.entangledLanes|=h,f.entanglements[M]=f.entanglements[M]|1073741824|x&4194218}function J(f,h){var x=f.entangledLanes|=h;for(f=f.entanglements;x;){var M=31-vi(x),R=1<<M;R&h|f[M]&h&&(f[M]|=h),x&=~R}}function lt(f){return f&=-f,2<f?8<f?f&134217727?32:268435456:8:2}function $(f){if(Di&&typeof Di.onCommitFiberRoot=="function")try{Di.onCommitFiberRoot(Cu,f,void 0,(f.current.flags&128)===128)}catch{}}function et(f){if(typeof xs=="function"&&Zd(f),Di&&typeof Di.setStrictMode=="function")try{Di.setStrictMode(Cu,f)}catch{}}function Q(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}function At(f,h){if(typeof f=="object"&&f!==null){var x=$d.get(f);return x!==void 0?x:(h={value:f,source:h,stack:m(h)},$d.set(f,h),h)}return{value:f,source:h,stack:m(h)}}function j(f,h){br[Mr++]=Ru,br[Mr++]=Ml,Ml=f,Ru=h}function rt(f,h,x){tr[As++]=Na,tr[As++]=Ia,tr[As++]=fa,fa=f;var M=Na;f=Ia;var R=32-vi(M)-1;M&=~(1<<R),x+=1;var O=32-vi(h)+R;if(30<O){var X=R-R%5;O=(M&(1<<X)-1).toString(32),M>>=X,R-=X,Na=1<<32-vi(h)+R|x<<R|M,Ia=O+f}else Na=1<<O|x<<R|M,Ia=f}function Tt(f){f.return!==null&&(j(f,1),rt(f,1,0))}function Ft(f){for(;f===Ml;)Ml=br[--Mr],br[Mr]=null,Ru=br[--Mr],br[Mr]=null;for(;f===fa;)fa=tr[--As],tr[As]=null,Ia=tr[--As],tr[As]=null,Na=tr[--As],tr[As]=null}function it(f,h){w(Mo,h),w(Gr,f),w(xi,null),f=pg(h),_(xi),w(xi,f)}function Et(){_(xi),_(Gr),_(Mo)}function Ut(f){f.memoizedState!==null&&w(eh,f);var h=xi.current,x=Nv(h,f.type);h!==x&&(w(Gr,f),w(xi,x))}function Ht(f){Gr.current===f&&(_(xi),_(Gr)),eh.current===f&&(_(eh),la?So._currentValue=pc:So._currentValue2=pc)}function Xt(f){var h=Error(s(418,""));throw Bt(At(h,f)),nh}function xe(f,h){if(!$s)throw Error(s(175));yc(f.stateNode,f.type,f.memoizedProps,h,f)||Xt(f)}function Wt(f){for(Ai=f.return;Ai;)switch(Ai.tag){case 3:case 27:ha=!0;return;case 5:case 13:ha=!1;return;default:Ai=Ai.return}}function ue(f){if(!$s||f!==Ai)return!1;if(!An)return Wt(f),An=!0,!1;var h=!1;if(ts?f.tag!==3&&f.tag!==27&&(f.tag!==5||Cg(f.type)&&!ls(f.type,f.memoizedProps))&&(h=!0):f.tag!==3&&(f.tag!==5||Cg(f.type)&&!ls(f.type,f.memoizedProps))&&(h=!0),h&&Fn&&Xt(f),Wt(f),f.tag===13){if(!$s)throw Error(s(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));Fn=px(f)}else Fn=Ai?Sl(f.stateNode):null;return!0}function Pt(){$s&&(Fn=Ai=null,An=!1)}function Bt(f){Vr===null?Vr=[f]:Vr.push(f)}function q(){for(var f=Eo,h=da=Eo=0;h<f;){var x=er[h];er[h++]=null;var M=er[h];er[h++]=null;var R=er[h];er[h++]=null;var O=er[h];if(er[h++]=null,M!==null&&R!==null){var X=M.pending;X===null?R.next=R:(R.next=X.next,X.next=R),M.pending=R}O!==0&&Qt(x,R,O)}}function he(f,h,x,M){er[Eo++]=f,er[Eo++]=h,er[Eo++]=x,er[Eo++]=M,da|=M,f.lanes|=M,f=f.alternate,f!==null&&(f.lanes|=M)}function Vt(f,h,x,M){return he(f,h,x,M),_e(f)}function $t(f,h){return he(f,null,null,h),_e(f)}function Qt(f,h,x){f.lanes|=x;var M=f.alternate;M!==null&&(M.lanes|=x);for(var R=!1,O=f.return;O!==null;)O.childLanes|=x,M=O.alternate,M!==null&&(M.childLanes|=x),O.tag===22&&(f=O.stateNode,f===null||f._visibility&1||(R=!0)),f=O,O=O.return;R&&h!==null&&f.tag===3&&(O=f.stateNode,R=31-vi(x),O=O.hiddenUpdates,f=O[R],f===null?O[R]=[h]:f.push(h),h.lane=x|536870912)}function _e(f){if(50<Ec)throw Ec=0,Vg=null,Error(s(185));for(var h=f.return;h!==null;)f=h,h=f.return;return f.tag===3?f.stateNode:null}function Zt(f){f!==El&&f.next===null&&(El===null?Qn=El=f:El=El.next=f),Si=!0,tp||(tp=!0,Dt(G))}function Y(f,h){if(!ep&&Si){ep=!0;do for(var x=!1,M=Qn;M!==null;){if(f!==0){var R=M.pendingLanes;if(R===0)var O=0;else{var X=M.suspendedLanes,nt=M.pingedLanes;O=(1<<31-vi(42|f)+1)-1,O&=R&~(X&~nt),O=O&201326677?O&201326677|1:O?O|2:0}O!==0&&(x=!0,Gt(M,O))}else O=on,O=U(M,M===Hn?O:0),!(O&3)||P(M,O)||(x=!0,Gt(M,O));M=M.next}while(x);ep=!1}}function G(){Si=tp=!1;var f=0;wu!==0&&(Hv()&&(f=wu),wu=0);for(var h=_r(),x=null,M=Qn;M!==null;){var R=M.next,O=yt(M,h);O===0?(M.next=null,x===null?Qn=R:x.next=R,R===null&&(El=x)):(x=M,(f!==0||O&3)&&(Si=!0)),M=R}Y(f)}function yt(f,h){for(var x=f.suspendedLanes,M=f.pingedLanes,R=f.expirationTimes,O=f.pendingLanes&-62914561;0<O;){var X=31-vi(O),nt=1<<X,mt=R[X];mt===-1?(!(nt&x)||nt&M)&&(R[X]=F(nt,h)):mt<=h&&(f.expiredLanes|=nt),O&=~nt}if(h=Hn,x=on,x=U(f,f===h?x:0),M=f.callbackNode,x===0||f===h&&Un===2||f.cancelPendingCommit!==null)return M!==null&&M!==null&&ua(M),f.callbackNode=null,f.callbackPriority=0;if(!(x&3)||P(f,x)){if(h=x&-x,h===f.callbackPriority)return h;switch(M!==null&&ua(M),lt(x)){case 2:case 8:x=th;break;case 32:x=Tu;break;case 268435456:x=xc;break;default:x=Tu}return M=Ct.bind(null,f),x=Pa(x,M),f.callbackPriority=h,f.callbackNode=x,h}return M!==null&&M!==null&&ua(M),f.callbackPriority=2,f.callbackNode=null,2}function Ct(f,h){var x=f.callbackNode;if(ul()&&f.callbackNode!==x)return null;var M=on;return M=U(f,f===Hn?M:0),M===0?null:(xr(f,M,h),yt(f,_r()),f.callbackNode!=null&&f.callbackNode===x?Ct.bind(null,f):null)}function Gt(f,h){if(ul())return null;xr(f,h,!0)}function Dt(f){Xv?jv(function(){an&6?Pa(Qd,f):f()}):Pa(Qd,f)}function fe(){return wu===0&&(wu=z()),wu}function ne(f,h){if(Bu===null){var x=Bu=[];np=0,Zn=fe(),es={status:"pending",value:void 0,then:function(M){x.push(M)}}}return np++,h.then(de,de),h}function de(){if(--np===0&&Bu!==null){es!==null&&(es.status="fulfilled");var f=Bu;Bu=null,Zn=0,es=null;for(var h=0;h<f.length;h++)(0,f[h])()}}function Je(f,h){var x=[],M={status:"pending",value:null,reason:null,then:function(R){x.push(R)}};return f.then(function(){M.status="fulfilled",M.value=h;for(var R=0;R<x.length;R++)(0,x[R])(h)},function(R){for(M.status="rejected",M.reason=R,R=0;R<x.length;R++)(0,x[R])(void 0)}),M}function qt(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function me(f,h){f=f.updateQueue,h.updateQueue===f&&(h.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function Ae(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function ve(f,h,x){var M=f.updateQueue;if(M===null)return null;if(M=M.shared,an&2){var R=M.pending;return R===null?h.next=h:(h.next=R.next,R.next=h),M.pending=h,h=_e(f),Qt(f,null,x),h}return he(f,M,h,x),_e(f)}function pe(f,h,x){if(h=h.updateQueue,h!==null&&(h=h.shared,(x&4194176)!==0)){var M=h.lanes;M&=f.pendingLanes,x|=M,h.lanes=x,J(f,x)}}function Ge(f,h){var x=f.updateQueue,M=f.alternate;if(M!==null&&(M=M.updateQueue,x===M)){var R=null,O=null;if(x=x.firstBaseUpdate,x!==null){do{var X={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};O===null?R=O=X:O=O.next=X,x=x.next}while(x!==null);O===null?R=O=h:O=O.next=h}else R=O=h;x={baseState:M.baseState,firstBaseUpdate:R,lastBaseUpdate:O,shared:M.shared,callbacks:M.callbacks},f.updateQueue=x;return}f=x.lastBaseUpdate,f===null?x.firstBaseUpdate=h:f.next=h,x.lastBaseUpdate=h}function Me(){if(ip){var f=es;if(f!==null)throw f}}function bn(f,h,x,M){ip=!1;var R=f.updateQueue;Ss=!1;var O=R.firstBaseUpdate,X=R.lastBaseUpdate,nt=R.shared.pending;if(nt!==null){R.shared.pending=null;var mt=nt,Lt=mt.next;mt.next=null,X===null?O=Lt:X.next=Lt,X=mt;var Jt=f.alternate;Jt!==null&&(Jt=Jt.updateQueue,nt=Jt.lastBaseUpdate,nt!==X&&(nt===null?Jt.firstBaseUpdate=Lt:nt.next=Lt,Jt.lastBaseUpdate=mt))}if(O!==null){var le=R.baseState;X=0,Jt=Lt=mt=null,nt=O;do{var Kt=nt.lane&-536870913,Xe=Kt!==nt.lane;if(Xe?(on&Kt)===Kt:(M&Kt)===Kt){Kt!==0&&Kt===Zn&&(ip=!0),Jt!==null&&(Jt=Jt.next={lane:0,tag:nt.tag,payload:nt.payload,callback:null,next:null});t:{var Jr=f,Nu=nt;Kt=h;var Tc=x;switch(Nu.tag){case 1:if(Jr=Nu.payload,typeof Jr=="function"){le=Jr.call(Tc,le,Kt);break t}le=Jr;break t;case 3:Jr.flags=Jr.flags&-65537|128;case 0:if(Jr=Nu.payload,Kt=typeof Jr=="function"?Jr.call(Tc,le,Kt):Jr,Kt==null)break t;le=gi({},le,Kt);break t;case 2:Ss=!0}}Kt=nt.callback,Kt!==null&&(f.flags|=64,Xe&&(f.flags|=8192),Xe=R.callbacks,Xe===null?R.callbacks=[Kt]:Xe.push(Kt))}else Xe={lane:Kt,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null},Jt===null?(Lt=Jt=Xe,mt=le):Jt=Jt.next=Xe,X|=Kt;if(nt=nt.next,nt===null){if(nt=R.shared.pending,nt===null)break;Xe=nt,nt=Xe.next,Xe.next=null,R.lastBaseUpdate=Xe,R.shared.pending=null}}while(!0);Jt===null&&(mt=le),R.baseState=mt,R.firstBaseUpdate=Lt,R.lastBaseUpdate=Jt,O===null&&(R.shared.lanes=0),Kr|=X,f.lanes=X,f.memoizedState=le}}function ut(f,h){if(typeof f!="function")throw Error(s(191,f));f.call(h)}function re(f,h){var x=f.callbacks;if(x!==null)for(f.callbacks=null,f=0;f<x.length;f++)ut(x[f],h)}function Mt(f,h){if(Fs(f,h))return!0;if(typeof f!="object"||f===null||typeof h!="object"||h===null)return!1;var x=Object.keys(f),M=Object.keys(h);if(x.length!==M.length)return!1;for(M=0;M<x.length;M++){var R=x[M];if(!_x.call(h,R)||!Fs(f[R],h[R]))return!1}return!0}function Nt(f){return f=f.status,f==="fulfilled"||f==="rejected"}function ee(){}function se(f,h,x){switch(x=f[x],x===void 0?f.push(h):x!==h&&(h.then(ee,ee),h=x),h.status){case"fulfilled":return h.value;case"rejected":throw f=h.reason,f===ih?Error(s(483)):f;default:if(typeof h.status=="string")h.then(ee,ee);else{if(f=Hn,f!==null&&100<f.shellSuspendCounter)throw Error(s(482));f=h,f.status="pending",f.then(function(M){if(h.status==="pending"){var R=h;R.status="fulfilled",R.value=M}},function(M){if(h.status==="pending"){var R=h;R.status="rejected",R.reason=M}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw f=h.reason,f===ih?Error(s(483)):f}throw _s=h,ih}}function Oe(){if(_s===null)throw Error(s(459));var f=_s;return _s=null,f}function Vn(f){var h=bs;return bs+=1,Ac===null&&(Ac=[]),se(Ac,f,h)}function ai(f,h){h=h.props.ref,f.ref=h!==void 0?h:null}function dn(f,h){throw h.$$typeof===hg?Error(s(525)):(f=Object.prototype.toString.call(h),Error(s(31,f==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":f)))}function ds(f){var h=f._init;return h(f._payload)}function ps(f){function h(St,dt){if(f){var bt=St.deletions;bt===null?(St.deletions=[dt],St.flags|=16):bt.push(dt)}}function x(St,dt){if(!f)return null;for(;dt!==null;)h(St,dt),dt=dt.sibling;return null}function M(St){for(var dt=new Map;St!==null;)St.key!==null?dt.set(St.key,St):dt.set(St.index,St),St=St.sibling;return dt}function R(St,dt){return St=mo(St,dt),St.index=0,St.sibling=null,St}function O(St,dt,bt){return St.index=bt,f?(bt=St.alternate,bt!==null?(bt=bt.index,bt<dt?(St.flags|=33554434,dt):bt):(St.flags|=33554434,dt)):(St.flags|=1048576,dt)}function X(St){return f&&St.alternate===null&&(St.flags|=33554434),St}function nt(St,dt,bt,Yt){return dt===null||dt.tag!==6?(dt=Kf(bt,St.mode,Yt),dt.return=St,dt):(dt=R(dt,bt),dt.return=St,dt)}function mt(St,dt,bt,Yt){var Ee=bt.type;return Ee===pl?Jt(St,dt,bt.props.children,Yt,bt.key):dt!==null&&(dt.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===xo&&ds(Ee)===dt.type)?(dt=R(dt,bt.props),ai(dt,bt),dt.return=St,dt):(dt=fc(bt.type,bt.key,bt.props,null,St.mode,Yt),ai(dt,bt),dt.return=St,dt)}function Lt(St,dt,bt,Yt){return dt===null||dt.tag!==4||dt.stateNode.containerInfo!==bt.containerInfo||dt.stateNode.implementation!==bt.implementation?(dt=Zs(bt,St.mode,Yt),dt.return=St,dt):(dt=R(dt,bt.children||[]),dt.return=St,dt)}function Jt(St,dt,bt,Yt,Ee){return dt===null||dt.tag!==7?(dt=hl(bt,St.mode,Yt,Ee),dt.return=St,dt):(dt=R(dt,bt),dt.return=St,dt)}function le(St,dt,bt){if(typeof dt=="string"&&dt!==""||typeof dt=="number"||typeof dt=="bigint")return dt=Kf(""+dt,St.mode,bt),dt.return=St,dt;if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case dl:return bt=fc(dt.type,dt.key,dt.props,null,St.mode,bt),ai(bt,dt),bt.return=St,bt;case La:return dt=Zs(dt,St.mode,bt),dt.return=St,dt;case xo:var Yt=dt._init;return dt=Yt(dt._payload),le(St,dt,bt)}if(xl(dt)||r(dt))return dt=hl(dt,St.mode,bt,null),dt.return=St,dt;if(typeof dt.then=="function")return le(St,Vn(dt),bt);if(dt.$$typeof===gl)return le(St,Lf(St,dt),bt);dn(St,dt)}return null}function Kt(St,dt,bt,Yt){var Ee=dt!==null?dt.key:null;if(typeof bt=="string"&&bt!==""||typeof bt=="number"||typeof bt=="bigint")return Ee!==null?null:nt(St,dt,""+bt,Yt);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case dl:return bt.key===Ee?mt(St,dt,bt,Yt):null;case La:return bt.key===Ee?Lt(St,dt,bt,Yt):null;case xo:return Ee=bt._init,bt=Ee(bt._payload),Kt(St,dt,bt,Yt)}if(xl(bt)||r(bt))return Ee!==null?null:Jt(St,dt,bt,Yt,null);if(typeof bt.then=="function")return Kt(St,dt,Vn(bt),Yt);if(bt.$$typeof===gl)return Kt(St,dt,Lf(St,bt),Yt);dn(St,bt)}return null}function Xe(St,dt,bt,Yt,Ee){if(typeof Yt=="string"&&Yt!==""||typeof Yt=="number"||typeof Yt=="bigint")return St=St.get(bt)||null,nt(dt,St,""+Yt,Ee);if(typeof Yt=="object"&&Yt!==null){switch(Yt.$$typeof){case dl:return St=St.get(Yt.key===null?bt:Yt.key)||null,mt(dt,St,Yt,Ee);case La:return St=St.get(Yt.key===null?bt:Yt.key)||null,Lt(dt,St,Yt,Ee);case xo:var Gn=Yt._init;return Yt=Gn(Yt._payload),Xe(St,dt,bt,Yt,Ee)}if(xl(Yt)||r(Yt))return St=St.get(bt)||null,Jt(dt,St,Yt,Ee,null);if(typeof Yt.then=="function")return Xe(St,dt,bt,Vn(Yt),Ee);if(Yt.$$typeof===gl)return Xe(St,dt,bt,Lf(dt,Yt),Ee);dn(dt,Yt)}return null}function Jr(St,dt,bt,Yt){for(var Ee=null,Gn=null,Le=dt,sn=dt=0,Xn=null;Le!==null&&sn<bt.length;sn++){Le.index>sn?(Xn=Le,Le=null):Xn=Le.sibling;var fn=Kt(St,Le,bt[sn],Yt);if(fn===null){Le===null&&(Le=Xn);break}f&&Le&&fn.alternate===null&&h(St,Le),dt=O(fn,dt,sn),Gn===null?Ee=fn:Gn.sibling=fn,Gn=fn,Le=Xn}if(sn===bt.length)return x(St,Le),An&&j(St,sn),Ee;if(Le===null){for(;sn<bt.length;sn++)Le=le(St,bt[sn],Yt),Le!==null&&(dt=O(Le,dt,sn),Gn===null?Ee=Le:Gn.sibling=Le,Gn=Le);return An&&j(St,sn),Ee}for(Le=M(Le);sn<bt.length;sn++)Xn=Xe(Le,St,sn,bt[sn],Yt),Xn!==null&&(f&&Xn.alternate!==null&&Le.delete(Xn.key===null?sn:Xn.key),dt=O(Xn,dt,sn),Gn===null?Ee=Xn:Gn.sibling=Xn,Gn=Xn);return f&&Le.forEach(function(Ul){return h(St,Ul)}),An&&j(St,sn),Ee}function Nu(St,dt,bt,Yt){if(bt==null)throw Error(s(151));for(var Ee=null,Gn=null,Le=dt,sn=dt=0,Xn=null,fn=bt.next();Le!==null&&!fn.done;sn++,fn=bt.next()){Le.index>sn?(Xn=Le,Le=null):Xn=Le.sibling;var Ul=Kt(St,Le,fn.value,Yt);if(Ul===null){Le===null&&(Le=Xn);break}f&&Le&&Ul.alternate===null&&h(St,Le),dt=O(Ul,dt,sn),Gn===null?Ee=Ul:Gn.sibling=Ul,Gn=Ul,Le=Xn}if(fn.done)return x(St,Le),An&&j(St,sn),Ee;if(Le===null){for(;!fn.done;sn++,fn=bt.next())fn=le(St,fn.value,Yt),fn!==null&&(dt=O(fn,dt,sn),Gn===null?Ee=fn:Gn.sibling=fn,Gn=fn);return An&&j(St,sn),Ee}for(Le=M(Le);!fn.done;sn++,fn=bt.next())fn=Xe(Le,St,sn,fn.value,Yt),fn!==null&&(f&&fn.alternate!==null&&Le.delete(fn.key===null?sn:fn.key),dt=O(fn,dt,sn),Gn===null?Ee=fn:Gn.sibling=fn,Gn=fn);return f&&Le.forEach(function(Mx){return h(St,Mx)}),An&&j(St,sn),Ee}function Tc(St,dt,bt,Yt){if(typeof bt=="object"&&bt!==null&&bt.type===pl&&bt.key===null&&(bt=bt.props.children),typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case dl:t:{for(var Ee=bt.key;dt!==null;){if(dt.key===Ee){if(Ee=bt.type,Ee===pl){if(dt.tag===7){x(St,dt.sibling),Yt=R(dt,bt.props.children),Yt.return=St,St=Yt;break t}}else if(dt.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===xo&&ds(Ee)===dt.type){x(St,dt.sibling),Yt=R(dt,bt.props),ai(Yt,bt),Yt.return=St,St=Yt;break t}x(St,dt);break}else h(St,dt);dt=dt.sibling}bt.type===pl?(Yt=hl(bt.props.children,St.mode,Yt,bt.key),Yt.return=St,St=Yt):(Yt=fc(bt.type,bt.key,bt.props,null,St.mode,Yt),ai(Yt,bt),Yt.return=St,St=Yt)}return X(St);case La:t:{for(Ee=bt.key;dt!==null;){if(dt.key===Ee)if(dt.tag===4&&dt.stateNode.containerInfo===bt.containerInfo&&dt.stateNode.implementation===bt.implementation){x(St,dt.sibling),Yt=R(dt,bt.children||[]),Yt.return=St,St=Yt;break t}else{x(St,dt);break}else h(St,dt);dt=dt.sibling}Yt=Zs(bt,St.mode,Yt),Yt.return=St,St=Yt}return X(St);case xo:return Ee=bt._init,bt=Ee(bt._payload),Tc(St,dt,bt,Yt)}if(xl(bt))return Jr(St,dt,bt,Yt);if(r(bt)){if(Ee=r(bt),typeof Ee!="function")throw Error(s(150));return bt=Ee.call(bt),Nu(St,dt,bt,Yt)}if(typeof bt.then=="function")return Tc(St,dt,Vn(bt),Yt);if(bt.$$typeof===gl)return Tc(St,dt,Lf(St,bt),Yt);dn(St,bt)}return typeof bt=="string"&&bt!==""||typeof bt=="number"||typeof bt=="bigint"?(bt=""+bt,dt!==null&&dt.tag===6?(x(St,dt.sibling),Yt=R(dt,bt),Yt.return=St,St=Yt):(x(St,dt),Yt=Kf(bt,St.mode,Yt),Yt.return=St,St=Yt),X(St)):x(St,dt)}return function(St,dt,bt,Yt){try{bs=0;var Ee=Tc(St,dt,bt,Yt);return Ac=null,Ee}catch(Le){if(Le===ih)throw Le;var Gn=e(29,Le,null,St.mode);return Gn.lanes=Yt,Gn.return=St,Gn}finally{}}}function Af(f,h){f=ya,w(ma,f),w(pa,h),ya=f|h.baseLanes}function $l(){w(ma,ya),w(pa,pa.current)}function Nr(){ya=ma.current,_(pa),_(ma)}function yr(f){var h=f.alternate;w(Kn,Kn.current&1),w(nr,f),kr===null&&(h===null||pa.current!==null||h.memoizedState!==null)&&(kr=f)}function eu(f){if(f.tag===22){if(w(Kn,Kn.current),w(nr,f),kr===null){var h=f.alternate;h!==null&&h.memoizedState!==null&&(kr=f)}}else ia()}function ia(){w(Kn,Kn.current),w(nr,nr.current)}function mi(f){_(nr),kr===f&&(kr=null),_(Kn)}function li(f){for(var h=f;h!==null;){if(h.tag===13){var x=h.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||mc(x)||Zf(x)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if(h.flags&128)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}function Qe(){throw Error(s(321))}function sa(f,h){if(h===null)return!1;for(var x=0;x<h.length&&x<f.length;x++)if(!Fs(f[x],h[x]))return!1;return!0}function Zo(f,h,x,M,R,O){return To=O,Ve=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Ne.H=f===null||f.memoizedState===null?wo:Hs,Cl=!1,O=x(M,R),Cl=!1,Sc&&(O=pd(h,x,M,R)),dd(f),O}function dd(f){Ne.H=_i;var h=Mn!==null&&Mn.next!==null;if(To=0,si=Mn=Ve=null,Co=!1,Du=0,Ro=null,h)throw Error(s(300));f===null||Li||(f=f.dependencies,f!==null&&Df(f)&&(Li=!0))}function pd(f,h,x,M){Ve=f;var R=0;do{if(Sc&&(Ro=null),Du=0,Sc=!1,25<=R)throw Error(s(301));if(R+=1,si=Mn=null,f.updateQueue!=null){var O=f.updateQueue;O.lastEffect=null,O.events=null,O.stores=null,O.memoCache!=null&&(O.memoCache.index=0)}Ne.H=wl,O=h(x,M)}while(Sc);return O}function md(){var f=Ne.H,h=f.useState()[0];return h=typeof h.then=="function"?xt(h):h,f=f.useState()[0],(Mn!==null?Mn.memoizedState:null)!==f&&(Ve.flags|=1024),h}function eo(){var f=Rl!==0;return Rl=0,f}function tc(f,h,x){h.updateQueue=f.updateQueue,h.flags&=-2053,f.lanes&=~x}function ra(f){if(Co){for(f=f.memoizedState;f!==null;){var h=f.queue;h!==null&&(h.pending=null),f=f.next}Co=!1}To=0,si=Mn=Ve=null,Sc=!1,Du=Rl=0,Ro=null}function V(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return si===null?Ve.memoizedState=si=f:si=si.next=f,si}function at(){if(Mn===null){var f=Ve.alternate;f=f!==null?f.memoizedState:null}else f=Mn.next;var h=si===null?Ve.memoizedState:si.next;if(h!==null)si=h,Mn=f;else{if(f===null)throw Ve.alternate===null?Error(s(467)):Error(s(310));Mn=f,f={memoizedState:Mn.memoizedState,baseState:Mn.baseState,baseQueue:Mn.baseQueue,queue:Mn.queue,next:null},si===null?Ve.memoizedState=si=f:si=si.next=f}return si}function xt(f){var h=Du;return Du+=1,Ro===null&&(Ro=[]),f=se(Ro,f,h),h=Ve,(si===null?h.memoizedState:si.next)===null&&(h=h.alternate,Ne.H=h===null||h.memoizedState===null?wo:Hs),f}function gt(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return xt(f);if(f.$$typeof===gl)return as(f)}throw Error(s(438,String(f)))}function ht(f){var h=null,x=Ve.updateQueue;if(x!==null&&(h=x.memoCache),h==null){var M=Ve.alternate;M!==null&&(M=M.updateQueue,M!==null&&(M=M.memoCache,M!=null&&(h={data:M.data.map(function(R){return R.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),x===null&&(x=Fg(),Ve.updateQueue=x),x.memoCache=h,x=h.data[h.index],x===void 0)for(x=h.data[h.index]=Array(f),M=0;M<f;M++)x[M]=Ze;return h.index++,x}function kt(f,h){return typeof h=="function"?h(f):h}function te(f){var h=at();return oe(h,Mn,f)}function oe(f,h,x){var M=f.queue;if(M===null)throw Error(s(311));M.lastRenderedReducer=x;var R=f.baseQueue,O=M.pending;if(O!==null){if(R!==null){var X=R.next;R.next=O.next,O.next=X}h.baseQueue=R=O,M.pending=null}if(O=f.baseState,R===null)f.memoizedState=O;else{h=R.next;var nt=X=null,mt=null,Lt=h,Jt=!1;do{var le=Lt.lane&-536870913;if(le!==Lt.lane?(on&le)===le:(To&le)===le){var Kt=Lt.revertLane;if(Kt===0)mt!==null&&(mt=mt.next={lane:0,revertLane:0,action:Lt.action,hasEagerState:Lt.hasEagerState,eagerState:Lt.eagerState,next:null}),le===Zn&&(Jt=!0);else if((To&Kt)===Kt){Lt=Lt.next,Kt===Zn&&(Jt=!0);continue}else le={lane:0,revertLane:Lt.revertLane,action:Lt.action,hasEagerState:Lt.hasEagerState,eagerState:Lt.eagerState,next:null},mt===null?(nt=mt=le,X=O):mt=mt.next=le,Ve.lanes|=Kt,Kr|=Kt;le=Lt.action,Cl&&x(O,le),O=Lt.hasEagerState?Lt.eagerState:x(O,le)}else Kt={lane:le,revertLane:Lt.revertLane,action:Lt.action,hasEagerState:Lt.hasEagerState,eagerState:Lt.eagerState,next:null},mt===null?(nt=mt=Kt,X=O):mt=mt.next=Kt,Ve.lanes|=le,Kr|=le;Lt=Lt.next}while(Lt!==null&&Lt!==h);if(mt===null?X=O:mt.next=nt,!Fs(O,f.memoizedState)&&(Li=!0,Jt&&(x=es,x!==null)))throw x;f.memoizedState=O,f.baseState=X,f.baseQueue=mt,M.lastRenderedState=O}return R===null&&(M.lanes=0),[f.memoizedState,M.dispatch]}function ae(f){var h=at(),x=h.queue;if(x===null)throw Error(s(311));x.lastRenderedReducer=f;var M=x.dispatch,R=x.pending,O=h.memoizedState;if(R!==null){x.pending=null;var X=R=R.next;do O=f(O,X.action),X=X.next;while(X!==R);Fs(O,h.memoizedState)||(Li=!0),h.memoizedState=O,h.baseQueue===null&&(h.baseState=O),x.lastRenderedState=O}return[O,M]}function Ue(f,h,x){var M=Ve,R=at(),O=An;if(O){if(x===void 0)throw Error(s(407));x=x()}else x=h();var X=!Fs((Mn||R).memoizedState,x);if(X&&(R.memoizedState=x,Li=!0),R=R.queue,_f(ln.bind(null,M,R,f),[f]),R.getSnapshot!==h||X||si!==null&&si.memoizedState.tag&1){if(M.flags|=2048,aa(9,Ce.bind(null,M,R,x,h),{destroy:void 0},null),Hn===null)throw Error(s(349));O||To&60||Pe(M,h,x)}return x}function Pe(f,h,x){f.flags|=16384,f={getSnapshot:h,value:x},h=Ve.updateQueue,h===null?(h=Fg(),Ve.updateQueue=h,h.stores=[f]):(x=h.stores,x===null?h.stores=[f]:x.push(f))}function Ce(f,h,x,M){h.value=x,h.getSnapshot=M,cn(h)&&Yn(f)}function ln(f,h,x){return x(function(){cn(h)&&Yn(f)})}function cn(f){var h=f.getSnapshot;f=f.value;try{var x=h();return!Fs(f,x)}catch{return!0}}function Yn(f){var h=$t(f,2);h!==null&&Wn(h,f,2)}function yn(f){var h=V();if(typeof f=="function"){var x=f;if(f=x(),Cl){et(!0);try{x()}finally{et(!1)}}}return h.memoizedState=h.baseState=f,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kt,lastRenderedState:f},h}function He(f,h,x,M){return f.baseState=x,oe(f,Mn,typeof M=="function"?M:kt)}function Re(f,h,x,M,R){if(Tf(f))throw Error(s(485));if(f=h.action,f!==null){var O={payload:R,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(X){O.listeners.push(X)}};Ne.T!==null?x(!0):O.isTransition=!1,M(O),x=h.pending,x===null?(O.next=h.pending=O,Ci(h,O)):(O.next=x.next,h.pending=x.next=O)}}function Ci(f,h){var x=h.action,M=h.payload,R=f.state;if(h.isTransition){var O=Ne.T,X={};Ne.T=X;try{var nt=x(R,M),mt=Ne.S;mt!==null&&mt(X,nt),un(f,h,nt)}catch(Lt){vr(f,h,Lt)}finally{Ne.T=O}}else try{O=x(R,M),un(f,h,O)}catch(Lt){vr(f,h,Lt)}}function un(f,h,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(M){Os(f,h,M)},function(M){return vr(f,h,M)}):Os(f,h,x)}function Os(f,h,x){h.status="fulfilled",h.value=x,ms(h),f.state=x,h=f.pending,h!==null&&(x=h.next,x===h?f.pending=null:(x=x.next,h.next=x,Ci(f,x)))}function vr(f,h,x){var M=f.pending;if(f.pending=null,M!==null){M=M.next;do h.status="rejected",h.reason=x,ms(h),h=h.next;while(h!==M)}f.action=null}function ms(f){f=f.listeners;for(var h=0;h<f.length;h++)(0,f[h])()}function Gi(f,h){return h}function Ln(f,h){if(An){var x=Hn.formState;if(x!==null){t:{var M=Ve;if(An){if(Fn){var R=ux(Fn,ha);if(R){Fn=Sl(R),M=Ua(R);break t}}Xt(M)}M=!1}M&&(h=x[0])}}x=V(),x.memoizedState=x.baseState=h,M={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:h},x.queue=M,x=jm.bind(null,Ve,M),M.dispatch=x,M=yn(!1);var O=su.bind(null,Ve,!1,M.queue);return M=V(),R={state:h,dispatch:null,action:f,pending:null},M.queue=R,x=Re.bind(null,Ve,R,O,x),R.dispatch=x,M.memoizedState=f,[h,x,!1]}function gs(f){var h=at();return ss(h,Mn,f)}function ss(f,h,x){h=oe(f,h,Gi)[0],f=te(kt)[0],h=typeof h=="object"&&h!==null&&typeof h.then=="function"?xt(h):h;var M=at(),R=M.queue,O=R.dispatch;return x!==M.memoizedState&&(Ve.flags|=2048,aa(9,ci.bind(null,R,x),{destroy:void 0},null)),[h,O,f]}function ci(f,h){f.action=h}function Zi(f){var h=at(),x=Mn;if(x!==null)return ss(h,x,f);at(),h=h.memoizedState,x=at();var M=x.queue.dispatch;return x.memoizedState=f,[h,M,!1]}function aa(f,h,x,M){return f={tag:f,create:h,inst:x,deps:M,next:null},h=Ve.updateQueue,h===null&&(h=Fg(),Ve.updateQueue=h),x=h.lastEffect,x===null?h.lastEffect=f.next=f:(M=x.next,x.next=f,f.next=M,h.lastEffect=f),f}function Us(){return at().memoizedState}function gd(f,h,x,M){var R=V();Ve.flags|=f,R.memoizedState=aa(1|h,x,{destroy:void 0},M===void 0?null:M)}function Sf(f,h,x,M){var R=at();M=M===void 0?null:M;var O=R.memoizedState.inst;Mn!==null&&M!==null&&sa(M,Mn.memoizedState.deps)?R.memoizedState=aa(h,x,O,M):(Ve.flags|=f,R.memoizedState=aa(1|h,x,O,M))}function Vm(f,h){gd(8390656,8,f,h)}function _f(f,h){Sf(2048,8,f,h)}function hv(f,h){return Sf(4,2,f,h)}function dv(f,h){return Sf(4,4,f,h)}function bf(f,h){if(typeof h=="function"){f=f();var x=h(f);return function(){typeof x=="function"?x():h(null)}}if(h!=null)return f=f(),h.current=f,function(){h.current=null}}function yd(f,h,x){x=x!=null?x.concat([f]):null,Sf(4,4,bf.bind(null,h,f),x)}function Mf(){}function ec(f,h){var x=at();h=h===void 0?null:h;var M=x.memoizedState;return h!==null&&sa(h,M[1])?M[0]:(x.memoizedState=[f,h],f)}function nc(f,h){var x=at();h=h===void 0?null:h;var M=x.memoizedState;if(h!==null&&sa(h,M[1]))return M[0];if(M=f(),Cl){et(!0);try{f()}finally{et(!1)}}return x.memoizedState=[M,h],M}function vd(f,h,x){return x===void 0||To&1073741824?f.memoizedState=h:(f.memoizedState=x,f=Gf(),Ve.lanes|=f,Kr|=f,x)}function xd(f,h,x,M){return Fs(x,h)?x:pa.current!==null?(f=vd(f,x,M),Fs(f,h)||(Li=!0),f):To&42?(f=Gf(),Ve.lanes|=f,Kr|=f,h):(Li=!0,f.memoizedState=x)}function km(f,h,x,M,R){var O=Al();Is(O!==0&&8>O?O:8);var X=Ne.T,nt={};Ne.T=nt,su(f,!1,h,x);try{var mt=R(),Lt=Ne.S;if(Lt!==null&&Lt(nt,mt),mt!==null&&typeof mt=="object"&&typeof mt.then=="function"){var Jt=Je(mt,M);$o(f,h,Jt,ys(f))}else $o(f,h,M,ys(f))}catch(le){$o(f,h,{then:function(){},status:"rejected",reason:le},ys())}finally{Is(O),Ne.T=X}}function nu(f){var h=f.memoizedState;if(h!==null)return h;h={memoizedState:pc,baseState:pc,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kt,lastRenderedState:pc},next:null};var x={};return h.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kt,lastRenderedState:x},next:null},f.memoizedState=h,f=f.alternate,f!==null&&(f.memoizedState=h),h}function Ef(){return as(So)}function iu(){return at().memoizedState}function no(){return at().memoizedState}function Xm(f){for(var h=f.return;h!==null;){switch(h.tag){case 24:case 3:var x=ys();f=Ae(x);var M=ve(h,f,x);M!==null&&(Wn(M,h,x),pe(M,h,x)),h={cache:il()},f.payload=h;return}h=h.return}}function Ad(f,h,x){var M=ys();x={lane:M,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null},Tf(f)?Ps(h,x):(x=Vt(f,h,x,M),x!==null&&(Wn(x,f,M),tl(x,h,M)))}function jm(f,h,x){var M=ys();$o(f,h,x,M)}function $o(f,h,x,M){var R={lane:M,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null};if(Tf(f))Ps(h,R);else{var O=f.alternate;if(f.lanes===0&&(O===null||O.lanes===0)&&(O=h.lastRenderedReducer,O!==null))try{var X=h.lastRenderedState,nt=O(X,x);if(R.hasEagerState=!0,R.eagerState=nt,Fs(nt,X))return he(f,h,R,0),Hn===null&&q(),!1}catch{}finally{}if(x=Vt(f,h,R,M),x!==null)return Wn(x,f,M),tl(x,h,M),!0}return!1}function su(f,h,x,M){if(M={lane:2,revertLane:fe(),action:M,hasEagerState:!1,eagerState:null,next:null},Tf(f)){if(h)throw Error(s(479))}else h=Vt(f,x,M,2),h!==null&&Wn(h,f,2)}function Tf(f){var h=f.alternate;return f===Ve||h!==null&&h===Ve}function Ps(f,h){Sc=Co=!0;var x=f.pending;x===null?h.next=h:(h.next=x.next,x.next=h),f.pending=h}function tl(f,h,x){if(x&4194176){var M=h.lanes;M&=f.pendingLanes,x|=M,h.lanes=x,J(f,x)}}function ru(f,h,x,M){h=f.memoizedState,x=x(M,h),x=x==null?h:gi({},h,x),f.memoizedState=x,f.lanes===0&&(f.updateQueue.baseState=x)}function au(f,h,x,M,R,O,X){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(M,O,X):h.prototype&&h.prototype.isPureReactComponent?!Mt(x,M)||!Mt(R,O):!0}function pv(f,h,x,M){f=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(x,M),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(x,M),h.state!==f&&Lu.enqueueReplaceState(h,h.state,null)}function io(f,h){var x=h;if("ref"in h){x={};for(var M in h)M!=="ref"&&(x[M]=h[M])}if(f=f.defaultProps){x===h&&(x=gi({},x));for(var R in f)x[R]===void 0&&(x[R]=f[R])}return x}function ou(f,h){try{var x=f.onUncaughtError;x(h.value,{componentStack:h.stack})}catch(M){setTimeout(function(){throw M})}}function lu(f,h,x){try{var M=f.onCaughtError;M(x.value,{componentStack:x.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(R){setTimeout(function(){throw R})}}function cu(f,h,x){return x=Ae(x),x.tag=3,x.payload={element:null},x.callback=function(){ou(f,h)},x}function Ym(f){return f=Ae(f),f.tag=3,f}function mv(f,h,x,M){var R=x.type.getDerivedStateFromError;if(typeof R=="function"){var O=M.value;f.payload=function(){return R(O)},f.callback=function(){lu(h,x,M)}}var X=x.stateNode;X!==null&&typeof X.componentDidCatch=="function"&&(f.callback=function(){lu(h,x,M),typeof R!="function"&&(Ga===null?Ga=new Set([this]):Ga.add(this));var nt=M.stack;this.componentDidCatch(M.value,{componentStack:nt!==null?nt:""})})}function D_(f,h,x,M,R){if(x.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){if(h=x.alternate,h!==null&&Bf(h,x,R,!0),x=nr.current,x!==null){switch(x.tag){case 13:return kr===null?Hr():x.alternate===null&&ri===0&&(ri=3),x.flags&=-257,x.flags|=65536,x.lanes=R,M===zs?x.flags|=16384:(h=x.updateQueue,h===null?x.updateQueue=new Set([M]):h.add(M),fl(f,M,R)),!1;case 22:return x.flags|=65536,M===zs?x.flags|=16384:(h=x.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([M])},x.updateQueue=h):(x=h.retryQueue,x===null?h.retryQueue=new Set([M]):x.add(M)),fl(f,M,R)),!1}throw Error(s(435,x.tag))}return fl(f,M,R),Hr(),!1}if(An)return h=nr.current,h!==null?(!(h.flags&65536)&&(h.flags|=256),h.flags|=65536,h.lanes=R,M!==nh&&(f=Error(s(422),{cause:M}),Bt(At(f,x)))):(M!==nh&&(h=Error(s(423),{cause:M}),Bt(At(h,x))),f=f.current.alternate,f.flags|=65536,R&=-R,f.lanes|=R,M=At(M,x),R=cu(f.stateNode,M,R),Ge(f,R),ri!==4&&(ri=2)),!1;var O=Error(s(520),{cause:M});if(O=At(O,x),Uu===null?Uu=[O]:Uu.push(O),ri!==4&&(ri=2),h===null)return!0;M=At(M,x),x=h;do{switch(x.tag){case 3:return x.flags|=65536,f=R&-R,x.lanes|=f,f=cu(x.stateNode,M,f),Ge(x,f),!1;case 1:if(h=x.type,O=x.stateNode,(x.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Ga===null||!Ga.has(O))))return x.flags|=65536,R&=-R,x.lanes|=R,R=Ym(R),mv(R,f,x,M),Ge(x,R),!1}x=x.return}while(x!==null);return!1}function rs(f,h,x,M){h.child=f===null?Fa(h,null,x,M):Tl(h,f.child,x,M)}function Sd(f,h,x,M,R){x=x.render;var O=h.ref;if("ref"in M){var X={};for(var nt in M)nt!=="ref"&&(X[nt]=M[nt])}else X=M;return nl(h),M=Zo(f,h,x,X,O,R),nt=eo(),f!==null&&!Li?(tc(f,h,R),so(f,h,R)):(An&&nt&&Tt(h),h.flags|=1,rs(f,h,M,R),h.child)}function gv(f,h,x,M,R){if(f===null){var O=x.type;return typeof O=="function"&&!po(O)&&O.defaultProps===void 0&&x.compare===null?(h.tag=15,h.type=O,yv(f,h,O,M,R)):(f=fc(x.type,null,M,h,h.mode,R),f.ref=h.ref,f.return=h,h.child=f)}if(O=f.child,!Qm(f,R)){var X=O.memoizedProps;if(x=x.compare,x=x!==null?x:Mt,x(X,M)&&f.ref===h.ref)return so(f,h,R)}return h.flags|=1,f=mo(O,M),f.ref=h.ref,f.return=h,h.child=f}function yv(f,h,x,M,R){if(f!==null){var O=f.memoizedProps;if(Mt(O,M)&&f.ref===h.ref)if(Li=!1,h.pendingProps=M=O,Qm(f,R))f.flags&131072&&(Li=!0);else return h.lanes=f.lanes,so(f,h,R)}return _d(f,h,x,M,R)}function vv(f,h,x){var M=h.pendingProps,R=M.children,O=(h.stateNode._pendingVisibility&2)!==0,X=f!==null?f.memoizedState:null;if(Cf(f,h),M.mode==="hidden"||O){if(h.flags&128){if(M=X!==null?X.baseLanes|x:x,f!==null){for(R=h.child=f.child,O=0;R!==null;)O=O|R.lanes|R.childLanes,R=R.sibling;h.childLanes=O&~M}else h.childLanes=0,h.child=null;return xv(f,h,M,x)}if(x&536870912)h.memoizedState={baseLanes:0,cachePool:null},f!==null&&Md(h,X!==null?X.cachePool:null),X!==null?Af(h,X):$l(),eu(h);else return h.lanes=h.childLanes=536870912,xv(f,h,X!==null?X.baseLanes|x:x,x)}else X!==null?(Md(h,X.cachePool),Af(h,X),ia(),h.memoizedState=null):(f!==null&&Md(h,null),$l(),ia());return rs(f,h,R,x),h.child}function xv(f,h,x,M){var R=$m();return R=R===null?null:{parent:la?fi._currentValue:fi._currentValue2,pool:R},h.memoizedState={baseLanes:x,cachePool:R},f!==null&&Md(h,null),$l(),eu(h),f!==null&&Bf(f,h,M,!0),null}function Cf(f,h){var x=h.ref;if(x===null)f!==null&&f.ref!==null&&(h.flags|=2097664);else{if(typeof x!="function"&&typeof x!="object")throw Error(s(284));(f===null||f.ref!==x)&&(h.flags|=2097664)}}function _d(f,h,x,M,R){return nl(h),x=Zo(f,h,x,M,void 0,R),M=eo(),f!==null&&!Li?(tc(f,h,R),so(f,h,R)):(An&&M&&Tt(h),h.flags|=1,rs(f,h,x,R),h.child)}function Av(f,h,x,M,R,O){return nl(h),h.updateQueue=null,x=pd(h,M,x,R),dd(f),M=eo(),f!==null&&!Li?(tc(f,h,O),so(f,h,O)):(An&&M&&Tt(h),h.flags|=1,rs(f,h,x,O),h.child)}function Sv(f,h,x,M,R){if(nl(h),h.stateNode===null){var O=vc,X=x.contextType;typeof X=="object"&&X!==null&&(O=as(X)),O=new x(M,O),h.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=Lu,h.stateNode=O,O._reactInternals=h,O=h.stateNode,O.props=M,O.state=h.memoizedState,O.refs={},qt(h),X=x.contextType,O.context=typeof X=="object"&&X!==null?as(X):vc,O.state=h.memoizedState,X=x.getDerivedStateFromProps,typeof X=="function"&&(ru(h,x,X,M),O.state=h.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(X=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),X!==O.state&&Lu.enqueueReplaceState(O,O.state,null),bn(h,M,O,R),Me(),O.state=h.memoizedState),typeof O.componentDidMount=="function"&&(h.flags|=4194308),M=!0}else if(f===null){O=h.stateNode;var nt=h.memoizedProps,mt=io(x,nt);O.props=mt;var Lt=O.context,Jt=x.contextType;X=vc,typeof Jt=="object"&&Jt!==null&&(X=as(Jt));var le=x.getDerivedStateFromProps;Jt=typeof le=="function"||typeof O.getSnapshotBeforeUpdate=="function",nt=h.pendingProps!==nt,Jt||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(nt||Lt!==X)&&pv(h,O,M,X),Ss=!1;var Kt=h.memoizedState;O.state=Kt,bn(h,M,O,R),Me(),Lt=h.memoizedState,nt||Kt!==Lt||Ss?(typeof le=="function"&&(ru(h,x,le,M),Lt=h.memoizedState),(mt=Ss||au(h,x,mt,M,Kt,Lt,X))?(Jt||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(h.flags|=4194308)):(typeof O.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=M,h.memoizedState=Lt),O.props=M,O.state=Lt,O.context=X,M=mt):(typeof O.componentDidMount=="function"&&(h.flags|=4194308),M=!1)}else{O=h.stateNode,me(f,h),X=h.memoizedProps,Jt=io(x,X),O.props=Jt,le=h.pendingProps,Kt=O.context,Lt=x.contextType,mt=vc,typeof Lt=="object"&&Lt!==null&&(mt=as(Lt)),nt=x.getDerivedStateFromProps,(Lt=typeof nt=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(X!==le||Kt!==mt)&&pv(h,O,M,mt),Ss=!1,Kt=h.memoizedState,O.state=Kt,bn(h,M,O,R),Me();var Xe=h.memoizedState;X!==le||Kt!==Xe||Ss||f!==null&&f.dependencies!==null&&Df(f.dependencies)?(typeof nt=="function"&&(ru(h,x,nt,M),Xe=h.memoizedState),(Jt=Ss||au(h,x,Jt,M,Kt,Xe,mt)||f!==null&&f.dependencies!==null&&Df(f.dependencies))?(Lt||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(M,Xe,mt),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(M,Xe,mt)),typeof O.componentDidUpdate=="function"&&(h.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof O.componentDidUpdate!="function"||X===f.memoizedProps&&Kt===f.memoizedState||(h.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||X===f.memoizedProps&&Kt===f.memoizedState||(h.flags|=1024),h.memoizedProps=M,h.memoizedState=Xe),O.props=M,O.state=Xe,O.context=mt,M=Jt):(typeof O.componentDidUpdate!="function"||X===f.memoizedProps&&Kt===f.memoizedState||(h.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||X===f.memoizedProps&&Kt===f.memoizedState||(h.flags|=1024),M=!1)}return O=M,Cf(f,h),M=(h.flags&128)!==0,O||M?(O=h.stateNode,x=M&&typeof x.getDerivedStateFromError!="function"?null:O.render(),h.flags|=1,f!==null&&M?(h.child=Tl(h,f.child,null,R),h.child=Tl(h,null,x,R)):rs(f,h,x,R),h.memoizedState=O.state,f=h.child):f=so(f,h,R),f}function _v(f,h,x,M){return Pt(),h.flags|=256,rs(f,h,x,M),h.child}function Wm(f){return{baseLanes:f,cachePool:tg()}}function Rf(f,h,x){return f=f!==null?f.childLanes&~x:0,h&&(f|=Er),f}function bv(f,h,x){var M=h.pendingProps,R=!1,O=(h.flags&128)!==0,X;if((X=O)||(X=f!==null&&f.memoizedState===null?!1:(Kn.current&2)!==0),X&&(R=!0,h.flags&=-129),X=(h.flags&32)!==0,h.flags&=-33,f===null){if(An){if(R?yr(h):ia(),An){var nt=Fn,mt;(mt=nt)&&(nt=hx(nt,ha),nt!==null?(h.memoizedState={dehydrated:nt,treeContext:fa!==null?{id:Na,overflow:Ia}:null,retryLane:536870912},mt=e(18,null,null,0),mt.stateNode=nt,mt.return=h,h.child=mt,Ai=h,Fn=null,mt=!0):mt=!1),mt||Xt(h)}if(nt=h.memoizedState,nt!==null&&(nt=nt.dehydrated,nt!==null))return Zf(nt)?h.lanes=16:h.lanes=536870912,null;mi(h)}return nt=M.children,M=M.fallback,R?(ia(),R=h.mode,nt=qm({mode:"hidden",children:nt},R),M=hl(M,R,x,null),nt.return=h,M.return=h,nt.sibling=M,h.child=nt,R=h.child,R.memoizedState=Wm(x),R.childLanes=Rf(f,X,x),h.memoizedState=rh,M):(yr(h),Km(h,nt))}if(mt=f.memoizedState,mt!==null&&(nt=mt.dehydrated,nt!==null)){if(O)h.flags&256?(yr(h),h.flags&=-257,h=bd(f,h,x)):h.memoizedState!==null?(ia(),h.child=f.child,h.flags|=128,h=null):(ia(),R=M.fallback,nt=h.mode,M=qm({mode:"visible",children:M.children},nt),R=hl(R,nt,x,null),R.flags|=2,M.return=h,R.return=h,M.sibling=R,h.child=M,Tl(h,f.child,null,x),M=h.child,M.memoizedState=Wm(x),M.childLanes=Rf(f,X,x),h.memoizedState=rh,h=R);else if(yr(h),Zf(nt))X=jd(nt).digest,M=Error(s(419)),M.stack="",M.digest=X,Bt({value:M,source:null,stack:null}),h=bd(f,h,x);else if(Li||Bf(f,h,x,!1),X=(x&f.childLanes)!==0,Li||X){if(X=Hn,X!==null){if(M=x&-x,M&42)M=1;else switch(M){case 2:M=1;break;case 8:M=4;break;case 32:M=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:M=64;break;case 268435456:M=134217728;break;default:M=0}if(M=M&(X.suspendedLanes|x)?0:M,M!==0&&M!==mt.retryLane)throw mt.retryLane=M,$t(f,M),Wn(X,f,M),zg}mc(nt)||Hr(),h=bd(f,h,x)}else mc(nt)?(h.flags|=128,h.child=f.child,h=Wf.bind(null,f),cx(nt,h),h=null):(f=mt.treeContext,$s&&(Fn=Mg(nt),Ai=h,An=!0,Vr=null,ha=!1,f!==null&&(tr[As++]=Na,tr[As++]=Ia,tr[As++]=fa,Na=f.id,Ia=f.overflow,fa=h)),h=Km(h,M.children),h.flags|=4096);return h}return R?(ia(),R=M.fallback,nt=h.mode,mt=f.child,O=mt.sibling,M=mo(mt,{mode:"hidden",children:M.children}),M.subtreeFlags=mt.subtreeFlags&31457280,O!==null?R=mo(O,R):(R=hl(R,nt,x,null),R.flags|=2),R.return=h,M.return=h,M.sibling=R,h.child=M,M=R,R=h.child,nt=f.child.memoizedState,nt===null?nt=Wm(x):(mt=nt.cachePool,mt!==null?(O=la?fi._currentValue:fi._currentValue2,mt=mt.parent!==O?{parent:O,pool:O}:mt):mt=tg(),nt={baseLanes:nt.baseLanes|x,cachePool:mt}),R.memoizedState=nt,R.childLanes=Rf(f,X,x),h.memoizedState=rh,M):(yr(h),x=f.child,f=x.sibling,x=mo(x,{mode:"visible",children:M.children}),x.return=h,x.sibling=null,f!==null&&(X=h.deletions,X===null?(h.deletions=[f],h.flags|=16):X.push(f)),h.child=x,h.memoizedState=null,x)}function Km(f,h){return h=qm({mode:"visible",children:h},f.mode),h.return=f,f.child=h}function qm(f,h){return Nd(f,h,0,null)}function bd(f,h,x){return Tl(h,f.child,null,x),f=Km(h,h.pendingProps.children),f.flags|=2,h.memoizedState=null,f}function Mv(f,h,x){f.lanes|=h;var M=f.alternate;M!==null&&(M.lanes|=h),wf(f.return,h,x)}function Jm(f,h,x,M,R){var O=f.memoizedState;O===null?f.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:M,tail:x,tailMode:R}:(O.isBackwards=h,O.rendering=null,O.renderingStartTime=0,O.last=M,O.tail=x,O.tailMode=R)}function Ev(f,h,x){var M=h.pendingProps,R=M.revealOrder,O=M.tail;if(rs(f,h,M.children,x),M=Kn.current,M&2)M=M&1|2,h.flags|=128;else{if(f!==null&&f.flags&128)t:for(f=h.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&Mv(f,x,h);else if(f.tag===19)Mv(f,x,h);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===h)break t;for(;f.sibling===null;){if(f.return===null||f.return===h)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}M&=1}switch(w(Kn,M),R){case"forwards":for(x=h.child,R=null;x!==null;)f=x.alternate,f!==null&&li(f)===null&&(R=x),x=x.sibling;x=R,x===null?(R=h.child,h.child=null):(R=x.sibling,x.sibling=null),Jm(h,!1,R,x,O);break;case"backwards":for(x=null,R=h.child,h.child=null;R!==null;){if(f=R.alternate,f!==null&&li(f)===null){h.child=R;break}f=R.sibling,R.sibling=x,x=R,R=f}Jm(h,!0,x,null,O);break;case"together":Jm(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function so(f,h,x){if(f!==null&&(h.dependencies=f.dependencies),Kr|=h.lanes,!(x&h.childLanes))if(f!==null){if(Bf(f,h,x,!1),(x&h.childLanes)===0)return null}else return null;if(f!==null&&h.child!==f.child)throw Error(s(153));if(h.child!==null){for(f=h.child,x=mo(f,f.pendingProps),h.child=x,x.return=h;f.sibling!==null;)f=f.sibling,x=x.sibling=mo(f,f.pendingProps),x.return=h;x.sibling=null}return h.child}function Qm(f,h){return f.lanes&h?!0:(f=f.dependencies,!!(f!==null&&Df(f)))}function L_(f,h,x){switch(h.tag){case 3:it(h,h.stateNode.containerInfo),el(h,fi,f.memoizedState.cache),Pt();break;case 27:case 5:Ut(h);break;case 4:it(h,h.stateNode.containerInfo);break;case 10:el(h,h.type,h.memoizedProps.value);break;case 13:var M=h.memoizedState;if(M!==null)return M.dehydrated!==null?(yr(h),h.flags|=128,null):x&h.child.childLanes?bv(f,h,x):(yr(h),f=so(f,h,x),f!==null?f.sibling:null);yr(h);break;case 19:var R=(f.flags&128)!==0;if(M=(x&h.childLanes)!==0,M||(Bf(f,h,x,!1),M=(x&h.childLanes)!==0),R){if(M)return Ev(f,h,x);h.flags|=128}if(R=h.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),w(Kn,Kn.current),M)break;return null;case 22:case 23:return h.lanes=0,vv(f,h,x);case 24:el(h,fi,f.memoizedState.cache)}return so(f,h,x)}function Tv(f,h,x){if(f!==null)if(f.memoizedProps!==h.pendingProps)Li=!0;else{if(!Qm(f,x)&&!(h.flags&128))return Li=!1,L_(f,h,x);Li=!!(f.flags&131072)}else Li=!1,An&&h.flags&1048576&&rt(h,Ru,h.index);switch(h.lanes=0,h.tag){case 16:t:{f=h.pendingProps;var M=h.elementType,R=M._init;if(M=R(M._payload),h.type=M,typeof M=="function")po(M)?(f=io(M,f),h.tag=1,h=Sv(null,h,M,f,x)):(h.tag=0,h=_d(null,h,M,f,x));else{if(M!=null){if(R=M.$$typeof,R===Id){h.tag=11,h=Sd(null,h,M,f,x);break t}else if(R===xu){h.tag=14,h=gv(null,h,M,f,x);break t}}throw h=o(M)||M,Error(s(306,h,""))}}return h;case 0:return _d(f,h,h.type,h.pendingProps,x);case 1:return M=h.type,R=io(M,h.pendingProps),Sv(f,h,M,R,x);case 3:t:{if(it(h,h.stateNode.containerInfo),f===null)throw Error(s(387));var O=h.pendingProps;R=h.memoizedState,M=R.element,me(f,h),bn(h,O,null,x);var X=h.memoizedState;if(O=X.cache,el(h,fi,O),O!==R.cache&&ic(h,[fi],x,!0),Me(),O=X.element,$s&&R.isDehydrated)if(R={element:O,isDehydrated:!1,cache:X.cache},h.updateQueue.baseState=R,h.memoizedState=R,h.flags&256){h=_v(f,h,O,x);break t}else if(O!==M){M=At(Error(s(424)),h),Bt(M),h=_v(f,h,O,x);break t}else for($s&&(Fn=gc(h.stateNode.containerInfo),Ai=h,An=!0,Vr=null,ha=!0),x=Fa(h,null,O,x),h.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Pt(),O===M){h=so(f,h,x);break t}rs(f,h,O,x)}h=h.child}return h;case 26:if(Sr)return Cf(f,h),f===null?(x=Rg(h.type,null,h.pendingProps,null))?h.memoizedState=x:An||(h.stateNode=Lg(h.type,h.pendingProps,Mo.current,h)):h.memoizedState=Rg(h.type,f.memoizedProps,h.pendingProps,f.memoizedState),null;case 27:if(ts)return Ut(h),f===null&&ts&&An&&(M=h.stateNode=Kd(h.type,h.pendingProps,Mo.current,xi.current,!1),Ai=h,ha=!0,Fn=_o(M)),M=h.pendingProps.children,f!==null||An?rs(f,h,M,x):h.child=Tl(h,null,M,x),Cf(f,h),h.child;case 5:return f===null&&An&&(yx(h.type,h.pendingProps,xi.current),(R=M=Fn)&&(M=Eg(M,h.type,h.pendingProps,ha),M!==null?(h.stateNode=M,Ai=h,Fn=_o(M),ha=!1,R=!0):R=!1),R||Xt(h)),Ut(h),R=h.type,O=h.pendingProps,X=f!==null?f.memoizedProps:null,M=O.children,ls(R,O)?M=null:X!==null&&ls(R,X)&&(h.flags|=32),h.memoizedState!==null&&(R=Zo(f,h,md,null,null,x),la?So._currentValue=R:So._currentValue2=R),Cf(f,h),rs(f,h,M,x),h.child;case 6:return f===null&&An&&(G_(h.pendingProps,xi.current),(f=x=Fn)&&(x=fx(x,h.pendingProps,ha),x!==null?(h.stateNode=x,Ai=h,Fn=null,f=!0):f=!1),f||Xt(h)),null;case 13:return bv(f,h,x);case 4:return it(h,h.stateNode.containerInfo),M=h.pendingProps,f===null?h.child=Tl(h,null,M,x):rs(f,h,M,x),h.child;case 11:return Sd(f,h,h.type,h.pendingProps,x);case 7:return rs(f,h,h.pendingProps,x),h.child;case 8:return rs(f,h,h.pendingProps.children,x),h.child;case 12:return rs(f,h,h.pendingProps.children,x),h.child;case 10:return M=h.pendingProps,el(h,h.type,M.value),rs(f,h,M.children,x),h.child;case 9:return R=h.type._context,M=h.pendingProps.children,nl(h),R=as(R),M=M(R),h.flags|=1,rs(f,h,M,x),h.child;case 14:return gv(f,h,h.type,h.pendingProps,x);case 15:return yv(f,h,h.type,h.pendingProps,x);case 19:return Ev(f,h,x);case 22:return vv(f,h,x);case 24:return nl(h),M=as(fi),f===null?(R=$m(),R===null&&(R=Hn,O=il(),R.pooledCache=O,O.refCount++,O!==null&&(R.pooledCacheLanes|=x),R=O),h.memoizedState={parent:M,cache:R},qt(h),el(h,fi,R)):(f.lanes&x&&(me(f,h),bn(h,null,null,x),Me()),R=f.memoizedState,O=h.memoizedState,R.parent!==M?(R={parent:M,cache:M},h.memoizedState=R,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=R),el(h,fi,M)):(M=O.cache,el(h,fi,M),M!==R.cache&&ic(h,[fi],x,!0))),rs(f,h,h.pendingProps.children,x),h.child;case 29:throw h.pendingProps}throw Error(s(156,h.tag))}function el(f,h,x){la?(w(Xr,h._currentValue),h._currentValue=x):(w(Xr,h._currentValue2),h._currentValue2=x)}function ro(f){var h=Xr.current;la?f._currentValue=h:f._currentValue2=h,_(Xr)}function wf(f,h,x){for(;f!==null;){var M=f.alternate;if((f.childLanes&h)!==h?(f.childLanes|=h,M!==null&&(M.childLanes|=h)):M!==null&&(M.childLanes&h)!==h&&(M.childLanes|=h),f===x)break;f=f.return}}function ic(f,h,x,M){var R=f.child;for(R!==null&&(R.return=f);R!==null;){var O=R.dependencies;if(O!==null){var X=R.child;O=O.firstContext;t:for(;O!==null;){var nt=O;O=R;for(var mt=0;mt<h.length;mt++)if(nt.context===h[mt]){O.lanes|=x,nt=O.alternate,nt!==null&&(nt.lanes|=x),wf(O.return,x,f),M||(X=null);break t}O=nt.next}}else if(R.tag===18){if(X=R.return,X===null)throw Error(s(341));X.lanes|=x,O=X.alternate,O!==null&&(O.lanes|=x),wf(X,x,f),X=null}else X=R.child;if(X!==null)X.return=R;else for(X=R;X!==null;){if(X===f){X=null;break}if(R=X.sibling,R!==null){R.return=X.return,X=R;break}X=X.return}R=X}}function Bf(f,h,x,M){f=null;for(var R=h,O=!1;R!==null;){if(!O){if(R.flags&524288)O=!0;else if(R.flags&262144)break}if(R.tag===10){var X=R.alternate;if(X===null)throw Error(s(387));if(X=X.memoizedProps,X!==null){var nt=R.type;Fs(R.pendingProps.value,X.value)||(f!==null?f.push(nt):f=[nt])}}else if(R===eh.current){if(X=R.alternate,X===null)throw Error(s(387));X.memoizedState.memoizedState!==R.memoizedState.memoizedState&&(f!==null?f.push(So):f=[So])}R=R.return}f!==null&&ic(h,f,x,M),h.flags|=262144}function Df(f){for(f=f.firstContext;f!==null;){var h=f.context;if(!Fs(la?h._currentValue:h._currentValue2,f.memoizedValue))return!0;f=f.next}return!1}function nl(f){Dl=f,jr=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function as(f){return Zm(Dl,f)}function Lf(f,h){return Dl===null&&nl(f),Zm(f,h)}function Zm(f,h){var x=la?h._currentValue:h._currentValue2;if(h={context:h,memoizedValue:x,next:null},jr===null){if(f===null)throw Error(s(308));jr=h,f.dependencies={lanes:0,firstContext:h},f.flags|=524288}else jr=jr.next=h;return x}function il(){return{controller:new ah,data:new Map,refCount:0}}function Of(f){f.refCount--,f.refCount===0&&oi(k_,function(){f.controller.abort()})}function $m(){var f=_c.current;return f!==null?f:Hn.pooledCache}function Md(f,h){h===null?w(_c,_c.current):w(_c,h.pool)}function tg(){var f=$m();return f===null?null:{parent:la?fi._currentValue:fi._currentValue2,pool:f}}function Ws(f){f.flags|=4}function uu(f,h){if(f!==null&&f.child===h.child)return!1;if(h.flags&16)return!0;for(f=h.child;f!==null;){if(f.flags&13878||f.subtreeFlags&13878)return!0;f=f.sibling}return!1}function sc(f,h,x,M){if(ii)for(x=h.child;x!==null;){if(x.tag===5||x.tag===6)Jf(f,x.stateNode);else if(!(x.tag===4||ts&&x.tag===27)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===h)break;for(;x.sibling===null;){if(x.return===null||x.return===h)return;x=x.return}x.sibling.return=x.return,x=x.sibling}else if(ca)for(var R=h.child;R!==null;){if(R.tag===5){var O=R.stateNode;x&&M&&(O=lx(O,R.type,R.memoizedProps)),Jf(f,O)}else if(R.tag===6)O=R.stateNode,x&&M&&(O=bg(O,R.memoizedProps)),Jf(f,O);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)O=R.child,O!==null&&(O.return=R),sc(f,R,!0,!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===h)break;for(;R.sibling===null;){if(R.return===null||R.return===h)return;R=R.return}R.sibling.return=R.return,R=R.sibling}}function Cv(f,h,x,M){if(ca)for(var R=h.child;R!==null;){if(R.tag===5){var O=R.stateNode;x&&M&&(O=lx(O,R.type,R.memoizedProps)),_g(f,O)}else if(R.tag===6)O=R.stateNode,x&&M&&(O=bg(O,R.memoizedProps)),_g(f,O);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)O=R.child,O!==null&&(O.return=R),Cv(f,R,!(R.memoizedProps!==null&&R.memoizedProps.mode==="manual"),!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===h)break;for(;R.sibling===null;){if(R.return===null||R.return===h)return;R=R.return}R.sibling.return=R.return,R=R.sibling}}function Uf(f,h){if(ca&&uu(f,h)){f=h.stateNode;var x=f.containerInfo,M=Xd();Cv(M,h,!1,!1),f.pendingChildren=M,Ws(h),ax(x,M)}}function Ed(f,h,x,M){if(ii)f.memoizedProps!==M&&Ws(h);else if(ca){var R=f.stateNode,O=f.memoizedProps;if((f=uu(f,h))||O!==M){var X=xi.current;O=rx(R,x,O,M,!f,null),O===R?h.stateNode=R:(Fd(O,x,M,X)&&Ws(h),h.stateNode=O,f?sc(O,h,!1,!1):Ws(h))}else h.stateNode=R}}function Td(f,h,x){if(gg(h,x)){if(f.flags|=16777216,!yg(h,x))if($i())f.flags|=8192;else throw _s=zs,sh}else f.flags&=-16777217}function Cd(f,h){if(Ax(h)){if(f.flags|=16777216,!Og(h))if($i())f.flags|=8192;else throw _s=zs,sh}else f.flags&=-16777217}function fu(f,h){h!==null&&(f.flags|=4),f.flags&16384&&(h=f.tag!==22?N():536870912,f.lanes|=h,Ui|=h)}function hu(f,h){if(!An)switch(f.tailMode){case"hidden":h=f.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?f.tail=null:x.sibling=null;break;case"collapsed":x=f.tail;for(var M=null;x!==null;)x.alternate!==null&&(M=x),x=x.sibling;M===null?h||f.tail===null?f.tail=null:f.tail.sibling=null:M.sibling=null}}function ni(f){var h=f.alternate!==null&&f.alternate.child===f.child,x=0,M=0;if(h)for(var R=f.child;R!==null;)x|=R.lanes|R.childLanes,M|=R.subtreeFlags&31457280,M|=R.flags&31457280,R.return=f,R=R.sibling;else for(R=f.child;R!==null;)x|=R.lanes|R.childLanes,M|=R.subtreeFlags,M|=R.flags,R.return=f,R=R.sibling;return f.subtreeFlags|=M,f.childLanes=x,h}function Rv(f,h,x){var M=h.pendingProps;switch(Ft(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ni(h),null;case 1:return ni(h),null;case 3:return x=h.stateNode,M=null,f!==null&&(M=f.memoizedState.cache),h.memoizedState.cache!==M&&(h.flags|=2048),ro(fi),Et(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(f===null||f.child===null)&&(ue(h)?Ws(h):f===null||f.memoizedState.isDehydrated&&!(h.flags&256)||(h.flags|=1024,Vr!==null&&(fo(Vr),Vr=null))),Uf(f,h),ni(h),null;case 26:if(Sr){x=h.type;var R=h.memoizedState;return f===null?(Ws(h),R!==null?(ni(h),Cd(h,R)):(ni(h),Td(h,x,M))):R?R!==f.memoizedState?(Ws(h),ni(h),Cd(h,R)):(ni(h),h.flags&=-16777217):(ii?f.memoizedProps!==M&&Ws(h):Ed(f,h,x,M),ni(h),Td(h,x,M)),null}case 27:if(ts){if(Ht(h),x=Mo.current,R=h.type,f!==null&&h.stateNode!=null)ii?f.memoizedProps!==M&&Ws(h):Ed(f,h,R,M);else{if(!M){if(h.stateNode===null)throw Error(s(166));return ni(h),null}f=xi.current,ue(h)?xe(h,f):(f=Kd(R,M,x,f,!0),h.stateNode=f,Ws(h))}return ni(h),null}case 5:if(Ht(h),x=h.type,f!==null&&h.stateNode!=null)Ed(f,h,x,M);else{if(!M){if(h.stateNode===null)throw Error(s(166));return ni(h),null}f=xi.current,ue(h)?xe(h,f):(R=mg(x,M,Mo.current,f,h),sc(R,h,!1,!1),h.stateNode=R,Fd(R,x,M,f)&&Ws(h))}return ni(h),Td(h,h.type,h.pendingProps),null;case 6:if(f&&h.stateNode!=null)x=f.memoizedProps,ii?x!==M&&Ws(h):ca&&(x!==M?(h.stateNode=yi(M,Mo.current,xi.current,h),Ws(h)):h.stateNode=f.stateNode);else{if(typeof M!="string"&&h.stateNode===null)throw Error(s(166));if(f=Mo.current,x=xi.current,ue(h)){if(!$s)throw Error(s(176));if(f=h.stateNode,x=h.memoizedProps,M=null,R=Ai,R!==null)switch(R.tag){case 27:case 5:M=R.memoizedProps}Yd(f,x,h,M)||Xt(h)}else h.stateNode=yi(M,f,x,h)}return ni(h),null;case 13:if(M=h.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(R=ue(h),M!==null&&M.dehydrated!==null){if(f===null){if(!R)throw Error(s(318));if(!$s)throw Error(s(344));if(R=h.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(s(317));dx(R,h)}else Pt(),!(h.flags&128)&&(h.memoizedState=null),h.flags|=4;ni(h),R=!1}else Vr!==null&&(fo(Vr),Vr=null),R=!0;if(!R)return h.flags&256?(mi(h),h):(mi(h),null)}if(mi(h),h.flags&128)return h.lanes=x,h;if(x=M!==null,f=f!==null&&f.memoizedState!==null,x){M=h.child,R=null,M.alternate!==null&&M.alternate.memoizedState!==null&&M.alternate.memoizedState.cachePool!==null&&(R=M.alternate.memoizedState.cachePool.pool);var O=null;M.memoizedState!==null&&M.memoizedState.cachePool!==null&&(O=M.memoizedState.cachePool.pool),O!==R&&(M.flags|=2048)}return x!==f&&x&&(h.child.flags|=8192),fu(h,h.updateQueue),ni(h),null;case 4:return Et(),Uf(f,h),f===null&&Fv(h.stateNode.containerInfo),ni(h),null;case 10:return ro(h.type),ni(h),null;case 19:if(_(Kn),R=h.memoizedState,R===null)return ni(h),null;if(M=(h.flags&128)!==0,O=R.rendering,O===null)if(M)hu(R,!1);else{if(ri!==0||f!==null&&f.flags&128)for(f=h.child;f!==null;){if(O=li(f),O!==null){for(h.flags|=128,hu(R,!1),f=O.updateQueue,h.updateQueue=f,fu(h,f),h.subtreeFlags=0,f=x,x=h.child;x!==null;)uc(x,f),x=x.sibling;return w(Kn,Kn.current&1|2),h.child}f=f.sibling}R.tail!==null&&_r()>Tr&&(h.flags|=128,M=!0,hu(R,!1),h.lanes=4194304)}else{if(!M)if(f=li(O),f!==null){if(h.flags|=128,M=!0,f=f.updateQueue,h.updateQueue=f,fu(h,f),hu(R,!0),R.tail===null&&R.tailMode==="hidden"&&!O.alternate&&!An)return ni(h),null}else 2*_r()-R.renderingStartTime>Tr&&x!==536870912&&(h.flags|=128,M=!0,hu(R,!1),h.lanes=4194304);R.isBackwards?(O.sibling=h.child,h.child=O):(f=R.last,f!==null?f.sibling=O:h.child=O,R.last=O)}return R.tail!==null?(h=R.tail,R.rendering=h,R.tail=h.sibling,R.renderingStartTime=_r(),h.sibling=null,f=Kn.current,w(Kn,M?f&1|2:f&1),h):(ni(h),null);case 22:case 23:return mi(h),Nr(),M=h.memoizedState!==null,f!==null?f.memoizedState!==null!==M&&(h.flags|=8192):M&&(h.flags|=8192),M?x&536870912&&!(h.flags&128)&&(ni(h),h.subtreeFlags&6&&(h.flags|=8192)):ni(h),x=h.updateQueue,x!==null&&fu(h,x.retryQueue),x=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(x=f.memoizedState.cachePool.pool),M=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(M=h.memoizedState.cachePool.pool),M!==x&&(h.flags|=2048),f!==null&&_(_c),null;case 24:return x=null,f!==null&&(x=f.memoizedState.cache),h.memoizedState.cache!==x&&(h.flags|=2048),ro(fi),ni(h),null;case 25:return null}throw Error(s(156,h.tag))}function O_(f,h){switch(Ft(h),h.tag){case 1:return f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 3:return ro(fi),Et(),f=h.flags,f&65536&&!(f&128)?(h.flags=f&-65537|128,h):null;case 26:case 27:case 5:return Ht(h),null;case 13:if(mi(h),f=h.memoizedState,f!==null&&f.dehydrated!==null){if(h.alternate===null)throw Error(s(340));Pt()}return f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 19:return _(Kn),null;case 4:return Et(),null;case 10:return ro(h.type),null;case 22:case 23:return mi(h),Nr(),f!==null&&_(_c),f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 24:return ro(fi),null;case 25:return null;default:return null}}function wv(f,h){switch(Ft(h),h.tag){case 3:ro(fi),Et();break;case 26:case 27:case 5:Ht(h);break;case 4:Et();break;case 13:mi(h);break;case 19:_(Kn);break;case 10:ro(h.type);break;case 22:case 23:mi(h),Nr(),f!==null&&_(_c);break;case 24:ro(fi)}}function Pf(f,h){try{var x=h.updateQueue,M=x!==null?x.lastEffect:null;if(M!==null){var R=M.next;x=R;do{if((x.tag&f)===f){M=void 0;var O=x.create,X=x.inst;M=O(),X.destroy=M}x=x.next}while(x!==R)}}catch(nt){wn(h,h.return,nt)}}function sl(f,h,x){try{var M=h.updateQueue,R=M!==null?M.lastEffect:null;if(R!==null){var O=R.next;M=O;do{if((M.tag&f)===f){var X=M.inst,nt=X.destroy;if(nt!==void 0){X.destroy=void 0,R=h;var mt=x;try{nt()}catch(Lt){wn(R,mt,Lt)}}}M=M.next}while(M!==O)}}catch(Lt){wn(h,h.return,Lt)}}function Bv(f){var h=f.updateQueue;if(h!==null){var x=f.stateNode;try{re(h,x)}catch(M){wn(f,f.return,M)}}}function Ks(f,h,x){x.props=io(f.type,f.memoizedProps),x.state=f.memoizedState;try{x.componentWillUnmount()}catch(M){wn(f,h,M)}}function oa(f,h){try{var x=f.ref;if(x!==null){var M=f.stateNode;switch(f.tag){case 26:case 27:case 5:var R=dc(M);break;default:R=M}typeof x=="function"?f.refCleanup=x(R):x.current=R}}catch(O){wn(f,h,O)}}function qs(f,h){var x=f.ref,M=f.refCleanup;if(x!==null)if(typeof M=="function")try{M()}catch(R){wn(f,h,R)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(R){wn(f,h,R)}else x.current=null}function eg(f){var h=f.type,x=f.memoizedProps,M=f.stateNode;try{Qv(M,h,x,f)}catch(R){wn(f,f.return,R)}}function ng(f,h,x){try{Zv(f.stateNode,f.type,x,h,f)}catch(M){wn(f,f.return,M)}}function ig(f){return f.tag===5||f.tag===3||(Sr?f.tag===26:!1)||(ts?f.tag===27:!1)||f.tag===4}function Nf(f){t:for(;;){for(;f.sibling===null;){if(f.return===null||ig(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&(!ts||f.tag!==27)&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue t;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function sg(f,h,x){var M=f.tag;if(M===5||M===6)f=f.stateNode,h?Ag(x,f,h):xg(x,f);else if(!(M===4||ts&&M===27)&&(f=f.child,f!==null))for(sg(f,h,x),f=f.sibling;f!==null;)sg(f,h,x),f=f.sibling}function Rd(f,h,x){var M=f.tag;if(M===5||M===6)f=f.stateNode,h?$v(x,f,h):qv(x,f);else if(!(M===4||ts&&M===27)&&(f=f.child,f!==null))for(Rd(f,h,x),f=f.sibling;f!==null;)Rd(f,h,x),f=f.sibling}function rc(f,h,x){f=f.containerInfo;try{ox(f,x)}catch(M){wn(h,h.return,M)}}function rg(f,h){for(Iv(f.containerInfo),De=h;De!==null;)if(f=De,h=f.child,(f.subtreeFlags&1028)!==0&&h!==null)h.return=f,De=h;else for(;De!==null;){f=De;var x=f.alternate;switch(h=f.flags,f.tag){case 0:break;case 11:case 15:break;case 1:if(h&1024&&x!==null){h=void 0;var M=f,R=x.memoizedProps;x=x.memoizedState;var O=M.stateNode;try{var X=io(M.type,R,M.elementType===M.type);h=O.getSnapshotBeforeUpdate(X,x),O.__reactInternalSnapshotBeforeUpdate=h}catch(nt){wn(M,M.return,nt)}}break;case 3:h&1024&&ii&&sx(f.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(h&1024)throw Error(s(163))}if(h=f.sibling,h!==null){h.return=f.return,De=h;break}De=f.return}return X=kn,kn=!1,X}function du(f,h,x){var M=x.flags;switch(x.tag){case 0:case 11:case 15:oo(f,x),M&4&&Pf(5,x);break;case 1:if(oo(f,x),M&4)if(f=x.stateNode,h===null)try{f.componentDidMount()}catch(nt){wn(x,x.return,nt)}else{var R=io(x.type,h.memoizedProps);h=h.memoizedState;try{f.componentDidUpdate(R,h,f.__reactInternalSnapshotBeforeUpdate)}catch(nt){wn(x,x.return,nt)}}M&64&&Bv(x),M&512&&oa(x,x.return);break;case 3:if(oo(f,x),M&64&&(M=x.updateQueue,M!==null)){if(f=null,x.child!==null)switch(x.child.tag){case 27:case 5:f=dc(x.child.stateNode);break;case 1:f=x.child.stateNode}try{re(M,f)}catch(nt){wn(x,x.return,nt)}}break;case 26:if(Sr){oo(f,x),M&512&&oa(x,x.return);break}case 27:case 5:oo(f,x),h===null&&M&4&&eg(x),M&512&&oa(x,x.return);break;case 12:oo(f,x);break;case 13:oo(f,x),M&4&&ac(f,x);break;case 22:if(R=x.memoizedState!==null||Bo,!R){h=h!==null&&h.memoizedState!==null||ke;var O=Bo,X=ke;Bo=R,(ke=h)&&!X?rl(f,x,(x.subtreeFlags&8772)!==0):oo(f,x),Bo=O,ke=X}M&512&&(x.memoizedProps.mode==="manual"?oa(x,x.return):qs(x,x.return));break;default:oo(f,x)}}function wd(f){var h=f.alternate;h!==null&&(f.alternate=null,wd(h)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(h=f.stateNode,h!==null&&Gv(h)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function Ir(f,h,x){for(x=x.child;x!==null;)ao(f,h,x),x=x.sibling}function ao(f,h,x){if(Di&&typeof Di.onCommitFiberUnmount=="function")try{Di.onCommitFiberUnmount(Cu,x)}catch{}switch(x.tag){case 26:if(Sr){ke||qs(x,h),Ir(f,h,x),x.memoizedState?Bg(x.memoizedState):x.stateNode&&Mu(x.stateNode);break}case 27:if(ts){ke||qs(x,h);var M=En,R=bi;En=x.stateNode,Ir(f,h,x),Ng(x.stateNode),En=M,bi=R;break}case 5:ke||qs(x,h);case 6:if(ii){if(M=En,R=bi,En=null,Ir(f,h,x),En=M,bi=R,En!==null)if(bi)try{ex(En,x.stateNode)}catch(O){wn(x,h,O)}else try{tx(En,x.stateNode)}catch(O){wn(x,h,O)}}else Ir(f,h,x);break;case 18:ii&&En!==null&&(bi?Tg(En,x.stateNode):gx(En,x.stateNode));break;case 4:ii?(M=En,R=bi,En=x.stateNode.containerInfo,bi=!0,Ir(f,h,x),En=M,bi=R):(ca&&rc(x.stateNode,x,Xd()),Ir(f,h,x));break;case 0:case 11:case 14:case 15:ke||sl(2,x,h),ke||sl(4,x,h),Ir(f,h,x);break;case 1:ke||(qs(x,h),M=x.stateNode,typeof M.componentWillUnmount=="function"&&Ks(x,h,M)),Ir(f,h,x);break;case 21:Ir(f,h,x);break;case 22:ke||qs(x,h),ke=(M=ke)||x.memoizedState!==null,Ir(f,h,x),ke=M;break;default:Ir(f,h,x)}}function ac(f,h){if($s&&h.memoizedState===null&&(f=h.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{Wd(f)}catch(x){wn(h,h.return,x)}}function ag(f){switch(f.tag){case 13:case 19:var h=f.stateNode;return h===null&&(h=f.stateNode=new nn),h;case 22:return f=f.stateNode,h=f._retryCache,h===null&&(h=f._retryCache=new nn),h;default:throw Error(s(435,f.tag))}}function Bd(f,h){var x=ag(f);h.forEach(function(M){var R=Pd.bind(null,f,M);x.has(M)||(x.add(M),M.then(R,R))})}function Ri(f,h){var x=h.deletions;if(x!==null)for(var M=0;M<x.length;M++){var R=x[M],O=f,X=h;if(ii){var nt=X;t:for(;nt!==null;){switch(nt.tag){case 27:case 5:En=nt.stateNode,bi=!1;break t;case 3:En=nt.stateNode.containerInfo,bi=!0;break t;case 4:En=nt.stateNode.containerInfo,bi=!0;break t}nt=nt.return}if(En===null)throw Error(s(160));ao(O,X,R),En=null,bi=!1}else ao(O,X,R);O=R.alternate,O!==null&&(O.return=null),R.return=null}if(h.subtreeFlags&13878)for(h=h.child;h!==null;)og(h,f),h=h.sibling}function og(f,h){var x=f.alternate,M=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:Ri(h,f),Js(f),M&4&&(sl(3,f,f.return),Pf(3,f),sl(5,f,f.return));break;case 1:Ri(h,f),Js(f),M&512&&(ke||x===null||qs(x,x.return)),M&64&&Bo&&(f=f.updateQueue,f!==null&&(M=f.callbacks,M!==null&&(x=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=x===null?M:x.concat(M))));break;case 26:if(Sr){var R=Ms;Ri(h,f),Js(f),M&512&&(ke||x===null||qs(x,x.return)),M&4&&(M=x!==null?x.memoizedState:null,h=f.memoizedState,x===null?h===null?f.stateNode===null?f.stateNode=vx(R,f.type,f.memoizedProps,f):Dg(R,f.type,f.stateNode):f.stateNode=wg(R,h,f.memoizedProps):M!==h?(M===null?x.stateNode!==null&&Mu(x.stateNode):Bg(M),h===null?Dg(R,f.type,f.stateNode):wg(R,h,f.memoizedProps)):h===null&&f.stateNode!==null&&ng(f,f.memoizedProps,x.memoizedProps));break}case 27:if(ts&&M&4&&f.alternate===null){R=f.stateNode;var O=f.memoizedProps;try{Sx(R),Pg(f.type,O,R,f)}catch(Jt){wn(f,f.return,Jt)}}case 5:if(Ri(h,f),Js(f),M&512&&(ke||x===null||qs(x,x.return)),ii){if(f.flags&32){h=f.stateNode;try{kd(h)}catch(Jt){wn(f,f.return,Jt)}}M&4&&f.stateNode!=null&&(h=f.memoizedProps,ng(f,h,x!==null?x.memoizedProps:h)),M&1024&&(zn=!0)}break;case 6:if(Ri(h,f),Js(f),M&4&&ii){if(f.stateNode===null)throw Error(s(162));M=f.memoizedProps,x=x!==null?x.memoizedProps:M,h=f.stateNode;try{Jv(h,x,M)}catch(Jt){wn(f,f.return,Jt)}}break;case 3:if(Sr?(xx(),R=Ms,Ms=ki(h.containerInfo),Ri(h,f),Ms=R):Ri(h,f),Js(f),M&4){if(ii&&$s&&x!==null&&x.memoizedState.isDehydrated)try{mx(h.containerInfo)}catch(Jt){wn(f,f.return,Jt)}if(ca){M=h.containerInfo,x=h.pendingChildren;try{ox(M,x)}catch(Jt){wn(f,f.return,Jt)}}}zn&&(zn=!1,lg(f));break;case 4:Sr?(x=Ms,Ms=ki(f.stateNode.containerInfo),Ri(h,f),Js(f),Ms=x):(Ri(h,f),Js(f)),M&4&&ca&&rc(f.stateNode,f,f.stateNode.pendingChildren);break;case 12:Ri(h,f),Js(f);break;case 13:Ri(h,f),Js(f),f.child.flags&8192&&f.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(Gg=_r()),M&4&&(M=f.updateQueue,M!==null&&(f.updateQueue=null,Bd(f,M)));break;case 22:M&512&&(ke||x===null||qs(x,x.return)),R=f.memoizedState!==null;var X=x!==null&&x.memoizedState!==null,nt=Bo,mt=ke;if(Bo=nt||R,ke=mt||X,Ri(h,f),ke=mt,Bo=nt,Js(f),h=f.stateNode,h._current=f,h._visibility&=-3,h._visibility|=h._pendingVisibility&2,M&8192&&(h._visibility=R?h._visibility&-2:h._visibility|1,R&&(h=Bo||ke,x===null||X||h||pu(f)),ii&&(f.memoizedProps===null||f.memoizedProps.mode!=="manual"))){t:if(x=null,ii)for(h=f;;){if(h.tag===5||Sr&&h.tag===26||ts&&h.tag===27){if(x===null){X=x=h;try{O=X.stateNode,R?nx(O):H_(X.stateNode,X.memoizedProps)}catch(Jt){wn(X,X.return,Jt)}}}else if(h.tag===6){if(x===null){X=h;try{var Lt=X.stateNode;R?ix(Lt):Sg(Lt,X.memoizedProps)}catch(Jt){wn(X,X.return,Jt)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===f)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break t;for(;h.sibling===null;){if(h.return===null||h.return===f)break t;x===h&&(x=null),h=h.return}x===h&&(x=null),h.sibling.return=h.return,h=h.sibling}}M&4&&(M=f.updateQueue,M!==null&&(x=M.retryQueue,x!==null&&(M.retryQueue=null,Bd(f,x))));break;case 19:Ri(h,f),Js(f),M&4&&(M=f.updateQueue,M!==null&&(f.updateQueue=null,Bd(f,M)));break;case 21:break;default:Ri(h,f),Js(f)}}function Js(f){var h=f.flags;if(h&2){try{if(ii&&(!ts||f.tag!==27)){t:{for(var x=f.return;x!==null;){if(ig(x)){var M=x;break t}x=x.return}throw Error(s(160))}switch(M.tag){case 27:if(ts){var R=M.stateNode,O=Nf(f);Rd(f,O,R);break}case 5:var X=M.stateNode;M.flags&32&&(kd(X),M.flags&=-33);var nt=Nf(f);Rd(f,nt,X);break;case 3:case 4:var mt=M.stateNode.containerInfo,Lt=Nf(f);sg(f,Lt,mt);break;default:throw Error(s(161))}}}catch(Jt){wn(f,f.return,Jt)}f.flags&=-3}h&4096&&(f.flags&=-4097)}function lg(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var h=f;lg(h),h.tag===5&&h.flags&1024&&kv(h.stateNode),f=f.sibling}}function oo(f,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)du(f,h.alternate,h),h=h.sibling}function pu(f){for(f=f.child;f!==null;){var h=f;switch(h.tag){case 0:case 11:case 14:case 15:sl(4,h,h.return),pu(h);break;case 1:qs(h,h.return);var x=h.stateNode;typeof x.componentWillUnmount=="function"&&Ks(h,h.return,x),pu(h);break;case 26:case 27:case 5:qs(h,h.return),pu(h);break;case 22:qs(h,h.return),h.memoizedState===null&&pu(h);break;default:pu(h)}f=f.sibling}}function rl(f,h,x){for(x=x&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var M=h.alternate,R=f,O=h,X=O.flags;switch(O.tag){case 0:case 11:case 15:rl(R,O,x),Pf(4,O);break;case 1:if(rl(R,O,x),M=O,R=M.stateNode,typeof R.componentDidMount=="function")try{R.componentDidMount()}catch(Lt){wn(M,M.return,Lt)}if(M=O,R=M.updateQueue,R!==null){var nt=M.stateNode;try{var mt=R.shared.hiddenCallbacks;if(mt!==null)for(R.shared.hiddenCallbacks=null,R=0;R<mt.length;R++)ut(mt[R],nt)}catch(Lt){wn(M,M.return,Lt)}}x&&X&64&&Bv(O),oa(O,O.return);break;case 26:case 27:case 5:rl(R,O,x),x&&M===null&&X&4&&eg(O),oa(O,O.return);break;case 12:rl(R,O,x);break;case 13:rl(R,O,x),x&&X&4&&ac(R,O);break;case 22:O.memoizedState===null&&rl(R,O,x),oa(O,O.return);break;default:rl(R,O,x)}h=h.sibling}}function Dd(f,h){var x=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(x=f.memoizedState.cachePool.pool),f=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(f=h.memoizedState.cachePool.pool),f!==x&&(f!=null&&f.refCount++,x!=null&&Of(x))}function Ld(f,h){f=null,h.alternate!==null&&(f=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==f&&(h.refCount++,f!=null&&Of(f))}function lo(f,h,x,M){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)Fr(f,h,x,M),h=h.sibling}function Fr(f,h,x,M){var R=h.flags;switch(h.tag){case 0:case 11:case 15:lo(f,h,x,M),R&2048&&Pf(9,h);break;case 3:lo(f,h,x,M),R&2048&&(f=null,h.alternate!==null&&(f=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==f&&(h.refCount++,f!=null&&Of(f)));break;case 12:if(R&2048){lo(f,h,x,M),f=h.stateNode;try{var O=h.memoizedProps,X=O.id,nt=O.onPostCommit;typeof nt=="function"&&nt(X,h.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(mt){wn(h,h.return,mt)}}else lo(f,h,x,M);break;case 23:break;case 22:O=h.stateNode,h.memoizedState!==null?O._visibility&4?lo(f,h,x,M):Ca(f,h):O._visibility&4?lo(f,h,x,M):(O._visibility|=4,os(f,h,x,M,(h.subtreeFlags&10256)!==0)),R&2048&&Dd(h.alternate,h);break;case 24:lo(f,h,x,M),R&2048&&Ld(h.alternate,h);break;default:lo(f,h,x,M)}}function os(f,h,x,M,R){for(R=R&&(h.subtreeFlags&10256)!==0,h=h.child;h!==null;){var O=f,X=h,nt=x,mt=M,Lt=X.flags;switch(X.tag){case 0:case 11:case 15:os(O,X,nt,mt,R),Pf(8,X);break;case 23:break;case 22:var Jt=X.stateNode;X.memoizedState!==null?Jt._visibility&4?os(O,X,nt,mt,R):Ca(O,X):(Jt._visibility|=4,os(O,X,nt,mt,R)),R&&Lt&2048&&Dd(X.alternate,X);break;case 24:os(O,X,nt,mt,R),R&&Lt&2048&&Ld(X.alternate,X);break;default:os(O,X,nt,mt,R)}h=h.sibling}}function Ca(f,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var x=f,M=h,R=M.flags;switch(M.tag){case 22:Ca(x,M),R&2048&&Dd(M.alternate,M);break;case 24:Ca(x,M),R&2048&&Ld(M.alternate,M);break;default:Ca(x,M)}h=h.sibling}}function co(f){if(f.subtreeFlags&Ll)for(f=f.child;f!==null;)If(f),f=f.sibling}function If(f){switch(f.tag){case 26:co(f),f.flags&Ll&&(f.memoizedState!==null?Ug(Ms,f.memoizedState,f.memoizedProps):vg(f.type,f.memoizedProps));break;case 5:co(f),f.flags&Ll&&vg(f.type,f.memoizedProps);break;case 3:case 4:if(Sr){var h=Ms;Ms=ki(f.stateNode.containerInfo),co(f),Ms=h}else co(f);break;case 22:f.memoizedState===null&&(h=f.alternate,h!==null&&h.memoizedState!==null?(h=Ll,Ll=16777216,co(f),Ll=h):co(f));break;default:co(f)}}function Ff(f){var h=f.alternate;if(h!==null&&(f=h.child,f!==null)){h.child=null;do h=f.sibling,f.sibling=null,f=h;while(f!==null)}}function oc(f){var h=f.deletions;if(f.flags&16){if(h!==null)for(var x=0;x<h.length;x++){var M=h[x];De=M,Hf(M,f)}Ff(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)uo(f),f=f.sibling}function uo(f){switch(f.tag){case 0:case 11:case 15:oc(f),f.flags&2048&&sl(9,f,f.return);break;case 3:oc(f);break;case 12:oc(f);break;case 22:var h=f.stateNode;f.memoizedState!==null&&h._visibility&4&&(f.return===null||f.return.tag!==13)?(h._visibility&=-5,zf(f)):oc(f);break;default:oc(f)}}function zf(f){var h=f.deletions;if(f.flags&16){if(h!==null)for(var x=0;x<h.length;x++){var M=h[x];De=M,Hf(M,f)}Ff(f)}for(f=f.child;f!==null;){switch(h=f,h.tag){case 0:case 11:case 15:sl(8,h,h.return),zf(h);break;case 22:x=h.stateNode,x._visibility&4&&(x._visibility&=-5,zf(h));break;default:zf(h)}f=f.sibling}}function Hf(f,h){for(;De!==null;){var x=De;switch(x.tag){case 0:case 11:case 15:sl(8,x,h);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var M=x.memoizedState.cachePool.pool;M!=null&&M.refCount++}break;case 24:Of(x.memoizedState.cache)}if(M=x.child,M!==null)M.return=x,De=M;else t:for(x=f;De!==null;){M=De;var R=M.sibling,O=M.return;if(wd(M),M===x){De=null;break t}if(R!==null){R.return=O,De=R;break t}De=O}}}function al(f){var h=Hd(f);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(s(364));return h}if(f=Yv(f),f===null)throw Error(s(362));return f.stateNode.current}function Od(f,h){var x=f.tag;switch(h.$$typeof){case $n:if(f.type===h.value)return!0;break;case ga:t:{for(h=h.value,f=[f,0],x=0;x<f.length;){var M=f[x++],R=M.tag,O=f[x++],X=h[O];if(R!==5&&R!==26&&R!==27||!Oa(M)){for(;X!=null&&Od(M,X);)O++,X=h[O];if(O===h.length){h=!0;break t}else for(M=M.child;M!==null;)f.push(M,O),M=M.sibling}}h=!1}return h;case za:if((x===5||x===26||x===27)&&Kv(f.stateNode,h.value))return!0;break;case Gs:if((x===5||x===6||x===26||x===27)&&(f=Wv(f),f!==null&&0<=f.indexOf(h.value)))return!0;break;case Ou:if((x===5||x===26||x===27)&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function Qs(f){switch(f.$$typeof){case $n:return"<"+(o(f.value)||"Unknown")+">";case ga:return":has("+(Qs(f)||"")+")";case za:return'[role="'+f.value+'"]';case Gs:return'"'+f.value+'"';case Ou:return'[data-testname="'+f.value+'"]';default:throw Error(s(365))}}function lc(f,h){var x=[];f=[f,0];for(var M=0;M<f.length;){var R=f[M++],O=R.tag,X=f[M++],nt=h[X];if(O!==5&&O!==26&&O!==27||!Oa(R)){for(;nt!=null&&Od(R,nt);)X++,nt=h[X];if(X===h.length)x.push(R);else for(R=R.child;R!==null;)f.push(R,X),R=R.sibling}}return x}function ol(f,h){if(!bu)throw Error(s(363));f=al(f),f=lc(f,h),h=[],f=Array.from(f);for(var x=0;x<f.length;){var M=f[x++],R=M.tag;if(R===5||R===26||R===27)Oa(M)||h.push(M.stateNode);else for(M=M.child;M!==null;)f.push(M),M=M.sibling}return h}function ys(){if(an&2&&on!==0)return on&-on;if(Ne.T!==null){var f=Zn;return f!==0?f:fe()}return zv()}function Gf(){Er===0&&(Er=!(on&536870912)||An?z():536870912);var f=nr.current;return f!==null&&(f.flags|=32),Er}function Wn(f,h,x){(f===Hn&&Un===2||f.cancelPendingCommit!==null)&&(ll(f,0),Ns(f,on,Er,!1)),H(f,x),(!(an&2)||f!==Hn)&&(f===Hn&&(!(an&2)&&(Lo|=x),ri===4&&Ns(f,on,Er,!1)),Zt(f))}function xr(f,h,x){if(an&6)throw Error(s(327));var M=!x&&(h&60)===0&&(h&f.expiredLanes)===0||P(f,h),R=M?Dv(f,h):kf(f,h,!0),O=M;do{if(R===0){Wr&&!M&&Ns(f,h,0,!1);break}else if(R===6)Ns(f,h,0,!Yr);else{if(x=f.current.alternate,O&&!ho(x)){R=kf(f,h,!1),O=!1;continue}if(R===2){if(O=h,f.errorRecoveryDisabledLanes&O)var X=0;else X=f.pendingLanes&-536870913,X=X!==0?X:X&536870912?536870912:0;if(X!==0){h=X;t:{var nt=f;R=Uu;var mt=$s&&nt.current.memoizedState.isDehydrated;if(mt&&(ll(nt,X).flags|=256),X=kf(nt,X,!1),X!==2){if(bc&&!mt){nt.errorRecoveryDisabledLanes|=O,Lo|=O,R=4;break t}O=qr,qr=R,O!==null&&fo(O)}R=X}if(O=!1,R!==2)continue}}if(R===1){ll(f,0),Ns(f,h,0,!0);break}t:{switch(M=f,R){case 0:case 1:throw Error(s(345));case 4:if((h&4194176)===h){Ns(M,h,Er,!Yr);break t}break;case 2:qr=null;break;case 3:case 5:break;default:throw Error(s(329))}if(M.finishedWork=x,M.finishedLanes=h,(h&62914560)===h&&(O=Gg+300-_r(),10<O)){if(Ns(M,h,Er,!Yr),U(M,0)!==0)break t;M.timeoutHandle=zd(Ra.bind(null,M,x,qr,Mc,sp,h,Er,Lo,Ui,Yr,2,-0,0),O);break t}Ra(M,x,qr,Mc,sp,h,Er,Lo,Ui,Yr,0,-0,0)}}break}while(!0);Zt(f)}function fo(f){qr===null?qr=f:qr.push.apply(qr,f)}function Ra(f,h,x,M,R,O,X,nt,mt,Lt,Jt,le,Kt){var Xe=h.subtreeFlags;if((Xe&8192||(Xe&16785408)===16785408)&&(F_(),If(h),h=Vv(),h!==null)){f.cancelPendingCommit=h(Ud.bind(null,f,x,M,R,X,nt,mt,1,le,Kt)),Ns(f,O,X,!Lt);return}Ud(f,x,M,R,X,nt,mt,Jt,le,Kt)}function ho(f){for(var h=f;;){var x=h.tag;if((x===0||x===11||x===15)&&h.flags&16384&&(x=h.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var M=0;M<x.length;M++){var R=x[M],O=R.getSnapshot;R=R.value;try{if(!Fs(O(),R))return!1}catch{return!1}}if(x=h.child,h.subtreeFlags&16384&&x!==null)x.return=h,h=x;else{if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Ns(f,h,x,M){h&=~Vs,h&=~Lo,f.suspendedLanes|=h,f.pingedLanes&=~h,M&&(f.warmLanes|=h),M=f.expirationTimes;for(var R=h;0<R;){var O=31-vi(R),X=1<<O;M[O]=-1,R&=~X}x!==0&&tt(f,x,h)}function cg(){return an&6?!0:(Y(0),!1)}function Vf(){if($e!==null){if(Un===0)var f=$e.return;else f=$e,jr=Dl=null,ra(f),Ac=null,bs=0,f=$e;for(;f!==null;)wv(f.alternate,f),f=f.return;$e=null}}function ll(f,h){f.finishedWork=null,f.finishedLanes=0;var x=f.timeoutHandle;x!==_u&&(f.timeoutHandle=_u,Qf(x)),x=f.cancelPendingCommit,x!==null&&(f.cancelPendingCommit=null,x()),Vf(),Hn=f,$e=x=mo(f.current,null),on=h,Un=0,Oi=null,Yr=!1,Wr=P(f,h),bc=!1,Ui=Er=Vs=Lo=Kr=ri=0,qr=Uu=null,sp=!1,h&8&&(h|=h&32);var M=f.entangledLanes;if(M!==0)for(f=f.entanglements,M&=h;0<M;){var R=31-vi(M),O=1<<R;h|=f[R],M&=~O}return ya=h,q(),x}function vs(f,h){Ve=null,Ne.H=_i,h===ih?(h=Oe(),Un=3):h===sh?(h=Oe(),Un=4):Un=h===zg?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,Oi=h,$e===null&&(ri=1,ou(f,At(h,f.current)))}function $i(){var f=nr.current;return f===null?!0:(on&4194176)===on?kr===null:(on&62914560)===on||on&536870912?f===kr:!1}function xn(){var f=Ne.H;return Ne.H=_i,f===null?_i:f}function zr(){var f=Ne.A;return Ne.A=Do,f}function Hr(){ri=4,Yr||(on&4194176)!==on&&nr.current!==null||(Wr=!0),!(Kr&134217727)&&!(Lo&134217727)||Hn===null||Ns(Hn,on,Er,!1)}function kf(f,h,x){var M=an;an|=2;var R=xn(),O=zr();(Hn!==f||on!==h)&&(Mc=null,ll(f,h)),h=!1;var X=ri;t:do try{if(Un!==0&&$e!==null){var nt=$e,mt=Oi;switch(Un){case 8:Vf(),X=6;break t;case 3:case 2:case 6:nr.current===null&&(h=!0);var Lt=Un;if(Un=0,Oi=null,wa(f,nt,mt,Lt),x&&Wr){X=0;break t}break;default:Lt=Un,Un=0,Oi=null,wa(f,nt,mt,Lt)}}cc(),X=ri;break}catch(Jt){vs(f,Jt)}while(!0);return h&&f.shellSuspendCounter++,jr=Dl=null,an=M,Ne.H=R,Ne.A=O,$e===null&&(Hn=null,on=0,q()),X}function cc(){for(;$e!==null;)mu($e)}function Dv(f,h){var x=an;an|=2;var M=xn(),R=zr();Hn!==f||on!==h?(Mc=null,Tr=_r()+500,ll(f,h)):Wr=P(f,h);t:do try{if(Un!==0&&$e!==null){h=$e;var O=Oi;e:switch(Un){case 1:Un=0,Oi=null,wa(f,h,O,1);break;case 2:if(Nt(O)){Un=0,Oi=null,gu(h);break}h=function(){Un===2&&Hn===f&&(Un=7),Zt(f)},O.then(h,h);break t;case 3:Un=7;break t;case 4:Un=5;break t;case 7:Nt(O)?(Un=0,Oi=null,gu(h)):(Un=0,Oi=null,wa(f,h,O,7));break;case 5:var X=null;switch($e.tag){case 26:X=$e.memoizedState;case 5:case 27:var nt=$e,mt=nt.type,Lt=nt.pendingProps;if(X?Og(X):yg(mt,Lt)){Un=0,Oi=null;var Jt=nt.sibling;if(Jt!==null)$e=Jt;else{var le=nt.return;le!==null?($e=le,cl(le)):$e=null}break e}}Un=0,Oi=null,wa(f,h,O,5);break;case 6:Un=0,Oi=null,wa(f,h,O,6);break;case 8:Vf(),ri=6;break t;default:throw Error(s(462))}}Lv();break}catch(Kt){vs(f,Kt)}while(!0);return jr=Dl=null,Ne.H=M,Ne.A=R,an=x,$e!==null?0:(Hn=null,on=0,q(),ri)}function Lv(){for(;$e!==null&&!bl();)mu($e)}function mu(f){var h=Tv(f.alternate,f,ya);f.memoizedProps=f.pendingProps,h===null?cl(f):$e=h}function gu(f){var h=f,x=h.alternate;switch(h.tag){case 15:case 0:h=Av(x,h,h.pendingProps,h.type,void 0,on);break;case 11:h=Av(x,h,h.pendingProps,h.type.render,h.ref,on);break;case 5:ra(h);default:wv(x,h),h=$e=uc(h,ya),h=Tv(x,h,ya)}f.memoizedProps=f.pendingProps,h===null?cl(f):$e=h}function wa(f,h,x,M){jr=Dl=null,ra(h),Ac=null,bs=0;var R=h.return;try{if(D_(f,R,h,x,on)){ri=1,ou(f,At(x,f.current)),$e=null;return}}catch(O){if(R!==null)throw $e=R,O;ri=1,ou(f,At(x,f.current)),$e=null;return}h.flags&32768?(An||M===1?f=!0:Wr||on&536870912?f=!1:(Yr=f=!0,(M===2||M===3||M===6)&&(M=nr.current,M!==null&&M.tag===13&&(M.flags|=16384))),ug(h,f)):cl(h)}function cl(f){var h=f;do{if(h.flags&32768){ug(h,Yr);return}f=h.return;var x=Rv(h.alternate,h,ya);if(x!==null){$e=x;return}if(h=h.sibling,h!==null){$e=h;return}$e=h=f}while(h!==null);ri===0&&(ri=5)}function ug(f,h){do{var x=O_(f.alternate,f);if(x!==null){x.flags&=32767,$e=x;return}if(x=f.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!h&&(f=f.sibling,f!==null)){$e=f;return}$e=f=x}while(f!==null);ri=6,$e=null}function Ud(f,h,x,M,R,O,X,nt,mt,Lt){var Jt=Ne.T,le=Al();try{Is(2),Ne.T=null,Ov(f,h,x,M,le,R,O,X,nt,mt,Lt)}finally{Ne.T=Jt,Is(le)}}function Ov(f,h,x,M,R,O,X,nt){do ul();while(Ol!==null);if(an&6)throw Error(s(327));var mt=f.finishedWork;if(M=f.finishedLanes,mt===null)return null;if(f.finishedWork=null,f.finishedLanes=0,mt===f.current)throw Error(s(177));f.callbackNode=null,f.callbackPriority=0,f.cancelPendingCommit=null;var Lt=mt.lanes|mt.childLanes;if(Lt|=da,st(f,M,Lt,O,X,nt),f===Hn&&($e=Hn=null,on=0),!(mt.subtreeFlags&10256)&&!(mt.flags&10256)||Oo||(Oo=!0,rp=Lt,lh=x,Uv(Tu,function(){return ul(),null})),x=(mt.flags&15990)!==0,mt.subtreeFlags&15990||x?(x=Ne.T,Ne.T=null,O=Al(),Is(2),X=an,an|=4,rg(f,mt),og(mt,f),I_(f.containerInfo),f.current=mt,du(f,mt.alternate,mt),bo(),an=X,Is(O),Ne.T=x):f.current=mt,Oo?(Oo=!1,Ol=f,Pu=M):Xf(f,Lt),Lt=f.pendingLanes,Lt===0&&(Ga=null),$(mt.stateNode),Zt(f),h!==null)for(R=f.onRecoverableError,mt=0;mt<h.length;mt++)Lt=h[mt],R(Lt.value,{componentStack:Lt.stack});return Pu&3&&ul(),Lt=f.pendingLanes,M&4194218&&Lt&42?f===Vg?Ec++:(Ec=0,Vg=f):Ec=0,Y(0),null}function Xf(f,h){(f.pooledCacheLanes&=h)===0&&(h=f.pooledCache,h!=null&&(f.pooledCache=null,Of(h)))}function ul(){if(Ol!==null){var f=Ol,h=rp;rp=0;var x=lt(Pu),M=32>x?32:x;x=Ne.T;var R=Al();try{if(Is(M),Ne.T=null,Ol===null)var O=!1;else{M=lh,lh=null;var X=Ol,nt=Pu;if(Ol=null,Pu=0,an&6)throw Error(s(331));var mt=an;if(an|=4,uo(X.current),Fr(X,X.current,nt,M),an=mt,Y(0,!1),Di&&typeof Di.onPostCommitFiberRoot=="function")try{Di.onPostCommitFiberRoot(Cu,X)}catch{}O=!0}return O}finally{Is(R),Ne.T=x,Xf(f,h)}}return!1}function yu(f,h,x){h=At(x,h),h=cu(f.stateNode,h,2),f=ve(f,h,2),f!==null&&(H(f,2),Zt(f))}function wn(f,h,x){if(f.tag===3)yu(f,f,x);else for(;h!==null;){if(h.tag===3){yu(h,f,x);break}else if(h.tag===1){var M=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(Ga===null||!Ga.has(M))){f=At(x,f),x=Ym(2),M=ve(h,x,2),M!==null&&(mv(x,M,h,f),H(M,2),Zt(M));break}}h=h.return}}function fl(f,h,x){var M=f.pingCache;if(M===null){M=f.pingCache=new oh;var R=new Set;M.set(h,R)}else R=M.get(h),R===void 0&&(R=new Set,M.set(h,R));R.has(x)||(bc=!0,R.add(x),f=jf.bind(null,f,h,x),h.then(f,f))}function jf(f,h,x){var M=f.pingCache;M!==null&&M.delete(h),f.pingedLanes|=f.suspendedLanes&x,f.warmLanes&=~x,Hn===f&&(on&x)===x&&(ri===4||ri===3&&(on&62914560)===on&&300>_r()-Gg?!(an&2)&&ll(f,0):Vs|=x,Ui===on&&(Ui=0)),Zt(f)}function Yf(f,h){h===0&&(h=N()),f=$t(f,h),f!==null&&(H(f,h),Zt(f))}function Wf(f){var h=f.memoizedState,x=0;h!==null&&(x=h.retryLane),Yf(f,x)}function Pd(f,h){var x=0;switch(f.tag){case 13:var M=f.stateNode,R=f.memoizedState;R!==null&&(x=R.retryLane);break;case 19:M=f.stateNode;break;case 22:M=f.stateNode._retryCache;break;default:throw Error(s(314))}M!==null&&M.delete(h),Yf(f,x)}function Uv(f,h){return Pa(f,h)}function Pv(f,h,x,M){this.tag=f,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function po(f){return f=f.prototype,!(!f||!f.isReactComponent)}function mo(f,h){var x=f.alternate;return x===null?(x=e(f.tag,h,f.key,f.mode),x.elementType=f.elementType,x.type=f.type,x.stateNode=f.stateNode,x.alternate=f,f.alternate=x):(x.pendingProps=h,x.type=f.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=f.flags&31457280,x.childLanes=f.childLanes,x.lanes=f.lanes,x.child=f.child,x.memoizedProps=f.memoizedProps,x.memoizedState=f.memoizedState,x.updateQueue=f.updateQueue,h=f.dependencies,x.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},x.sibling=f.sibling,x.index=f.index,x.ref=f.ref,x.refCleanup=f.refCleanup,x}function uc(f,h){f.flags&=31457282;var x=f.alternate;return x===null?(f.childLanes=0,f.lanes=h,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=x.childLanes,f.lanes=x.lanes,f.child=x.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=x.memoizedProps,f.memoizedState=x.memoizedState,f.updateQueue=x.updateQueue,f.type=x.type,h=x.dependencies,f.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),f}function fc(f,h,x,M,R,O){var X=0;if(M=f,typeof f=="function")po(f)&&(X=1);else if(typeof f=="string")X=Sr&&ts?Vi(f,x,xi.current)?26:qd(f)?27:5:Sr?Vi(f,x,xi.current)?26:5:ts&&qd(f)?27:5;else t:switch(f){case pl:return hl(x.children,R,O,h);case hc:X=8,R|=24;break;case ml:return f=e(12,x,h,R|2),f.elementType=ml,f.lanes=O,f;case vo:return f=e(13,x,h,R),f.elementType=vo,f.lanes=O,f;case qf:return f=e(19,x,h,R),f.elementType=qf,f.lanes=O,f;case Ao:return Nd(x,R,O,h);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case P_:case gl:X=10;break t;case dg:X=9;break t;case Id:X=11;break t;case xu:X=14;break t;case xo:X=16,M=null;break t}X=29,x=Error(s(130,f===null?"null":typeof f,"")),M=null}return h=e(X,x,h,R),h.elementType=f,h.type=M,h.lanes=O,h}function hl(f,h,x,M){return f=e(7,f,M,h),f.lanes=x,f}function Nd(f,h,x,M){f=e(22,f,M,h),f.elementType=Ao,f.lanes=x;var R={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var O=R._current;if(O===null)throw Error(s(456));if(!(R._pendingVisibility&2)){var X=$t(O,2);X!==null&&(R._pendingVisibility|=2,Wn(X,O,2))}},attach:function(){var O=R._current;if(O===null)throw Error(s(456));if(R._pendingVisibility&2){var X=$t(O,2);X!==null&&(R._pendingVisibility&=-3,Wn(X,O,2))}}};return f.stateNode=R,f}function Kf(f,h,x){return f=e(6,f,null,h),f.lanes=x,f}function Zs(f,h,x){return h=e(4,f.children!==null?f.children:[],f.key,h),h.lanes=x,h.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},h}function Ba(f,h,x,M,R,O,X,nt){this.tag=1,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=_u,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=B(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=B(0),this.hiddenUpdates=B(null),this.identifierPrefix=M,this.onUncaughtError=R,this.onCaughtError=O,this.onRecoverableError=X,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=nt,this.incompleteTransitions=new Map}function go(f,h,x,M,R,O,X,nt,mt,Lt,Jt,le){return f=new Ba(f,h,x,X,nt,mt,Lt,le),h=1,O===!0&&(h|=24),O=e(3,null,null,h),f.current=O,O.stateNode=f,h=il(),h.refCount++,f.pooledCache=h,h.refCount++,O.memoizedState={element:M,isDehydrated:x,cache:h},qt(O),f}function fg(f){return f?(f=vc,f):vc}function yo(f){var h=f._reactInternals;if(h===void 0)throw typeof f.render=="function"?Error(s(188)):(f=Object.keys(f).join(","),Error(s(268,f)));return f=A(h),f=f!==null?S(f):null,f===null?null:dc(f.stateNode)}function Da(f,h,x,M,R,O){R=fg(R),M.context===null?M.context=R:M.pendingContext=R,M=Ae(h),M.payload={element:x},O=O===void 0?null:O,O!==null&&(M.callback=O),x=ve(f,M,h),x!==null&&(Wn(x,f,h),pe(x,f,h))}function wi(f,h){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var x=f.retryLane;f.retryLane=x!==0&&x<h?x:h}}function vu(f,h){wi(f,h),(f=f.alternate)&&wi(f,h)}var rn={},U_=Em(),Ar=wT(),gi=Object.assign,hg=Symbol.for("react.element"),dl=Symbol.for("react.transitional.element"),La=Symbol.for("react.portal"),pl=Symbol.for("react.fragment"),hc=Symbol.for("react.strict_mode"),ml=Symbol.for("react.profiler"),P_=Symbol.for("react.provider"),dg=Symbol.for("react.consumer"),gl=Symbol.for("react.context"),Id=Symbol.for("react.forward_ref"),vo=Symbol.for("react.suspense"),qf=Symbol.for("react.suspense_list"),xu=Symbol.for("react.memo"),xo=Symbol.for("react.lazy"),Ao=Symbol.for("react.offscreen"),Ze=Symbol.for("react.memo_cache_sentinel"),On=Symbol.iterator,Bi=Symbol.for("react.client.reference"),Ne=U_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yl,vl,Au=!1,xl=Array.isArray,Su=t.rendererVersion,N_=t.rendererPackageName,ui=t.extraDevToolsConfig,dc=t.getPublicInstance,pg=t.getRootHostContext,Nv=t.getChildHostContext,Iv=t.prepareForCommit,I_=t.resetAfterCommit,mg=t.createInstance,Jf=t.appendInitialChild,Fd=t.finalizeInitialChildren,ls=t.shouldSetTextContent,yi=t.createTextInstance,zd=t.scheduleTimeout,Qf=t.cancelTimeout,_u=t.noTimeout,la=t.isPrimaryRenderer;t.warnsIfNotActing;var ii=t.supportsMutation,ca=t.supportsPersistence,$s=t.supportsHydration,Hd=t.getInstanceFromNode;t.beforeActiveInstanceBlur,t.afterActiveInstanceBlur;var Fv=t.preparePortalMount;t.prepareScopeUpdate,t.getInstanceFromScope;var Is=t.setCurrentUpdatePriority,Al=t.getCurrentUpdatePriority,zv=t.resolveUpdatePriority;t.resolveEventType,t.resolveEventTimeStamp;var Hv=t.shouldAttemptEagerTransition,Gv=t.detachDeletedInstance;t.requestPostPaintCallback;var gg=t.maySuspendCommit,yg=t.preloadInstance,F_=t.startSuspendingCommit,vg=t.suspendInstance,Vv=t.waitForCommitToBeReady,pc=t.NotPendingTransition,So=t.HostTransitionContext,kv=t.resetFormInstance;t.bindToConsole;var Xv=t.supportsMicrotasks,jv=t.scheduleMicrotask,bu=t.supportsTestSelectors,Yv=t.findFiberRoot,z_=t.getBoundingRect,Wv=t.getTextContent,Oa=t.isHiddenSubtree,Kv=t.matchAccessibilityRole,Gd=t.setFocusIfFocusable,Vd=t.setupIntersectionObserver,qv=t.appendChild,xg=t.appendChildToContainer,Jv=t.commitTextUpdate,Qv=t.commitMount,Zv=t.commitUpdate,$v=t.insertBefore,Ag=t.insertInContainerBefore,tx=t.removeChild,ex=t.removeChildFromContainer,kd=t.resetTextContent,nx=t.hideInstance,ix=t.hideTextInstance,H_=t.unhideInstance,Sg=t.unhideTextInstance,sx=t.clearContainer,rx=t.cloneInstance,Xd=t.createContainerChildSet,_g=t.appendChildToContainerChildSet,ax=t.finalizeContainerChildren,ox=t.replaceContainerChildren,lx=t.cloneHiddenInstance,bg=t.cloneHiddenTextInstance,mc=t.isSuspenseInstancePending,Zf=t.isSuspenseInstanceFallback,jd=t.getSuspenseInstanceFallbackErrorDetails,cx=t.registerSuspenseInstanceRetry,ux=t.canHydrateFormStateMarker,Ua=t.isFormStateMarkerMatching,Sl=t.getNextHydratableSibling,_o=t.getFirstHydratableChild,gc=t.getFirstHydratableChildWithinContainer,Mg=t.getFirstHydratableChildWithinSuspenseInstance,Eg=t.canHydrateInstance,fx=t.canHydrateTextInstance,hx=t.canHydrateSuspenseInstance,yc=t.hydrateInstance,Yd=t.hydrateTextInstance,dx=t.hydrateSuspenseInstance,px=t.getNextHydratableInstanceAfterSuspenseInstance,mx=t.commitHydratedContainer,Wd=t.commitHydratedSuspenseInstance,gx=t.clearSuspenseBoundary,Tg=t.clearSuspenseBoundaryFromContainer,Cg=t.shouldDeleteUnhydratedTailInstances;t.diffHydratedPropsForDevWarnings,t.diffHydratedTextForDevWarnings,t.describeHydratableInstanceForDevWarnings;var yx=t.validateHydratableInstance,G_=t.validateHydratableTextInstance,Sr=t.supportsResources,Vi=t.isHostHoistableType,ki=t.getHoistableRoot,Rg=t.getResource,wg=t.acquireResource,Bg=t.releaseResource,vx=t.hydrateHoistable,Dg=t.mountHoistable,Mu=t.unmountHoistable,Lg=t.createHoistableInstance,xx=t.prepareToCommitHoistables,Ax=t.mayResourceSuspendCommit,Og=t.preloadResource,Ug=t.suspendResource,ts=t.supportsSingletons,Kd=t.resolveSingletonInstance,Sx=t.clearSingleton,Pg=t.acquireSingletonInstance,Ng=t.releaseSingletonInstance,qd=t.isHostSingletonType,Jd=[],_l=-1,vc={},vi=Math.clz32?Math.clz32:D,Ig=Math.log,V_=Math.LN2,$f=128,Eu=4194304,Pa=Ar.unstable_scheduleCallback,ua=Ar.unstable_cancelCallback,bl=Ar.unstable_shouldYield,bo=Ar.unstable_requestPaint,_r=Ar.unstable_now,Qd=Ar.unstable_ImmediatePriority,th=Ar.unstable_UserBlockingPriority,Tu=Ar.unstable_NormalPriority,xc=Ar.unstable_IdlePriority,xs=Ar.log,Zd=Ar.unstable_setDisableYieldValue,Cu=null,Di=null,Fs=typeof Object.is=="function"?Object.is:Q,$d=new WeakMap,br=[],Mr=0,Ml=null,Ru=0,tr=[],As=0,fa=null,Na=1,Ia="",xi=T(null),Gr=T(null),Mo=T(null),eh=T(null),Ai=null,Fn=null,An=!1,Vr=null,ha=!1,nh=Error(s(519)),er=[],Eo=0,da=0,Qn=null,El=null,tp=!1,Si=!1,ep=!1,wu=0,Bu=null,np=0,Zn=0,es=null,Ss=!1,ip=!1,_x=Object.prototype.hasOwnProperty,ih=Error(s(460)),sh=Error(s(474)),zs={then:function(){}},_s=null,Ac=null,bs=0,Tl=ps(!0),Fa=ps(!1),pa=T(null),ma=T(0),nr=T(null),kr=null,Kn=T(0),To=0,Ve=null,Mn=null,si=null,Co=!1,Sc=!1,Cl=!1,Rl=0,Du=0,Ro=null,bx=0,Fg=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},_i={readContext:as,use:gt,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useLayoutEffect:Qe,useInsertionEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useSyncExternalStore:Qe,useId:Qe};_i.useCacheRefresh=Qe,_i.useMemoCache=Qe,_i.useHostTransitionStatus=Qe,_i.useFormState=Qe,_i.useActionState=Qe,_i.useOptimistic=Qe;var wo={readContext:as,use:gt,useCallback:function(f,h){return V().memoizedState=[f,h===void 0?null:h],f},useContext:as,useEffect:Vm,useImperativeHandle:function(f,h,x){x=x!=null?x.concat([f]):null,gd(4194308,4,bf.bind(null,h,f),x)},useLayoutEffect:function(f,h){return gd(4194308,4,f,h)},useInsertionEffect:function(f,h){gd(4,2,f,h)},useMemo:function(f,h){var x=V();h=h===void 0?null:h;var M=f();if(Cl){et(!0);try{f()}finally{et(!1)}}return x.memoizedState=[M,h],M},useReducer:function(f,h,x){var M=V();if(x!==void 0){var R=x(h);if(Cl){et(!0);try{x(h)}finally{et(!1)}}}else R=h;return M.memoizedState=M.baseState=R,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:R},M.queue=f,f=f.dispatch=Ad.bind(null,Ve,f),[M.memoizedState,f]},useRef:function(f){var h=V();return f={current:f},h.memoizedState=f},useState:function(f){f=yn(f);var h=f.queue,x=jm.bind(null,Ve,h);return h.dispatch=x,[f.memoizedState,x]},useDebugValue:Mf,useDeferredValue:function(f,h){var x=V();return vd(x,f,h)},useTransition:function(){var f=yn(!1);return f=km.bind(null,Ve,f.queue,!0,!1),V().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,h,x){var M=Ve,R=V();if(An){if(x===void 0)throw Error(s(407));x=x()}else{if(x=h(),Hn===null)throw Error(s(349));on&60||Pe(M,h,x)}R.memoizedState=x;var O={value:x,getSnapshot:h};return R.queue=O,Vm(ln.bind(null,M,O,f),[f]),M.flags|=2048,aa(9,Ce.bind(null,M,O,x,h),{destroy:void 0},null),x},useId:function(){var f=V(),h=Hn.identifierPrefix;if(An){var x=Ia,M=Na;x=(M&~(1<<32-vi(M)-1)).toString(32)+x,h=":"+h+"R"+x,x=Rl++,0<x&&(h+="H"+x.toString(32)),h+=":"}else x=bx++,h=":"+h+"r"+x.toString(32)+":";return f.memoizedState=h},useCacheRefresh:function(){return V().memoizedState=Xm.bind(null,Ve)}};wo.useMemoCache=ht,wo.useHostTransitionStatus=Ef,wo.useFormState=Ln,wo.useActionState=Ln,wo.useOptimistic=function(f){var h=V();h.memoizedState=h.baseState=f;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=x,h=su.bind(null,Ve,!0,x),x.dispatch=h,[f,h]};var Hs={readContext:as,use:gt,useCallback:ec,useContext:as,useEffect:_f,useImperativeHandle:yd,useInsertionEffect:hv,useLayoutEffect:dv,useMemo:nc,useReducer:te,useRef:Us,useState:function(){return te(kt)},useDebugValue:Mf,useDeferredValue:function(f,h){var x=at();return xd(x,Mn.memoizedState,f,h)},useTransition:function(){var f=te(kt)[0],h=at().memoizedState;return[typeof f=="boolean"?f:xt(f),h]},useSyncExternalStore:Ue,useId:iu};Hs.useCacheRefresh=no,Hs.useMemoCache=ht,Hs.useHostTransitionStatus=Ef,Hs.useFormState=gs,Hs.useActionState=gs,Hs.useOptimistic=function(f,h){var x=at();return He(x,Mn,f,h)};var wl={readContext:as,use:gt,useCallback:ec,useContext:as,useEffect:_f,useImperativeHandle:yd,useInsertionEffect:hv,useLayoutEffect:dv,useMemo:nc,useReducer:ae,useRef:Us,useState:function(){return ae(kt)},useDebugValue:Mf,useDeferredValue:function(f,h){var x=at();return Mn===null?vd(x,f,h):xd(x,Mn.memoizedState,f,h)},useTransition:function(){var f=ae(kt)[0],h=at().memoizedState;return[typeof f=="boolean"?f:xt(f),h]},useSyncExternalStore:Ue,useId:iu};wl.useCacheRefresh=no,wl.useMemoCache=ht,wl.useHostTransitionStatus=Ef,wl.useFormState=Zi,wl.useActionState=Zi,wl.useOptimistic=function(f,h){var x=at();return Mn!==null?He(x,Mn,f,h):(x.baseState=f,[f,x.queue.dispatch])};var Lu={isMounted:function(f){return(f=f._reactInternals)?g(f)===f:!1},enqueueSetState:function(f,h,x){f=f._reactInternals;var M=ys(),R=Ae(M);R.payload=h,x!=null&&(R.callback=x),h=ve(f,R,M),h!==null&&(Wn(h,f,M),pe(h,f,M))},enqueueReplaceState:function(f,h,x){f=f._reactInternals;var M=ys(),R=Ae(M);R.tag=1,R.payload=h,x!=null&&(R.callback=x),h=ve(f,R,M),h!==null&&(Wn(h,f,M),pe(h,f,M))},enqueueForceUpdate:function(f,h){f=f._reactInternals;var x=ys(),M=Ae(x);M.tag=2,h!=null&&(M.callback=h),h=ve(f,M,x),h!==null&&(Wn(h,f,x),pe(h,f,x))}},Bl=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)},zg=Error(s(461)),Li=!1,rh={dehydrated:null,treeContext:null,retryLane:0},Xr=T(null),Dl=null,jr=null,ah=typeof AbortController<"u"?AbortController:function(){var f=[],h=this.signal={aborted:!1,addEventListener:function(x,M){f.push(M)}};this.abort=function(){h.aborted=!0,f.forEach(function(x){return x()})}},oi=Ar.unstable_scheduleCallback,k_=Ar.unstable_NormalPriority,fi={$$typeof:gl,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Hg=Ne.S;Ne.S=function(f,h){typeof h=="object"&&h!==null&&typeof h.then=="function"&&ne(f,h),Hg!==null&&Hg(f,h)};var _c=T(null),Bo=!1,ke=!1,zn=!1,nn=typeof WeakSet=="function"?WeakSet:Set,De=null,kn=!1,En=null,bi=!1,Ms=null,Ll=8192,Do={getCacheForType:function(f){var h=as(fi),x=h.data.get(f);return x===void 0&&(x=f(),h.data.set(f,x)),x}},$n=0,ga=1,za=2,Ou=3,Gs=4;if(typeof Symbol=="function"&&Symbol.for){var Ha=Symbol.for;$n=Ha("selector.component"),ga=Ha("selector.has_pseudo_class"),za=Ha("selector.role"),Ou=Ha("selector.test_id"),Gs=Ha("selector.text")}var oh=typeof WeakMap=="function"?WeakMap:Map,an=0,Hn=null,$e=null,on=0,Un=0,Oi=null,Yr=!1,Wr=!1,bc=!1,ya=0,ri=0,Kr=0,Lo=0,Vs=0,Er=0,Ui=0,Uu=null,qr=null,sp=!1,Gg=0,Tr=1/0,Mc=null,Ga=null,Oo=!1,Ol=null,Pu=0,rp=0,lh=null,Ec=0,Vg=null;return rn.attemptContinuousHydration=function(f){if(f.tag===13){var h=$t(f,67108864);h!==null&&Wn(h,f,67108864),vu(f,67108864)}},rn.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13){var h=ys(),x=$t(f,h);x!==null&&Wn(x,f,h),vu(f,h)}},rn.attemptSynchronousHydration=function(f){switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var h=L(f.pendingLanes);if(h!==0){for(f.pendingLanes|=2,f.entangledLanes|=2;h;){var x=1<<31-vi(h);f.entanglements[1]|=x,h&=~x}Zt(f),!(an&6)&&(Tr=_r()+500,Y(0))}}break;case 13:h=$t(f,2),h!==null&&Wn(h,f,2),cg(),vu(f,2)}},rn.batchedUpdates=function(f,h){return f(h)},rn.createComponentSelector=function(f){return{$$typeof:$n,value:f}},rn.createContainer=function(f,h,x,M,R,O,X,nt,mt,Lt){return go(f,h,!1,null,x,M,O,X,nt,mt,Lt,null)},rn.createHasPseudoClassSelector=function(f){return{$$typeof:ga,value:f}},rn.createHydrationContainer=function(f,h,x,M,R,O,X,nt,mt,Lt,Jt,le,Kt){return f=go(x,M,!0,f,R,O,nt,mt,Lt,Jt,le,Kt),f.context=fg(null),x=f.current,M=ys(),R=Ae(M),R.callback=h??null,ve(x,R,M),f.current.lanes=M,H(f,M),Zt(f),f},rn.createPortal=function(f,h,x){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:La,key:M==null?null:""+M,children:f,containerInfo:h,implementation:x}},rn.createRoleSelector=function(f){return{$$typeof:za,value:f}},rn.createTestNameSelector=function(f){return{$$typeof:Ou,value:f}},rn.createTextSelector=function(f){return{$$typeof:Gs,value:f}},rn.defaultOnCaughtError=function(f){console.error(f)},rn.defaultOnRecoverableError=function(f){Bl(f)},rn.defaultOnUncaughtError=function(f){Bl(f)},rn.deferredUpdates=function(f){var h=Ne.T,x=Al();try{return Is(32),Ne.T=null,f()}finally{Is(x),Ne.T=h}},rn.discreteUpdates=function(f,h,x,M,R){var O=Ne.T,X=Al();try{return Is(2),Ne.T=null,f(h,x,M,R)}finally{Is(X),Ne.T=O,an===0&&(Tr=_r()+500)}},rn.findAllNodes=ol,rn.findBoundingRects=function(f,h){if(!bu)throw Error(s(363));h=ol(f,h),f=[];for(var x=0;x<h.length;x++)f.push(z_(h[x]));for(h=f.length-1;0<h;h--){x=f[h];for(var M=x.x,R=M+x.width,O=x.y,X=O+x.height,nt=h-1;0<=nt;nt--)if(h!==nt){var mt=f[nt],Lt=mt.x,Jt=Lt+mt.width,le=mt.y,Kt=le+mt.height;if(M>=Lt&&O>=le&&R<=Jt&&X<=Kt){f.splice(h,1);break}else if(M!==Lt||x.width!==mt.width||Kt<O||le>X){if(!(O!==le||x.height!==mt.height||Jt<M||Lt>R)){Lt>M&&(mt.width+=Lt-M,mt.x=M),Jt<R&&(mt.width=R-Lt),f.splice(h,1);break}}else{le>O&&(mt.height+=le-O,mt.y=O),Kt<X&&(mt.height=X-le),f.splice(h,1);break}}}return f},rn.findHostInstance=yo,rn.findHostInstanceWithNoPortals=function(f){return f=A(f),f=f!==null?E(f):null,f===null?null:dc(f.stateNode)},rn.findHostInstanceWithWarning=function(f){return yo(f)},rn.flushPassiveEffects=ul,rn.flushSyncFromReconciler=function(f){var h=an;an|=1;var x=Ne.T,M=Al();try{if(Is(2),Ne.T=null,f)return f()}finally{Is(M),Ne.T=x,an=h,!(an&6)&&Y(0)}},rn.flushSyncWork=cg,rn.focusWithin=function(f,h){if(!bu)throw Error(s(363));for(f=al(f),h=lc(f,h),h=Array.from(h),f=0;f<h.length;){var x=h[f++],M=x.tag;if(!Oa(x)){if((M===5||M===26||M===27)&&Gd(x.stateNode))return!0;for(x=x.child;x!==null;)h.push(x),x=x.sibling}}return!1},rn.getFindAllNodesFailureDescription=function(f,h){if(!bu)throw Error(s(363));var x=0,M=[];f=[al(f),0];for(var R=0;R<f.length;){var O=f[R++],X=O.tag,nt=f[R++],mt=h[nt];if((X!==5&&X!==26&&X!==27||!Oa(O))&&(Od(O,mt)&&(M.push(Qs(mt)),nt++,nt>x&&(x=nt)),nt<h.length))for(O=O.child;O!==null;)f.push(O,nt),O=O.sibling}if(x<h.length){for(f=[];x<h.length;x++)f.push(Qs(h[x]));return`findAllNodes was able to match part of the selector:
  `+(M.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},rn.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 27:case 5:return dc(f.child.stateNode);default:return f.child.stateNode}},rn.injectIntoDevTools=function(){var f={bundleType:0,version:Su,rendererPackageName:N_,currentDispatcherRef:Ne,findFiberByHostInstance:Hd,reconcilerVersion:"19.0.0"};if(ui!==null&&(f.rendererConfig=ui),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")f=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)f=!0;else{try{Cu=h.inject(f),Di=h}catch{}f=!!h.checkDCE}}return f},rn.isAlreadyRendering=function(){return!1},rn.observeVisibleRects=function(f,h,x,M){if(!bu)throw Error(s(363));f=ol(f,h);var R=Vd(f,x,M).disconnect;return{disconnect:function(){R()}}},rn.shouldError=function(){return null},rn.shouldSuspend=function(){return!1},rn.startHostTransition=function(f,h,x,M){if(f.tag!==5)throw Error(s(476));var R=nu(f).queue;km(f,R,h,pc,x===null?i:function(){var O=nu(f).next.queue;return $o(f,O,{},ys()),x(M)})},rn.updateContainer=function(f,h,x,M){var R=h.current,O=ys();return Da(R,O,f,h,x,M),O},rn.updateContainerSync=function(f,h,x,M){return h.tag===0&&ul(),Da(h.current,2,f,h,x,M),2},rn},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})}(EM)),EM.exports}var l3;function _q(){return l3||(l3=1,MM.exports=Sq()),MM.exports}var bq=_q();const Mq=Uy(bq);var c3=wT();const Eq=n=>typeof n=="object"&&typeof n.then=="function",Gh=[];function JI(n,t,e=(i,s)=>i===s){if(n===t)return!0;if(!n||!t)return!1;const i=n.length;if(t.length!==i)return!1;for(let s=0;s<i;s++)if(!e(n[s],t[s]))return!1;return!0}function QI(n,t=null,e=!1,i={}){t===null&&(t=[n]);for(const r of Gh)if(JI(t,r.keys,r.equal)){if(e)return;if(Object.prototype.hasOwnProperty.call(r,"error"))throw r.error;if(Object.prototype.hasOwnProperty.call(r,"response"))return i.lifespan&&i.lifespan>0&&(r.timeout&&clearTimeout(r.timeout),r.timeout=setTimeout(r.remove,i.lifespan)),r.response;if(!e)throw r.promise}const s={keys:t,equal:i.equal,remove:()=>{const r=Gh.indexOf(s);r!==-1&&Gh.splice(r,1)},promise:(Eq(n)?n:n(...t)).then(r=>{s.response=r,i.lifespan&&i.lifespan>0&&(s.timeout=setTimeout(s.remove,i.lifespan))}).catch(r=>s.error=r)};if(Gh.push(s),!e)throw s.promise}const Tq=(n,t,e)=>QI(n,t,!1,e),Cq=(n,t,e)=>void QI(n,t,!0,e),Rq=n=>{if(n===void 0||n.length===0)Gh.splice(0,Gh.length);else{const t=Gh.find(e=>JI(n,e.keys,e.equal));t&&t.remove()}};function rR(n,t,e){if(!n)return;if(e(n)===!0)return n;let i=t?n.return:n.child;for(;i;){const s=rR(i,t,e);if(s)return s;i=t?null:i.sibling}}function ZI(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const aR=ZI(W.createContext(null));let $I=class extends W.Component{render(){return W.createElement(aR.Provider,{value:this._reactInternals},this.props.children)}};function tF(){const n=W.useContext(aR);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=W.useId();return W.useMemo(()=>{for(const e of[n,n==null?void 0:n.alternate]){if(!e)continue;const i=rR(e,!1,s=>{let r=s.memoizedState;for(;r;){if(r.memoizedState===t)return!0;r=r.next}});if(i)return i}},[n,t])}const wq=Symbol.for("react.context"),Bq=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===wq;function Dq(){const n=tF(),[t]=W.useState(()=>new Map);t.clear();let e=n;for(;e;){const i=e.type;Bq(i)&&i!==aR&&!t.has(i)&&t.set(i,W.use(ZI(i))),e=e.return}return t}function Lq(){const n=Dq();return W.useMemo(()=>Array.from(n.keys()).reduce((t,e)=>i=>W.createElement(t,null,W.createElement(e.Provider,{...i,value:n.get(e)})),t=>W.createElement($I,{...t})),[n])}function eF(n){let t=n.root;for(;t.getState().previousRoot;)t=t.getState().previousRoot;return t}const nF=n=>n&&n.isOrthographicCamera,Oq=n=>n&&n.hasOwnProperty("current"),Uq=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),$y=((n,t)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((t=window.navigator)==null?void 0:t.product)==="ReactNative"))()?W.useLayoutEffect:W.useEffect;function iF(n){const t=W.useRef(n);return $y(()=>void(t.current=n),[n]),t}function Pq(){const n=tF(),t=Lq();return W.useMemo(()=>({children:e})=>{const s=!!rR(n,!0,r=>r.type===W.StrictMode)?W.StrictMode:W.Fragment;return ot.jsx(s,{children:ot.jsx(t,{children:e})})},[n,t])}function Nq({set:n}){return $y(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const Iq=(n=>(n=class extends W.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function sF(n){var t;const e=typeof window<"u"?(t=window.devicePixelRatio)!=null?t:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],e),n[1]):n}function Rp(n){var t;return(t=n.__r3f)==null?void 0:t.root.getState()}const di={obj:n=>n===Object(n)&&!di.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,t,{arrays:e="shallow",objects:i="reference",strict:s=!0}={}){if(typeof n!=typeof t||!!n!=!!t)return!1;if(di.str(n)||di.num(n)||di.boo(n))return n===t;const r=di.obj(n);if(r&&i==="reference")return n===t;const o=di.arr(n);if(o&&e==="reference")return n===t;if((o||r)&&n===t)return!0;let l;for(l in n)if(!(l in t))return!1;if(r&&e==="shallow"&&i==="shallow"){for(l in s?t:n)if(!di.equ(n[l],t[l],{strict:s,objects:"reference"}))return!1}else for(l in s?t:n)if(n[l]!==t[l])return!1;if(di.und(l)){if(o&&n.length===0&&t.length===0||r&&Object.keys(n).length===0&&Object.keys(t).length===0)return!0;if(n!==t)return!1}return!0}};function Fq(n){const t={nodes:{},materials:{}};return n&&n.traverse(e=>{e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material)}),t}function zq(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const t in n){const e=n[t];(e==null?void 0:e.type)!=="Scene"&&(e==null||e.dispose==null||e.dispose())}}const rF=["children","key","ref"];function Hq(n){const t={};for(const e in n)rF.includes(e)||(t[e]=n[e]);return t}function cS(n,t,e,i){const s=n;let r=s==null?void 0:s.__r3f;return r||(r={root:t,type:e,parent:null,children:[],props:Hq(i),object:s,eventCount:0,handlers:{},isHidden:!1},s&&(s.__r3f=r)),r}function _y(n,t){var e;let i=n[t];if(!t.includes("-"))return{root:n,key:t,target:i};const s=t.split("-");return i=s.reduce((r,o)=>r[o],n),t=s.pop(),(e=i)!=null&&e.set||(n=s.reduce((r,o)=>r[o],n)),{root:n,key:t,target:i}}const u3=/-\d+$/;function uS(n,t){if(di.str(t.props.attach)){if(u3.test(t.props.attach)){const s=t.props.attach.replace(u3,""),{root:r,key:o}=_y(n.object,s);Array.isArray(r[o])||(r[o]=[])}const{root:e,key:i}=_y(n.object,t.props.attach);t.previousAttach=e[i],e[i]=t.object}else di.fun(t.props.attach)&&(t.previousAttach=t.props.attach(n.object,t.object))}function fS(n,t){if(di.str(t.props.attach)){const{root:e,key:i}=_y(n.object,t.props.attach),s=t.previousAttach;s===void 0?delete e[i]:e[i]=s}else t.previousAttach==null||t.previousAttach(n.object,t.object);delete t.previousAttach}const kE=[...rF,"args","dispose","attach","object","onUpdate","dispose"],f3=new Map;function Gq(n){let t=f3.get(n.constructor);try{t||(t=new n.constructor,f3.set(n.constructor,t))}catch{}return t}function Vq(n,t){const e={};for(const i in t)if(!kE.includes(i)&&!di.equ(t[i],n.props[i])){e[i]=t[i];for(const s in t)s.startsWith(`${i}-`)&&(e[s]=t[s])}for(const i in n.props){if(kE.includes(i)||t.hasOwnProperty(i))continue;const{root:s,key:r}=_y(n.object,i);if(s.constructor&&s.constructor.length===0){const o=Gq(s);di.und(o)||(e[r]=o[r])}else e[r]=0}return e}const kq=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],Xq=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function sf(n,t){var e;const i=n.__r3f,s=i&&eF(i).getState(),r=i==null?void 0:i.eventCount;for(const l in t){let u=t[l];if(kE.includes(l))continue;if(i&&Xq.test(l)){typeof u=="function"?i.handlers[l]=u:delete i.handlers[l],i.eventCount=Object.keys(i.handlers).length;continue}if(u===void 0)continue;let{root:d,key:m,target:g}=_y(n,l);if(g instanceof gm&&u instanceof gm)g.mask=u.mask;else if(g instanceof ie&&Uq(u))g.set(u);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof g.copy=="function"&&u!=null&&u.constructor&&g.constructor===u.constructor)g.copy(u);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&Array.isArray(u))typeof g.fromArray=="function"?g.fromArray(u):g.set(...u);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof u=="number")typeof g.setScalar=="function"?g.setScalar(u):g.set(u);else{var o;d[m]=u,s&&!s.linear&&kq.includes(m)&&(o=d[m])!=null&&o.isTexture&&d[m].format===fr&&d[m].type===Yo&&(d[m].colorSpace=ur)}}if(i!=null&&i.parent&&s!=null&&s.internal&&(e=i.object)!=null&&e.isObject3D&&r!==i.eventCount){const l=i.object,u=s.internal.interaction.indexOf(l);u>-1&&s.internal.interaction.splice(u,1),i.eventCount&&l.raycast!==null&&s.internal.interaction.push(l)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&Pm(i),n}function Pm(n){var t;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const e=(t=n.root)==null||t.getState==null?void 0:t.getState();e&&e.internal.frames===0&&e.invalidate()}function jq(n,t){n.manual||(nF(n)?(n.left=t.width/-2,n.right=t.width/2,n.top=t.height/2,n.bottom=t.height/-2):n.aspect=t.width/t.height,n.updateProjectionMatrix())}const Br=n=>n==null?void 0:n.isObject3D;function IA(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function aF(n,t,e,i){const s=e.get(t);s&&(e.delete(t),e.size===0&&(n.delete(i),s.target.releasePointerCapture(i)))}function Yq(n,t){const{internal:e}=n.getState();e.interaction=e.interaction.filter(i=>i!==t),e.initialHits=e.initialHits.filter(i=>i!==t),e.hovered.forEach((i,s)=>{(i.eventObject===t||i.object===t)&&e.hovered.delete(s)}),e.capturedMap.forEach((i,s)=>{aF(e.capturedMap,t,i,s)})}function Wq(n){function t(u){const{internal:d}=n.getState(),m=u.offsetX-d.initialClick[0],g=u.offsetY-d.initialClick[1];return Math.round(Math.sqrt(m*m+g*g))}function e(u){return u.filter(d=>["Move","Over","Enter","Out","Leave"].some(m=>{var g;return(g=d.__r3f)==null?void 0:g.handlers["onPointer"+m]}))}function i(u,d){const m=n.getState(),g=new Set,v=[],A=d?d(m.internal.interaction):m.internal.interaction;for(let _=0;_<A.length;_++){const w=Rp(A[_]);w&&(w.raycaster.camera=void 0)}m.previousRoot||m.events.compute==null||m.events.compute(u,m);function S(_){const w=Rp(_);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var D;w.events.compute==null||w.events.compute(u,w,(D=w.previousRoot)==null?void 0:D.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(_,!0):[]}let E=A.flatMap(S).sort((_,w)=>{const D=Rp(_.object),L=Rp(w.object);return!D||!L?_.distance-w.distance:L.events.priority-D.events.priority||_.distance-w.distance}).filter(_=>{const w=IA(_);return g.has(w)?!1:(g.add(w),!0)});m.events.filter&&(E=m.events.filter(E,m));for(const _ of E){let w=_.object;for(;w;){var T;(T=w.__r3f)!=null&&T.eventCount&&v.push({..._,eventObject:w}),w=w.parent}}if("pointerId"in u&&m.internal.capturedMap.has(u.pointerId))for(let _ of m.internal.capturedMap.get(u.pointerId).values())g.has(IA(_.intersection))||v.push(_.intersection);return v}function s(u,d,m,g){if(u.length){const v={stopped:!1};for(const A of u){let S=Rp(A.object);if(S||A.object.traverseAncestors(E=>{const T=Rp(E);if(T)return S=T,!1}),S){const{raycaster:E,pointer:T,camera:_,internal:w}=S,D=new K(T.x,T.y,0).unproject(_),L=N=>{var B,H;return(B=(H=w.capturedMap.get(N))==null?void 0:H.has(A.eventObject))!=null?B:!1},U=N=>{const B={intersection:A,target:d.target};w.capturedMap.has(N)?w.capturedMap.get(N).set(A.eventObject,B):w.capturedMap.set(N,new Map([[A.eventObject,B]])),d.target.setPointerCapture(N)},P=N=>{const B=w.capturedMap.get(N);B&&aF(w.capturedMap,A.eventObject,B,N)};let F={};for(let N in d){let B=d[N];typeof B!="function"&&(F[N]=B)}let z={...A,...F,pointer:T,intersections:u,stopped:v.stopped,delta:m,unprojectedPoint:D,ray:E.ray,camera:_,stopPropagation(){const N="pointerId"in d&&w.capturedMap.get(d.pointerId);if((!N||N.has(A.eventObject))&&(z.stopped=v.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(B=>B.eventObject===A.eventObject))){const B=u.slice(0,u.indexOf(A));r([...B,A])}},target:{hasPointerCapture:L,setPointerCapture:U,releasePointerCapture:P},currentTarget:{hasPointerCapture:L,setPointerCapture:U,releasePointerCapture:P},nativeEvent:d};if(g(z),v.stopped===!0)break}}}return u}function r(u){const{internal:d}=n.getState();for(const m of d.hovered.values())if(!u.length||!u.find(g=>g.object===m.object&&g.index===m.index&&g.instanceId===m.instanceId)){const v=m.eventObject.__r3f;if(d.hovered.delete(IA(m)),v!=null&&v.eventCount){const A=v.handlers,S={...m,intersections:u};A.onPointerOut==null||A.onPointerOut(S),A.onPointerLeave==null||A.onPointerLeave(S)}}}function o(u,d){for(let m=0;m<d.length;m++){const g=d[m].__r3f;g==null||g.handlers.onPointerMissed==null||g.handlers.onPointerMissed(u)}}function l(u){switch(u){case"onPointerLeave":case"onPointerCancel":return()=>r([]);case"onLostPointerCapture":return d=>{const{internal:m}=n.getState();"pointerId"in d&&m.capturedMap.has(d.pointerId)&&requestAnimationFrame(()=>{m.capturedMap.has(d.pointerId)&&(m.capturedMap.delete(d.pointerId),r([]))})}}return function(m){const{onPointerMissed:g,internal:v}=n.getState();v.lastEvent.current=m;const A=u==="onPointerMove",S=u==="onClick"||u==="onContextMenu"||u==="onDoubleClick",T=i(m,A?e:void 0),_=S?t(m):0;u==="onPointerDown"&&(v.initialClick=[m.offsetX,m.offsetY],v.initialHits=T.map(D=>D.eventObject)),S&&!T.length&&_<=2&&(o(m,v.interaction),g&&g(m)),A&&r(T);function w(D){const L=D.eventObject,U=L.__r3f;if(!(U!=null&&U.eventCount))return;const P=U.handlers;if(A){if(P.onPointerOver||P.onPointerEnter||P.onPointerOut||P.onPointerLeave){const F=IA(D),z=v.hovered.get(F);z?z.stopped&&D.stopPropagation():(v.hovered.set(F,D),P.onPointerOver==null||P.onPointerOver(D),P.onPointerEnter==null||P.onPointerEnter(D))}P.onPointerMove==null||P.onPointerMove(D)}else{const F=P[u];F?(!S||v.initialHits.includes(L))&&(o(m,v.interaction.filter(z=>!v.initialHits.includes(z))),F(D)):S&&v.initialHits.includes(L)&&o(m,v.interaction.filter(z=>!v.initialHits.includes(z)))}}s(T,m,_,w)}}return{handlePointer:l}}const h3=n=>!!(n!=null&&n.render),oF=W.createContext(null),Kq=(n,t)=>{const e=Aq((l,u)=>{const d=new K,m=new K,g=new K;function v(_=u().camera,w=m,D=u().size){const{width:L,height:U,top:P,left:F}=D,z=L/U;w.isVector3?g.copy(w):g.set(...w);const N=_.getWorldPosition(d).distanceTo(g);if(nF(_))return{width:L/_.zoom,height:U/_.zoom,top:P,left:F,factor:1,distance:N,aspect:z};{const B=_.fov*Math.PI/180,H=2*Math.tan(B/2)*N,st=H*(L/U);return{width:st,height:H,top:P,left:F,factor:L/st,distance:N,aspect:z}}}let A;const S=_=>l(w=>({performance:{...w.performance,current:_}})),E=new It;return{set:l,get:u,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(_=1)=>n(u(),_),advance:(_,w)=>t(_,w,u()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new $C,pointer:E,mouse:E,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const _=u();A&&clearTimeout(A),_.performance.current!==_.performance.min&&S(_.performance.min),A=setTimeout(()=>S(u().performance.max),_.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:v},setEvents:_=>l(w=>({...w,events:{...w.events,..._}})),setSize:(_,w,D=0,L=0)=>{const U=u().camera,P={width:_,height:w,top:D,left:L};l(F=>({size:P,viewport:{...F.viewport,...v(U,m,P)}}))},setDpr:_=>l(w=>{const D=sF(_);return{viewport:{...w.viewport,dpr:D,initialDpr:w.viewport.initialDpr||D}}}),setFrameloop:(_="always")=>{const w=u().clock;w.stop(),w.elapsedTime=0,_!=="never"&&(w.start(),w.elapsedTime=0),l(()=>({frameloop:_}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:W.createRef(),active:!1,frames:0,priority:0,subscribe:(_,w,D)=>{const L=u().internal;return L.priority=L.priority+(w>0?1:0),L.subscribers.push({ref:_,priority:w,store:D}),L.subscribers=L.subscribers.sort((U,P)=>U.priority-P.priority),()=>{const U=u().internal;U!=null&&U.subscribers&&(U.priority=U.priority-(w>0?1:0),U.subscribers=U.subscribers.filter(P=>P.ref!==_))}}}}}),i=e.getState();let s=i.size,r=i.viewport.dpr,o=i.camera;return e.subscribe(()=>{const{camera:l,size:u,viewport:d,gl:m,set:g}=e.getState();if(u.width!==s.width||u.height!==s.height||d.dpr!==r){s=u,r=d.dpr,jq(l,u),d.dpr>0&&m.setPixelRatio(d.dpr);const v=typeof HTMLCanvasElement<"u"&&m.domElement instanceof HTMLCanvasElement;m.setSize(u.width,u.height,v)}l!==o&&(o=l,g(v=>({viewport:{...v.viewport,...v.viewport.getCurrentViewport(l)}})))}),e.subscribe(l=>n(l)),e};function lF(){const n=W.useContext(oF);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function qq(n=e=>e,t){return lF()(n,t)}function tv(n,t=0){const e=lF(),i=e.getState().internal.subscribe,s=iF(n);return $y(()=>i(s,t,e),[t,i,e]),null}const d3=new WeakMap,Jq=n=>{var t;return typeof n=="function"&&(n==null||(t=n.prototype)==null?void 0:t.constructor)===n};function cF(n,t){return function(e,...i){let s;return Jq(e)?(s=d3.get(e),s||(s=new e,d3.set(e,s))):s=e,n&&n(s),Promise.all(i.map(r=>new Promise((o,l)=>s.load(r,u=>{Br(u==null?void 0:u.scene)&&Object.assign(u,Fq(u.scene)),o(u)},t,u=>l(new Error(`Could not load ${r}: ${u==null?void 0:u.message}`))))))}}function ev(n,t,e,i){const s=Array.isArray(t)?t:[t],r=Tq(cF(e,i),[n,...s],{equal:di.equ});return Array.isArray(t)?r:r[0]}ev.preload=function(n,t,e){const i=Array.isArray(t)?t:[t];return Cq(cF(e),[n,...i])};ev.clear=function(n,t){const e=Array.isArray(t)?t:[t];return Rq([n,...e])};function Qq(n){const t=Mq(n);return t.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:W.version}),t}const uF=0,xm={},Zq=/^three(?=[A-Z])/,f_=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let $q=0;const tJ=n=>typeof n=="function";function eJ(n){if(tJ(n)){const t=`${$q++}`;return xm[t]=n,t}else Object.assign(xm,n)}function fF(n,t){const e=f_(n),i=xm[e];if(n!=="primitive"&&!i)throw new Error(`R3F: ${e} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!t.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(t.args!==void 0&&!Array.isArray(t.args))throw new Error("R3F: The args prop must be an array!")}function nJ(n,t,e){var i;return n=f_(n)in xm?n:n.replace(Zq,""),fF(n,t),n==="primitive"&&(i=t.object)!=null&&i.__r3f&&delete t.object.__r3f,cS(t.object,e,n,t)}function iJ(n){if(!n.isHidden){var t;n.props.attach&&(t=n.parent)!=null&&t.object?fS(n.parent,n):Br(n.object)&&(n.object.visible=!1),n.isHidden=!0,Pm(n)}}function hF(n){if(n.isHidden){var t;n.props.attach&&(t=n.parent)!=null&&t.object?uS(n.parent,n):Br(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,Pm(n)}}function oR(n,t,e){const i=t.root.getState();if(!(!n.parent&&n.object!==i.scene)){if(!t.object){var s,r;const o=xm[f_(t.type)];t.object=(s=t.props.object)!=null?s:new o(...(r=t.props.args)!=null?r:[]),t.object.__r3f=t}if(sf(t.object,t.props),t.props.attach)uS(n,t);else if(Br(t.object)&&Br(n.object)){const o=n.object.children.indexOf(e==null?void 0:e.object);e&&o!==-1?(t.object.parent=n.object,n.object.children.splice(o,0,t.object),t.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:t.object})):n.object.add(t.object)}for(const o of t.children)oR(t,o);Pm(t)}}function TM(n,t){t&&(t.parent=n,n.children.push(t),oR(n,t))}function p3(n,t,e){if(!t||!e)return;t.parent=n;const i=n.children.indexOf(e);i!==-1?n.children.splice(i,0,t):n.children.push(t),oR(n,t,e)}function dF(n){if(typeof n.dispose=="function"){const t=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?t():c3.unstable_scheduleCallback(c3.unstable_IdlePriority,t)}}function XE(n,t,e){if(!t)return;t.parent=null;const i=n.children.indexOf(t);i!==-1&&n.children.splice(i,1),t.props.attach?fS(n,t):Br(t.object)&&Br(n.object)&&(n.object.remove(t.object),Yq(eF(t),t.object));const s=t.props.dispose!==null&&e!==!1;for(let r=t.children.length-1;r>=0;r--){const o=t.children[r];XE(t,o,s)}t.children.length=0,delete t.object.__r3f,s&&t.type!=="primitive"&&t.object.type!=="Scene"&&dF(t.object),e===void 0&&Pm(t)}function sJ(n,t){for(const e of[n,n.alternate])if(e!==null)if(typeof e.ref=="function"){e.refCleanup==null||e.refCleanup();const i=e.ref(t);typeof i=="function"&&(e.refCleanup=i)}else e.ref&&(e.ref.current=t)}const a1=[];function rJ(){for(const[e]of a1){const i=e.parent;if(i){e.props.attach?fS(i,e):Br(e.object)&&Br(i.object)&&i.object.remove(e.object);for(const s of e.children)s.props.attach?fS(e,s):Br(s.object)&&Br(e.object)&&e.object.remove(s.object)}e.isHidden&&hF(e),e.object.__r3f&&delete e.object.__r3f,e.type!=="primitive"&&dF(e.object)}for(const[e,i,s]of a1){e.props=i;const r=e.parent;if(r){var n,t;const o=xm[f_(e.type)];e.object=(n=e.props.object)!=null?n:new o(...(t=e.props.args)!=null?t:[]),e.object.__r3f=e,sJ(s,e.object),sf(e.object,e.props),e.props.attach?uS(r,e):Br(e.object)&&Br(r.object)&&r.object.add(e.object);for(const l of e.children)l.props.attach?uS(e,l):Br(l.object)&&Br(e.object)&&e.object.add(l.object);Pm(e)}}a1.length=0}const CM=()=>{},m3={};let FA=uF;const aJ=0,oJ=4,jE=Qq({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:nJ,removeChild:XE,appendChild:TM,appendInitialChild:TM,insertBefore:p3,appendChildToContainer(n,t){const e=n.getState().scene.__r3f;!t||!e||TM(e,t)},removeChildFromContainer(n,t){const e=n.getState().scene.__r3f;!t||!e||XE(e,t)},insertInContainerBefore(n,t,e){const i=n.getState().scene.__r3f;!t||!e||!i||p3(i,t,e)},getRootHostContext:()=>m3,getChildHostContext:()=>m3,commitUpdate(n,t,e,i,s){var r,o,l;fF(t,i);let u=!1;if((n.type==="primitive"&&e.object!==i.object||((r=i.args)==null?void 0:r.length)!==((o=e.args)==null?void 0:o.length)||(l=i.args)!=null&&l.some((m,g)=>{var v;return m!==((v=e.args)==null?void 0:v[g])}))&&(u=!0),u)a1.push([n,{...i},s]);else{const m=Vq(n,i);Object.keys(m).length&&(Object.assign(n.props,m),sf(n.object,m))}(s.sibling===null||(s.flags&oJ)===aJ)&&rJ()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n==null?void 0:n.object,prepareForCommit:()=>null,preparePortalMount:n=>cS(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:iJ,unhideInstance:hF,createTextInstance:CM,hideTextInstance:CM,unhideTextInstance:CM,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:W.createContext(null),setCurrentUpdatePriority(n){FA=n},getCurrentUpdatePriority(){return FA},resolveUpdatePriority(){var n;if(FA!==uF)return FA;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return r1.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return r1.ContinuousEventPriority;default:return r1.DefaultEventPriority}},resetFormInstance(){}}),rd=new Map,wp={objects:"shallow",strict:!1};function lJ(n,t){if(!t&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:e,height:i,top:s,left:r}=n.parentElement.getBoundingClientRect();return{width:e,height:i,top:s,left:r}}else if(!t&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...t}}function cJ(n){const t=rd.get(n),e=t==null?void 0:t.fiber,i=t==null?void 0:t.store;t&&console.warn("R3F.createRoot should only be called once!");const s=typeof reportError=="function"?reportError:console.error,r=i||Kq(KE,y3),o=e||jE.createContainer(r,r1.ConcurrentRoot,null,!1,null,"",s,s,s,null);t||rd.set(n,{fiber:o,store:r});let l,u,d=!1,m=null;return{async configure(g={}){let v;m=new Promise(rt=>v=rt);let{gl:A,size:S,scene:E,events:T,onCreated:_,shadows:w=!1,linear:D=!1,flat:L=!1,legacy:U=!1,orthographic:P=!1,frameloop:F="always",dpr:z=[1,2],performance:N,raycaster:B,camera:H,onPointerMissed:st}=g,tt=r.getState(),J=tt.gl;if(!tt.gl){const rt={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},Tt=typeof A=="function"?await A(rt):A;h3(Tt)?J=Tt:J=new KI({...rt,...A}),tt.set({gl:J})}let lt=tt.raycaster;lt||tt.set({raycaster:lt=new zI});const{params:$,...et}=B||{};if(di.equ(et,lt,wp)||sf(lt,{...et}),di.equ($,lt.params,wp)||sf(lt,{params:{...lt.params,...$}}),!tt.camera||tt.camera===u&&!di.equ(u,H,wp)){u=H;const rt=H==null?void 0:H.isCamera,Tt=rt?H:P?new vf(0,0,0,0,.1,1e3):new Wi(75,0,.1,1e3);rt||(Tt.position.z=5,H&&(sf(Tt,H),Tt.manual||("aspect"in H||"left"in H||"right"in H||"bottom"in H||"top"in H)&&(Tt.manual=!0,Tt.updateProjectionMatrix())),!tt.camera&&!(H!=null&&H.rotation)&&Tt.lookAt(0,0,0)),tt.set({camera:Tt}),lt.camera=Tt}if(!tt.scene){let rt;E!=null&&E.isScene?(rt=E,cS(rt,r,"",{})):(rt=new wC,cS(rt,r,"",{}),E&&sf(rt,E)),tt.set({scene:rt})}T&&!tt.events.handlers&&tt.set({events:T(r)});const Q=lJ(n,S);if(di.equ(Q,tt.size,wp)||tt.setSize(Q.width,Q.height,Q.top,Q.left),z&&tt.viewport.dpr!==sF(z)&&tt.setDpr(z),tt.frameloop!==F&&tt.setFrameloop(F),tt.onPointerMissed||tt.set({onPointerMissed:st}),N&&!di.equ(N,tt.performance,wp)&&tt.set(rt=>({performance:{...rt.performance,...N}})),!tt.xr){var At;const rt=(it,Et)=>{const Ut=r.getState();Ut.frameloop!=="never"&&y3(it,!0,Ut,Et)},Tt=()=>{const it=r.getState();it.gl.xr.enabled=it.gl.xr.isPresenting,it.gl.xr.setAnimationLoop(it.gl.xr.isPresenting?rt:null),it.gl.xr.isPresenting||KE(it)},Ft={connect(){const it=r.getState().gl;it.xr.addEventListener("sessionstart",Tt),it.xr.addEventListener("sessionend",Tt)},disconnect(){const it=r.getState().gl;it.xr.removeEventListener("sessionstart",Tt),it.xr.removeEventListener("sessionend",Tt)}};typeof((At=J.xr)==null?void 0:At.addEventListener)=="function"&&Ft.connect(),tt.set({xr:Ft})}if(J.shadowMap){const rt=J.shadowMap.enabled,Tt=J.shadowMap.type;if(J.shadowMap.enabled=!!w,di.boo(w))J.shadowMap.type=G0;else if(di.str(w)){var j;const Ft={basic:eN,percentage:DS,soft:G0,variance:Vo};J.shadowMap.type=(j=Ft[w])!=null?j:G0}else di.obj(w)&&Object.assign(J.shadowMap,w);(rt!==J.shadowMap.enabled||Tt!==J.shadowMap.type)&&(J.shadowMap.needsUpdate=!0)}return _n.enabled=!U,d||(J.outputColorSpace=D?uf:ur,J.toneMapping=L?Vl:hC),tt.legacy!==U&&tt.set(()=>({legacy:U})),tt.linear!==D&&tt.set(()=>({linear:D})),tt.flat!==L&&tt.set(()=>({flat:L})),A&&!di.fun(A)&&!h3(A)&&!di.equ(A,J,wp)&&sf(J,A),l=_,d=!0,v(),this},render(g){return!d&&!m&&this.configure(),m.then(()=>{jE.updateContainer(ot.jsx(uJ,{store:r,children:g,onCreated:l,rootElement:n}),o,null,()=>{})}),r},unmount(){pF(n)}}}function uJ({store:n,children:t,onCreated:e,rootElement:i}){return $y(()=>{const s=n.getState();s.set(r=>({internal:{...r.internal,active:!0}})),e&&e(s),n.getState().events.connected||s.events.connect==null||s.events.connect(i)},[]),ot.jsx(oF.Provider,{value:n,children:t})}function pF(n,t){const e=rd.get(n),i=e==null?void 0:e.fiber;if(i){const s=e==null?void 0:e.store.getState();s&&(s.internal.active=!1),jE.updateContainer(null,i,null,()=>{s&&setTimeout(()=>{try{var r,o,l,u;s.events.disconnect==null||s.events.disconnect(),(r=s.gl)==null||(o=r.renderLists)==null||o.dispose==null||o.dispose(),(l=s.gl)==null||l.forceContextLoss==null||l.forceContextLoss(),(u=s.gl)!=null&&u.xr&&s.xr.disconnect(),zq(s.scene),rd.delete(n)}catch{}},500)})}}const fJ=new Set,hJ=new Set,dJ=new Set;function RM(n,t){if(n.size)for(const{callback:e}of n.values())e(t)}function J0(n,t){switch(n){case"before":return RM(fJ,t);case"after":return RM(hJ,t);case"tail":return RM(dJ,t)}}let wM,BM;function YE(n,t,e){let i=t.clock.getDelta();t.frameloop==="never"&&typeof n=="number"&&(i=n-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=n),wM=t.internal.subscribers;for(let s=0;s<wM.length;s++)BM=wM[s],BM.ref.current(BM.store.getState(),i,e);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),t.frameloop==="always"?1:t.internal.frames}let hS=!1,WE=!1,DM,g3,Bp;function mF(n){g3=requestAnimationFrame(mF),hS=!0,DM=0,J0("before",n),WE=!0;for(const e of rd.values()){var t;Bp=e.store.getState(),Bp.internal.active&&(Bp.frameloop==="always"||Bp.internal.frames>0)&&!((t=Bp.gl.xr)!=null&&t.isPresenting)&&(DM+=YE(n,Bp))}if(WE=!1,J0("after",n),DM===0)return J0("tail",n),hS=!1,cancelAnimationFrame(g3)}function KE(n,t=1){var e;if(!n)return rd.forEach(i=>KE(i.store.getState(),t));(e=n.gl.xr)!=null&&e.isPresenting||!n.internal.active||n.frameloop==="never"||(t>1?n.internal.frames=Math.min(60,n.internal.frames+t):WE?n.internal.frames=2:n.internal.frames=1,hS||(hS=!0,requestAnimationFrame(mF)))}function y3(n,t=!0,e,i){if(t&&J0("before",n),e)YE(n,e,i);else for(const s of rd.values())YE(n,s.store.getState());t&&J0("after",n)}const LM={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function pJ(n){const{handlePointer:t}=Wq(n);return{priority:1,enabled:!0,compute(e,i,s){i.pointer.set(e.offsetX/i.size.width*2-1,-(e.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(LM).reduce((e,i)=>({...e,[i]:t(i)}),{}),update:()=>{var e;const{events:i,internal:s}=n.getState();(e=s.lastEvent)!=null&&e.current&&i.handlers&&i.handlers.onPointerMove(s.lastEvent.current)},connect:e=>{const{set:i,events:s}=n.getState();if(s.disconnect==null||s.disconnect(),i(r=>({events:{...r.events,connected:e}})),s.handlers)for(const r in s.handlers){const o=s.handlers[r],[l,u]=LM[r];e.addEventListener(l,o,{passive:u})}},disconnect:()=>{const{set:e,events:i}=n.getState();if(i.connected){if(i.handlers)for(const s in i.handlers){const r=i.handlers[s],[o]=LM[s];i.connected.removeEventListener(o,r)}e(s=>({events:{...s.events,connected:void 0}}))}}}}function v3(n,t){let e;return(...i)=>{window.clearTimeout(e),e=window.setTimeout(()=>n(...i),t)}}function mJ({debounce:n,scroll:t,polyfill:e,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const s=e||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[r,o]=W.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=W.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:r,orientationHandler:null}),u=n?typeof n=="number"?n:n.scroll:null,d=n?typeof n=="number"?n:n.resize:null,m=W.useRef(!1);W.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[g,v,A]=W.useMemo(()=>{const _=()=>{if(!l.current.element)return;const{left:w,top:D,width:L,height:U,bottom:P,right:F,x:z,y:N}=l.current.element.getBoundingClientRect(),B={left:w,top:D,width:L,height:U,bottom:P,right:F,x:z,y:N};l.current.element instanceof HTMLElement&&i&&(B.height=l.current.element.offsetHeight,B.width=l.current.element.offsetWidth),Object.freeze(B),m.current&&!xJ(l.current.lastBounds,B)&&o(l.current.lastBounds=B)};return[_,d?v3(_,d):_,u?v3(_,u):_]},[o,i,u,d]);function S(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",A,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null),l.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",l.current.orientationHandler))}function E(){l.current.element&&(l.current.resizeObserver=new s(A),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(_=>_.addEventListener("scroll",A,{capture:!0,passive:!0})),l.current.orientationHandler=()=>{A()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",l.current.orientationHandler))}const T=_=>{!_||_===l.current.element||(S(),l.current.element=_,l.current.scrollContainers=gF(_),E())};return yJ(A,!!t),gJ(v),W.useEffect(()=>{S(),E()},[t,A,v]),W.useEffect(()=>S,[]),[T,r,g]}function gJ(n){W.useEffect(()=>{const t=n;return window.addEventListener("resize",t),()=>void window.removeEventListener("resize",t)},[n])}function yJ(n,t){W.useEffect(()=>{if(t){const e=n;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",e,!0)}},[n,t])}function gF(n){const t=[];if(!n||n===document.body)return t;const{overflow:e,overflowX:i,overflowY:s}=window.getComputedStyle(n);return[e,i,s].some(r=>r==="auto"||r==="scroll")&&t.push(n),[...t,...gF(n.parentElement)]}const vJ=["x","y","top","bottom","left","right","width","height"],xJ=(n,t)=>vJ.every(e=>n[e]===t[e]);function AJ({ref:n,children:t,fallback:e,resize:i,style:s,gl:r,events:o=pJ,eventSource:l,eventPrefix:u,shadows:d,linear:m,flat:g,legacy:v,orthographic:A,frameloop:S,dpr:E,performance:T,raycaster:_,camera:w,scene:D,onPointerMissed:L,onCreated:U,...P}){W.useMemo(()=>eJ(lq),[]);const F=Pq(),[z,N]=mJ({scroll:!0,debounce:{scroll:50,resize:0},...i}),B=W.useRef(null),H=W.useRef(null);W.useImperativeHandle(n,()=>B.current);const st=iF(L),[tt,J]=W.useState(!1),[lt,$]=W.useState(!1);if(tt)throw tt;if(lt)throw lt;const et=W.useRef(null);$y(()=>{const At=B.current;if(N.width>0&&N.height>0&&At){et.current||(et.current=cJ(At));async function j(){await et.current.configure({gl:r,scene:D,events:o,shadows:d,linear:m,flat:g,legacy:v,orthographic:A,frameloop:S,dpr:E,performance:T,raycaster:_,camera:w,size:N,onPointerMissed:(...rt)=>st.current==null?void 0:st.current(...rt),onCreated:rt=>{rt.events.connect==null||rt.events.connect(l?Oq(l)?l.current:l:H.current),u&&rt.setEvents({compute:(Tt,Ft)=>{const it=Tt[u+"X"],Et=Tt[u+"Y"];Ft.pointer.set(it/Ft.size.width*2-1,-(Et/Ft.size.height)*2+1),Ft.raycaster.setFromCamera(Ft.pointer,Ft.camera)}}),U==null||U(rt)}}),et.current.render(ot.jsx(F,{children:ot.jsx(Iq,{set:$,children:ot.jsx(W.Suspense,{fallback:ot.jsx(Nq,{set:J}),children:t??null})})}))}j()}}),W.useEffect(()=>{const At=B.current;if(At)return()=>pF(At)},[]);const Q=l?"none":"auto";return ot.jsx("div",{ref:H,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Q,...s},...P,children:ot.jsx("div",{ref:z,style:{width:"100%",height:"100%"},children:ot.jsx("canvas",{ref:B,style:{display:"block"},children:e})})})}function SJ(n){return ot.jsx($I,{children:ot.jsx(AJ,{...n})})}const lR=W.createContext({});function Nm(n){const t=W.useRef(null);return t.current===null&&(t.current=n()),t.current}const h_=W.createContext(null),d_=W.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class _J extends W.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const i=e.offsetParent,s=i instanceof HTMLElement&&i.offsetWidth||0,r=this.props.sizeRef.current;r.height=e.offsetHeight||0,r.width=e.offsetWidth||0,r.top=e.offsetTop,r.left=e.offsetLeft,r.right=s-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function bJ({children:n,isPresent:t,anchorX:e}){const i=W.useId(),s=W.useRef(null),r=W.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=W.useContext(d_);return W.useInsertionEffect(()=>{const{width:l,height:u,top:d,left:m,right:g}=r.current;if(t||!s.current||!l||!u)return;const v=e==="left"?`left: ${m}`:`right: ${g}`;s.current.dataset.motionPopId=i;const A=document.createElement("style");return o&&(A.nonce=o),document.head.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            ${v}px !important;
            top: ${d}px !important;
          }
        `),()=>{document.head.removeChild(A)}},[t]),ot.jsx(_J,{isPresent:t,childRef:s,sizeRef:r,children:W.cloneElement(n,{ref:s})})}const MJ=({children:n,initial:t,isPresent:e,onExitComplete:i,custom:s,presenceAffectsLayout:r,mode:o,anchorX:l})=>{const u=Nm(EJ),d=W.useId(),m=W.useCallback(v=>{u.set(v,!0);for(const A of u.values())if(!A)return;i&&i()},[u,i]),g=W.useMemo(()=>({id:d,initial:t,isPresent:e,custom:s,onExitComplete:m,register:v=>(u.set(v,!1),()=>u.delete(v))}),r?[Math.random(),m]:[e,m]);return W.useMemo(()=>{u.forEach((v,A)=>u.set(A,!1))},[e]),W.useEffect(()=>{!e&&!u.size&&i&&i()},[e]),o==="popLayout"&&(n=ot.jsx(bJ,{isPresent:e,anchorX:l,children:n})),ot.jsx(h_.Provider,{value:g,children:n})};function EJ(){return new Map}function yF(n=!0){const t=W.useContext(h_);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:i,register:s}=t,r=W.useId();W.useEffect(()=>{n&&s(r)},[n]);const o=W.useCallback(()=>n&&i&&i(r),[r,i,n]);return!e&&i?[!1,o]:[!0]}const zA=n=>n.key||"";function x3(n){const t=[];return W.Children.forEach(n,e=>{W.isValidElement(e)&&t.push(e)}),t}const cR=typeof window<"u",p_=cR?W.useLayoutEffect:W.useEffect,TJ=({children:n,custom:t,initial:e=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:r="sync",propagate:o=!1,anchorX:l="left"})=>{const[u,d]=yF(o),m=W.useMemo(()=>x3(n),[n]),g=o&&!u?[]:m.map(zA),v=W.useRef(!0),A=W.useRef(m),S=Nm(()=>new Map),[E,T]=W.useState(m),[_,w]=W.useState(m);p_(()=>{v.current=!1,A.current=m;for(let U=0;U<_.length;U++){const P=zA(_[U]);g.includes(P)?S.delete(P):S.get(P)!==!0&&S.set(P,!1)}},[_,g.length,g.join("-")]);const D=[];if(m!==E){let U=[...m];for(let P=0;P<_.length;P++){const F=_[P],z=zA(F);g.includes(z)||(U.splice(P,0,F),D.push(F))}return r==="wait"&&D.length&&(U=D),w(x3(U)),T(m),null}const{forceRender:L}=W.useContext(lR);return ot.jsx(ot.Fragment,{children:_.map(U=>{const P=zA(U),F=o&&!u?!1:m===_||g.includes(P),z=()=>{if(S.has(P))S.set(P,!0);else return;let N=!0;S.forEach(B=>{B||(N=!1)}),N&&(L==null||L(),w(A.current),o&&(d==null||d()),i&&i())};return ot.jsx(MJ,{isPresent:F,initial:!v.current||e?void 0:!1,custom:t,presenceAffectsLayout:s,mode:r,onExitComplete:F?void 0:z,anchorX:l,children:U},P)})})},Pr=n=>n;let CJ=Pr,vF=Pr;function uR(n){let t;return()=>(t===void 0&&(t=n()),t)}const ad=(n,t,e)=>{const i=t-n;return i===0?1:(e-n)/i},Kc=n=>n*1e3,qc=n=>n/1e3,RJ={useManualTiming:!1},HA=["read","resolveKeyframes","update","preRender","render","postRender"];function wJ(n,t){let e=new Set,i=new Set,s=!1,r=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(m){o.has(m)&&(d.schedule(m),n()),m(l)}const d={schedule:(m,g=!1,v=!1)=>{const S=v&&s?e:i;return g&&o.add(m),S.has(m)||S.add(m),m},cancel:m=>{i.delete(m),o.delete(m)},process:m=>{if(l=m,s){r=!0;return}s=!0,[e,i]=[i,e],e.forEach(u),e.clear(),s=!1,r&&(r=!1,d.process(m))}};return d}const BJ=40;function xF(n,t){let e=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},r=()=>e=!0,o=HA.reduce((_,w)=>(_[w]=wJ(r),_),{}),{read:l,resolveKeyframes:u,update:d,preRender:m,render:g,postRender:v}=o,A=()=>{const _=performance.now();e=!1,s.delta=i?1e3/60:Math.max(Math.min(_-s.timestamp,BJ),1),s.timestamp=_,s.isProcessing=!0,l.process(s),u.process(s),d.process(s),m.process(s),g.process(s),v.process(s),s.isProcessing=!1,e&&t&&(i=!1,n(A))},S=()=>{e=!0,i=!0,s.isProcessing||n(A)};return{schedule:HA.reduce((_,w)=>{const D=o[w];return _[w]=(L,U=!1,P=!1)=>(e||S(),D.schedule(L,U,P)),_},{}),cancel:_=>{for(let w=0;w<HA.length;w++)o[HA[w]].cancel(_)},state:s,steps:o}}const{schedule:Dn,cancel:Ko,state:ws,steps:OM}=xF(typeof requestAnimationFrame<"u"?requestAnimationFrame:Pr,!0),AF=W.createContext({strict:!1}),A3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Am={};for(const n in A3)Am[n]={isEnabled:t=>A3[n].some(e=>!!t[e])};function DJ(n){for(const t in n)Am[t]={...Am[t],...n[t]}}const LJ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function dS(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||LJ.has(n)}let SF=n=>!dS(n);function OJ(n){n&&(SF=t=>t.startsWith("on")?!dS(t):n(t))}try{OJ(require("@emotion/is-prop-valid").default)}catch{}function UJ(n,t,e){const i={};for(const s in n)s==="values"&&typeof n.values=="object"||(SF(s)||e===!0&&dS(s)||!t&&!dS(s)||n.draggable&&s.startsWith("onDrag"))&&(i[s]=n[s]);return i}function PJ(n){if(typeof Proxy>"u")return n;const t=new Map,e=(...i)=>n(...i);return new Proxy(e,{get:(i,s)=>s==="create"?n:(t.has(s)||t.set(s,n(s)),t.get(s))})}const m_=W.createContext({});function g_(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function by(n){return typeof n=="string"||Array.isArray(n)}const fR=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],hR=["initial",...fR];function y_(n){return g_(n.animate)||hR.some(t=>by(n[t]))}function _F(n){return!!(y_(n)||n.variants)}function NJ(n,t){if(y_(n)){const{initial:e,animate:i}=n;return{initial:e===!1||by(e)?e:void 0,animate:by(i)?i:void 0}}return n.inherit!==!1?t:{}}function IJ(n){const{initial:t,animate:e}=NJ(n,W.useContext(m_));return W.useMemo(()=>({initial:t,animate:e}),[S3(t),S3(e)])}function S3(n){return Array.isArray(n)?n.join(" "):n}const FJ=Symbol.for("motionComponentSymbol");function Jp(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function zJ(n,t,e){return W.useCallback(i=>{i&&n.onMount&&n.onMount(i),t&&(i?t.mount(i):t.unmount()),e&&(typeof e=="function"?e(i):Jp(e)&&(e.current=i))},[t])}const dR=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),HJ="framerAppearId",bF="data-"+dR(HJ),{schedule:pR}=xF(queueMicrotask,!1),MF=W.createContext({});function GJ(n,t,e,i,s){var r,o;const{visualElement:l}=W.useContext(m_),u=W.useContext(AF),d=W.useContext(h_),m=W.useContext(d_).reducedMotion,g=W.useRef(null);i=i||u.renderer,!g.current&&i&&(g.current=i(n,{visualState:t,parent:l,props:e,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const v=g.current,A=W.useContext(MF);v&&!v.projection&&s&&(v.type==="html"||v.type==="svg")&&VJ(g.current,e,s,A);const S=W.useRef(!1);W.useInsertionEffect(()=>{v&&S.current&&v.update(e,d)});const E=e[bF],T=W.useRef(!!E&&!(!((r=window.MotionHandoffIsComplete)===null||r===void 0)&&r.call(window,E))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,E)));return p_(()=>{v&&(S.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),pR.render(v.render),T.current&&v.animationState&&v.animationState.animateChanges())}),W.useEffect(()=>{v&&(!T.current&&v.animationState&&v.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)===null||_===void 0||_.call(window,E)}),T.current=!1))}),v}function VJ(n,t,e,i){const{layoutId:s,layout:r,drag:o,dragConstraints:l,layoutScroll:u,layoutRoot:d}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:EF(n.parent)),n.projection.setOptions({layoutId:s,layout:r,alwaysMeasureLayout:!!o||l&&Jp(l),visualElement:n,animationType:typeof r=="string"?r:"both",initialPromotionConfig:i,layoutScroll:u,layoutRoot:d})}function EF(n){if(n)return n.options.allowProjection!==!1?n.projection:EF(n.parent)}function kJ({preloadedFeatures:n,createVisualElement:t,useRender:e,useVisualState:i,Component:s}){var r,o;n&&DJ(n);function l(d,m){let g;const v={...W.useContext(d_),...d,layoutId:XJ(d)},{isStatic:A}=v,S=IJ(d),E=i(d,A);if(!A&&cR){jJ();const T=YJ(v);g=T.MeasureLayout,S.visualElement=GJ(s,E,v,t,T.ProjectionNode)}return ot.jsxs(m_.Provider,{value:S,children:[g&&S.visualElement?ot.jsx(g,{visualElement:S.visualElement,...v}):null,e(s,d,zJ(E,S.visualElement,m),E,A,S.visualElement)]})}l.displayName=`motion.${typeof s=="string"?s:`create(${(o=(r=s.displayName)!==null&&r!==void 0?r:s.name)!==null&&o!==void 0?o:""})`}`;const u=W.forwardRef(l);return u[FJ]=s,u}function XJ({layoutId:n}){const t=W.useContext(lR).id;return t&&n!==void 0?t+"-"+n:n}function jJ(n,t){W.useContext(AF).strict}function YJ(n){const{drag:t,layout:e}=Am;if(!t&&!e)return{};const i={...t,...e};return{MeasureLayout:t!=null&&t.isEnabled(n)||e!=null&&e.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const TF=n=>t=>typeof t=="string"&&t.startsWith(n),mR=TF("--"),WJ=TF("var(--"),gR=n=>WJ(n)?KJ.test(n.split("/*")[0].trim()):!1,KJ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,My={};function qJ(n){for(const t in n)My[t]=n[t],mR(t)&&(My[t].isCSSVariable=!0)}const Im=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],hd=new Set(Im);function CF(n,{layout:t,layoutId:e}){return hd.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!My[n]||n==="opacity")}const hr=n=>!!(n&&n.getVelocity),RF=(n,t)=>t&&typeof n=="number"?t.transform(n):n,Ql=(n,t,e)=>e>t?t:e<n?n:e,Fm={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Ey={...Fm,transform:n=>Ql(0,1,n)},GA={...Fm,default:1},nv=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),$u=nv("deg"),jl=nv("%"),ze=nv("px"),JJ=nv("vh"),QJ=nv("vw"),_3={...jl,parse:n=>jl.parse(n)/100,transform:n=>jl.transform(n*100)},ZJ={borderWidth:ze,borderTopWidth:ze,borderRightWidth:ze,borderBottomWidth:ze,borderLeftWidth:ze,borderRadius:ze,radius:ze,borderTopLeftRadius:ze,borderTopRightRadius:ze,borderBottomRightRadius:ze,borderBottomLeftRadius:ze,width:ze,maxWidth:ze,height:ze,maxHeight:ze,top:ze,right:ze,bottom:ze,left:ze,padding:ze,paddingTop:ze,paddingRight:ze,paddingBottom:ze,paddingLeft:ze,margin:ze,marginTop:ze,marginRight:ze,marginBottom:ze,marginLeft:ze,backgroundPositionX:ze,backgroundPositionY:ze},$J={rotate:$u,rotateX:$u,rotateY:$u,rotateZ:$u,scale:GA,scaleX:GA,scaleY:GA,scaleZ:GA,skew:$u,skewX:$u,skewY:$u,distance:ze,translateX:ze,translateY:ze,translateZ:ze,x:ze,y:ze,z:ze,perspective:ze,transformPerspective:ze,opacity:Ey,originX:_3,originY:_3,originZ:ze},b3={...Fm,transform:Math.round},yR={...ZJ,...$J,zIndex:b3,size:ze,fillOpacity:Ey,strokeOpacity:Ey,numOctaves:b3},tQ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},eQ=Im.length;function nQ(n,t,e){let i="",s=!0;for(let r=0;r<eQ;r++){const o=Im[r],l=n[o];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(o.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||e){const d=RF(l,yR[o]);if(!u){s=!1;const m=tQ[o]||o;i+=`${m}(${d}) `}e&&(t[o]=d)}}return i=i.trim(),e?i=e(t,s?"":i):s&&(i="none"),i}function vR(n,t,e){const{style:i,vars:s,transformOrigin:r}=n;let o=!1,l=!1;for(const u in t){const d=t[u];if(hd.has(u)){o=!0;continue}else if(mR(u)){s[u]=d;continue}else{const m=RF(d,yR[u]);u.startsWith("origin")?(l=!0,r[u]=m):i[u]=m}}if(t.transform||(o||e?i.transform=nQ(t,n.transform,e):i.transform&&(i.transform="none")),l){const{originX:u="50%",originY:d="50%",originZ:m=0}=r;i.transformOrigin=`${u} ${d} ${m}`}}const xR=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function wF(n,t,e){for(const i in t)!hr(t[i])&&!CF(i,e)&&(n[i]=t[i])}function iQ({transformTemplate:n},t){return W.useMemo(()=>{const e=xR();return vR(e,t,n),Object.assign({},e.vars,e.style)},[t])}function sQ(n,t){const e=n.style||{},i={};return wF(i,e,n),Object.assign(i,iQ(n,t)),i}function rQ(n,t){const e={},i=sQ(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=i,e}const aQ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function AR(n){return typeof n!="string"||n.includes("-")?!1:!!(aQ.indexOf(n)>-1||/[A-Z]/u.test(n))}const oQ={offset:"stroke-dashoffset",array:"stroke-dasharray"},lQ={offset:"strokeDashoffset",array:"strokeDasharray"};function cQ(n,t,e=1,i=0,s=!0){n.pathLength=1;const r=s?oQ:lQ;n[r.offset]=ze.transform(-i);const o=ze.transform(t),l=ze.transform(e);n[r.array]=`${o} ${l}`}function M3(n,t,e){return typeof n=="string"?n:ze.transform(t+e*n)}function uQ(n,t,e){const i=M3(t,n.x,n.width),s=M3(e,n.y,n.height);return`${i} ${s}`}function SR(n,{attrX:t,attrY:e,attrScale:i,originX:s,originY:r,pathLength:o,pathSpacing:l=1,pathOffset:u=0,...d},m,g){if(vR(n,d,g),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:A,dimensions:S}=n;v.transform&&(S&&(A.transform=v.transform),delete v.transform),S&&(s!==void 0||r!==void 0||A.transform)&&(A.transformOrigin=uQ(S,s!==void 0?s:.5,r!==void 0?r:.5)),t!==void 0&&(v.x=t),e!==void 0&&(v.y=e),i!==void 0&&(v.scale=i),o!==void 0&&cQ(v,o,l,u,!1)}const BF=()=>({...xR(),attrs:{}}),_R=n=>typeof n=="string"&&n.toLowerCase()==="svg";function fQ(n,t,e,i){const s=W.useMemo(()=>{const r=BF();return SR(r,t,_R(i),n.transformTemplate),{...r.attrs,style:{...r.style}}},[t]);if(n.style){const r={};wF(r,n.style,n),s.style={...r,...s.style}}return s}function hQ(n=!1){return(e,i,s,{latestValues:r},o)=>{const u=(AR(e)?fQ:rQ)(i,r,o,e),d=UJ(i,typeof e=="string",n),m=e!==W.Fragment?{...d,...u,ref:s}:{},{children:g}=i,v=W.useMemo(()=>hr(g)?g.get():g,[g]);return W.createElement(e,{...m,children:v})}}function E3(n){const t=[{},{}];return n==null||n.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function bR(n,t,e,i){if(typeof t=="function"){const[s,r]=E3(i);t=t(e!==void 0?e:n.custom,s,r)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[s,r]=E3(i);t=t(e!==void 0?e:n.custom,s,r)}return t}const qE=n=>Array.isArray(n),dQ=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),pQ=n=>qE(n)?n[n.length-1]||0:n;function o1(n){const t=hr(n)?n.get():n;return dQ(t)?t.toValue():t}function mQ({scrapeMotionValuesFromProps:n,createRenderState:t,onUpdate:e},i,s,r){const o={latestValues:gQ(i,s,r,n),renderState:t()};return e&&(o.onMount=l=>e({props:i,current:l,...o}),o.onUpdate=l=>e(l)),o}const DF=n=>(t,e)=>{const i=W.useContext(m_),s=W.useContext(h_),r=()=>mQ(n,t,i,s);return e?r():Nm(r)};function gQ(n,t,e,i){const s={},r=i(n,{});for(const v in r)s[v]=o1(r[v]);let{initial:o,animate:l}=n;const u=y_(n),d=_F(n);t&&d&&!u&&n.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let m=e?e.initial===!1:!1;m=m||o===!1;const g=m?l:o;if(g&&typeof g!="boolean"&&!g_(g)){const v=Array.isArray(g)?g:[g];for(let A=0;A<v.length;A++){const S=bR(n,v[A]);if(S){const{transitionEnd:E,transition:T,..._}=S;for(const w in _){let D=_[w];if(Array.isArray(D)){const L=m?D.length-1:0;D=D[L]}D!==null&&(s[w]=D)}for(const w in E)s[w]=E[w]}}}return s}function MR(n,t,e){var i;const{style:s}=n,r={};for(const o in s)(hr(s[o])||t.style&&hr(t.style[o])||CF(o,n)||((i=e==null?void 0:e.getValue(o))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(r[o]=s[o]);return r}const yQ={useVisualState:DF({scrapeMotionValuesFromProps:MR,createRenderState:xR})};function LF(n,t){try{t.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function OF(n,{style:t,vars:e},i,s){Object.assign(n.style,t,s&&s.getProjectionStyles(i));for(const r in e)n.style.setProperty(r,e[r])}const UF=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function PF(n,t,e,i){OF(n,t,void 0,i);for(const s in t.attrs)n.setAttribute(UF.has(s)?s:dR(s),t.attrs[s])}function NF(n,t,e){const i=MR(n,t,e);for(const s in n)if(hr(n[s])||hr(t[s])){const r=Im.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[r]=n[s]}return i}const T3=["x","y","width","height","cx","cy","r"],vQ={useVisualState:DF({scrapeMotionValuesFromProps:NF,createRenderState:BF,onUpdate:({props:n,prevProps:t,current:e,renderState:i,latestValues:s})=>{if(!e)return;let r=!!n.drag;if(!r){for(const l in s)if(hd.has(l)){r=!0;break}}if(!r)return;let o=!t;if(t)for(let l=0;l<T3.length;l++){const u=T3[l];n[u]!==t[u]&&(o=!0)}o&&Dn.read(()=>{LF(e,i),Dn.render(()=>{SR(i,s,_R(e.tagName),n.transformTemplate),PF(e,i)})})}})};function xQ(n,t){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...AR(i)?vQ:yQ,preloadedFeatures:n,useRender:hQ(s),createVisualElement:t,Component:i};return kJ(o)}}function Ty(n,t,e){const i=n.getProps();return bR(i,t,e!==void 0?e:i.custom,n)}const IF=uR(()=>window.ScrollTimeline!==void 0);class AQ{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,e){for(let i=0;i<this.animations.length;i++)this.animations[i][t]=e}attachTimeline(t,e){const i=this.animations.map(s=>{if(IF()&&s.attachTimeline)return s.attachTimeline(t);if(typeof e=="function")return e(s)});return()=>{i.forEach((s,r)=>{s&&s(),this.animations[r].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let e=0;e<this.animations.length;e++)t=Math.max(t,this.animations[e].duration);return t}runAll(t){this.animations.forEach(e=>e[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class SQ extends AQ{then(t,e){return Promise.all(this.animations).then(t).catch(e)}}function ER(n,t){return n?n[t]||n.default||n:void 0}const JE=2e4;function FF(n){let t=0;const e=50;let i=n.next(t);for(;!i.done&&t<JE;)t+=e,i=n.next(t);return t>=JE?1/0:t}function TR(n){return typeof n=="function"}function C3(n,t){n.timeline=t,n.onfinish=null}const CR=n=>Array.isArray(n)&&typeof n[0]=="number",_Q={linearEasing:void 0};function bQ(n,t){const e=uR(n);return()=>{var i;return(i=_Q[t])!==null&&i!==void 0?i:e()}}const pS=bQ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),zF=(n,t,e=10)=>{let i="";const s=Math.max(Math.round(t/e),2);for(let r=0;r<s;r++)i+=n(ad(0,s-1,r))+", ";return`linear(${i.substring(0,i.length-2)})`};function HF(n){return!!(typeof n=="function"&&pS()||!n||typeof n=="string"&&(n in QE||pS())||CR(n)||Array.isArray(n)&&n.every(HF))}const L0=([n,t,e,i])=>`cubic-bezier(${n}, ${t}, ${e}, ${i})`,QE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:L0([0,.65,.55,1]),circOut:L0([.55,0,1,.45]),backIn:L0([.31,.01,.66,-.59]),backOut:L0([.33,1.53,.69,.99])};function GF(n,t){if(n)return typeof n=="function"&&pS()?zF(n,t):CR(n)?L0(n):Array.isArray(n)?n.map(e=>GF(e,t)||QE.easeOut):QE[n]}const Go={x:!1,y:!1};function VF(){return Go.x||Go.y}function kF(n,t,e){var i;if(n instanceof EventTarget)return[n];if(typeof n=="string"){let s=document;const r=(i=void 0)!==null&&i!==void 0?i:s.querySelectorAll(n);return r?Array.from(r):[]}return Array.from(n)}function XF(n,t){const e=kF(n),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[e,s,()=>i.abort()]}function R3(n){return!(n.pointerType==="touch"||VF())}function MQ(n,t,e={}){const[i,s,r]=XF(n,e),o=l=>{if(!R3(l))return;const{target:u}=l,d=t(u,l);if(typeof d!="function"||!u)return;const m=g=>{R3(g)&&(d(g),u.removeEventListener("pointerleave",m))};u.addEventListener("pointerleave",m,s)};return i.forEach(l=>{l.addEventListener("pointerenter",o,s)}),r}function mS(n,t){const e=`${t}PointerCapture`;if(n.target instanceof Element&&e in n.target&&n.pointerId!==void 0)try{n.target[e](n.pointerId)}catch{}}const jF=(n,t)=>t?n===t?!0:jF(n,t.parentElement):!1,RR=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,EQ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function TQ(n){return EQ.has(n.tagName)||n.tabIndex!==-1}const O0=new WeakSet;function w3(n){return t=>{t.key==="Enter"&&n(t)}}function UM(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const CQ=(n,t)=>{const e=n.currentTarget;if(!e)return;const i=w3(()=>{if(O0.has(e))return;UM(e,"down");const s=w3(()=>{UM(e,"up")}),r=()=>UM(e,"cancel");e.addEventListener("keyup",s,t),e.addEventListener("blur",r,t)});e.addEventListener("keydown",i,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",i),t)};function B3(n){return RR(n)&&!VF()}function RQ(n,t,e={}){const[i,s,r]=XF(n,e),o=l=>{const u=l.currentTarget;if(!u||!B3(l)||O0.has(u))return;O0.add(u),mS(l,"set");const d=t(u,l),m=(A,S)=>{u.removeEventListener("pointerup",g),u.removeEventListener("pointercancel",v),mS(A,"release"),!(!B3(A)||!O0.has(u))&&(O0.delete(u),typeof d=="function"&&d(A,{success:S}))},g=A=>{(A.isTrusted?wQ(A,u instanceof Element?u.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?m(A,!1):m(A,!(u instanceof Element)||jF(u,A.target))},v=A=>{m(A,!1)};u.addEventListener("pointerup",g,s),u.addEventListener("pointercancel",v,s),u.addEventListener("lostpointercapture",v,s)};return i.forEach(l=>{l=e.useGlobalTarget?window:l;let u=!1;l instanceof HTMLElement&&(u=!0,!TQ(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0)),l.addEventListener("pointerdown",o,s),u&&l.addEventListener("focus",d=>CQ(d,s),s)}),r}function wQ(n,t){return n.clientX<t.left||n.clientX>t.right||n.clientY<t.top||n.clientY>t.bottom}function BQ(n){return n==="x"||n==="y"?Go[n]?null:(Go[n]=!0,()=>{Go[n]=!1}):Go.x||Go.y?null:(Go.x=Go.y=!0,()=>{Go.x=Go.y=!1})}const YF=new Set(["width","height","top","left","right","bottom",...Im]);let l1;function DQ(){l1=void 0}const Yl={now:()=>(l1===void 0&&Yl.set(ws.isProcessing||RJ.useManualTiming?ws.timestamp:performance.now()),l1),set:n=>{l1=n,queueMicrotask(DQ)}};function wR(n,t){n.indexOf(t)===-1&&n.push(t)}function BR(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}class DR{constructor(){this.subscriptions=[]}add(t){return wR(this.subscriptions,t),()=>BR(this.subscriptions,t)}notify(t,e,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,e,i);else for(let r=0;r<s;r++){const o=this.subscriptions[r];o&&o(t,e,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function LR(n,t){return t?n*(1e3/t):0}const D3=30,LQ=n=>!isNaN(parseFloat(n)),Q0={current:void 0};class OQ{constructor(t,e={}){this.version="12.4.5",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{const r=Yl.now();this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=Yl.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=LQ(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new DR);const i=this.events[t].add(e);return t==="change"?()=>{i(),Dn.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t,e=!0){!e||!this.passiveEffect?this.updateAndNotify(t,e):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,e,i){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Q0.current&&Q0.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Yl.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>D3)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,D3);return LR(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zl(n,t){return new OQ(n,t)}function UQ(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,zl(e))}function PQ(n,t){const e=Ty(n,t);let{transitionEnd:i={},transition:s={},...r}=e||{};r={...r,...i};for(const o in r){const l=pQ(r[o]);UQ(n,o,l)}}function NQ(n){return!!(hr(n)&&n.add)}function ZE(n,t){const e=n.getValue("willChange");if(NQ(e))return e.add(t)}function WF(n){return n.props[bF]}const KF=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,IQ=1e-7,FQ=12;function zQ(n,t,e,i,s){let r,o,l=0;do o=t+(e-t)/2,r=KF(o,i,s)-n,r>0?e=o:t=o;while(Math.abs(r)>IQ&&++l<FQ);return o}function iv(n,t,e,i){if(n===t&&e===i)return Pr;const s=r=>zQ(r,0,1,n,e);return r=>r===0||r===1?r:KF(s(r),t,i)}const qF=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,JF=n=>t=>1-n(1-t),QF=iv(.33,1.53,.69,.99),OR=JF(QF),ZF=qF(OR),$F=n=>(n*=2)<1?.5*OR(n):.5*(2-Math.pow(2,-10*(n-1))),UR=n=>1-Math.sin(Math.acos(n)),tz=JF(UR),ez=qF(UR),nz=n=>/^0[^.\s]+$/u.test(n);function HQ(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||nz(n):!0}const Z0=n=>Math.round(n*1e5)/1e5,PR=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function GQ(n){return n==null}const VQ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,NR=(n,t)=>e=>!!(typeof e=="string"&&VQ.test(e)&&e.startsWith(n)||t&&!GQ(e)&&Object.prototype.hasOwnProperty.call(e,t)),iz=(n,t,e)=>i=>{if(typeof i!="string")return i;const[s,r,o,l]=i.match(PR);return{[n]:parseFloat(s),[t]:parseFloat(r),[e]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},kQ=n=>Ql(0,255,n),PM={...Fm,transform:n=>Math.round(kQ(n))},Vh={test:NR("rgb","red"),parse:iz("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:i=1})=>"rgba("+PM.transform(n)+", "+PM.transform(t)+", "+PM.transform(e)+", "+Z0(Ey.transform(i))+")"};function XQ(n){let t="",e="",i="",s="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),i=n.substring(5,7),s=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),i=n.substring(3,4),s=n.substring(4,5),t+=t,e+=e,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const $E={test:NR("#"),parse:XQ,transform:Vh.transform},Qp={test:NR("hsl","hue"),parse:iz("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:i=1})=>"hsla("+Math.round(n)+", "+jl.transform(Z0(t))+", "+jl.transform(Z0(e))+", "+Z0(Ey.transform(i))+")"},cr={test:n=>Vh.test(n)||$E.test(n)||Qp.test(n),parse:n=>Vh.test(n)?Vh.parse(n):Qp.test(n)?Qp.parse(n):$E.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Vh.transform(n):Qp.transform(n)},jQ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function YQ(n){var t,e;return isNaN(n)&&typeof n=="string"&&(((t=n.match(PR))===null||t===void 0?void 0:t.length)||0)+(((e=n.match(jQ))===null||e===void 0?void 0:e.length)||0)>0}const sz="number",rz="color",WQ="var",KQ="var(",L3="${}",qQ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Cy(n){const t=n.toString(),e=[],i={color:[],number:[],var:[]},s=[];let r=0;const l=t.replace(qQ,u=>(cr.test(u)?(i.color.push(r),s.push(rz),e.push(cr.parse(u))):u.startsWith(KQ)?(i.var.push(r),s.push(WQ),e.push(u)):(i.number.push(r),s.push(sz),e.push(parseFloat(u))),++r,L3)).split(L3);return{values:e,split:l,indexes:i,types:s}}function az(n){return Cy(n).values}function oz(n){const{split:t,types:e}=Cy(n),i=t.length;return s=>{let r="";for(let o=0;o<i;o++)if(r+=t[o],s[o]!==void 0){const l=e[o];l===sz?r+=Z0(s[o]):l===rz?r+=cr.transform(s[o]):r+=s[o]}return r}}const JQ=n=>typeof n=="number"?0:n;function QQ(n){const t=az(n);return oz(n)(t.map(JQ))}const hf={test:YQ,parse:az,createTransformer:oz,getAnimatableNone:QQ},ZQ=new Set(["brightness","contrast","saturate","opacity"]);function $Q(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[i]=e.match(PR)||[];if(!i)return n;const s=e.replace(i,"");let r=ZQ.has(t)?1:0;return i!==e&&(r*=100),t+"("+r+s+")"}const tZ=/\b([a-z-]*)\(.*?\)/gu,tT={...hf,getAnimatableNone:n=>{const t=n.match(tZ);return t?t.map($Q).join(" "):n}},eZ={...yR,color:cr,backgroundColor:cr,outlineColor:cr,fill:cr,stroke:cr,borderColor:cr,borderTopColor:cr,borderRightColor:cr,borderBottomColor:cr,borderLeftColor:cr,filter:tT,WebkitFilter:tT},IR=n=>eZ[n];function lz(n,t){let e=IR(n);return e!==tT&&(e=hf),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const nZ=new Set(["auto","none","0"]);function iZ(n,t,e){let i=0,s;for(;i<n.length&&!s;){const r=n[i];typeof r=="string"&&!nZ.has(r)&&Cy(r).values.length&&(s=n[i]),i++}if(s&&e)for(const r of t)n[r]=lz(e,s)}const O3=n=>n===Fm||n===ze,U3=(n,t)=>parseFloat(n.split(", ")[t]),P3=(n,t)=>(e,{transform:i})=>{if(i==="none"||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/u);if(s)return U3(s[1],t);{const r=i.match(/^matrix\((.+)\)$/u);return r?U3(r[1],n):0}},sZ=new Set(["x","y","z"]),rZ=Im.filter(n=>!sZ.has(n));function aZ(n){const t=[];return rZ.forEach(e=>{const i=n.getValue(e);i!==void 0&&(t.push([e,i.get()]),i.set(e.startsWith("scale")?1:0))}),t}const Sm={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:P3(4,13),y:P3(5,14)};Sm.translateX=Sm.x;Sm.translateY=Sm.y;const qh=new Set;let eT=!1,nT=!1;function cz(){if(nT){const n=Array.from(qh).filter(i=>i.needsMeasurement),t=new Set(n.map(i=>i.element)),e=new Map;t.forEach(i=>{const s=aZ(i);s.length&&(e.set(i,s),i.render())}),n.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=e.get(i);s&&s.forEach(([r,o])=>{var l;(l=i.getValue(r))===null||l===void 0||l.set(o)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}nT=!1,eT=!1,qh.forEach(n=>n.complete()),qh.clear()}function uz(){qh.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(nT=!0)})}function oZ(){uz(),cz()}class FR{constructor(t,e,i,s,r,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=i,this.motionValue=s,this.element=r,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(qh.add(this),eT||(eT=!0,Dn.read(uz),Dn.resolveKeyframes(cz))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:i,motionValue:s}=this;for(let r=0;r<t.length;r++)if(t[r]===null)if(r===0){const o=s==null?void 0:s.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(i&&e){const u=i.readValue(e,l);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=l),s&&o===void 0&&s.set(t[0])}else t[r]=t[r-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),qh.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,qh.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const fz=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),lZ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function cZ(n){const t=lZ.exec(n);if(!t)return[,];const[,e,i,s]=t;return[`--${e??i}`,s]}function hz(n,t,e=1){const[i,s]=cZ(n);if(!i)return;const r=window.getComputedStyle(t).getPropertyValue(i);if(r){const o=r.trim();return fz(o)?parseFloat(o):o}return gR(s)?hz(s,t,e+1):s}const dz=n=>t=>t.test(n),uZ={test:n=>n==="auto",parse:n=>n},pz=[Fm,ze,jl,$u,QJ,JJ,uZ],N3=n=>pz.find(dz(n));class mz extends FR{constructor(t,e,i,s,r){super(t,e,i,s,r,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:i}=this;if(!e||!e.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let d=t[u];if(typeof d=="string"&&(d=d.trim(),gR(d))){const m=hz(d,e.current);m!==void 0&&(t[u]=m),u===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!YF.has(i)||t.length!==2)return;const[s,r]=t,o=N3(s),l=N3(r);if(o!==l)if(O3(o)&&O3(l))for(let u=0;u<t.length;u++){const d=t[u];typeof d=="string"&&(t[u]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,i=[];for(let s=0;s<t.length;s++)HQ(t[s])&&i.push(s);i.length&&iZ(t,i,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Sm[i](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const s=e[e.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){var t;const{element:e,name:i,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const r=e.getValue(i);r&&r.jump(this.measuredOrigin,!1);const o=s.length-1,l=s[o];s[o]=Sm[i](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([u,d])=>{e.getValue(u).set(d)}),this.resolveNoneKeyframes()}}const I3=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(hf.test(n)||n==="0")&&!n.startsWith("url("));function fZ(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function hZ(n,t,e,i){const s=n[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const r=n[n.length-1],o=I3(s,t),l=I3(r,t);return!o||!l?!1:fZ(n)||(e==="spring"||TR(e))&&i}const dZ=n=>n!==null;function v_(n,{repeat:t,repeatType:e="loop"},i){const s=n.filter(dZ),r=t&&e!=="loop"&&t%2===1?0:s.length-1;return!r||i===void 0?s[r]:i}const pZ=40;class gz{constructor({autoplay:t=!0,delay:e=0,type:i="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Yl.now(),this.options={autoplay:t,delay:e,type:i,repeat:s,repeatDelay:r,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>pZ?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&oZ(),this._resolved}onKeyframesResolved(t,e){this.resolvedAt=Yl.now(),this.hasAttemptedResolve=!0;const{name:i,type:s,velocity:r,delay:o,onComplete:l,onUpdate:u,isGenerator:d}=this.options;if(!d&&!hZ(t,i,s,r))if(o)this.options.duration=0;else{u&&u(v_(t,this.options,e)),l&&l(),this.resolveFinishedPromise();return}const m=this.initPlayback(t,e);m!==!1&&(this._resolved={keyframes:t,finalKeyframe:e,...m},this.onPostResolved())}onPostResolved(){}then(t,e){return this.currentFinishedPromise.then(t,e)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Ti=(n,t,e)=>n+(t-n)*e;function NM(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function mZ({hue:n,saturation:t,lightness:e,alpha:i}){n/=360,t/=100,e/=100;let s=0,r=0,o=0;if(!t)s=r=o=e;else{const l=e<.5?e*(1+t):e+t-e*t,u=2*e-l;s=NM(u,l,n+1/3),r=NM(u,l,n),o=NM(u,l,n-1/3)}return{red:Math.round(s*255),green:Math.round(r*255),blue:Math.round(o*255),alpha:i}}function gS(n,t){return e=>e>0?t:n}const IM=(n,t,e)=>{const i=n*n,s=e*(t*t-i)+i;return s<0?0:Math.sqrt(s)},gZ=[$E,Vh,Qp],yZ=n=>gZ.find(t=>t.test(n));function F3(n){const t=yZ(n);if(!t)return!1;let e=t.parse(n);return t===Qp&&(e=mZ(e)),e}const z3=(n,t)=>{const e=F3(n),i=F3(t);if(!e||!i)return gS(n,t);const s={...e};return r=>(s.red=IM(e.red,i.red,r),s.green=IM(e.green,i.green,r),s.blue=IM(e.blue,i.blue,r),s.alpha=Ti(e.alpha,i.alpha,r),Vh.transform(s))},vZ=(n,t)=>e=>t(n(e)),sv=(...n)=>n.reduce(vZ),iT=new Set(["none","hidden"]);function xZ(n,t){return iT.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function AZ(n,t){return e=>Ti(n,t,e)}function zR(n){return typeof n=="number"?AZ:typeof n=="string"?gR(n)?gS:cr.test(n)?z3:bZ:Array.isArray(n)?yz:typeof n=="object"?cr.test(n)?z3:SZ:gS}function yz(n,t){const e=[...n],i=e.length,s=n.map((r,o)=>zR(r)(r,t[o]));return r=>{for(let o=0;o<i;o++)e[o]=s[o](r);return e}}function SZ(n,t){const e={...n,...t},i={};for(const s in e)n[s]!==void 0&&t[s]!==void 0&&(i[s]=zR(n[s])(n[s],t[s]));return s=>{for(const r in i)e[r]=i[r](s);return e}}function _Z(n,t){var e;const i=[],s={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const o=t.types[r],l=n.indexes[o][s[o]],u=(e=n.values[l])!==null&&e!==void 0?e:0;i[r]=u,s[o]++}return i}const bZ=(n,t)=>{const e=hf.createTransformer(t),i=Cy(n),s=Cy(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?iT.has(n)&&!s.values.length||iT.has(t)&&!i.values.length?xZ(n,t):sv(yz(_Z(i,s),s.values),e):gS(n,t)};function vz(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?Ti(n,t,e):zR(n)(n,t)}const MZ=5;function xz(n,t,e){const i=Math.max(t-MZ,0);return LR(e-n(i),t-i)}const Hi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},H3=.001;function EZ({duration:n=Hi.duration,bounce:t=Hi.bounce,velocity:e=Hi.velocity,mass:i=Hi.mass}){let s,r,o=1-t;o=Ql(Hi.minDamping,Hi.maxDamping,o),n=Ql(Hi.minDuration,Hi.maxDuration,qc(n)),o<1?(s=d=>{const m=d*o,g=m*n,v=m-e,A=sT(d,o),S=Math.exp(-g);return H3-v/A*S},r=d=>{const g=d*o*n,v=g*e+e,A=Math.pow(o,2)*Math.pow(d,2)*n,S=Math.exp(-g),E=sT(Math.pow(d,2),o);return(-s(d)+H3>0?-1:1)*((v-A)*S)/E}):(s=d=>{const m=Math.exp(-d*n),g=(d-e)*n+1;return-.001+m*g},r=d=>{const m=Math.exp(-d*n),g=(e-d)*(n*n);return m*g});const l=5/n,u=CZ(s,r,l);if(n=Kc(n),isNaN(u))return{stiffness:Hi.stiffness,damping:Hi.damping,duration:n};{const d=Math.pow(u,2)*i;return{stiffness:d,damping:o*2*Math.sqrt(i*d),duration:n}}}const TZ=12;function CZ(n,t,e){let i=e;for(let s=1;s<TZ;s++)i=i-n(i)/t(i);return i}function sT(n,t){return n*Math.sqrt(1-t*t)}const RZ=["duration","bounce"],wZ=["stiffness","damping","mass"];function G3(n,t){return t.some(e=>n[e]!==void 0)}function BZ(n){let t={velocity:Hi.velocity,stiffness:Hi.stiffness,damping:Hi.damping,mass:Hi.mass,isResolvedFromDuration:!1,...n};if(!G3(n,wZ)&&G3(n,RZ))if(n.visualDuration){const e=n.visualDuration,i=2*Math.PI/(e*1.2),s=i*i,r=2*Ql(.05,1,1-(n.bounce||0))*Math.sqrt(s);t={...t,mass:Hi.mass,stiffness:s,damping:r}}else{const e=EZ(n);t={...t,...e,mass:Hi.mass},t.isResolvedFromDuration=!0}return t}function Az(n=Hi.visualDuration,t=Hi.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:i,restDelta:s}=e;const r=e.keyframes[0],o=e.keyframes[e.keyframes.length-1],l={done:!1,value:r},{stiffness:u,damping:d,mass:m,duration:g,velocity:v,isResolvedFromDuration:A}=BZ({...e,velocity:-qc(e.velocity||0)}),S=v||0,E=d/(2*Math.sqrt(u*m)),T=o-r,_=qc(Math.sqrt(u/m)),w=Math.abs(T)<5;i||(i=w?Hi.restSpeed.granular:Hi.restSpeed.default),s||(s=w?Hi.restDelta.granular:Hi.restDelta.default);let D;if(E<1){const U=sT(_,E);D=P=>{const F=Math.exp(-E*_*P);return o-F*((S+E*_*T)/U*Math.sin(U*P)+T*Math.cos(U*P))}}else if(E===1)D=U=>o-Math.exp(-_*U)*(T+(S+_*T)*U);else{const U=_*Math.sqrt(E*E-1);D=P=>{const F=Math.exp(-E*_*P),z=Math.min(U*P,300);return o-F*((S+E*_*T)*Math.sinh(z)+U*T*Math.cosh(z))/U}}const L={calculatedDuration:A&&g||null,next:U=>{const P=D(U);if(A)l.done=U>=g;else{let F=0;E<1&&(F=U===0?Kc(S):xz(D,U,P));const z=Math.abs(F)<=i,N=Math.abs(o-P)<=s;l.done=z&&N}return l.value=l.done?o:P,l},toString:()=>{const U=Math.min(FF(L),JE),P=zF(F=>L.next(U*F).value,U,30);return U+"ms "+P}};return L}function V3({keyframes:n,velocity:t=0,power:e=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:r=500,modifyTarget:o,min:l,max:u,restDelta:d=.5,restSpeed:m}){const g=n[0],v={done:!1,value:g},A=z=>l!==void 0&&z<l||u!==void 0&&z>u,S=z=>l===void 0?u:u===void 0||Math.abs(l-z)<Math.abs(u-z)?l:u;let E=e*t;const T=g+E,_=o===void 0?T:o(T);_!==T&&(E=_-g);const w=z=>-E*Math.exp(-z/i),D=z=>_+w(z),L=z=>{const N=w(z),B=D(z);v.done=Math.abs(N)<=d,v.value=v.done?_:B};let U,P;const F=z=>{A(v.value)&&(U=z,P=Az({keyframes:[v.value,S(v.value)],velocity:xz(D,z,v.value),damping:s,stiffness:r,restDelta:d,restSpeed:m}))};return F(0),{calculatedDuration:null,next:z=>{let N=!1;return!P&&U===void 0&&(N=!0,L(z),F(z)),U!==void 0&&z>=U?P.next(z-U):(!N&&L(z),v)}}}const DZ=iv(.42,0,1,1),LZ=iv(0,0,.58,1),Sz=iv(.42,0,.58,1),OZ=n=>Array.isArray(n)&&typeof n[0]!="number",UZ={linear:Pr,easeIn:DZ,easeInOut:Sz,easeOut:LZ,circIn:UR,circInOut:ez,circOut:tz,backIn:OR,backInOut:ZF,backOut:QF,anticipate:$F},k3=n=>{if(CR(n)){vF(n.length===4);const[t,e,i,s]=n;return iv(t,e,i,s)}else if(typeof n=="string")return UZ[n];return n};function PZ(n,t,e){const i=[],s=e||vz,r=n.length-1;for(let o=0;o<r;o++){let l=s(n[o],n[o+1]);if(t){const u=Array.isArray(t)?t[o]||Pr:t;l=sv(u,l)}i.push(l)}return i}function HR(n,t,{clamp:e=!0,ease:i,mixer:s}={}){const r=n.length;if(vF(r===t.length),r===1)return()=>t[0];if(r===2&&t[0]===t[1])return()=>t[1];const o=n[0]===n[1];n[0]>n[r-1]&&(n=[...n].reverse(),t=[...t].reverse());const l=PZ(t,i,s),u=l.length,d=m=>{if(o&&m<n[0])return t[0];let g=0;if(u>1)for(;g<n.length-2&&!(m<n[g+1]);g++);const v=ad(n[g],n[g+1],m);return l[g](v)};return e?m=>d(Ql(n[0],n[r-1],m)):d}function NZ(n,t){const e=n[n.length-1];for(let i=1;i<=t;i++){const s=ad(0,t,i);n.push(Ti(e,1,s))}}function _z(n){const t=[0];return NZ(t,n.length-1),t}function IZ(n,t){return n.map(e=>e*t)}function FZ(n,t){return n.map(()=>t||Sz).splice(0,n.length-1)}function yS({duration:n=300,keyframes:t,times:e,ease:i="easeInOut"}){const s=OZ(i)?i.map(k3):k3(i),r={done:!1,value:t[0]},o=IZ(e&&e.length===t.length?e:_z(t),n),l=HR(o,t,{ease:Array.isArray(s)?s:FZ(t,s)});return{calculatedDuration:n,next:u=>(r.value=l(u),r.done=u>=n,r)}}const zZ=n=>{const t=({timestamp:e})=>n(e);return{start:()=>Dn.update(t,!0),stop:()=>Ko(t),now:()=>ws.isProcessing?ws.timestamp:Yl.now()}},HZ={decay:V3,inertia:V3,tween:yS,keyframes:yS,spring:Az},GZ=n=>n/100;class GR extends gz{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:e,motionValue:i,element:s,keyframes:r}=this.options,o=(s==null?void 0:s.KeyframeResolver)||FR,l=(u,d)=>this.onKeyframesResolved(u,d);this.resolver=new o(r,l,e,i,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:e="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:r,velocity:o=0}=this.options,l=TR(e)?e:HZ[e]||yS;let u,d;l!==yS&&typeof t[0]!="number"&&(u=sv(GZ,vz(t[0],t[1])),t=[0,100]);const m=l({...this.options,keyframes:t});r==="mirror"&&(d=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),m.calculatedDuration===null&&(m.calculatedDuration=FF(m));const{calculatedDuration:g}=m,v=g+s,A=v*(i+1)-s;return{generator:m,mirroredGenerator:d,mapPercentToKeyframes:u,calculatedDuration:g,resolvedDuration:v,totalDuration:A}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,e=!1){const{resolved:i}=this;if(!i){const{keyframes:z}=this.options;return{done:!0,value:z[z.length-1]}}const{finalKeyframe:s,generator:r,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:u,calculatedDuration:d,totalDuration:m,resolvedDuration:g}=i;if(this.startTime===null)return r.next(0);const{delay:v,repeat:A,repeatType:S,repeatDelay:E,onUpdate:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-m/this.speed,this.startTime)),e?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const _=this.currentTime-v*(this.speed>=0?1:-1),w=this.speed>=0?_<0:_>m;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let D=this.currentTime,L=r;if(A){const z=Math.min(this.currentTime,m)/g;let N=Math.floor(z),B=z%1;!B&&z>=1&&(B=1),B===1&&N--,N=Math.min(N,A+1),!!(N%2)&&(S==="reverse"?(B=1-B,E&&(B-=E/g)):S==="mirror"&&(L=o)),D=Ql(0,1,B)*g}const U=w?{done:!1,value:u[0]}:L.next(D);l&&(U.value=l(U.value));let{done:P}=U;!w&&d!==null&&(P=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return F&&s!==void 0&&(U.value=v_(u,this.options,s)),T&&T(U.value),F&&this.finish(),U}get duration(){const{resolved:t}=this;return t?qc(t.calculatedDuration):0}get time(){return qc(this.currentTime)}set time(t){t=Kc(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=qc(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=zZ,onPlay:e,startTime:i}=this.options;this.driver||(this.driver=t(r=>this.tick(r))),e&&e();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const VZ=new Set(["opacity","clipPath","filter","transform"]);function kZ(n,t,e,{delay:i=0,duration:s=300,repeat:r=0,repeatType:o="loop",ease:l="easeInOut",times:u}={}){const d={[t]:e};u&&(d.offset=u);const m=GF(l,s);return Array.isArray(m)&&(d.easing=m),n.animate(d,{delay:i,duration:s,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:r+1,direction:o==="reverse"?"alternate":"normal"})}const XZ=uR(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),vS=10,jZ=2e4;function YZ(n){return TR(n.type)||n.type==="spring"||!HF(n.ease)}function WZ(n,t){const e=new GR({...t,keyframes:n,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:n[0]};const s=[];let r=0;for(;!i.done&&r<jZ;)i=e.sample(r),s.push(i.value),r+=vS;return{times:void 0,keyframes:s,duration:r-vS,ease:"linear"}}const bz={anticipate:$F,backInOut:ZF,circInOut:ez};function KZ(n){return n in bz}class X3 extends gz{constructor(t){super(t);const{name:e,motionValue:i,element:s,keyframes:r}=this.options;this.resolver=new mz(r,(o,l)=>this.onKeyframesResolved(o,l),e,i,s),this.resolver.scheduleResolve()}initPlayback(t,e){let{duration:i=300,times:s,ease:r,type:o,motionValue:l,name:u,startTime:d}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof r=="string"&&pS()&&KZ(r)&&(r=bz[r]),YZ(this.options)){const{onComplete:g,onUpdate:v,motionValue:A,element:S,...E}=this.options,T=WZ(t,E);t=T.keyframes,t.length===1&&(t[1]=t[0]),i=T.duration,s=T.times,r=T.ease,o="keyframes"}const m=kZ(l.owner.current,u,t,{...this.options,duration:i,times:s,ease:r});return m.startTime=d??this.calcStartTime(),this.pendingTimeline?(C3(m,this.pendingTimeline),this.pendingTimeline=void 0):m.onfinish=()=>{const{onComplete:g}=this.options;l.set(v_(t,this.options,e)),g&&g(),this.cancel(),this.resolveFinishedPromise()},{animation:m,duration:i,times:s,type:o,ease:r,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:e}=t;return qc(e)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:e}=t;return qc(e.currentTime||0)}set time(t){const{resolved:e}=this;if(!e)return;const{animation:i}=e;i.currentTime=Kc(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:e}=t;return e.playbackRate}set speed(t){const{resolved:e}=this;if(!e)return;const{animation:i}=e;i.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:e}=t;return e.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:e}=t;return e.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:e}=this;if(!e)return Pr;const{animation:i}=e;C3(i,t)}return Pr}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:e}=t;e.playState==="finished"&&this.updateFinishedPromise(),e.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:e}=t;e.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:e,keyframes:i,duration:s,type:r,ease:o,times:l}=t;if(e.playState==="idle"||e.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:m,onComplete:g,element:v,...A}=this.options,S=new GR({...A,keyframes:i,duration:s,type:r,ease:o,times:l,isGenerator:!0}),E=Kc(this.time);d.setWithVelocity(S.sample(E-vS).value,S.sample(E).value,vS)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:e,name:i,repeatDelay:s,repeatType:r,damping:o,type:l}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:d}=e.owner.getProps();return XZ()&&i&&VZ.has(i)&&!u&&!d&&!s&&r!=="mirror"&&o!==0&&l!=="inertia"}}const qZ={type:"spring",stiffness:500,damping:25,restSpeed:10},JZ=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),QZ={type:"keyframes",duration:.8},ZZ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$Z=(n,{keyframes:t})=>t.length>2?QZ:hd.has(n)?n.startsWith("scale")?JZ(t[1]):qZ:ZZ;function t$({when:n,delay:t,delayChildren:e,staggerChildren:i,staggerDirection:s,repeat:r,repeatType:o,repeatDelay:l,from:u,elapsed:d,...m}){return!!Object.keys(m).length}const VR=(n,t,e,i={},s,r)=>o=>{const l=ER(i,n)||{},u=l.delay||i.delay||0;let{elapsed:d=0}=i;d=d-Kc(u);let m={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:v=>{t.set(v),l.onUpdate&&l.onUpdate(v)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:n,motionValue:t,element:r?void 0:s};t$(l)||(m={...m,...$Z(n,m)}),m.duration&&(m.duration=Kc(m.duration)),m.repeatDelay&&(m.repeatDelay=Kc(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(g=!0)),g&&!r&&t.get()!==void 0){const v=v_(m.keyframes,l);if(v!==void 0)return Dn.update(()=>{m.onUpdate(v),m.onComplete()}),new SQ([])}return!r&&X3.supports(m)?new X3(m):new GR(m)};function e$({protectedKeys:n,needsAnimating:t},e){const i=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,i}function Mz(n,t,{delay:e=0,transitionOverride:i,type:s}={}){var r;let{transition:o=n.getDefaultTransition(),transitionEnd:l,...u}=t;i&&(o=i);const d=[],m=s&&n.animationState&&n.animationState.getState()[s];for(const g in u){const v=n.getValue(g,(r=n.latestValues[g])!==null&&r!==void 0?r:null),A=u[g];if(A===void 0||m&&e$(m,g))continue;const S={delay:e,...ER(o||{},g)};let E=!1;if(window.MotionHandoffAnimation){const _=WF(n);if(_){const w=window.MotionHandoffAnimation(_,g,Dn);w!==null&&(S.startTime=w,E=!0)}}ZE(n,g),v.start(VR(g,v,A,n.shouldReduceMotion&&YF.has(g)?{type:!1}:S,n,E));const T=v.animation;T&&d.push(T)}return l&&Promise.all(d).then(()=>{Dn.update(()=>{l&&PQ(n,l)})}),d}function rT(n,t,e={}){var i;const s=Ty(n,t,e.type==="exit"?(i=n.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:r=n.getDefaultTransition()||{}}=s||{};e.transitionOverride&&(r=e.transitionOverride);const o=s?()=>Promise.all(Mz(n,s,e)):()=>Promise.resolve(),l=n.variantChildren&&n.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:v}=r;return n$(n,t,m+d,g,v,e)}:()=>Promise.resolve(),{when:u}=r;if(u){const[d,m]=u==="beforeChildren"?[o,l]:[l,o];return d().then(()=>m())}else return Promise.all([o(),l(e.delay)])}function n$(n,t,e=0,i=0,s=1,r){const o=[],l=(n.variantChildren.size-1)*i,u=s===1?(d=0)=>d*i:(d=0)=>l-d*i;return Array.from(n.variantChildren).sort(i$).forEach((d,m)=>{d.notify("AnimationStart",t),o.push(rT(d,t,{...r,delay:e+u(m)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function i$(n,t){return n.sortNodePosition(t)}function s$(n,t,e={}){n.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(r=>rT(n,r,e));i=Promise.all(s)}else if(typeof t=="string")i=rT(n,t,e);else{const s=typeof t=="function"?Ty(n,t,e.custom):t;i=Promise.all(Mz(n,s,e))}return i.then(()=>{n.notify("AnimationComplete",t)})}function Ez(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let i=0;i<e;i++)if(t[i]!==n[i])return!1;return!0}const r$=hR.length;function Tz(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?Tz(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<r$;e++){const i=hR[e],s=n.props[i];(by(s)||s===!1)&&(t[i]=s)}return t}const a$=[...fR].reverse(),o$=fR.length;function l$(n){return t=>Promise.all(t.map(({animation:e,options:i})=>s$(n,e,i)))}function c$(n){let t=l$(n),e=j3(),i=!0;const s=u=>(d,m)=>{var g;const v=Ty(n,m,u==="exit"?(g=n.presenceContext)===null||g===void 0?void 0:g.custom:void 0);if(v){const{transition:A,transitionEnd:S,...E}=v;d={...d,...E,...S}}return d};function r(u){t=u(n)}function o(u){const{props:d}=n,m=Tz(n.parent)||{},g=[],v=new Set;let A={},S=1/0;for(let T=0;T<o$;T++){const _=a$[T],w=e[_],D=d[_]!==void 0?d[_]:m[_],L=by(D),U=_===u?w.isActive:null;U===!1&&(S=T);let P=D===m[_]&&D!==d[_]&&L;if(P&&i&&n.manuallyAnimateOnMount&&(P=!1),w.protectedKeys={...A},!w.isActive&&U===null||!D&&!w.prevProp||g_(D)||typeof D=="boolean")continue;const F=u$(w.prevProp,D);let z=F||_===u&&w.isActive&&!P&&L||T>S&&L,N=!1;const B=Array.isArray(D)?D:[D];let H=B.reduce(s(_),{});U===!1&&(H={});const{prevResolvedValues:st={}}=w,tt={...st,...H},J=et=>{z=!0,v.has(et)&&(N=!0,v.delete(et)),w.needsAnimating[et]=!0;const Q=n.getValue(et);Q&&(Q.liveStyle=!1)};for(const et in tt){const Q=H[et],At=st[et];if(A.hasOwnProperty(et))continue;let j=!1;qE(Q)&&qE(At)?j=!Ez(Q,At):j=Q!==At,j?Q!=null?J(et):v.add(et):Q!==void 0&&v.has(et)?J(et):w.protectedKeys[et]=!0}w.prevProp=D,w.prevResolvedValues=H,w.isActive&&(A={...A,...H}),i&&n.blockInitialAnimation&&(z=!1),z&&(!(P&&F)||N)&&g.push(...B.map(et=>({animation:et,options:{type:_}})))}if(v.size){const T={};if(typeof d.initial!="boolean"){const _=Ty(n,Array.isArray(d.initial)?d.initial[0]:d.initial);_&&_.transition&&(T.transition=_.transition)}v.forEach(_=>{const w=n.getBaseTarget(_),D=n.getValue(_);D&&(D.liveStyle=!0),T[_]=w??null}),g.push({animation:T})}let E=!!g.length;return i&&(d.initial===!1||d.initial===d.animate)&&!n.manuallyAnimateOnMount&&(E=!1),i=!1,E?t(g):Promise.resolve()}function l(u,d){var m;if(e[u].isActive===d)return Promise.resolve();(m=n.variantChildren)===null||m===void 0||m.forEach(v=>{var A;return(A=v.animationState)===null||A===void 0?void 0:A.setActive(u,d)}),e[u].isActive=d;const g=o(u);for(const v in e)e[v].protectedKeys={};return g}return{animateChanges:o,setActive:l,setAnimateFunction:r,getState:()=>e,reset:()=>{e=j3(),i=!0}}}function u$(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!Ez(t,n):!1}function bh(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function j3(){return{animate:bh(!0),whileInView:bh(),whileHover:bh(),whileTap:bh(),whileDrag:bh(),whileFocus:bh(),exit:bh()}}class xf{constructor(t){this.isMounted=!1,this.node=t}update(){}}class f$ extends xf{constructor(t){super(t),t.animationState||(t.animationState=c$(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();g_(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let h$=0;class d$ extends xf{constructor(){super(...arguments),this.id=h$++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);e&&!t&&s.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const p$={animation:{Feature:f$},exit:{Feature:d$}};function Ry(n,t,e,i={passive:!0}){return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e)}function rv(n){return{point:{x:n.pageX,y:n.pageY}}}const m$=n=>t=>RR(t)&&n(t,rv(t));function Zp(n,t,e,i){return Ry(n,t,m$(e),i)}function Cz({top:n,left:t,right:e,bottom:i}){return{x:{min:t,max:e},y:{min:n,max:i}}}function g$({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function y$(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),i=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:i.y,right:i.x}}const Rz=1e-4,v$=1-Rz,x$=1+Rz,wz=.01,A$=0-wz,S$=0+wz;function Or(n){return n.max-n.min}function _$(n,t,e){return Math.abs(n-t)<=e}function Y3(n,t,e,i=.5){n.origin=i,n.originPoint=Ti(t.min,t.max,n.origin),n.scale=Or(e)/Or(t),n.translate=Ti(e.min,e.max,n.origin)-n.originPoint,(n.scale>=v$&&n.scale<=x$||isNaN(n.scale))&&(n.scale=1),(n.translate>=A$&&n.translate<=S$||isNaN(n.translate))&&(n.translate=0)}function $0(n,t,e,i){Y3(n.x,t.x,e.x,i?i.originX:void 0),Y3(n.y,t.y,e.y,i?i.originY:void 0)}function W3(n,t,e){n.min=e.min+t.min,n.max=n.min+Or(t)}function b$(n,t,e){W3(n.x,t.x,e.x),W3(n.y,t.y,e.y)}function K3(n,t,e){n.min=t.min-e.min,n.max=n.min+Or(t)}function ty(n,t,e){K3(n.x,t.x,e.x),K3(n.y,t.y,e.y)}const q3=()=>({translate:0,scale:1,origin:0,originPoint:0}),$p=()=>({x:q3(),y:q3()}),J3=()=>({min:0,max:0}),Yi=()=>({x:J3(),y:J3()});function Ka(n){return[n("x"),n("y")]}function FM(n){return n===void 0||n===1}function aT({scale:n,scaleX:t,scaleY:e}){return!FM(n)||!FM(t)||!FM(e)}function Lh(n){return aT(n)||Bz(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function Bz(n){return Q3(n.x)||Q3(n.y)}function Q3(n){return n&&n!=="0%"}function xS(n,t,e){const i=n-e,s=t*i;return e+s}function Z3(n,t,e,i,s){return s!==void 0&&(n=xS(n,s,i)),xS(n,e,i)+t}function oT(n,t=0,e=1,i,s){n.min=Z3(n.min,t,e,i,s),n.max=Z3(n.max,t,e,i,s)}function Dz(n,{x:t,y:e}){oT(n.x,t.translate,t.scale,t.originPoint),oT(n.y,e.translate,e.scale,e.originPoint)}const $3=.999999999999,tL=1.0000000000001;function M$(n,t,e,i=!1){const s=e.length;if(!s)return;t.x=t.y=1;let r,o;for(let l=0;l<s;l++){r=e[l],o=r.projectionDelta;const{visualElement:u}=r.options;u&&u.props.style&&u.props.style.display==="contents"||(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&em(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Dz(n,o)),i&&Lh(r.latestValues)&&em(n,r.latestValues))}t.x<tL&&t.x>$3&&(t.x=1),t.y<tL&&t.y>$3&&(t.y=1)}function tm(n,t){n.min=n.min+t,n.max=n.max+t}function eL(n,t,e,i,s=.5){const r=Ti(n.min,n.max,s);oT(n,t,e,r,i)}function em(n,t){eL(n.x,t.x,t.scaleX,t.scale,t.originX),eL(n.y,t.y,t.scaleY,t.scale,t.originY)}function Lz(n,t){return Cz(y$(n.getBoundingClientRect(),t))}function E$(n,t,e){const i=Lz(n,e),{scroll:s}=t;return s&&(tm(i.x,s.offset.x),tm(i.y,s.offset.y)),i}const nL=(n,t)=>Math.abs(n-t);function T$(n,t){const e=nL(n.x,t.x),i=nL(n.y,t.y);return Math.sqrt(e**2+i**2)}class Oz{constructor(t,e,{transformPagePoint:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=HM(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,v=T$(m.offset,{x:0,y:0})>=3;if(!g&&!v)return;const{point:A}=m,{timestamp:S}=ws;this.history.push({...A,timestamp:S});const{onStart:E,onMove:T}=this.handlers;g||(E&&E(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,m)},this.handlePointerMove=(m,g)=>{if(m.currentTarget instanceof Element&&m.currentTarget.hasPointerCapture&&m.pointerId!==void 0)try{if(!m.currentTarget.hasPointerCapture(m.pointerId))return}catch{}this.lastMoveEvent=m,this.lastMoveEventInfo=zM(g,this.transformPagePoint),Dn.update(this.updatePoint,!0)},this.handlePointerUp=(m,g)=>{mS(m,"release"),this.end();const{onEnd:v,onSessionEnd:A,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=HM(m.type==="pointercancel"||m.type==="lostpointercapture"?this.lastMoveEventInfo:zM(g,this.transformPagePoint),this.history);this.startEvent&&v&&v(m,E),A&&A(m,E)},!RR(t))return;this.dragSnapToOrigin=s,this.handlers=e,this.transformPagePoint=i;const r=rv(t),o=zM(r,this.transformPagePoint),{point:l}=o,{timestamp:u}=ws;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=e;d&&d(t,HM(o,this.history)),mS(t,"set"),this.removeListeners=sv(Zp(t.currentTarget,"pointermove",this.handlePointerMove),Zp(t.currentTarget,"pointerup",this.handlePointerUp),Zp(t.currentTarget,"pointercancel",this.handlePointerUp),Zp(t.currentTarget,"lostpointercapture",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ko(this.updatePoint)}}function zM(n,t){return t?{point:t(n.point)}:n}function iL(n,t){return{x:n.x-t.x,y:n.y-t.y}}function HM({point:n},t){return{point:n,delta:iL(n,Uz(t)),offset:iL(n,C$(t)),velocity:R$(t,.1)}}function C$(n){return n[0]}function Uz(n){return n[n.length-1]}function R$(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,i=null;const s=Uz(n);for(;e>=0&&(i=n[e],!(s.timestamp-i.timestamp>Kc(t)));)e--;if(!i)return{x:0,y:0};const r=qc(s.timestamp-i.timestamp);if(r===0)return{x:0,y:0};const o={x:(s.x-i.x)/r,y:(s.y-i.y)/r};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function w$(n,{min:t,max:e},i){return t!==void 0&&n<t?n=i?Ti(t,n,i.min):Math.max(n,t):e!==void 0&&n>e&&(n=i?Ti(e,n,i.max):Math.min(n,e)),n}function sL(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function B$(n,{top:t,left:e,bottom:i,right:s}){return{x:sL(n.x,e,s),y:sL(n.y,t,i)}}function rL(n,t){let e=t.min-n.min,i=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,i]=[i,e]),{min:e,max:i}}function D$(n,t){return{x:rL(n.x,t.x),y:rL(n.y,t.y)}}function L$(n,t){let e=.5;const i=Or(n),s=Or(t);return s>i?e=ad(t.min,t.max-i,n.min):i>s&&(e=ad(n.min,n.max-s,t.min)),Ql(0,1,e)}function O$(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const lT=.35;function U$(n=lT){return n===!1?n=0:n===!0&&(n=lT),{x:aL(n,"left","right"),y:aL(n,"top","bottom")}}function aL(n,t,e){return{min:oL(n,t),max:oL(n,e)}}function oL(n,t){return typeof n=="number"?n:n[t]||0}const P$=new WeakMap;class N${constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Yi(),this.visualElement=t}start(t,{snapToCursor:e=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=m=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(rv(m).point)},r=(m,g)=>{const{drag:v,dragPropagation:A,onDragStart:S}=this.getProps();if(v&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=BQ(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ka(T=>{let _=this.getAxisMotionValue(T).get()||0;if(jl.test(_)){const{projection:w}=this.visualElement;if(w&&w.layout){const D=w.layout.layoutBox[T];D&&(_=Or(D)*(parseFloat(_)/100))}}this.originPoint[T]=_}),S&&Dn.postRender(()=>S(m,g)),ZE(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},o=(m,g)=>{const{dragPropagation:v,dragDirectionLock:A,onDirectionLock:S,onDrag:E}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:T}=g;if(A&&this.currentDirection===null){this.currentDirection=I$(T),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",g.point,T),this.updateAxis("y",g.point,T),this.visualElement.render(),E&&E(m,g)},l=(m,g)=>this.stop(m,g),u=()=>Ka(m=>{var g;return this.getAnimationState(m)==="paused"&&((g=this.getAxisMotionValue(m).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Oz(t,{onSessionStart:s,onStart:r,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d})}stop(t,e){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=e;this.startAnimation(s);const{onDragEnd:r}=this.getProps();r&&Dn.postRender(()=>r(t,e))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,i){const{drag:s}=this.getProps();if(!i||!VA(t,s,this.currentDirection))return;const r=this.getAxisMotionValue(t);let o=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(o=w$(o,this.constraints[t],this.elastic[t])),r.set(o)}resolveConstraints(){var t;const{dragConstraints:e,dragElastic:i}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,r=this.constraints;e&&Jp(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=B$(s.layoutBox,e):this.constraints=!1,this.elastic=U$(i),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ka(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=O$(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Jp(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const r=E$(i,s.root,this.visualElement.getTransformPagePoint());let o=D$(s.layout.layoutBox,r);if(e){const l=e(g$(o));this.hasMutatedConstraints=!!l,l&&(o=Cz(l))}return o}startAnimation(t){const{drag:e,dragMomentum:i,dragElastic:s,dragTransition:r,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},d=Ka(m=>{if(!VA(m,e,this.currentDirection))return;let g=u&&u[m]||{};o&&(g={min:0,max:0});const v=s?200:1e6,A=s?40:1e7,S={type:"inertia",velocity:i?t[m]:0,bounceStiffness:v,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...r,...g};return this.startAxisValueAnimation(m,S)});return Promise.all(d).then(l)}startAxisValueAnimation(t,e){const i=this.getAxisMotionValue(t);return ZE(this.visualElement,t),i.start(VR(t,i,0,e,this.visualElement,!1))}stopAnimation(){Ka(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ka(t=>{var e;return(e=this.getAxisMotionValue(t).animation)===null||e===void 0?void 0:e.pause()})}getAnimationState(t){var e;return(e=this.getAxisMotionValue(t).animation)===null||e===void 0?void 0:e.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[e];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Ka(e=>{const{drag:i}=this.getProps();if(!VA(e,i,this.currentDirection))return;const{projection:s}=this.visualElement,r=this.getAxisMotionValue(e);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[e];r.set(t[e]-Ti(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:i}=this.visualElement;if(!Jp(e)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ka(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const u=l.get();s[o]=L$({min:u,max:u},this.constraints[o])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Ka(o=>{if(!VA(o,t,null))return;const l=this.getAxisMotionValue(o),{min:u,max:d}=this.constraints[o];l.set(Ti(u,d,s[o]))})}addListeners(){if(!this.visualElement.current)return;P$.set(this.visualElement,this);const t=this.visualElement.current,e=Zp(t,"pointerdown",u=>{const{drag:d,dragListener:m=!0}=this.getProps();d&&m&&this.start(u)}),i=()=>{const{dragConstraints:u}=this.getProps();Jp(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,r=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Dn.read(i);const o=Ry(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(Ka(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=u[m].translate,g.set(g.get()+u[m].translate))}),this.visualElement.render())});return()=>{o(),e(),r(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:r=!1,dragElastic:o=lT,dragMomentum:l=!0}=t;return{...t,drag:e,dragDirectionLock:i,dragPropagation:s,dragConstraints:r,dragElastic:o,dragMomentum:l}}}function VA(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function I$(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class F$ extends xf{constructor(t){super(t),this.removeGroupControls=Pr,this.removeListeners=Pr,this.controls=new N$(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Pr}unmount(){this.removeGroupControls(),this.removeListeners()}}const lL=n=>(t,e)=>{n&&Dn.postRender(()=>n(t,e))};class z$ extends xf{constructor(){super(...arguments),this.removePointerDownListener=Pr}onPointerDown(t){this.session=new Oz(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:lL(t),onStart:lL(e),onMove:i,onEnd:(r,o)=>{delete this.session,s&&Dn.postRender(()=>s(r,o))}}}mount(){this.removePointerDownListener=Zp(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const c1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function cL(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const m0={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(ze.test(n))n=parseFloat(n);else return n;const e=cL(n,t.target.x),i=cL(n,t.target.y);return`${e}% ${i}%`}},H$={correct:(n,{treeScale:t,projectionDelta:e})=>{const i=n,s=hf.parse(n);if(s.length>5)return i;const r=hf.createTransformer(n),o=typeof s[0]!="number"?1:0,l=e.x.scale*t.x,u=e.y.scale*t.y;s[0+o]/=l,s[1+o]/=u;const d=Ti(l,u,.5);return typeof s[2+o]=="number"&&(s[2+o]/=d),typeof s[3+o]=="number"&&(s[3+o]/=d),r(s)}};class G$ extends W.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i,layoutId:s}=this.props,{projection:r}=t;qJ(V$),r&&(e.group&&e.group.add(r),i&&i.register&&s&&i.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),c1.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:i,drag:s,isPresent:r}=this.props,o=i.projection;return o&&(o.isPresent=r,s||t.layoutDependency!==e||e===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==r&&(r?o.promote():o.relegate()||Dn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),pR.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Pz(n){const[t,e]=yF(),i=W.useContext(lR);return ot.jsx(G$,{...n,layoutGroup:i,switchLayoutGroup:W.useContext(MF),isPresent:t,safeToRemove:e})}const V$={borderRadius:{...m0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:m0,borderTopRightRadius:m0,borderBottomLeftRadius:m0,borderBottomRightRadius:m0,boxShadow:H$};function k$(n,t,e){const i=hr(n)?n:zl(n);return i.start(VR("",i,t,e)),i.animation}function X$(n){return n instanceof SVGElement&&n.tagName!=="svg"}const j$=(n,t)=>n.depth-t.depth;class Y${constructor(){this.children=[],this.isDirty=!1}add(t){wR(this.children,t),this.isDirty=!0}remove(t){BR(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(j$),this.isDirty=!1,this.children.forEach(t)}}function W$(n,t){const e=Yl.now(),i=({timestamp:s})=>{const r=s-e;r>=t&&(Ko(i),n(r-t))};return Dn.read(i,!0),()=>Ko(i)}const Nz=["TopLeft","TopRight","BottomLeft","BottomRight"],K$=Nz.length,uL=n=>typeof n=="string"?parseFloat(n):n,fL=n=>typeof n=="number"||ze.test(n);function q$(n,t,e,i,s,r){s?(n.opacity=Ti(0,e.opacity!==void 0?e.opacity:1,J$(i)),n.opacityExit=Ti(t.opacity!==void 0?t.opacity:1,0,Q$(i))):r&&(n.opacity=Ti(t.opacity!==void 0?t.opacity:1,e.opacity!==void 0?e.opacity:1,i));for(let o=0;o<K$;o++){const l=`border${Nz[o]}Radius`;let u=hL(t,l),d=hL(e,l);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||fL(u)===fL(d)?(n[l]=Math.max(Ti(uL(u),uL(d),i),0),(jl.test(d)||jl.test(u))&&(n[l]+="%")):n[l]=d}(t.rotate||e.rotate)&&(n.rotate=Ti(t.rotate||0,e.rotate||0,i))}function hL(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const J$=Iz(0,.5,tz),Q$=Iz(.5,.95,Pr);function Iz(n,t,e){return i=>i<n?0:i>t?1:e(ad(n,t,i))}function dL(n,t){n.min=t.min,n.max=t.max}function ja(n,t){dL(n.x,t.x),dL(n.y,t.y)}function pL(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function mL(n,t,e,i,s){return n-=t,n=xS(n,1/e,i),s!==void 0&&(n=xS(n,1/s,i)),n}function Z$(n,t=0,e=1,i=.5,s,r=n,o=n){if(jl.test(t)&&(t=parseFloat(t),t=Ti(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Ti(r.min,r.max,i);n===r&&(l-=t),n.min=mL(n.min,t,e,l,s),n.max=mL(n.max,t,e,l,s)}function gL(n,t,[e,i,s],r,o){Z$(n,t[e],t[i],t[s],t.scale,r,o)}const $$=["x","scaleX","originX"],ttt=["y","scaleY","originY"];function yL(n,t,e,i){gL(n.x,t,$$,e?e.x:void 0,i?i.x:void 0),gL(n.y,t,ttt,e?e.y:void 0,i?i.y:void 0)}function vL(n){return n.translate===0&&n.scale===1}function Fz(n){return vL(n.x)&&vL(n.y)}function xL(n,t){return n.min===t.min&&n.max===t.max}function ett(n,t){return xL(n.x,t.x)&&xL(n.y,t.y)}function AL(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function zz(n,t){return AL(n.x,t.x)&&AL(n.y,t.y)}function SL(n){return Or(n.x)/Or(n.y)}function _L(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class ntt{constructor(){this.members=[]}add(t){wR(this.members,t),t.scheduleRender()}remove(t){if(BR(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(s=>t===s);if(e===0)return!1;let i;for(let s=e;s>=0;s--){const r=this.members[s];if(r.isPresent!==!1){i=r;break}}return i?(this.promote(i),!0):!1}promote(t,e){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,e&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:i}=t;e.onExitComplete&&e.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function itt(n,t,e){let i="";const s=n.x.translate/t.x,r=n.y.translate/t.y,o=(e==null?void 0:e.z)||0;if((s||r||o)&&(i=`translate3d(${s}px, ${r}px, ${o}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:d,rotate:m,rotateX:g,rotateY:v,skewX:A,skewY:S}=e;d&&(i=`perspective(${d}px) ${i}`),m&&(i+=`rotate(${m}deg) `),g&&(i+=`rotateX(${g}deg) `),v&&(i+=`rotateY(${v}deg) `),A&&(i+=`skewX(${A}deg) `),S&&(i+=`skewY(${S}deg) `)}const l=n.x.scale*t.x,u=n.y.scale*t.y;return(l!==1||u!==1)&&(i+=`scale(${l}, ${u})`),i||"none"}const GM=["","X","Y","Z"],stt={visibility:"hidden"},bL=1e3;let rtt=0;function VM(n,t,e,i){const{latestValues:s}=t;s[n]&&(e[n]=s[n],t.setStaticValue(n,0),i&&(i[n]=0))}function Hz(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=WF(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:s,layoutId:r}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",Dn,!(s||r))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&Hz(i)}function Gz({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=rtt++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ltt),this.nodes.forEach(dtt),this.nodes.forEach(ptt),this.nodes.forEach(ctt)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new Y$)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new DR),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const u=this.eventHandlers.get(o);u&&u.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=X$(o),this.instance=o;const{layoutId:u,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||u)&&(this.isLayoutDirty=!0),n){let g;const v=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=W$(v,250),c1.hasAnimatedSinceResize&&(c1.hasAnimatedSinceResize=!1,this.nodes.forEach(EL))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&m&&(u||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:A,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||m.getDefaultTransition()||xtt,{onLayoutAnimationStart:T,onLayoutAnimationComplete:_}=m.getProps(),w=!this.targetLayout||!zz(this.targetLayout,S),D=!v&&A;if(this.options.layoutRoot||this.resumeFrom||D||v&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,D);const L={...ER(E,"layout"),onPlay:T,onComplete:_};(m.shouldReduceMotion||this.options.layoutRoot)&&(L.delay=0,L.type=!1),this.startAnimation(L)}else v||EL(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ko(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(mtt),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Hz(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ML);return}this.isUpdating||this.nodes.forEach(ftt),this.isUpdating=!1,this.nodes.forEach(htt),this.nodes.forEach(att),this.nodes.forEach(ott),this.clearAllSnapshots();const l=Yl.now();ws.delta=Ql(0,1e3/60,l-ws.timestamp),ws.timestamp=l,ws.isProcessing=!0,OM.update.process(ws),OM.preRender.process(ws),OM.render.process(ws),ws.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,pR.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(utt),this.sharedNodes.forEach(gtt)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Dn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Dn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Or(this.snapshot.measuredBox.x)&&!Or(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Yi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const u=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Fz(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,m=d!==this.prevTransformTemplateValue;o&&(l||Lh(this.latestValues)||m)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return o&&(u=this.removeTransform(u)),Att(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return Yi();const u=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(Stt))){const{scroll:m}=this.root;m&&(tm(u.x,m.offset.x),tm(u.y,m.offset.y))}return u}removeElementScroll(o){var l;const u=Yi();if(ja(u,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return u;for(let d=0;d<this.path.length;d++){const m=this.path[d],{scroll:g,options:v}=m;m!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&ja(u,o),tm(u.x,g.offset.x),tm(u.y,g.offset.y))}return u}applyTransform(o,l=!1){const u=Yi();ja(u,o);for(let d=0;d<this.path.length;d++){const m=this.path[d];!l&&m.options.layoutScroll&&m.scroll&&m!==m.root&&em(u,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Lh(m.latestValues)&&em(u,m.latestValues)}return Lh(this.latestValues)&&em(u,this.latestValues),u}removeTransform(o){const l=Yi();ja(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!Lh(d.latestValues))continue;aT(d.latestValues)&&d.updateSnapshot();const m=Yi(),g=d.measurePageBox();ja(m,g),yL(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,m)}return Lh(this.latestValues)&&yL(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ws.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=ws.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yi(),this.relativeTargetOrigin=Yi(),ty(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),ja(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Yi(),this.targetWithTransforms=Yi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),b$(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ja(this.target,this.layout.layoutBox),Dz(this.target,this.targetDelta)):ja(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yi(),this.relativeTargetOrigin=Yi(),ty(this.relativeTargetOrigin,this.target,A.target),ja(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||aT(this.parent.latestValues)||Bz(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===ws.timestamp&&(d=!1),d)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;ja(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,A=this.treeScale.y;M$(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Yi());const{target:S}=l;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(pL(this.prevProjectionDelta.x,this.projectionDelta.x),pL(this.prevProjectionDelta.y,this.projectionDelta.y)),$0(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==A||!_L(this.projectionDelta.x,this.prevProjectionDelta.x)||!_L(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=$p(),this.projectionDelta=$p(),this.projectionDeltaWithTransform=$p()}setAnimationOrigin(o,l=!1){const u=this.snapshot,d=u?u.latestValues:{},m={...this.latestValues},g=$p();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const v=Yi(),A=u?u.source:void 0,S=this.layout?this.layout.source:void 0,E=A!==S,T=this.getStack(),_=!T||T.members.length<=1,w=!!(E&&!_&&this.options.crossfade===!0&&!this.path.some(vtt));this.animationProgress=0;let D;this.mixTargetDelta=L=>{const U=L/1e3;TL(g.x,o.x,U),TL(g.y,o.y,U),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ty(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ytt(this.relativeTarget,this.relativeTargetOrigin,v,U),D&&ett(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=Yi()),ja(D,this.relativeTarget)),E&&(this.animationValues=m,q$(m,d,this.latestValues,U,w,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=U},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ko(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Dn.update(()=>{c1.hasAnimatedSinceResize=!0,this.currentAnimation=k$(0,bL,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:u,layout:d,latestValues:m}=o;if(!(!l||!u||!d)){if(this!==o&&this.layout&&d&&Vz(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||Yi();const g=Or(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+g;const v=Or(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+v}ja(l,u),em(l,m),$0(this.projectionDeltaWithTransform,this.layoutCorrected,l,m)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new ntt),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const d={};u.z&&VM("z",o,d,this.animationValues);for(let m=0;m<GM.length;m++)VM(`rotate${GM[m]}`,o,d,this.animationValues),VM(`skew${GM[m]}`,o,d,this.animationValues);o.render();for(const m in d)o.setStaticValue(m,d[m]),this.animationValues&&(this.animationValues[m]=d[m]);o.scheduleRender()}getProjectionStyles(o){var l,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return stt;const d={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=o1(o==null?void 0:o.pointerEvents)||"",d.transform=m?m(this.latestValues,""):"none",d;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const E={};return this.options.layoutId&&(E.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,E.pointerEvents=o1(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Lh(this.latestValues)&&(E.transform=m?m({},""):"none",this.hasProjected=!1),E}const v=g.animationValues||g.latestValues;this.applyTransformsToTarget(),d.transform=itt(this.projectionDeltaWithTransform,this.treeScale,v),m&&(d.transform=m(v,d.transform));const{x:A,y:S}=this.projectionDelta;d.transformOrigin=`${A.origin*100}% ${S.origin*100}% 0`,g.animationValues?d.opacity=g===this?(u=(l=v.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:d.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const E in My){if(v[E]===void 0)continue;const{correct:T,applyTo:_,isCSSVariable:w}=My[E],D=d.transform==="none"?v[E]:T(v[E],g);if(_){const L=_.length;for(let U=0;U<L;U++)d[_[U]]=D}else w?this.options.visualElement.renderState.vars[E]=D:d[E]=D}return this.options.layoutId&&(d.pointerEvents=g===this?o1(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(ML),this.root.sharedNodes.clear()}}}function att(n){n.updateLayout()}function ott(n){var t;const e=((t=n.resumeFrom)===null||t===void 0?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=n.layout,{animationType:r}=n.options,o=e.source!==n.layout.source;r==="size"?Ka(g=>{const v=o?e.measuredBox[g]:e.layoutBox[g],A=Or(v);v.min=i[g].min,v.max=v.min+A}):Vz(r,e.layoutBox,i)&&Ka(g=>{const v=o?e.measuredBox[g]:e.layoutBox[g],A=Or(i[g]);v.max=v.min+A,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+A)});const l=$p();$0(l,i,e.layoutBox);const u=$p();o?$0(u,n.applyTransform(s,!0),e.measuredBox):$0(u,i,e.layoutBox);const d=!Fz(l);let m=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:A}=g;if(v&&A){const S=Yi();ty(S,e.layoutBox,v.layoutBox);const E=Yi();ty(E,i,A.layoutBox),zz(S,E)||(m=!0),g.options.layoutRoot&&(n.relativeTarget=E,n.relativeTargetOrigin=S,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:m})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function ltt(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function ctt(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function utt(n){n.clearSnapshot()}function ML(n){n.clearMeasurements()}function ftt(n){n.isLayoutDirty=!1}function htt(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function EL(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function dtt(n){n.resolveTargetDelta()}function ptt(n){n.calcProjection()}function mtt(n){n.resetSkewAndRotation()}function gtt(n){n.removeLeadSnapshot()}function TL(n,t,e){n.translate=Ti(t.translate,0,e),n.scale=Ti(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function CL(n,t,e,i){n.min=Ti(t.min,e.min,i),n.max=Ti(t.max,e.max,i)}function ytt(n,t,e,i){CL(n.x,t.x,e.x,i),CL(n.y,t.y,e.y,i)}function vtt(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const xtt={duration:.45,ease:[.4,0,.1,1]},RL=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),wL=RL("applewebkit/")&&!RL("chrome/")?Math.round:Pr;function BL(n){n.min=wL(n.min),n.max=wL(n.max)}function Att(n){BL(n.x),BL(n.y)}function Vz(n,t,e){return n==="position"||n==="preserve-aspect"&&!_$(SL(t),SL(e),.2)}function Stt(n){var t;return n!==n.root&&((t=n.scroll)===null||t===void 0?void 0:t.wasRoot)}const _tt=Gz({attachResizeListener:(n,t)=>Ry(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),kM={current:void 0},kz=Gz({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!kM.current){const n=new _tt({});n.mount(window),n.setOptions({layoutScroll:!0}),kM.current=n}return kM.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),btt={pan:{Feature:z$},drag:{Feature:F$,ProjectionNode:kz,MeasureLayout:Pz}};function DL(n,t,e){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",e==="Start");const s="onHover"+e,r=i[s];r&&Dn.postRender(()=>r(t,rv(t)))}class Mtt extends xf{mount(){const{current:t}=this.node;t&&(this.unmount=MQ(t,(e,i)=>(DL(this.node,i,"Start"),s=>DL(this.node,s,"End"))))}unmount(){}}class Ett extends xf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=sv(Ry(this.node.current,"focus",()=>this.onFocus()),Ry(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function LL(n,t,e){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",e==="Start");const s="onTap"+(e==="End"?"":e),r=i[s];r&&Dn.postRender(()=>r(t,rv(t)))}class Ttt extends xf{mount(){const{current:t}=this.node;t&&(this.unmount=RQ(t,(e,i)=>(LL(this.node,i,"Start"),(s,{success:r})=>LL(this.node,s,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const cT=new WeakMap,XM=new WeakMap,Ctt=n=>{const t=cT.get(n.target);t&&t(n)},Rtt=n=>{n.forEach(Ctt)};function wtt({root:n,...t}){const e=n||document;XM.has(e)||XM.set(e,{});const i=XM.get(e),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(Rtt,{root:n,...t})),i[s]}function Btt(n,t,e){const i=wtt(t);return cT.set(n,e),i.observe(n),()=>{cT.delete(n),i.unobserve(n)}}const Dtt={some:0,all:1};class Ltt extends xf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:i,amount:s="some",once:r}=t,o={root:e?e.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:Dtt[s]},l=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,r&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),v=d?m:g;v&&v(u)};return Btt(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(Ott(t,e))&&this.startObserver()}unmount(){}}function Ott({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const Utt={inView:{Feature:Ltt},tap:{Feature:Ttt},focus:{Feature:Ett},hover:{Feature:Mtt}},Ptt={layout:{ProjectionNode:kz,MeasureLayout:Pz}},uT={current:null},Xz={current:!1};function Ntt(){if(Xz.current=!0,!!cR)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>uT.current=n.matches;n.addListener(t),t()}else uT.current=!1}const Itt=[...pz,cr,hf],Ftt=n=>Itt.find(dz(n)),ztt=new WeakMap;function Htt(n,t,e){for(const i in t){const s=t[i],r=e[i];if(hr(s))n.addValue(i,s);else if(hr(r))n.addValue(i,zl(s,{owner:n}));else if(r!==s)if(n.hasValue(i)){const o=n.getValue(i);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=n.getStaticValue(i);n.addValue(i,zl(o!==void 0?o:s,{owner:n}))}}for(const i in e)t[i]===void 0&&n.removeValue(i);return t}const OL=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Gtt{scrapeMotionValuesFromProps(t,e,i){return{}}constructor({parent:t,props:e,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:r,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=FR,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=Yl.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,Dn.render(this.render,!1,!0))};const{latestValues:u,renderState:d,onUpdate:m}=o;this.onUpdate=m,this.latestValues=u,this.baseTarget={...u},this.initialValues=e.initial?{...u}:{},this.renderState=d,this.parent=t,this.props=e,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!r,this.isControllingVariants=y_(e),this.isVariantNode=_F(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(e,{},this);for(const A in v){const S=v[A];u[A]!==void 0&&hr(S)&&S.set(u[A],!1)}}mount(t){this.current=t,ztt.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,i)=>this.bindToMotionValue(i,e)),Xz.current||Ntt(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:uT.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ko(this.notifyUpdate),Ko(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=hd.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=e.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Dn.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),r=e.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{s(),r(),o&&o(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Am){const e=Am[t];if(!e)continue;const{isEnabled:i,Feature:s}=e;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Yi()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let i=0;i<OL.length;i++){const s=OL[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const r="on"+s,o=t[r];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=Htt(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const i=this.values.get(t);e!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&e!==void 0&&(i=zl(e===null?void 0:e,{owner:this}),this.addValue(t,i)),i}readValue(t,e){var i;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(i=this.getBaseTargetFromProps(this.props,t))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(fz(s)||nz(s))?s=parseFloat(s):!Ftt(s)&&hf.test(e)&&(s=lz(t,e)),this.setBaseTarget(t,hr(s)?s.get():s)),hr(s)?s.get():s}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var e;const{initial:i}=this.props;let s;if(typeof i=="string"||typeof i=="object"){const o=bR(this.props,i,(e=this.presenceContext)===null||e===void 0?void 0:e.custom);o&&(s=o[t])}if(i&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!hr(r)?r:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new DR),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}}class jz extends Gtt{constructor(){super(...arguments),this.KeyframeResolver=mz}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:i}){delete e[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;hr(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function Vtt(n){return window.getComputedStyle(n)}class ktt extends jz{constructor(){super(...arguments),this.type="html",this.renderInstance=OF}readValueFromInstance(t,e){if(hd.has(e)){const i=IR(e);return i&&i.default||0}else{const i=Vtt(t),s=(mR(e)?i.getPropertyValue(e):i[e])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:e}){return Lz(t,e)}build(t,e,i){vR(t,e,i.transformTemplate)}scrapeMotionValuesFromProps(t,e,i){return MR(t,e,i)}}class Xtt extends jz{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Yi,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&LF(this.current,this.renderState)}}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(hd.has(e)){const i=IR(e);return i&&i.default||0}return e=UF.has(e)?e:dR(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,i){return NF(t,e,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&Dn.postRender(this.updateDimensions)}build(t,e,i){SR(t,e,this.isSVGTag,i.transformTemplate)}renderInstance(t,e,i,s){PF(t,e,i,s)}mount(t){this.isSVGTag=_R(t.tagName),super.mount(t)}}const jtt=(n,t)=>AR(n)?new Xtt(t):new ktt(t,{allowProjection:n!==W.Fragment}),Ytt=xQ({...p$,...Utt,...btt,...Ptt},jtt),u1=PJ(Ytt);function Yz(n,t){let e;const i=()=>{const{currentTime:s}=t,o=(s===null?0:s.value)/100;e!==o&&n(o),e=o};return Dn.update(i,!0),()=>Ko(i)}const f1=new WeakMap;let tf;function Wtt(n,t){if(t){const{inlineSize:e,blockSize:i}=t[0];return{width:e,height:i}}else return n instanceof SVGElement&&"getBBox"in n?n.getBBox():{width:n.offsetWidth,height:n.offsetHeight}}function Ktt({target:n,contentRect:t,borderBoxSize:e}){var i;(i=f1.get(n))===null||i===void 0||i.forEach(s=>{s({target:n,contentSize:t,get size(){return Wtt(n,e)}})})}function qtt(n){n.forEach(Ktt)}function Jtt(){typeof ResizeObserver>"u"||(tf=new ResizeObserver(qtt))}function Qtt(n,t){tf||Jtt();const e=kF(n);return e.forEach(i=>{let s=f1.get(i);s||(s=new Set,f1.set(i,s)),s.add(t),tf==null||tf.observe(i)}),()=>{e.forEach(i=>{const s=f1.get(i);s==null||s.delete(t),s!=null&&s.size||tf==null||tf.unobserve(i)})}}const h1=new Set;let ey;function Ztt(){ey=()=>{const n={width:window.innerWidth,height:window.innerHeight},t={target:window,size:n,contentSize:n};h1.forEach(e=>e(t))},window.addEventListener("resize",ey)}function $tt(n){return h1.add(n),ey||Ztt(),()=>{h1.delete(n),!h1.size&&ey&&(ey=void 0)}}function tet(n,t){return typeof n=="function"?$tt(n):Qtt(n,t)}const eet=50,UL=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),net=()=>({time:0,x:UL(),y:UL()}),iet={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function PL(n,t,e,i){const s=e[t],{length:r,position:o}=iet[t],l=s.current,u=e.time;s.current=n[`scroll${o}`],s.scrollLength=n[`scroll${r}`]-n[`client${r}`],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=ad(0,s.scrollLength,s.current);const d=i-u;s.velocity=d>eet?0:LR(s.current-l,d)}function set(n,t,e){PL(n,"x",t,e),PL(n,"y",t,e),t.time=e}function ret(n,t){const e={x:0,y:0};let i=n;for(;i&&i!==t;)if(i instanceof HTMLElement)e.x+=i.offsetLeft,e.y+=i.offsetTop,i=i.offsetParent;else if(i.tagName==="svg"){const s=i.getBoundingClientRect();i=i.parentElement;const r=i.getBoundingClientRect();e.x+=s.left-r.left,e.y+=s.top-r.top}else if(i instanceof SVGGraphicsElement){const{x:s,y:r}=i.getBBox();e.x+=s,e.y+=r;let o=null,l=i.parentNode;for(;!o;)l.tagName==="svg"&&(o=l),l=i.parentNode;i=o}else break;return e}const fT={start:0,center:.5,end:1};function NL(n,t,e=0){let i=0;if(n in fT&&(n=fT[n]),typeof n=="string"){const s=parseFloat(n);n.endsWith("px")?i=s:n.endsWith("%")?n=s/100:n.endsWith("vw")?i=s/100*document.documentElement.clientWidth:n.endsWith("vh")?i=s/100*document.documentElement.clientHeight:n=s}return typeof n=="number"&&(i=t*n),e+i}const aet=[0,0];function oet(n,t,e,i){let s=Array.isArray(n)?n:aet,r=0,o=0;return typeof n=="number"?s=[n,n]:typeof n=="string"&&(n=n.trim(),n.includes(" ")?s=n.split(" "):s=[n,fT[n]?n:"0"]),r=NL(s[0],e,i),o=NL(s[1],t),r-o}const cet={All:[[0,0],[1,1]]},uet={x:0,y:0};function fet(n){return"getBBox"in n&&n.tagName!=="svg"?n.getBBox():{width:n.clientWidth,height:n.clientHeight}}function het(n,t,e){const{offset:i=cet.All}=e,{target:s=n,axis:r="y"}=e,o=r==="y"?"height":"width",l=s!==n?ret(s,n):uet,u=s===n?{width:n.scrollWidth,height:n.scrollHeight}:fet(s),d={width:n.clientWidth,height:n.clientHeight};t[r].offset.length=0;let m=!t[r].interpolate;const g=i.length;for(let v=0;v<g;v++){const A=oet(i[v],d[o],u[o],l[r]);!m&&A!==t[r].interpolatorOffsets[v]&&(m=!0),t[r].offset[v]=A}m&&(t[r].interpolate=HR(t[r].offset,_z(i),{clamp:!1}),t[r].interpolatorOffsets=[...t[r].offset]),t[r].progress=Ql(0,1,t[r].interpolate(t[r].current))}function det(n,t=n,e){if(e.x.targetOffset=0,e.y.targetOffset=0,t!==n){let i=t;for(;i&&i!==n;)e.x.targetOffset+=i.offsetLeft,e.y.targetOffset+=i.offsetTop,i=i.offsetParent}e.x.targetLength=t===n?t.scrollWidth:t.clientWidth,e.y.targetLength=t===n?t.scrollHeight:t.clientHeight,e.x.containerLength=n.clientWidth,e.y.containerLength=n.clientHeight}function pet(n,t,e,i={}){return{measure:()=>det(n,i.target,e),update:s=>{set(n,e,s),(i.offset||i.target)&&het(n,e,i)},notify:()=>t(e)}}const g0=new WeakMap,IL=new WeakMap,jM=new WeakMap,FL=n=>n===document.documentElement?window:n;function kR(n,{container:t=document.documentElement,...e}={}){let i=jM.get(t);i||(i=new Set,jM.set(t,i));const s=net(),r=pet(t,n,s,e);if(i.add(r),!g0.has(t)){const l=()=>{for(const v of i)v.measure()},u=()=>{for(const v of i)v.update(ws.timestamp)},d=()=>{for(const v of i)v.notify()},m=()=>{Dn.read(l,!1,!0),Dn.read(u,!1,!0),Dn.update(d,!1,!0)};g0.set(t,m);const g=FL(t);window.addEventListener("resize",m,{passive:!0}),t!==document.documentElement&&IL.set(t,tet(t,m)),g.addEventListener("scroll",m,{passive:!0})}const o=g0.get(t);return Dn.read(o,!1,!0),()=>{var l;Ko(o);const u=jM.get(t);if(!u||(u.delete(r),u.size))return;const d=g0.get(t);g0.delete(t),d&&(FL(t).removeEventListener("scroll",d),(l=IL.get(t))===null||l===void 0||l(),window.removeEventListener("resize",d))}}function met({source:n,container:t,axis:e="y"}){n&&(t=n);const i={value:0},s=kR(r=>{i.value=r[e].progress*100},{container:t,axis:e});return{currentTime:i,cancel:s}}const YM=new Map;function Wz({source:n,container:t=document.documentElement,axis:e="y"}={}){n&&(t=n),YM.has(t)||YM.set(t,{});const i=YM.get(t);return i[e]||(i[e]=IF()?new ScrollTimeline({source:t,axis:e}):met({source:t,axis:e})),i[e]}function get(n){return n.length===2}function Kz(n){return n&&(n.target||n.offset)}function yet(n,t){return get(n)||Kz(t)?kR(e=>{n(e[t.axis].progress,e)},t):Yz(n,Wz(t))}function vet(n,t){if(n.flatten(),Kz(t))return n.pause(),kR(e=>{n.time=n.duration*e[t.axis].progress},t);{const e=Wz(t);return n.attachTimeline?n.attachTimeline(e,i=>(i.pause(),Yz(s=>{i.time=i.duration*s},e))):Pr}}function xet(n,{axis:t="y",...e}={}){const i={axis:t,...e};return typeof n=="function"?yet(n,i):vet(n,i)}function zL(n,t){CJ(!!(!t||t.current))}const Aet=()=>({scrollX:zl(0),scrollY:zl(0),scrollXProgress:zl(0),scrollYProgress:zl(0)});function _et({container:n,target:t,layoutEffect:e=!0,...i}={}){const s=Nm(Aet);return(e?p_:W.useEffect)(()=>(zL("target",t),zL("container",n),xet((o,{x:l,y:u})=>{s.scrollX.set(l.current),s.scrollXProgress.set(l.progress),s.scrollY.set(u.current),s.scrollYProgress.set(u.progress)},{...i,container:(n==null?void 0:n.current)||void 0,target:(t==null?void 0:t.current)||void 0})),[n,t,JSON.stringify(i.offset)]),s}function bet(n){const t=Nm(()=>zl(n)),{isStatic:e}=W.useContext(d_);if(e){const[,i]=W.useState(n);W.useEffect(()=>t.on("change",i),[])}return t}function qz(n,t){const e=bet(t()),i=()=>e.set(t());return i(),p_(()=>{const s=()=>Dn.preRender(i,!1,!0),r=n.map(o=>o.on("change",s));return()=>{r.forEach(o=>o()),Ko(i)}}),e}const Met=n=>n&&typeof n=="object"&&n.mix,Eet=n=>Met(n)?n.mix:void 0;function Tet(...n){const t=!Array.isArray(n[0]),e=t?0:-1,i=n[0+e],s=n[1+e],r=n[2+e],o=n[3+e],l=HR(s,r,{mixer:Eet(r[0]),...o});return t?l(i):l}function Cet(n){Q0.current=[],n();const t=qz(Q0.current,n);return Q0.current=void 0,t}function HL(n,t,e,i){if(typeof n=="function")return Cet(n);const s=typeof t=="function"?t:Tet(t,e,i);return Array.isArray(n)?GL(n,s):GL([n],([r])=>s(r))}function GL(n,t){const e=Nm(()=>[]);return qz(n,()=>{e.length=0;const i=n.length;for(let s=0;s<i;s++)e[s]=n[s].get();return t(e)})}const XR="-",Ret=n=>{const t=Bet(n),{conflictingClassGroups:e,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:o=>{const l=o.split(XR);return l[0]===""&&l.length!==1&&l.shift(),Jz(l,t)||wet(o)},getConflictingClassGroupIds:(o,l)=>{const u=e[o]||[];return l&&i[o]?[...u,...i[o]]:u}}},Jz=(n,t)=>{var o;if(n.length===0)return t.classGroupId;const e=n[0],i=t.nextPart.get(e),s=i?Jz(n.slice(1),i):void 0;if(s)return s;if(t.validators.length===0)return;const r=n.join(XR);return(o=t.validators.find(({validator:l})=>l(r)))==null?void 0:o.classGroupId},VL=/^\[(.+)\]$/,wet=n=>{if(VL.test(n)){const t=VL.exec(n)[1],e=t==null?void 0:t.substring(0,t.indexOf(":"));if(e)return"arbitrary.."+e}},Bet=n=>{const{theme:t,classGroups:e}=n,i={nextPart:new Map,validators:[]};for(const s in e)hT(e[s],i,s,t);return i},hT=(n,t,e,i)=>{n.forEach(s=>{if(typeof s=="string"){const r=s===""?t:kL(t,s);r.classGroupId=e;return}if(typeof s=="function"){if(Det(s)){hT(s(i),t,e,i);return}t.validators.push({validator:s,classGroupId:e});return}Object.entries(s).forEach(([r,o])=>{hT(o,kL(t,r),e,i)})})},kL=(n,t)=>{let e=n;return t.split(XR).forEach(i=>{e.nextPart.has(i)||e.nextPart.set(i,{nextPart:new Map,validators:[]}),e=e.nextPart.get(i)}),e},Det=n=>n.isThemeGetter,Let=n=>{if(n<1)return{get:()=>{},set:()=>{}};let t=0,e=new Map,i=new Map;const s=(r,o)=>{e.set(r,o),t++,t>n&&(t=0,i=e,e=new Map)};return{get(r){let o=e.get(r);if(o!==void 0)return o;if((o=i.get(r))!==void 0)return s(r,o),o},set(r,o){e.has(r)?e.set(r,o):s(r,o)}}},dT="!",pT=":",Oet=pT.length,Uet=n=>{const{prefix:t,experimentalParseClassName:e}=n;let i=s=>{const r=[];let o=0,l=0,u=0,d;for(let S=0;S<s.length;S++){let E=s[S];if(o===0&&l===0){if(E===pT){r.push(s.slice(u,S)),u=S+Oet;continue}if(E==="/"){d=S;continue}}E==="["?o++:E==="]"?o--:E==="("?l++:E===")"&&l--}const m=r.length===0?s:s.substring(u),g=Pet(m),v=g!==m,A=d&&d>u?d-u:void 0;return{modifiers:r,hasImportantModifier:v,baseClassName:g,maybePostfixModifierPosition:A}};if(t){const s=t+pT,r=i;i=o=>o.startsWith(s)?r(o.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(e){const s=i;i=r=>e({className:r,parseClassName:s})}return i},Pet=n=>n.endsWith(dT)?n.substring(0,n.length-1):n.startsWith(dT)?n.substring(1):n,Net=n=>{const t=Object.fromEntries(n.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const s=[];let r=[];return i.forEach(o=>{o[0]==="["||t[o]?(s.push(...r.sort(),o),r=[]):r.push(o)}),s.push(...r.sort()),s}},Iet=n=>({cache:Let(n.cacheSize),parseClassName:Uet(n),sortModifiers:Net(n),...Ret(n)}),Fet=/\s+/,zet=(n,t)=>{const{parseClassName:e,getClassGroupId:i,getConflictingClassGroupIds:s,sortModifiers:r}=t,o=[],l=n.trim().split(Fet);let u="";for(let d=l.length-1;d>=0;d-=1){const m=l[d],{isExternal:g,modifiers:v,hasImportantModifier:A,baseClassName:S,maybePostfixModifierPosition:E}=e(m);if(g){u=m+(u.length>0?" "+u:u);continue}let T=!!E,_=i(T?S.substring(0,E):S);if(!_){if(!T){u=m+(u.length>0?" "+u:u);continue}if(_=i(S),!_){u=m+(u.length>0?" "+u:u);continue}T=!1}const w=r(v).join(":"),D=A?w+dT:w,L=D+_;if(o.includes(L))continue;o.push(L);const U=s(_,T);for(let P=0;P<U.length;++P){const F=U[P];o.push(D+F)}u=m+(u.length>0?" "+u:u)}return u};function Het(){let n=0,t,e,i="";for(;n<arguments.length;)(t=arguments[n++])&&(e=Qz(t))&&(i&&(i+=" "),i+=e);return i}const Qz=n=>{if(typeof n=="string")return n;let t,e="";for(let i=0;i<n.length;i++)n[i]&&(t=Qz(n[i]))&&(e&&(e+=" "),e+=t);return e};function Get(n,...t){let e,i,s,r=o;function o(u){const d=t.reduce((m,g)=>g(m),n());return e=Iet(d),i=e.cache.get,s=e.cache.set,r=l,l(u)}function l(u){const d=i(u);if(d)return d;const m=zet(u,e);return s(u,m),m}return function(){return r(Het.apply(null,arguments))}}const Cs=n=>{const t=e=>e[n]||[];return t.isThemeGetter=!0,t},Zz=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,$z=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Vet=/^\d+\/\d+$/,ket=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Xet=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,jet=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Yet=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Wet=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Dp=n=>Vet.test(n),vn=n=>!!n&&!Number.isNaN(Number(n)),Mh=n=>!!n&&Number.isInteger(Number(n)),XL=n=>n.endsWith("%")&&vn(n.slice(0,-1)),qu=n=>ket.test(n),Ket=()=>!0,qet=n=>Xet.test(n)&&!jet.test(n),jR=()=>!1,Jet=n=>Yet.test(n),Qet=n=>Wet.test(n),Zet=n=>!ge(n)&&!ye(n),$et=n=>zm(n,nH,jR),ge=n=>Zz.test(n),Eh=n=>zm(n,iH,qet),WM=n=>zm(n,unt,vn),tnt=n=>zm(n,tH,jR),ent=n=>zm(n,eH,Qet),nnt=n=>zm(n,jR,Jet),ye=n=>$z.test(n),kA=n=>Hm(n,iH),int=n=>Hm(n,fnt),snt=n=>Hm(n,tH),rnt=n=>Hm(n,nH),ant=n=>Hm(n,eH),ont=n=>Hm(n,hnt,!0),zm=(n,t,e)=>{const i=Zz.exec(n);return i?i[1]?t(i[1]):e(i[2]):!1},Hm=(n,t,e=!1)=>{const i=$z.exec(n);return i?i[1]?t(i[1]):e:!1},tH=n=>n==="position",lnt=new Set(["image","url"]),eH=n=>lnt.has(n),cnt=new Set(["length","size","percentage"]),nH=n=>cnt.has(n),iH=n=>n==="length",unt=n=>n==="number",fnt=n=>n==="family-name",hnt=n=>n==="shadow",dnt=()=>{const n=Cs("color"),t=Cs("font"),e=Cs("text"),i=Cs("font-weight"),s=Cs("tracking"),r=Cs("leading"),o=Cs("breakpoint"),l=Cs("container"),u=Cs("spacing"),d=Cs("radius"),m=Cs("shadow"),g=Cs("inset-shadow"),v=Cs("drop-shadow"),A=Cs("blur"),S=Cs("perspective"),E=Cs("aspect"),T=Cs("ease"),_=Cs("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto","contain","none"],P=()=>[Dp,"px","full","auto",ye,ge,u],F=()=>[Mh,"none","subgrid",ye,ge],z=()=>["auto",{span:["full",Mh,ye,ge]},ye,ge],N=()=>[Mh,"auto",ye,ge],B=()=>["auto","min","max","fr",ye,ge],H=()=>[ye,ge,u],st=()=>["start","end","center","between","around","evenly","stretch","baseline"],tt=()=>["start","end","center","stretch"],J=()=>[ye,ge,u],lt=()=>["px",...J()],$=()=>["px","auto",...J()],et=()=>[Dp,"auto","px","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",ye,ge,u],Q=()=>[n,ye,ge],At=()=>[XL,Eh],j=()=>["","none","full",d,ye,ge],rt=()=>["",vn,kA,Eh],Tt=()=>["solid","dashed","dotted","double"],Ft=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],it=()=>["","none",A,ye,ge],Et=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ye,ge],Ut=()=>["none",vn,ye,ge],Ht=()=>["none",vn,ye,ge],Xt=()=>[vn,ye,ge],xe=()=>[Dp,"full","px",ye,ge,u];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[qu],breakpoint:[qu],color:[Ket],container:[qu],"drop-shadow":[qu],ease:["in","out","in-out"],font:[Zet],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[qu],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[qu],shadow:[qu],spacing:[vn],text:[qu],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Dp,ge,ye,E]}],container:["container"],columns:[{columns:[vn,ge,ye,l]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...D(),ge,ye]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[Mh,"auto",ye,ge]}],basis:[{basis:[Dp,"full","auto",ye,ge,l,u]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[vn,Dp,"auto","initial","none",ge]}],grow:[{grow:["",vn,ye,ge]}],shrink:[{shrink:["",vn,ye,ge]}],order:[{order:[Mh,"first","last","none",ye,ge]}],"grid-cols":[{"grid-cols":F()}],"col-start-end":[{col:z()}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":F()}],"row-start-end":[{row:z()}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":B()}],"auto-rows":[{"auto-rows":B()}],gap:[{gap:H()}],"gap-x":[{"gap-x":H()}],"gap-y":[{"gap-y":H()}],"justify-content":[{justify:[...st(),"normal"]}],"justify-items":[{"justify-items":[...tt(),"normal"]}],"justify-self":[{"justify-self":["auto",...tt()]}],"align-content":[{content:["normal",...st()]}],"align-items":[{items:[...tt(),"baseline"]}],"align-self":[{self:["auto",...tt(),"baseline"]}],"place-content":[{"place-content":st()}],"place-items":[{"place-items":[...tt(),"baseline"]}],"place-self":[{"place-self":["auto",...tt()]}],p:[{p:lt()}],px:[{px:lt()}],py:[{py:lt()}],ps:[{ps:lt()}],pe:[{pe:lt()}],pt:[{pt:lt()}],pr:[{pr:lt()}],pb:[{pb:lt()}],pl:[{pl:lt()}],m:[{m:$()}],mx:[{mx:$()}],my:[{my:$()}],ms:[{ms:$()}],me:[{me:$()}],mt:[{mt:$()}],mr:[{mr:$()}],mb:[{mb:$()}],ml:[{ml:$()}],"space-x":[{"space-x":J()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":J()}],"space-y-reverse":["space-y-reverse"],size:[{size:et()}],w:[{w:[l,"screen",...et()]}],"min-w":[{"min-w":[l,"screen","none",...et()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...et()]}],h:[{h:["screen",...et()]}],"min-h":[{"min-h":["screen","none",...et()]}],"max-h":[{"max-h":["screen",...et()]}],"font-size":[{text:["base",e,kA,Eh]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,ye,WM]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",XL,ge]}],"font-family":[{font:[int,ge,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,ye,ge]}],"line-clamp":[{"line-clamp":[vn,"none",ye,WM]}],leading:[{leading:[ye,ge,r,u]}],"list-image":[{"list-image":["none",ye,ge]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ye,ge]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Q()}],"text-color":[{text:Q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Tt(),"wavy"]}],"text-decoration-thickness":[{decoration:[vn,"from-font","auto",ye,Eh]}],"text-decoration-color":[{decoration:Q()}],"underline-offset":[{"underline-offset":[vn,"auto",ye,ge]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:["px",...J()]}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ye,ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ye,ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...D(),snt,tnt]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",rnt,$et]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Mh,ye,ge],radial:["",ye,ge],conic:[Mh,ye,ge]},ant,ent]}],"bg-color":[{bg:Q()}],"gradient-from-pos":[{from:At()}],"gradient-via-pos":[{via:At()}],"gradient-to-pos":[{to:At()}],"gradient-from":[{from:Q()}],"gradient-via":[{via:Q()}],"gradient-to":[{to:Q()}],rounded:[{rounded:j()}],"rounded-s":[{"rounded-s":j()}],"rounded-e":[{"rounded-e":j()}],"rounded-t":[{"rounded-t":j()}],"rounded-r":[{"rounded-r":j()}],"rounded-b":[{"rounded-b":j()}],"rounded-l":[{"rounded-l":j()}],"rounded-ss":[{"rounded-ss":j()}],"rounded-se":[{"rounded-se":j()}],"rounded-ee":[{"rounded-ee":j()}],"rounded-es":[{"rounded-es":j()}],"rounded-tl":[{"rounded-tl":j()}],"rounded-tr":[{"rounded-tr":j()}],"rounded-br":[{"rounded-br":j()}],"rounded-bl":[{"rounded-bl":j()}],"border-w":[{border:rt()}],"border-w-x":[{"border-x":rt()}],"border-w-y":[{"border-y":rt()}],"border-w-s":[{"border-s":rt()}],"border-w-e":[{"border-e":rt()}],"border-w-t":[{"border-t":rt()}],"border-w-r":[{"border-r":rt()}],"border-w-b":[{"border-b":rt()}],"border-w-l":[{"border-l":rt()}],"divide-x":[{"divide-x":rt()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":rt()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Tt(),"hidden","none"]}],"divide-style":[{divide:[...Tt(),"hidden","none"]}],"border-color":[{border:Q()}],"border-color-x":[{"border-x":Q()}],"border-color-y":[{"border-y":Q()}],"border-color-s":[{"border-s":Q()}],"border-color-e":[{"border-e":Q()}],"border-color-t":[{"border-t":Q()}],"border-color-r":[{"border-r":Q()}],"border-color-b":[{"border-b":Q()}],"border-color-l":[{"border-l":Q()}],"divide-color":[{divide:Q()}],"outline-style":[{outline:[...Tt(),"none","hidden"]}],"outline-offset":[{"outline-offset":[vn,ye,ge]}],"outline-w":[{outline:["",vn,kA,Eh]}],"outline-color":[{outline:[n]}],shadow:[{shadow:["","none",m,ont,nnt]}],"shadow-color":[{shadow:Q()}],"inset-shadow":[{"inset-shadow":["none",ye,ge,g]}],"inset-shadow-color":[{"inset-shadow":Q()}],"ring-w":[{ring:rt()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Q()}],"ring-offset-w":[{"ring-offset":[vn,Eh]}],"ring-offset-color":[{"ring-offset":Q()}],"inset-ring-w":[{"inset-ring":rt()}],"inset-ring-color":[{"inset-ring":Q()}],opacity:[{opacity:[vn,ye,ge]}],"mix-blend":[{"mix-blend":[...Ft(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ft()}],filter:[{filter:["","none",ye,ge]}],blur:[{blur:it()}],brightness:[{brightness:[vn,ye,ge]}],contrast:[{contrast:[vn,ye,ge]}],"drop-shadow":[{"drop-shadow":["","none",v,ye,ge]}],grayscale:[{grayscale:["",vn,ye,ge]}],"hue-rotate":[{"hue-rotate":[vn,ye,ge]}],invert:[{invert:["",vn,ye,ge]}],saturate:[{saturate:[vn,ye,ge]}],sepia:[{sepia:["",vn,ye,ge]}],"backdrop-filter":[{"backdrop-filter":["","none",ye,ge]}],"backdrop-blur":[{"backdrop-blur":it()}],"backdrop-brightness":[{"backdrop-brightness":[vn,ye,ge]}],"backdrop-contrast":[{"backdrop-contrast":[vn,ye,ge]}],"backdrop-grayscale":[{"backdrop-grayscale":["",vn,ye,ge]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[vn,ye,ge]}],"backdrop-invert":[{"backdrop-invert":["",vn,ye,ge]}],"backdrop-opacity":[{"backdrop-opacity":[vn,ye,ge]}],"backdrop-saturate":[{"backdrop-saturate":[vn,ye,ge]}],"backdrop-sepia":[{"backdrop-sepia":["",vn,ye,ge]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":J()}],"border-spacing-x":[{"border-spacing-x":J()}],"border-spacing-y":[{"border-spacing-y":J()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ye,ge]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[vn,"initial",ye,ge]}],ease:[{ease:["linear","initial",T,ye,ge]}],delay:[{delay:[vn,ye,ge]}],animate:[{animate:["none",_,ye,ge]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,ye,ge]}],"perspective-origin":[{"perspective-origin":Et()}],rotate:[{rotate:Ut()}],"rotate-x":[{"rotate-x":Ut()}],"rotate-y":[{"rotate-y":Ut()}],"rotate-z":[{"rotate-z":Ut()}],scale:[{scale:Ht()}],"scale-x":[{"scale-x":Ht()}],"scale-y":[{"scale-y":Ht()}],"scale-z":[{"scale-z":Ht()}],"scale-3d":["scale-3d"],skew:[{skew:Xt()}],"skew-x":[{"skew-x":Xt()}],"skew-y":[{"skew-y":Xt()}],transform:[{transform:[ye,ge,"","none","gpu","cpu"]}],"transform-origin":[{origin:Et()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:xe()}],"translate-x":[{"translate-x":xe()}],"translate-y":[{"translate-y":xe()}],"translate-z":[{"translate-z":xe()}],"translate-none":["translate-none"],accent:[{accent:Q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ye,ge]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":J()}],"scroll-mx":[{"scroll-mx":J()}],"scroll-my":[{"scroll-my":J()}],"scroll-ms":[{"scroll-ms":J()}],"scroll-me":[{"scroll-me":J()}],"scroll-mt":[{"scroll-mt":J()}],"scroll-mr":[{"scroll-mr":J()}],"scroll-mb":[{"scroll-mb":J()}],"scroll-ml":[{"scroll-ml":J()}],"scroll-p":[{"scroll-p":J()}],"scroll-px":[{"scroll-px":J()}],"scroll-py":[{"scroll-py":J()}],"scroll-ps":[{"scroll-ps":J()}],"scroll-pe":[{"scroll-pe":J()}],"scroll-pt":[{"scroll-pt":J()}],"scroll-pr":[{"scroll-pr":J()}],"scroll-pb":[{"scroll-pb":J()}],"scroll-pl":[{"scroll-pl":J()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ye,ge]}],fill:[{fill:["none",...Q()]}],"stroke-w":[{stroke:[vn,kA,Eh,WM]}],stroke:[{stroke:["none",...Q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},wy=Get(dnt),jL=({words:n,duration:t=3e3,className:e})=>{const[i,s]=W.useState(n[0]),[r,o]=W.useState(!1),l=W.useCallback(()=>{const u=n[n.indexOf(i)+1]||n[0];s(u),o(!0)},[i,n]);return W.useEffect(()=>{r||setTimeout(()=>{l()},t)},[r,t,l]),ot.jsx(TJ,{onExitComplete:()=>{o(!1)},children:ot.jsx(u1.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:100,damping:10},exit:{opacity:0,y:-40,x:40,filter:"blur(8px)",scale:2,position:"absolute"},className:wy("z-10 inline-block relative text-left",e),children:i.split(" ").map((u,d)=>ot.jsxs(u1.span,{initial:{opacity:0,y:10,filter:"blur(8px)"},animate:{opacity:1,y:0,filter:"blur(0px)"},transition:{delay:d*.3,duration:.3},className:"inline-block whitespace-nowrap",children:[u.split("").map((m,g)=>ot.jsx(u1.span,{initial:{opacity:0,y:10,filter:"blur(8px)"},animate:{opacity:1,y:0,filter:"blur(0px)"},transition:{delay:d*.3+g*.05,duration:.2},className:"inline-block",children:m},u+g)),ot.jsx("span",{className:"inline-block",children:" "})]},u+d))},i)})},pnt=()=>{const n=["Secure","Modern","Scalable"],t={hidden:{opacity:0,x:-50},visible:{opacity:1,x:0}};return ot.jsxs("div",{className:"z-10 mt-20 text-center md:mt-40 md:text-left rounded-3xl bg-clip-text",children:[ot.jsxs("div",{className:"flex-col hidden md:flex c-space",children:[ot.jsx(Bs.h1,{className:"text-4xl font-medium",variants:t,initial:"hidden",animate:"visible",transition:{delay:1},children:"Hi I'm Sara"}),ot.jsxs("div",{className:"flex flex-col items-start",children:[ot.jsxs(Bs.p,{className:"text-5xl font-medium text-neutral-300",variants:t,initial:"hidden",animate:"visible",transition:{delay:1.2},children:["A Full-Stack Developer ",ot.jsx("br",{})," Dedicated to Crafting"]}),ot.jsx(Bs.div,{variants:t,initial:"hidden",animate:"visible",transition:{delay:1.5},children:ot.jsx(jL,{words:n,className:"font-black text-white text-8xl"})}),ot.jsx(Bs.p,{className:"text-4xl font-medium text-neutral-300",variants:t,initial:"hidden",animate:"visible",transition:{delay:1.8},children:"Web Solutions"})]})]}),ot.jsxs("div",{className:"flex- flex-col space-y-6 md:hidden",children:[ot.jsx(Bs.p,{className:"text-4xl font-medium",variants:t,initial:"hidden",animate:"visible",transition:{delay:1},children:"Hi,I'm Sara"}),ot.jsxs("div",{children:[ot.jsx(Bs.p,{className:"text-5xl font-black text-neutral-300",variants:t,initial:"hidden",animate:"visible",transition:{delay:1.2},children:"Building"}),ot.jsx(Bs.div,{variants:t,initial:"hidden",animate:"visible",transition:{delay:1.5},children:ot.jsx(jL,{words:n,className:"font-bold text-white text-7xl"})}),ot.jsx(Bs.p,{className:"text-4xl font-black text-neutral300",variants:t,initial:"hidden",animate:"visible",transition:{delay:1.8},children:"Web Applications"})]})]})]})},mnt=()=>{const{scrollYProgress:n}=Z6(),t=fC(n,{damping:50}),e=jx(t,[0,.5],["0%","70%"]),i=jx(t,[0,.5],["0%","-20%"]),s=jx(t,[0,.5],["0%","30%"]),r=jx(t,[0,.5],["0%","0%"]),o="/asfapo/";return ot.jsx("section",{className:"absolute inset-0 bg-black/40",children:ot.jsxs("div",{className:"relative h-screen overflow-y-hidden",children:[ot.jsx("div",{className:"absolute inset-0 w-full h-screen -z-50",style:{backgroundImage:`url(${o}assets/sky.jpg)`,backgroundPosition:"bottom",backgroundSize:"cover"}}),ot.jsx(Bs.div,{className:"absolute inset-0 -z-40",style:{backgroundImage:`url(${o}assets/mountain-3.png)`,backgroundPosition:"bottom",backgroundSize:"cover",y:e}}),ot.jsx(Bs.div,{className:"absolute inset-0 -z-30",style:{backgroundImage:`url(${o}assets/planets.png)`,backgroundPosition:"bottom",backgroundSize:"cover",x:i}}),ot.jsx(Bs.div,{className:"absolute inset-0 -z-20",style:{backgroundImage:`url(${o}assets/mountain-2.png)`,backgroundPosition:"bottom",backgroundSize:"cover",y:s}}),ot.jsx(Bs.div,{className:"absolute inset-0 -z-10",style:{backgroundImage:`url(${o}assets/mountain-1.png)`,backgroundPosition:"bottom",backgroundSize:"cover",y:r}})]})})};function mT(){return mT=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},mT.apply(null,arguments)}const av=new K,YR=new K,gnt=new K,YL=new It;function ynt(n,t,e){const i=av.setFromMatrixPosition(n.matrixWorld);i.project(t);const s=e.width/2,r=e.height/2;return[i.x*s+s,-(i.y*r)+r]}function vnt(n,t){const e=av.setFromMatrixPosition(n.matrixWorld),i=YR.setFromMatrixPosition(t.matrixWorld),s=e.sub(i),r=t.getWorldDirection(gnt);return s.angleTo(r)>Math.PI/2}function xnt(n,t,e,i){const s=av.setFromMatrixPosition(n.matrixWorld),r=s.clone();r.project(t),YL.set(r.x,r.y),e.setFromCamera(YL,t);const o=e.intersectObjects(i,!0);if(o.length){const l=o[0].distance;return s.distanceTo(e.ray.origin)<l}return!0}function Ant(n,t){if(t instanceof vf)return t.zoom;if(t instanceof Wi){const e=av.setFromMatrixPosition(n.matrixWorld),i=YR.setFromMatrixPosition(t.matrixWorld),s=t.fov*Math.PI/180,r=e.distanceTo(i);return 1/(2*Math.tan(s/2)*r)}else return 1}function Snt(n,t,e){if(t instanceof Wi||t instanceof vf){const i=av.setFromMatrixPosition(n.matrixWorld),s=YR.setFromMatrixPosition(t.matrixWorld),r=i.distanceTo(s),o=(e[1]-e[0])/(t.far-t.near),l=e[1]-o*t.far;return Math.round(o*r+l)}}const gT=n=>Math.abs(n)<1e-10?0:n;function sH(n,t,e=""){let i="matrix3d(";for(let s=0;s!==16;s++)i+=gT(t[s]*n.elements[s])+(s!==15?",":")");return e+i}const _nt=(n=>t=>sH(t,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),bnt=(n=>(t,e)=>sH(t,n(e),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function Mnt(n){return n&&typeof n=="object"&&"current"in n}const Ent=W.forwardRef(({children:n,eps:t=.001,style:e,className:i,prepend:s,center:r,fullscreen:o,portal:l,distanceFactor:u,sprite:d=!1,transform:m=!1,occlude:g,onOcclude:v,castShadow:A,receiveShadow:S,material:E,geometry:T,zIndexRange:_=[16777271,0],calculatePosition:w=ynt,as:D="div",wrapperClass:L,pointerEvents:U="auto",...P},F)=>{const{gl:z,camera:N,scene:B,size:H,raycaster:st,events:tt,viewport:J}=qq(),[lt]=W.useState(()=>document.createElement(D)),$=W.useRef(null),et=W.useRef(null),Q=W.useRef(0),At=W.useRef([0,0]),j=W.useRef(null),rt=W.useRef(null),Tt=(l==null?void 0:l.current)||tt.connected||z.domElement.parentNode,Ft=W.useRef(null),it=W.useRef(!1),Et=W.useMemo(()=>g&&g!=="blending"||Array.isArray(g)&&g.length&&Mnt(g[0]),[g]);W.useLayoutEffect(()=>{const Wt=z.domElement;g&&g==="blending"?(Wt.style.zIndex=`${Math.floor(_[0]/2)}`,Wt.style.position="absolute",Wt.style.pointerEvents="none"):(Wt.style.zIndex=null,Wt.style.position=null,Wt.style.pointerEvents=null)},[g]),W.useLayoutEffect(()=>{if(et.current){const Wt=$.current=vU.createRoot(lt);if(B.updateMatrixWorld(),m)lt.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const ue=w(et.current,N,H);lt.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${ue[0]}px,${ue[1]}px,0);transform-origin:0 0;`}return Tt&&(s?Tt.prepend(lt):Tt.appendChild(lt)),()=>{Tt&&Tt.removeChild(lt),Wt.unmount()}}},[Tt,m]),W.useLayoutEffect(()=>{L&&(lt.className=L)},[L]);const Ut=W.useMemo(()=>m?{position:"absolute",top:0,left:0,width:H.width,height:H.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:r?"translate3d(-50%,-50%,0)":"none",...o&&{top:-H.height/2,left:-H.width/2,width:H.width,height:H.height},...e},[e,r,o,H,m]),Ht=W.useMemo(()=>({position:"absolute",pointerEvents:U}),[U]);W.useLayoutEffect(()=>{if(it.current=!1,m){var Wt;(Wt=$.current)==null||Wt.render(W.createElement("div",{ref:j,style:Ut},W.createElement("div",{ref:rt,style:Ht},W.createElement("div",{ref:F,className:i,style:e,children:n}))))}else{var ue;(ue=$.current)==null||ue.render(W.createElement("div",{ref:F,style:Ut,className:i,children:n}))}});const Xt=W.useRef(!0);tv(Wt=>{if(et.current){N.updateMatrixWorld(),et.current.updateWorldMatrix(!0,!1);const ue=m?At.current:w(et.current,N,H);if(m||Math.abs(Q.current-N.zoom)>t||Math.abs(At.current[0]-ue[0])>t||Math.abs(At.current[1]-ue[1])>t){const Pt=vnt(et.current,N);let Bt=!1;Et&&(Array.isArray(g)?Bt=g.map($t=>$t.current):g!=="blending"&&(Bt=[B]));const q=Xt.current;if(Bt){const $t=xnt(et.current,N,st,Bt);Xt.current=$t&&!Pt}else Xt.current=!Pt;q!==Xt.current&&(v?v(!Xt.current):lt.style.display=Xt.current?"block":"none");const he=Math.floor(_[0]/2),Vt=g?Et?[_[0],he]:[he-1,0]:_;if(lt.style.zIndex=`${Snt(et.current,N,Vt)}`,m){const[$t,Qt]=[H.width/2,H.height/2],_e=N.projectionMatrix.elements[5]*Qt,{isOrthographicCamera:Zt,top:Y,left:G,bottom:yt,right:Ct}=N,Gt=_nt(N.matrixWorldInverse),Dt=Zt?`scale(${_e})translate(${gT(-(Ct+G)/2)}px,${gT((Y+yt)/2)}px)`:`translateZ(${_e}px)`;let fe=et.current.matrixWorld;d&&(fe=N.matrixWorldInverse.clone().transpose().copyPosition(fe).scale(et.current.scale),fe.elements[3]=fe.elements[7]=fe.elements[11]=0,fe.elements[15]=1),lt.style.width=H.width+"px",lt.style.height=H.height+"px",lt.style.perspective=Zt?"":`${_e}px`,j.current&&rt.current&&(j.current.style.transform=`${Dt}${Gt}translate(${$t}px,${Qt}px)`,rt.current.style.transform=bnt(fe,1/((u||10)/400)))}else{const $t=u===void 0?1:Ant(et.current,N)*u;lt.style.transform=`translate3d(${ue[0]}px,${ue[1]}px,0) scale(${$t})`}At.current=ue,Q.current=N.zoom}}if(!Et&&Ft.current&&!it.current)if(m){if(j.current){const ue=j.current.children[0];if(ue!=null&&ue.clientWidth&&ue!=null&&ue.clientHeight){const{isOrthographicCamera:Pt}=N;if(Pt||T)P.scale&&(Array.isArray(P.scale)?P.scale instanceof K?Ft.current.scale.copy(P.scale.clone().divideScalar(1)):Ft.current.scale.set(1/P.scale[0],1/P.scale[1],1/P.scale[2]):Ft.current.scale.setScalar(1/P.scale));else{const Bt=(u||10)/400,q=ue.clientWidth*Bt,he=ue.clientHeight*Bt;Ft.current.scale.set(q,he,1)}it.current=!0}}}else{const ue=lt.children[0];if(ue!=null&&ue.clientWidth&&ue!=null&&ue.clientHeight){const Pt=1/J.factor,Bt=ue.clientWidth*Pt,q=ue.clientHeight*Pt;Ft.current.scale.set(Bt,q,1),it.current=!0}Ft.current.lookAt(Wt.camera.position)}});const xe=W.useMemo(()=>({vertexShader:m?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[m]);return W.createElement("group",mT({},P,{ref:et}),g&&!Et&&W.createElement("mesh",{castShadow:A,receiveShadow:S,ref:Ft},T||W.createElement("planeGeometry",null),E||W.createElement("shaderMaterial",{side:Qa,vertexShader:xe.vertexShader,fragmentShader:xe.fragmentShader})))}),Tnt=n=>n;function Cnt(n,t=Tnt){const e=lm.useSyncExternalStore(n.subscribe,()=>t(n.getState()),()=>t(n.getInitialState()));return lm.useDebugValue(e),e}const WL=n=>{const t=qI(n),e=i=>Cnt(t,i);return Object.assign(e,t),e},Rnt=n=>n?WL(n):WL;let y0=0;const wnt=Rnt(n=>(Kp.onStart=(t,e,i)=>{n({active:!0,item:t,loaded:e,total:i,progress:(e-y0)/(i-y0)*100})},Kp.onLoad=()=>{n({active:!1})},Kp.onError=t=>n(e=>({errors:[...e.errors,t]})),Kp.onProgress=(t,e,i)=>{e===i&&(y0=i),n({active:!0,item:t,loaded:e,total:i,progress:(e-y0)/(i-y0)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function ny(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function yT(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}function Bnt(n,t){if(n){if(typeof n=="string")return yT(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return yT(n,t)}}function Dnt(n){if(Array.isArray(n))return yT(n)}function Lnt(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Ont(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Unt(n){return Dnt(n)||Lnt(n)||Bnt(n)||Ont()}new It;new It;function Pnt(n,t,e){return Math.max(t,Math.min(e,n))}function Nnt(n,t){return Pnt(n-Math.floor(n/t)*t,0,t)}function Int(n,t){var e=Nnt(t-n,Math.PI*2);return e>Math.PI&&(e-=Math.PI*2),e}function rH(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}var Ya=function n(t,e,i){var s=this;rH(this,n),ny(this,"dot2",function(r,o){return s.x*r+s.y*o}),ny(this,"dot3",function(r,o,l){return s.x*r+s.y*o+s.z*l}),this.x=t,this.y=e,this.z=i},Fnt=[new Ya(1,1,0),new Ya(-1,1,0),new Ya(1,-1,0),new Ya(-1,-1,0),new Ya(1,0,1),new Ya(-1,0,1),new Ya(1,0,-1),new Ya(-1,0,-1),new Ya(0,1,1),new Ya(0,-1,1),new Ya(0,1,-1),new Ya(0,-1,-1)],KL=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],qL=new Array(512),JL=new Array(512),znt=function(t){t>0&&t<1&&(t*=65536),t=Math.floor(t),t<256&&(t|=t<<8);for(var e=0;e<256;e++){var i;e&1?i=KL[e]^t&255:i=KL[e]^t>>8&255,qL[e]=qL[e+256]=i,JL[e]=JL[e+256]=Fnt[i%12]}};znt(0);function Hnt(n){if(typeof n=="number")n=Math.abs(n);else if(typeof n=="string"){var t=n;n=0;for(var e=0;e<t.length;e++)n=(n+(e+1)*(t.charCodeAt(e)%96))%2147483647}return n===0&&(n=311),n}function QL(n){var t=Hnt(n);return function(){var e=t*48271%2147483647;return t=e,e/2147483647}}var Gnt=function n(t){var e=this;rH(this,n),ny(this,"seed",0),ny(this,"init",function(i){e.seed=i,e.value=QL(i)}),ny(this,"value",QL(this.seed)),this.init(t)};new Gnt(Math.random());var Vnt=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.01,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return i/Math.atan(1/e)*Math.atan(Math.sin(2*Math.PI*t*s)/e)},aH=function(t){return 1/(1+t+.48*t*t+.235*t*t*t)},knt=function(t){return t},Xnt={in:function(t){return 1-Math.cos(t*Math.PI/2)},out:function(t){return Math.sin(t*Math.PI/2)},inOut:function(t){return-(Math.cos(Math.PI*t)-1)/2}},jnt={in:function(t){return t*t*t},out:function(t){return 1-Math.pow(1-t,3)},inOut:function(t){return t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2}},Ynt={in:function(t){return t*t*t*t*t},out:function(t){return 1-Math.pow(1-t,5)},inOut:function(t){return t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2}},Wnt={in:function(t){return 1-Math.sqrt(1-Math.pow(t,2))},out:function(t){return Math.sqrt(1-Math.pow(t-1,2))},inOut:function(t){return t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2}},Knt={in:function(t){return t*t*t*t},out:function(t){return 1- --t*t*t*t},inOut:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t}},qnt={in:function(t){return t===0?0:Math.pow(2,10*t-10)},out:function(t){return t===1?1:1-Math.pow(2,-10*t)},inOut:function(t){return t===0?0:t===1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2}};function cs(n,t,e){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.25,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.01,r=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:aH,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:.001,u="velocity_"+t;if(n.__damp===void 0&&(n.__damp={}),n.__damp[u]===void 0&&(n.__damp[u]=0),Math.abs(n[t]-e)<=l)return n[t]=e,!1;i=Math.max(1e-4,i);var d=2/i,m=o(d*s),g=n[t]-e,v=e,A=r*i;g=Math.min(Math.max(g,-A),A),e=n[t]-g;var S=(n.__damp[u]+d*g)*s;n.__damp[u]=(n.__damp[u]-d*S)*m;var E=e+(g+S)*m;return v-n[t]>0==E>v&&(E=v,n.__damp[u]=(E-v)/s),n[t]=E,!0}var Jnt=function(t){return t&&t.isCamera},Qnt=function(t){return t&&t.isLight},v0=new K,ZL=new Ji,$L=new Ji,x0=new Be,KM=new K;function Znt(n,t,e,i,s,r,o){typeof t=="number"?v0.setScalar(t):Array.isArray(t)?v0.set(t[0],t[1],t[2]):v0.copy(t);var l=n.parent;n.updateWorldMatrix(!0,!1),KM.setFromMatrixPosition(n.matrixWorld),Jnt(n)||Qnt(n)?x0.lookAt(KM,v0,n.up):x0.lookAt(v0,KM,n.up),AS(n.quaternion,$L.setFromRotationMatrix(x0),e,i,s,r,o),l&&(x0.extractRotation(l.matrixWorld),ZL.setFromRotationMatrix(x0),AS(n.quaternion,$L.copy(n.quaternion).premultiply(ZL.invert()),e,i,s,r,o))}function sm(n,t,e,i,s,r,o,l){return cs(n,t,n[t]+Int(n[t],e),i,s,r,o,l)}var A0=new It,tO,eO;function $nt(n,t,e,i,s,r,o){return typeof t=="number"?A0.setScalar(t):Array.isArray(t)?A0.set(t[0],t[1]):A0.copy(t),tO=cs(n,"x",A0.x,e,i,s,r,o),eO=cs(n,"y",A0.y,e,i,s,r,o),tO||eO}var Lp=new K,nO,iO,sO;function vT(n,t,e,i,s,r,o){return typeof t=="number"?Lp.setScalar(t):Array.isArray(t)?Lp.set(t[0],t[1],t[2]):Lp.copy(t),nO=cs(n,"x",Lp.x,e,i,s,r,o),iO=cs(n,"y",Lp.y,e,i,s,r,o),sO=cs(n,"z",Lp.z,e,i,s,r,o),nO||iO||sO}var Th=new mn,rO,aO,oO,lO;function tit(n,t,e,i,s,r,o){return typeof t=="number"?Th.setScalar(t):Array.isArray(t)?Th.set(t[0],t[1],t[2],t[3]):Th.copy(t),rO=cs(n,"x",Th.x,e,i,s,r,o),aO=cs(n,"y",Th.y,e,i,s,r,o),oO=cs(n,"z",Th.z,e,i,s,r,o),lO=cs(n,"w",Th.w,e,i,s,r,o),rO||aO||oO||lO}var S0=new ea,cO,uO,fO;function eit(n,t,e,i,s,r,o){return Array.isArray(t)?S0.set(t[0],t[1],t[2],t[3]):S0.copy(t),cO=sm(n,"x",S0.x,e,i,s,r,o),uO=sm(n,"y",S0.y,e,i,s,r,o),fO=sm(n,"z",S0.z,e,i,s,r,o),cO||uO||fO}var Op=new ie,hO,dO,pO;function nit(n,t,e,i,s,r,o){return t instanceof ie?Op.copy(t):Array.isArray(t)?Op.setRGB(t[0],t[1],t[2]):Op.set(t),hO=cs(n,"r",Op.r,e,i,s,r,o),dO=cs(n,"g",Op.g,e,i,s,r,o),pO=cs(n,"b",Op.b,e,i,s,r,o),hO||dO||pO}var Fo=new Ji,Pc=new mn,mO=new mn,_0=new mn,gO,yO,vO,xO;function AS(n,t,e,i,s,r,o){var l=n;Array.isArray(t)?Fo.set(t[0],t[1],t[2],t[3]):Fo.copy(t);var u=n.dot(Fo)>0?1:-1;return Fo.x*=u,Fo.y*=u,Fo.z*=u,Fo.w*=u,gO=cs(n,"x",Fo.x,e,i,s,r,o),yO=cs(n,"y",Fo.y,e,i,s,r,o),vO=cs(n,"z",Fo.z,e,i,s,r,o),xO=cs(n,"w",Fo.w,e,i,s,r,o),Pc.set(n.x,n.y,n.z,n.w).normalize(),mO.set(l.__damp.velocity_x,l.__damp.velocity_y,l.__damp.velocity_z,l.__damp.velocity_w),_0.copy(Pc).multiplyScalar(mO.dot(Pc)/Pc.dot(Pc)),l.__damp.velocity_x-=_0.x,l.__damp.velocity_y-=_0.y,l.__damp.velocity_z-=_0.z,l.__damp.velocity_w-=_0.w,n.set(Pc.x,Pc.y,Pc.z,Pc.w),gO||yO||vO||xO}var b0=new HI,AO,SO,_O;function iit(n,t,e,i,s,r,o){return Array.isArray(t)?b0.set(t[0],t[1],t[2]):b0.copy(t),AO=cs(n,"radius",b0.radius,e,i,s,r,o),SO=sm(n,"phi",b0.phi,e,i,s,r,o),_O=sm(n,"theta",b0.theta,e,i,s,r,o),AO||SO||_O}var XA=new Be,bO=new K,MO=new Ji,EO=new K,TO,CO,RO;function sit(n,t,e,i,s,r,o){var l=n;return l.__damp===void 0&&(l.__damp={position:new K,rotation:new Ji,scale:new K},n.decompose(l.__damp.position,l.__damp.rotation,l.__damp.scale)),Array.isArray(t)?XA.set.apply(XA,Unt(t)):XA.copy(t),XA.decompose(bO,MO,EO),TO=vT(l.__damp.position,bO,e,i,s,r,o),CO=AS(l.__damp.rotation,MO,e,i,s,r,o),RO=vT(l.__damp.scale,EO,e,i,s,r,o),n.compose(l.__damp.position,l.__damp.rotation,l.__damp.scale),TO||CO||RO}var rit=Object.freeze({__proto__:null,rsqw:Vnt,exp:aH,linear:knt,sine:Xnt,cubic:jnt,quint:Ynt,circ:Wnt,quart:Knt,expo:qnt,damp:cs,dampLookAt:Znt,dampAngle:sm,damp2:$nt,damp3:vT,damp4:tit,dampE:eit,dampC:nit,dampQ:AS,dampS:iit,dampM:sit});const ait=parseInt(Gy.replace(/\D+/g,""));function wO(n,t){if(t===LN)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(t===rS||t===bC){let e=n.getIndex();if(e===null){const o=[],l=n.getAttribute("position");if(l!==void 0){for(let u=0;u<l.count;u++)o.push(u);n.setIndex(o),e=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=e.count-2,s=[];if(e)if(t===rS)for(let o=1;o<=i;o++)s.push(e.getX(0)),s.push(e.getX(o)),s.push(e.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(s.push(e.getX(o)),s.push(e.getX(o+1)),s.push(e.getX(o+2))):(s.push(e.getX(o+2)),s.push(e.getX(o+1)),s.push(e.getX(o)));s.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const r=n.clone();return r.setIndex(s),r.clearGroups(),r}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),n}function SS(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);let t="";for(let e=0,i=n.length;e<i;e++)t+=String.fromCharCode(n[e]);try{return decodeURIComponent(escape(t))}catch{return t}}const kh="srgb",Jc="srgb-linear",BO=3001,oit=3e3;class WR extends gr{constructor(t){super(t),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(e){return new hit(e)}),this.register(function(e){return new dit(e)}),this.register(function(e){return new _it(e)}),this.register(function(e){return new bit(e)}),this.register(function(e){return new Mit(e)}),this.register(function(e){return new mit(e)}),this.register(function(e){return new git(e)}),this.register(function(e){return new yit(e)}),this.register(function(e){return new vit(e)}),this.register(function(e){return new fit(e)}),this.register(function(e){return new xit(e)}),this.register(function(e){return new pit(e)}),this.register(function(e){return new Sit(e)}),this.register(function(e){return new Ait(e)}),this.register(function(e){return new cit(e)}),this.register(function(e){return new Eit(e)}),this.register(function(e){return new Tit(e)})}load(t,e,i,s){const r=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const d=rf.extractUrlBase(t);o=rf.resolveURL(d,this.path)}else o=rf.extractUrlBase(t);this.manager.itemStart(t);const l=function(d){s?s(d):console.error(d),r.manager.itemError(t),r.manager.itemEnd(t)},u=new Ta(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(t,function(d){try{r.parse(d,o,function(m){e(m),r.manager.itemEnd(t)},l)}catch(m){l(m)}},i,l)}setDRACOLoader(t){return this.dracoLoader=t,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(t){return this.ktx2Loader=t,this}setMeshoptDecoder(t){return this.meshoptDecoder=t,this}register(t){return this.pluginCallbacks.indexOf(t)===-1&&this.pluginCallbacks.push(t),this}unregister(t){return this.pluginCallbacks.indexOf(t)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t),1),this}parse(t,e,i,s){let r;const o={},l={};if(typeof t=="string")r=JSON.parse(t);else if(t instanceof ArrayBuffer)if(SS(new Uint8Array(t.slice(0,4)))===oH){try{o[pn.KHR_BINARY_GLTF]=new Cit(t)}catch(m){s&&s(m);return}r=JSON.parse(o[pn.KHR_BINARY_GLTF].content)}else r=JSON.parse(SS(new Uint8Array(t)));else r=t;if(r.asset===void 0||r.asset.version[0]<2){s&&s(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const u=new Hit(r,{path:e||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let d=0;d<this.pluginCallbacks.length;d++){const m=this.pluginCallbacks[d](u);m.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),l[m.name]=m,o[m.name]=!0}if(r.extensionsUsed)for(let d=0;d<r.extensionsUsed.length;++d){const m=r.extensionsUsed[d],g=r.extensionsRequired||[];switch(m){case pn.KHR_MATERIALS_UNLIT:o[m]=new uit;break;case pn.KHR_DRACO_MESH_COMPRESSION:o[m]=new Rit(r,this.dracoLoader);break;case pn.KHR_TEXTURE_TRANSFORM:o[m]=new wit;break;case pn.KHR_MESH_QUANTIZATION:o[m]=new Bit;break;default:g.indexOf(m)>=0&&l[m]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+m+'".')}}u.setExtensions(o),u.setPlugins(l),u.parse(i,s)}parseAsync(t,e){const i=this;return new Promise(function(s,r){i.parse(t,e,s,r)})}}function lit(){let n={};return{get:function(t){return n[t]},add:function(t,e){n[t]=e},remove:function(t){delete n[t]},removeAll:function(){n={}}}}const pn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class cit{constructor(t){this.parser=t,this.name=pn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const t=this.parser,e=this.parser.json.nodes||[];for(let i=0,s=e.length;i<s;i++){const r=e[i];r.extensions&&r.extensions[this.name]&&r.extensions[this.name].light!==void 0&&t._addNodeRef(this.cache,r.extensions[this.name].light)}}_loadLight(t){const e=this.parser,i="light:"+t;let s=e.cache.get(i);if(s)return s;const r=e.json,u=((r.extensions&&r.extensions[this.name]||{}).lights||[])[t];let d;const m=new ie(16777215);u.color!==void 0&&m.setRGB(u.color[0],u.color[1],u.color[2],Jc);const g=u.range!==void 0?u.range:0;switch(u.type){case"directional":d=new QC(m),d.target.position.set(0,0,-1),d.add(d.target);break;case"point":d=new JC(m),d.distance=g;break;case"spot":d=new qC(m),d.distance=g,u.spot=u.spot||{},u.spot.innerConeAngle=u.spot.innerConeAngle!==void 0?u.spot.innerConeAngle:0,u.spot.outerConeAngle=u.spot.outerConeAngle!==void 0?u.spot.outerConeAngle:Math.PI/4,d.angle=u.spot.outerConeAngle,d.penumbra=1-u.spot.innerConeAngle/u.spot.outerConeAngle,d.target.position.set(0,0,-1),d.add(d.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+u.type)}return d.position.set(0,0,0),d.decay=2,Fc(d,u),u.intensity!==void 0&&(d.intensity=u.intensity),d.name=e.createUniqueName(u.name||"light_"+t),s=Promise.resolve(d),e.cache.add(i,s),s}getDependency(t,e){if(t==="light")return this._loadLight(e)}createNodeAttachment(t){const e=this,i=this.parser,r=i.json.nodes[t],l=(r.extensions&&r.extensions[this.name]||{}).light;return l===void 0?null:this._loadLight(l).then(function(u){return i._getNodeRef(e.cache,l,u)})}}class uit{constructor(){this.name=pn.KHR_MATERIALS_UNLIT}getMaterialType(){return _a}extendParams(t,e,i){const s=[];t.color=new ie(1,1,1),t.opacity=1;const r=e.pbrMetallicRoughness;if(r){if(Array.isArray(r.baseColorFactor)){const o=r.baseColorFactor;t.color.setRGB(o[0],o[1],o[2],Jc),t.opacity=o[3]}r.baseColorTexture!==void 0&&s.push(i.assignTexture(t,"map",r.baseColorTexture,kh))}return Promise.all(s)}}class fit{constructor(t){this.parser=t,this.name=pn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(t,e){const s=this.parser.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=s.extensions[this.name].emissiveStrength;return r!==void 0&&(e.emissiveIntensity=r),Promise.resolve()}}class hit{constructor(t){this.parser=t,this.name=pn.KHR_MATERIALS_CLEARCOAT}getMaterialType(t){const i=this.parser.json.materials[t];return!i.extensions||!i.extensions[this.name]?null:$a}extendMaterialParams(t,e){const i=this.parser,s=i.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];if(o.clearcoatFactor!==void 0&&(e.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&r.push(i.assignTexture(e,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(e.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&r.push(i.assignTexture(e,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(r.push(i.assignTexture(e,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const l=o.clearcoatNormalTexture.scale;e.clearcoatNormalScale=new It(l,l)}return Promise.all(r)}}class dit{constructor(t){this.parser=t,this.name=pn.KHR_MATERIALS_DISPERSION}getMaterialType(t){const i=this.parser.json.materials[t];return!i.extensions||!i.extensions[this.name]?null:$a}extendMaterialParams(t,e){const s=this.parser.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=s.extensions[this.name];return e.dispersion=r.dispersion!==void 0?r.dispersion:0,Promise.resolve()}}class pit{constructor(t){this.parser=t,this.name=pn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(t){const i=this.parser.json.materials[t];return!i.extensions||!i.extensions[this.name]?null:$a}extendMaterialParams(t,e){const i=this.parser,s=i.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];return o.iridescenceFactor!==void 0&&(e.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&r.push(i.assignTexture(e,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(e.iridescenceIOR=o.iridescenceIor),e.iridescenceThicknessRange===void 0&&(e.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(e.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(e.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&r.push(i.assignTexture(e,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(r)}}class mit{constructor(t){this.parser=t,this.name=pn.KHR_MATERIALS_SHEEN}getMaterialType(t){const i=this.parser.json.materials[t];return!i.extensions||!i.extensions[this.name]?null:$a}extendMaterialParams(t,e){const i=this.parser,s=i.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[];e.sheenColor=new ie(0,0,0),e.sheenRoughness=0,e.sheen=1;const o=s.extensions[this.name];if(o.sheenColorFactor!==void 0){const l=o.sheenColorFactor;e.sheenColor.setRGB(l[0],l[1],l[2],Jc)}return o.sheenRoughnessFactor!==void 0&&(e.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&r.push(i.assignTexture(e,"sheenColorMap",o.sheenColorTexture,kh)),o.sheenRoughnessTexture!==void 0&&r.push(i.assignTexture(e,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(r)}}class git{constructor(t){this.parser=t,this.name=pn.KHR_MATERIALS_TRANSMISSION}getMaterialType(t){const i=this.parser.json.materials[t];return!i.extensions||!i.extensions[this.name]?null:$a}extendMaterialParams(t,e){const i=this.parser,s=i.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];return o.transmissionFactor!==void 0&&(e.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&r.push(i.assignTexture(e,"transmissionMap",o.transmissionTexture)),Promise.all(r)}}class yit{constructor(t){this.parser=t,this.name=pn.KHR_MATERIALS_VOLUME}getMaterialType(t){const i=this.parser.json.materials[t];return!i.extensions||!i.extensions[this.name]?null:$a}extendMaterialParams(t,e){const i=this.parser,s=i.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];e.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&r.push(i.assignTexture(e,"thicknessMap",o.thicknessTexture)),e.attenuationDistance=o.attenuationDistance||1/0;const l=o.attenuationColor||[1,1,1];return e.attenuationColor=new ie().setRGB(l[0],l[1],l[2],Jc),Promise.all(r)}}class vit{constructor(t){this.parser=t,this.name=pn.KHR_MATERIALS_IOR}getMaterialType(t){const i=this.parser.json.materials[t];return!i.extensions||!i.extensions[this.name]?null:$a}extendMaterialParams(t,e){const s=this.parser.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=s.extensions[this.name];return e.ior=r.ior!==void 0?r.ior:1.5,Promise.resolve()}}class xit{constructor(t){this.parser=t,this.name=pn.KHR_MATERIALS_SPECULAR}getMaterialType(t){const i=this.parser.json.materials[t];return!i.extensions||!i.extensions[this.name]?null:$a}extendMaterialParams(t,e){const i=this.parser,s=i.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];e.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&r.push(i.assignTexture(e,"specularIntensityMap",o.specularTexture));const l=o.specularColorFactor||[1,1,1];return e.specularColor=new ie().setRGB(l[0],l[1],l[2],Jc),o.specularColorTexture!==void 0&&r.push(i.assignTexture(e,"specularColorMap",o.specularColorTexture,kh)),Promise.all(r)}}class Ait{constructor(t){this.parser=t,this.name=pn.EXT_MATERIALS_BUMP}getMaterialType(t){const i=this.parser.json.materials[t];return!i.extensions||!i.extensions[this.name]?null:$a}extendMaterialParams(t,e){const i=this.parser,s=i.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];return e.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&r.push(i.assignTexture(e,"bumpMap",o.bumpTexture)),Promise.all(r)}}class Sit{constructor(t){this.parser=t,this.name=pn.KHR_MATERIALS_ANISOTROPY}getMaterialType(t){const i=this.parser.json.materials[t];return!i.extensions||!i.extensions[this.name]?null:$a}extendMaterialParams(t,e){const i=this.parser,s=i.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];return o.anisotropyStrength!==void 0&&(e.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(e.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&r.push(i.assignTexture(e,"anisotropyMap",o.anisotropyTexture)),Promise.all(r)}}class _it{constructor(t){this.parser=t,this.name=pn.KHR_TEXTURE_BASISU}loadTexture(t){const e=this.parser,i=e.json,s=i.textures[t];if(!s.extensions||!s.extensions[this.name])return null;const r=s.extensions[this.name],o=e.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return e.loadTextureImage(t,r.source,o)}}class bit{constructor(t){this.parser=t,this.name=pn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(t){const e=this.name,i=this.parser,s=i.json,r=s.textures[t];if(!r.extensions||!r.extensions[e])return null;const o=r.extensions[e],l=s.images[o.source];let u=i.textureLoader;if(l.uri){const d=i.options.manager.getHandler(l.uri);d!==null&&(u=d)}return this.detectSupport().then(function(d){if(d)return i.loadTextureImage(t,o.source,u);if(s.extensionsRequired&&s.extensionsRequired.indexOf(e)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(t)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(t){const e=new Image;e.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",e.onload=e.onerror=function(){t(e.height===1)}})),this.isSupported}}class Mit{constructor(t){this.parser=t,this.name=pn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(t){const e=this.name,i=this.parser,s=i.json,r=s.textures[t];if(!r.extensions||!r.extensions[e])return null;const o=r.extensions[e],l=s.images[o.source];let u=i.textureLoader;if(l.uri){const d=i.options.manager.getHandler(l.uri);d!==null&&(u=d)}return this.detectSupport().then(function(d){if(d)return i.loadTextureImage(t,o.source,u);if(s.extensionsRequired&&s.extensionsRequired.indexOf(e)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(t)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(t){const e=new Image;e.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",e.onload=e.onerror=function(){t(e.height===1)}})),this.isSupported}}class Eit{constructor(t){this.name=pn.EXT_MESHOPT_COMPRESSION,this.parser=t}loadBufferView(t){const e=this.parser.json,i=e.bufferViews[t];if(i.extensions&&i.extensions[this.name]){const s=i.extensions[this.name],r=this.parser.getDependency("buffer",s.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(e.extensionsRequired&&e.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return r.then(function(l){const u=s.byteOffset||0,d=s.byteLength||0,m=s.count,g=s.byteStride,v=new Uint8Array(l,u,d);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(m,g,v,s.mode,s.filter).then(function(A){return A.buffer}):o.ready.then(function(){const A=new ArrayBuffer(m*g);return o.decodeGltfBuffer(new Uint8Array(A),m,g,v,s.mode,s.filter),A})})}else return null}}class Tit{constructor(t){this.name=pn.EXT_MESH_GPU_INSTANCING,this.parser=t}createNodeMesh(t){const e=this.parser.json,i=e.nodes[t];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const s=e.meshes[i.mesh];for(const d of s.primitives)if(d.mode!==qa.TRIANGLES&&d.mode!==qa.TRIANGLE_STRIP&&d.mode!==qa.TRIANGLE_FAN&&d.mode!==void 0)return null;const o=i.extensions[this.name].attributes,l=[],u={};for(const d in o)l.push(this.parser.getDependency("accessor",o[d]).then(m=>(u[d]=m,u[d])));return l.length<1?null:(l.push(this.parser.createNodeMesh(t)),Promise.all(l).then(d=>{const m=d.pop(),g=m.isGroup?m.children:[m],v=d[0].count,A=[];for(const S of g){const E=new Be,T=new K,_=new Ji,w=new K(1,1,1),D=new LC(S.geometry,S.material,v);for(let L=0;L<v;L++)u.TRANSLATION&&T.fromBufferAttribute(u.TRANSLATION,L),u.ROTATION&&_.fromBufferAttribute(u.ROTATION,L),u.SCALE&&w.fromBufferAttribute(u.SCALE,L),D.setMatrixAt(L,E.compose(T,_,w));for(const L in u)if(L==="_COLOR_0"){const U=u[L];D.instanceColor=new td(U.array,U.itemSize,U.normalized)}else L!=="TRANSLATION"&&L!=="ROTATION"&&L!=="SCALE"&&S.geometry.setAttribute(L,u[L]);gn.prototype.copy.call(D,S),this.parser.assignFinalMaterial(D),A.push(D)}return m.isGroup?(m.clear(),m.add(...A),m):A[0]}))}}const oH="glTF",M0=12,DO={JSON:1313821514,BIN:5130562};class Cit{constructor(t){this.name=pn.KHR_BINARY_GLTF,this.content=null,this.body=null;const e=new DataView(t,0,M0);if(this.header={magic:SS(new Uint8Array(t.slice(0,4))),version:e.getUint32(4,!0),length:e.getUint32(8,!0)},this.header.magic!==oH)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-M0,s=new DataView(t,M0);let r=0;for(;r<i;){const o=s.getUint32(r,!0);r+=4;const l=s.getUint32(r,!0);if(r+=4,l===DO.JSON){const u=new Uint8Array(t,M0+r,o);this.content=SS(u)}else if(l===DO.BIN){const u=M0+r;this.body=t.slice(u,u+o)}r+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Rit{constructor(t,e){if(!e)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=pn.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=e,this.dracoLoader.preload()}decodePrimitive(t,e){const i=this.json,s=this.dracoLoader,r=t.extensions[this.name].bufferView,o=t.extensions[this.name].attributes,l={},u={},d={};for(const m in o){const g=xT[m]||m.toLowerCase();l[g]=o[m]}for(const m in t.attributes){const g=xT[m]||m.toLowerCase();if(o[m]!==void 0){const v=i.accessors[t.attributes[m]],A=rm[v.componentType];d[g]=A.name,u[g]=v.normalized===!0}}return e.getDependency("bufferView",r).then(function(m){return new Promise(function(g,v){s.decodeDracoFile(m,function(A){for(const S in A.attributes){const E=A.attributes[S],T=u[S];T!==void 0&&(E.normalized=T)}g(A)},l,d,Jc,v)})})}}class wit{constructor(){this.name=pn.KHR_TEXTURE_TRANSFORM}extendTexture(t,e){return(e.texCoord===void 0||e.texCoord===t.channel)&&e.offset===void 0&&e.rotation===void 0&&e.scale===void 0||(t=t.clone(),e.texCoord!==void 0&&(t.channel=e.texCoord),e.offset!==void 0&&t.offset.fromArray(e.offset),e.rotation!==void 0&&(t.rotation=e.rotation),e.scale!==void 0&&t.repeat.fromArray(e.scale),t.needsUpdate=!0),t}}class Bit{constructor(){this.name=pn.KHR_MESH_QUANTIZATION}}class lH extends Om{constructor(t,e,i,s){super(t,e,i,s)}copySampleValue_(t){const e=this.resultBuffer,i=this.sampleValues,s=this.valueSize,r=t*s*3+s;for(let o=0;o!==s;o++)e[o]=i[r+o];return e}interpolate_(t,e,i,s){const r=this.resultBuffer,o=this.sampleValues,l=this.valueSize,u=l*2,d=l*3,m=s-e,g=(i-e)/m,v=g*g,A=v*g,S=t*d,E=S-d,T=-2*A+3*v,_=A-v,w=1-T,D=_-v+g;for(let L=0;L!==l;L++){const U=o[E+L+l],P=o[E+L+u]*m,F=o[S+L+l],z=o[S+L]*m;r[L]=w*U+D*P+T*F+_*z}return r}}const Dit=new Ji;class Lit extends lH{interpolate_(t,e,i,s){const r=super.interpolate_(t,e,i,s);return Dit.fromArray(r).normalize().toArray(r),r}}const qa={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},rm={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},LO={9728:Ls,9729:Ki,9984:OS,9985:nm,9986:Nh,9987:Za},OO={33071:Sa,33648:fm,10497:cf},qM={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},xT={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...ait>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Ju={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Oit={CUBICSPLINE:void 0,LINEAR:pm,STEP:dm},JM={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Uit(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new Zy({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:ql})),n.DefaultMaterial}function Ch(n,t,e){for(const i in e.extensions)n[i]===void 0&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[i]=e.extensions[i])}function Fc(n,t){t.extras!==void 0&&(typeof t.extras=="object"?Object.assign(n.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function Pit(n,t,e){let i=!1,s=!1,r=!1;for(let d=0,m=t.length;d<m;d++){const g=t[d];if(g.POSITION!==void 0&&(i=!0),g.NORMAL!==void 0&&(s=!0),g.COLOR_0!==void 0&&(r=!0),i&&s&&r)break}if(!i&&!s&&!r)return Promise.resolve(n);const o=[],l=[],u=[];for(let d=0,m=t.length;d<m;d++){const g=t[d];if(i){const v=g.POSITION!==void 0?e.getDependency("accessor",g.POSITION):n.attributes.position;o.push(v)}if(s){const v=g.NORMAL!==void 0?e.getDependency("accessor",g.NORMAL):n.attributes.normal;l.push(v)}if(r){const v=g.COLOR_0!==void 0?e.getDependency("accessor",g.COLOR_0):n.attributes.color;u.push(v)}}return Promise.all([Promise.all(o),Promise.all(l),Promise.all(u)]).then(function(d){const m=d[0],g=d[1],v=d[2];return i&&(n.morphAttributes.position=m),s&&(n.morphAttributes.normal=g),r&&(n.morphAttributes.color=v),n.morphTargetsRelative=!0,n})}function Nit(n,t){if(n.updateMorphTargets(),t.weights!==void 0)for(let e=0,i=t.weights.length;e<i;e++)n.morphTargetInfluences[e]=t.weights[e];if(t.extras&&Array.isArray(t.extras.targetNames)){const e=t.extras.targetNames;if(n.morphTargetInfluences.length===e.length){n.morphTargetDictionary={};for(let i=0,s=e.length;i<s;i++)n.morphTargetDictionary[e[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Iit(n){let t;const e=n.extensions&&n.extensions[pn.KHR_DRACO_MESH_COMPRESSION];if(e?t="draco:"+e.bufferView+":"+e.indices+":"+QM(e.attributes):t=n.indices+":"+QM(n.attributes)+":"+n.mode,n.targets!==void 0)for(let i=0,s=n.targets.length;i<s;i++)t+=":"+QM(n.targets[i]);return t}function QM(n){let t="";const e=Object.keys(n).sort();for(let i=0,s=e.length;i<s;i++)t+=e[i]+":"+n[e[i]]+";";return t}function AT(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Fit(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const zit=new Be;class Hit{constructor(t={},e={}){this.json=t,this.extensions={},this.plugins={},this.options=e,this.cache=new lit,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,s=!1,r=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,s=navigator.userAgent.indexOf("Firefox")>-1,r=s?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||s&&r<98?this.textureLoader=new EI(this.options.manager):this.textureLoader=new OI(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Ta(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(t){this.extensions=t}setPlugins(t){this.plugins=t}parse(t,e){const i=this,s=this.json,r=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const l={scene:o[0][s.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:s.asset,parser:i,userData:{}};return Ch(r,l,s),Fc(l,s),Promise.all(i._invokeAll(function(u){return u.afterRoot&&u.afterRoot(l)})).then(function(){for(const u of l.scenes)u.updateMatrixWorld();t(l)})}).catch(e)}_markDefs(){const t=this.json.nodes||[],e=this.json.skins||[],i=this.json.meshes||[];for(let s=0,r=e.length;s<r;s++){const o=e[s].joints;for(let l=0,u=o.length;l<u;l++)t[o[l]].isBone=!0}for(let s=0,r=t.length;s<r;s++){const o=t[s];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(t,e){e!==void 0&&(t.refs[e]===void 0&&(t.refs[e]=t.uses[e]=0),t.refs[e]++)}_getNodeRef(t,e,i){if(t.refs[e]<=1)return i;const s=i.clone(),r=(o,l)=>{const u=this.associations.get(o);u!=null&&this.associations.set(l,u);for(const[d,m]of o.children.entries())r(m,l.children[d])};return r(i,s),s.name+="_instance_"+t.uses[e]++,s}_invokeOne(t){const e=Object.values(this.plugins);e.push(this);for(let i=0;i<e.length;i++){const s=t(e[i]);if(s)return s}return null}_invokeAll(t){const e=Object.values(this.plugins);e.unshift(this);const i=[];for(let s=0;s<e.length;s++){const r=t(e[s]);r&&i.push(r)}return i}getDependency(t,e){const i=t+":"+e;let s=this.cache.get(i);if(!s){switch(t){case"scene":s=this.loadScene(e);break;case"node":s=this._invokeOne(function(r){return r.loadNode&&r.loadNode(e)});break;case"mesh":s=this._invokeOne(function(r){return r.loadMesh&&r.loadMesh(e)});break;case"accessor":s=this.loadAccessor(e);break;case"bufferView":s=this._invokeOne(function(r){return r.loadBufferView&&r.loadBufferView(e)});break;case"buffer":s=this.loadBuffer(e);break;case"material":s=this._invokeOne(function(r){return r.loadMaterial&&r.loadMaterial(e)});break;case"texture":s=this._invokeOne(function(r){return r.loadTexture&&r.loadTexture(e)});break;case"skin":s=this.loadSkin(e);break;case"animation":s=this._invokeOne(function(r){return r.loadAnimation&&r.loadAnimation(e)});break;case"camera":s=this.loadCamera(e);break;default:if(s=this._invokeOne(function(r){return r!=this&&r.getDependency&&r.getDependency(t,e)}),!s)throw new Error("Unknown type: "+t);break}this.cache.add(i,s)}return s}getDependencies(t){let e=this.cache.get(t);if(!e){const i=this,s=this.json[t+(t==="mesh"?"es":"s")]||[];e=Promise.all(s.map(function(r,o){return i.getDependency(t,o)})),this.cache.add(t,e)}return e}loadBuffer(t){const e=this.json.buffers[t],i=this.fileLoader;if(e.type&&e.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+e.type+" buffer type is not supported.");if(e.uri===void 0&&t===0)return Promise.resolve(this.extensions[pn.KHR_BINARY_GLTF].body);const s=this.options;return new Promise(function(r,o){i.load(rf.resolveURL(e.uri,s.path),r,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+e.uri+'".'))})})}loadBufferView(t){const e=this.json.bufferViews[t];return this.getDependency("buffer",e.buffer).then(function(i){const s=e.byteLength||0,r=e.byteOffset||0;return i.slice(r,r+s)})}loadAccessor(t){const e=this,i=this.json,s=this.json.accessors[t];if(s.bufferView===void 0&&s.sparse===void 0){const o=qM[s.type],l=rm[s.componentType],u=s.normalized===!0,d=new l(s.count*o);return Promise.resolve(new Rn(d,o,u))}const r=[];return s.bufferView!==void 0?r.push(this.getDependency("bufferView",s.bufferView)):r.push(null),s.sparse!==void 0&&(r.push(this.getDependency("bufferView",s.sparse.indices.bufferView)),r.push(this.getDependency("bufferView",s.sparse.values.bufferView))),Promise.all(r).then(function(o){const l=o[0],u=qM[s.type],d=rm[s.componentType],m=d.BYTES_PER_ELEMENT,g=m*u,v=s.byteOffset||0,A=s.bufferView!==void 0?i.bufferViews[s.bufferView].byteStride:void 0,S=s.normalized===!0;let E,T;if(A&&A!==g){const _=Math.floor(v/A),w="InterleavedBuffer:"+s.bufferView+":"+s.componentType+":"+_+":"+s.count;let D=e.cache.get(w);D||(E=new d(l,_*A,s.count*A/m),D=new Yy(E,A/m),e.cache.add(w,D)),T=new ff(D,u,v%A/m,S)}else l===null?E=new d(s.count*u):E=new d(l,v,s.count*u),T=new Rn(E,u,S);if(s.sparse!==void 0){const _=qM.SCALAR,w=rm[s.sparse.indices.componentType],D=s.sparse.indices.byteOffset||0,L=s.sparse.values.byteOffset||0,U=new w(o[1],D,s.sparse.count*_),P=new d(o[2],L,s.sparse.count*u);l!==null&&(T=new Rn(T.array.slice(),T.itemSize,T.normalized));for(let F=0,z=U.length;F<z;F++){const N=U[F];if(T.setX(N,P[F*u]),u>=2&&T.setY(N,P[F*u+1]),u>=3&&T.setZ(N,P[F*u+2]),u>=4&&T.setW(N,P[F*u+3]),u>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return T})}loadTexture(t){const e=this.json,i=this.options,r=e.textures[t].source,o=e.images[r];let l=this.textureLoader;if(o.uri){const u=i.manager.getHandler(o.uri);u!==null&&(l=u)}return this.loadTextureImage(t,r,l)}loadTextureImage(t,e,i){const s=this,r=this.json,o=r.textures[t],l=r.images[e],u=(l.uri||l.bufferView)+":"+o.sampler;if(this.textureCache[u])return this.textureCache[u];const d=this.loadImageSource(e,i).then(function(m){m.flipY=!1,m.name=o.name||l.name||"",m.name===""&&typeof l.uri=="string"&&l.uri.startsWith("data:image/")===!1&&(m.name=l.uri);const v=(r.samplers||{})[o.sampler]||{};return m.magFilter=LO[v.magFilter]||Ki,m.minFilter=LO[v.minFilter]||Za,m.wrapS=OO[v.wrapS]||cf,m.wrapT=OO[v.wrapT]||cf,s.associations.set(m,{textures:t}),m}).catch(function(){return null});return this.textureCache[u]=d,d}loadImageSource(t,e){const i=this,s=this.json,r=this.options;if(this.sourceCache[t]!==void 0)return this.sourceCache[t].then(g=>g.clone());const o=s.images[t],l=self.URL||self.webkitURL;let u=o.uri||"",d=!1;if(o.bufferView!==void 0)u=i.getDependency("bufferView",o.bufferView).then(function(g){d=!0;const v=new Blob([g],{type:o.mimeType});return u=l.createObjectURL(v),u});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+t+" is missing URI and bufferView");const m=Promise.resolve(u).then(function(g){return new Promise(function(v,A){let S=v;e.isImageBitmapLoader===!0&&(S=function(E){const T=new pi(E);T.needsUpdate=!0,v(T)}),e.load(rf.resolveURL(g,r.path),S,void 0,A)})}).then(function(g){return d===!0&&l.revokeObjectURL(u),Fc(g,o),g.userData.mimeType=o.mimeType||Fit(o.uri),g}).catch(function(g){throw console.error("THREE.GLTFLoader: Couldn't load texture",u),g});return this.sourceCache[t]=m,m}assignTexture(t,e,i,s){const r=this;return this.getDependency("texture",i.index).then(function(o){if(!o)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(o=o.clone(),o.channel=i.texCoord),r.extensions[pn.KHR_TEXTURE_TRANSFORM]){const l=i.extensions!==void 0?i.extensions[pn.KHR_TEXTURE_TRANSFORM]:void 0;if(l){const u=r.associations.get(o);o=r.extensions[pn.KHR_TEXTURE_TRANSFORM].extendTexture(o,l),r.associations.set(o,u)}}return s!==void 0&&(typeof s=="number"&&(s=s===BO?kh:Jc),"colorSpace"in o?o.colorSpace=s:o.encoding=s===kh?BO:oit),t[e]=o,o})}assignFinalMaterial(t){const e=t.geometry;let i=t.material;const s=e.attributes.tangent===void 0,r=e.attributes.color!==void 0,o=e.attributes.normal===void 0;if(t.isPoints){const l="PointsMaterial:"+i.uuid;let u=this.cache.get(l);u||(u=new WS,us.prototype.copy.call(u,i),u.color.copy(i.color),u.map=i.map,u.sizeAttenuation=!1,this.cache.add(l,u)),i=u}else if(t.isLine){const l="LineBasicMaterial:"+i.uuid;let u=this.cache.get(l);u||(u=new mr,us.prototype.copy.call(u,i),u.color.copy(i.color),u.map=i.map,this.cache.add(l,u)),i=u}if(s||r||o){let l="ClonedMaterial:"+i.uuid+":";s&&(l+="derivative-tangents:"),r&&(l+="vertex-colors:"),o&&(l+="flat-shading:");let u=this.cache.get(l);u||(u=i.clone(),r&&(u.vertexColors=!0),o&&(u.flatShading=!0),s&&(u.normalScale&&(u.normalScale.y*=-1),u.clearcoatNormalScale&&(u.clearcoatNormalScale.y*=-1)),this.cache.add(l,u),this.associations.set(u,this.associations.get(i))),i=u}t.material=i}getMaterialType(){return Zy}loadMaterial(t){const e=this,i=this.json,s=this.extensions,r=i.materials[t];let o;const l={},u=r.extensions||{},d=[];if(u[pn.KHR_MATERIALS_UNLIT]){const g=s[pn.KHR_MATERIALS_UNLIT];o=g.getMaterialType(),d.push(g.extendParams(l,r,e))}else{const g=r.pbrMetallicRoughness||{};if(l.color=new ie(1,1,1),l.opacity=1,Array.isArray(g.baseColorFactor)){const v=g.baseColorFactor;l.color.setRGB(v[0],v[1],v[2],Jc),l.opacity=v[3]}g.baseColorTexture!==void 0&&d.push(e.assignTexture(l,"map",g.baseColorTexture,kh)),l.metalness=g.metallicFactor!==void 0?g.metallicFactor:1,l.roughness=g.roughnessFactor!==void 0?g.roughnessFactor:1,g.metallicRoughnessTexture!==void 0&&(d.push(e.assignTexture(l,"metalnessMap",g.metallicRoughnessTexture)),d.push(e.assignTexture(l,"roughnessMap",g.metallicRoughnessTexture))),o=this._invokeOne(function(v){return v.getMaterialType&&v.getMaterialType(t)}),d.push(Promise.all(this._invokeAll(function(v){return v.extendMaterialParams&&v.extendMaterialParams(t,l)})))}r.doubleSided===!0&&(l.side=Qa);const m=r.alphaMode||JM.OPAQUE;if(m===JM.BLEND?(l.transparent=!0,l.depthWrite=!1):(l.transparent=!1,m===JM.MASK&&(l.alphaTest=r.alphaCutoff!==void 0?r.alphaCutoff:.5)),r.normalTexture!==void 0&&o!==_a&&(d.push(e.assignTexture(l,"normalMap",r.normalTexture)),l.normalScale=new It(1,1),r.normalTexture.scale!==void 0)){const g=r.normalTexture.scale;l.normalScale.set(g,g)}if(r.occlusionTexture!==void 0&&o!==_a&&(d.push(e.assignTexture(l,"aoMap",r.occlusionTexture)),r.occlusionTexture.strength!==void 0&&(l.aoMapIntensity=r.occlusionTexture.strength)),r.emissiveFactor!==void 0&&o!==_a){const g=r.emissiveFactor;l.emissive=new ie().setRGB(g[0],g[1],g[2],Jc)}return r.emissiveTexture!==void 0&&o!==_a&&d.push(e.assignTexture(l,"emissiveMap",r.emissiveTexture,kh)),Promise.all(d).then(function(){const g=new o(l);return r.name&&(g.name=r.name),Fc(g,r),e.associations.set(g,{materials:t}),r.extensions&&Ch(s,g,r),g})}createUniqueName(t){const e=Tn.sanitizeNodeName(t||"");return e in this.nodeNamesUsed?e+"_"+ ++this.nodeNamesUsed[e]:(this.nodeNamesUsed[e]=0,e)}loadGeometries(t){const e=this,i=this.extensions,s=this.primitiveCache;function r(l){return i[pn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(l,e).then(function(u){return UO(u,l,e)})}const o=[];for(let l=0,u=t.length;l<u;l++){const d=t[l],m=Iit(d),g=s[m];if(g)o.push(g.promise);else{let v;d.extensions&&d.extensions[pn.KHR_DRACO_MESH_COMPRESSION]?v=r(d):v=UO(new Ke,d,e),s[m]={primitive:d,promise:v},o.push(v)}}return Promise.all(o)}loadMesh(t){const e=this,i=this.json,s=this.extensions,r=i.meshes[t],o=r.primitives,l=[];for(let u=0,d=o.length;u<d;u++){const m=o[u].material===void 0?Uit(this.cache):this.getDependency("material",o[u].material);l.push(m)}return l.push(e.loadGeometries(o)),Promise.all(l).then(function(u){const d=u.slice(0,u.length-1),m=u[u.length-1],g=[];for(let A=0,S=m.length;A<S;A++){const E=m[A],T=o[A];let _;const w=d[A];if(T.mode===qa.TRIANGLES||T.mode===qa.TRIANGLE_STRIP||T.mode===qa.TRIANGLE_FAN||T.mode===void 0)_=r.isSkinnedMesh===!0?new DC(E,w):new qi(E,w),_.isSkinnedMesh===!0&&_.normalizeSkinWeights(),T.mode===qa.TRIANGLE_STRIP?_.geometry=wO(_.geometry,bC):T.mode===qa.TRIANGLE_FAN&&(_.geometry=wO(_.geometry,rS));else if(T.mode===qa.LINES)_=new qo(E,w);else if(T.mode===qa.LINE_STRIP)_=new $c(E,w);else if(T.mode===qa.LINE_LOOP)_=new OC(E,w);else if(T.mode===qa.POINTS)_=new UC(E,w);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+T.mode);Object.keys(_.geometry.morphAttributes).length>0&&Nit(_,r),_.name=e.createUniqueName(r.name||"mesh_"+t),Fc(_,r),T.extensions&&Ch(s,_,T),e.assignFinalMaterial(_),g.push(_)}for(let A=0,S=g.length;A<S;A++)e.associations.set(g[A],{meshes:t,primitives:A});if(g.length===1)return r.extensions&&Ch(s,g[0],r),g[0];const v=new Vc;r.extensions&&Ch(s,v,r),e.associations.set(v,{meshes:t});for(let A=0,S=g.length;A<S;A++)v.add(g[A]);return v})}loadCamera(t){let e;const i=this.json.cameras[t],s=i[i.type];if(!s){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?e=new Wi(TC.radToDeg(s.yfov),s.aspectRatio||1,s.znear||1,s.zfar||2e6):i.type==="orthographic"&&(e=new vf(-s.xmag,s.xmag,s.ymag,-s.ymag,s.znear,s.zfar)),i.name&&(e.name=this.createUniqueName(i.name)),Fc(e,i),Promise.resolve(e)}loadSkin(t){const e=this.json.skins[t],i=[];for(let s=0,r=e.joints.length;s<r;s++)i.push(this._loadNodeShallow(e.joints[s]));return e.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",e.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(s){const r=s.pop(),o=s,l=[],u=[];for(let d=0,m=o.length;d<m;d++){const g=o[d];if(g){l.push(g);const v=new Be;r!==null&&v.fromArray(r.array,d*16),u.push(v)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',e.joints[d])}return new Wy(l,u)})}loadAnimation(t){const e=this.json,i=this,s=e.animations[t],r=s.name?s.name:"animation_"+t,o=[],l=[],u=[],d=[],m=[];for(let g=0,v=s.channels.length;g<v;g++){const A=s.channels[g],S=s.samplers[A.sampler],E=A.target,T=E.node,_=s.parameters!==void 0?s.parameters[S.input]:S.input,w=s.parameters!==void 0?s.parameters[S.output]:S.output;E.node!==void 0&&(o.push(this.getDependency("node",T)),l.push(this.getDependency("accessor",_)),u.push(this.getDependency("accessor",w)),d.push(S),m.push(E))}return Promise.all([Promise.all(o),Promise.all(l),Promise.all(u),Promise.all(d),Promise.all(m)]).then(function(g){const v=g[0],A=g[1],S=g[2],E=g[3],T=g[4],_=[];for(let w=0,D=v.length;w<D;w++){const L=v[w],U=A[w],P=S[w],F=E[w],z=T[w];if(L===void 0)continue;L.updateMatrix&&L.updateMatrix();const N=i._createAnimationTracks(L,U,P,F,z);if(N)for(let B=0;B<N.length;B++)_.push(N[B])}return new vm(r,void 0,_)})}createNodeMesh(t){const e=this.json,i=this,s=e.nodes[t];return s.mesh===void 0?null:i.getDependency("mesh",s.mesh).then(function(r){const o=i._getNodeRef(i.meshCache,s.mesh,r);return s.weights!==void 0&&o.traverse(function(l){if(l.isMesh)for(let u=0,d=s.weights.length;u<d;u++)l.morphTargetInfluences[u]=s.weights[u]}),o})}loadNode(t){const e=this.json,i=this,s=e.nodes[t],r=i._loadNodeShallow(t),o=[],l=s.children||[];for(let d=0,m=l.length;d<m;d++)o.push(i.getDependency("node",l[d]));const u=s.skin===void 0?Promise.resolve(null):i.getDependency("skin",s.skin);return Promise.all([r,Promise.all(o),u]).then(function(d){const m=d[0],g=d[1],v=d[2];v!==null&&m.traverse(function(A){A.isSkinnedMesh&&A.bind(v,zit)});for(let A=0,S=g.length;A<S;A++)m.add(g[A]);return m})}_loadNodeShallow(t){const e=this.json,i=this.extensions,s=this;if(this.nodeCache[t]!==void 0)return this.nodeCache[t];const r=e.nodes[t],o=r.name?s.createUniqueName(r.name):"",l=[],u=s._invokeOne(function(d){return d.createNodeMesh&&d.createNodeMesh(t)});return u&&l.push(u),r.camera!==void 0&&l.push(s.getDependency("camera",r.camera).then(function(d){return s._getNodeRef(s.cameraCache,r.camera,d)})),s._invokeAll(function(d){return d.createNodeAttachment&&d.createNodeAttachment(t)}).forEach(function(d){l.push(d)}),this.nodeCache[t]=Promise.all(l).then(function(d){let m;if(r.isBone===!0?m=new YS:d.length>1?m=new Vc:d.length===1?m=d[0]:m=new gn,m!==d[0])for(let g=0,v=d.length;g<v;g++)m.add(d[g]);if(r.name&&(m.userData.name=r.name,m.name=o),Fc(m,r),r.extensions&&Ch(i,m,r),r.matrix!==void 0){const g=new Be;g.fromArray(r.matrix),m.applyMatrix4(g)}else r.translation!==void 0&&m.position.fromArray(r.translation),r.rotation!==void 0&&m.quaternion.fromArray(r.rotation),r.scale!==void 0&&m.scale.fromArray(r.scale);return s.associations.has(m)||s.associations.set(m,{}),s.associations.get(m).nodes=t,m}),this.nodeCache[t]}loadScene(t){const e=this.extensions,i=this.json.scenes[t],s=this,r=new Vc;i.name&&(r.name=s.createUniqueName(i.name)),Fc(r,i),i.extensions&&Ch(e,r,i);const o=i.nodes||[],l=[];for(let u=0,d=o.length;u<d;u++)l.push(s.getDependency("node",o[u]));return Promise.all(l).then(function(u){for(let m=0,g=u.length;m<g;m++)r.add(u[m]);const d=m=>{const g=new Map;for(const[v,A]of s.associations)(v instanceof us||v instanceof pi)&&g.set(v,A);return m.traverse(v=>{const A=s.associations.get(v);A!=null&&g.set(v,A)}),g};return s.associations=d(r),r})}_createAnimationTracks(t,e,i,s,r){const o=[],l=t.name?t.name:t.uuid,u=[];Ju[r.path]===Ju.weights?t.traverse(function(v){v.morphTargetInfluences&&u.push(v.name?v.name:v.uuid)}):u.push(l);let d;switch(Ju[r.path]){case Ju.weights:d=nd;break;case Ju.rotation:d=id;break;case Ju.position:case Ju.scale:d=sd;break;default:switch(i.itemSize){case 1:d=nd;break;case 2:case 3:default:d=sd;break}break}const m=s.interpolation!==void 0?Oit[s.interpolation]:pm,g=this._getArrayFromAccessor(i);for(let v=0,A=u.length;v<A;v++){const S=new d(u[v]+"."+Ju[r.path],e.array,g,m);s.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(S),o.push(S)}return o}_getArrayFromAccessor(t){let e=t.array;if(t.normalized){const i=AT(e.constructor),s=new Float32Array(e.length);for(let r=0,o=e.length;r<o;r++)s[r]=e[r]*i;e=s}return e}_createCubicSplineTrackInterpolant(t){t.createInterpolant=function(i){const s=this instanceof id?Lit:lH;return new s(this.times,this.values,this.getValueSize()/3,i)},t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function Git(n,t,e){const i=t.attributes,s=new pr;if(i.POSITION!==void 0){const l=e.json.accessors[i.POSITION],u=l.min,d=l.max;if(u!==void 0&&d!==void 0){if(s.set(new K(u[0],u[1],u[2]),new K(d[0],d[1],d[2])),l.normalized){const m=AT(rm[l.componentType]);s.min.multiplyScalar(m),s.max.multiplyScalar(m)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const r=t.targets;if(r!==void 0){const l=new K,u=new K;for(let d=0,m=r.length;d<m;d++){const g=r[d];if(g.POSITION!==void 0){const v=e.json.accessors[g.POSITION],A=v.min,S=v.max;if(A!==void 0&&S!==void 0){if(u.setX(Math.max(Math.abs(A[0]),Math.abs(S[0]))),u.setY(Math.max(Math.abs(A[1]),Math.abs(S[1]))),u.setZ(Math.max(Math.abs(A[2]),Math.abs(S[2]))),v.normalized){const E=AT(rm[v.componentType]);u.multiplyScalar(E)}l.max(u)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}s.expandByVector(l)}n.boundingBox=s;const o=new Ys;s.getCenter(o.center),o.radius=s.min.distanceTo(s.max)/2,n.boundingSphere=o}function UO(n,t,e){const i=t.attributes,s=[];function r(o,l){return e.getDependency("accessor",o).then(function(u){n.setAttribute(l,u)})}for(const o in i){const l=xT[o]||o.toLowerCase();l in n.attributes||s.push(r(i[o],l))}if(t.indices!==void 0&&!n.index){const o=e.getDependency("accessor",t.indices).then(function(l){n.setIndex(l)});s.push(o)}return Fc(n,t),Git(n,t,e),Promise.all(s).then(function(){return t.targets!==void 0?Pit(n,t.targets,e):n})}const ZM=new WeakMap;class Vit extends gr{constructor(t){super(t),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(t){return this.decoderPath=t,this}setDecoderConfig(t){return this.decoderConfig=t,this}setWorkerLimit(t){return this.workerLimit=t,this}load(t,e,i,s){const r=new Ta(this.manager);r.setPath(this.path),r.setResponseType("arraybuffer"),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials),r.load(t,o=>{const l={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,l).then(e).catch(s)},i,s)}decodeDracoFile(t,e,i,s){const r={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:s||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(t,r).then(e)}decodeGeometry(t,e){for(const u in e.attributeTypes){const d=e.attributeTypes[u];d.BYTES_PER_ELEMENT!==void 0&&(e.attributeTypes[u]=d.name)}const i=JSON.stringify(e);if(ZM.has(t)){const u=ZM.get(t);if(u.key===i)return u.promise;if(t.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let s;const r=this.workerNextTaskID++,o=t.byteLength,l=this._getWorker(r,o).then(u=>(s=u,new Promise((d,m)=>{s._callbacks[r]={resolve:d,reject:m},s.postMessage({type:"decode",id:r,taskConfig:e,buffer:t},[t])}))).then(u=>this._createGeometry(u.geometry));return l.catch(()=>!0).then(()=>{s&&r&&this._releaseTask(s,r)}),ZM.set(t,{key:i,promise:l}),l}_createGeometry(t){const e=new Ke;t.index&&e.setIndex(new Rn(t.index.array,1));for(let i=0;i<t.attributes.length;i++){const s=t.attributes[i],r=s.name,o=s.array,l=s.itemSize;e.setAttribute(r,new Rn(o,l))}return e}_loadLibrary(t,e){const i=new Ta(this.manager);return i.setPath(this.decoderPath),i.setResponseType(e),i.setWithCredentials(this.withCredentials),new Promise((s,r)=>{i.load(t,s,void 0,r)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const t=typeof WebAssembly!="object"||this.decoderConfig.type==="js",e=[];return t?e.push(this._loadLibrary("draco_decoder.js","text")):(e.push(this._loadLibrary("draco_wasm_wrapper.js","text")),e.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(e).then(i=>{const s=i[0];t||(this.decoderConfig.wasmBinary=i[1]);const r=kit.toString(),o=["/* draco decoder */",s,"","/* worker */",r.substring(r.indexOf("{")+1,r.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(t,e){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const s=new Worker(this.workerSourceURL);s._callbacks={},s._taskCosts={},s._taskLoad=0,s.postMessage({type:"init",decoderConfig:this.decoderConfig}),s.onmessage=function(r){const o=r.data;switch(o.type){case"decode":s._callbacks[o.id].resolve(o);break;case"error":s._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(s)}else this.workerPool.sort(function(s,r){return s._taskLoad>r._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[t]=e,i._taskLoad+=e,i})}_releaseTask(t,e){t._taskLoad-=t._taskCosts[e],delete t._callbacks[e],delete t._taskCosts[e]}debug(){console.log("Task load: ",this.workerPool.map(t=>t._taskLoad))}dispose(){for(let t=0;t<this.workerPool.length;++t)this.workerPool[t].terminate();return this.workerPool.length=0,this}}function kit(){let n,t;onmessage=function(o){const l=o.data;switch(l.type){case"init":n=l.decoderConfig,t=new Promise(function(m){n.onModuleLoaded=function(g){m({draco:g})},DracoDecoderModule(n)});break;case"decode":const u=l.buffer,d=l.taskConfig;t.then(m=>{const g=m.draco,v=new g.Decoder,A=new g.DecoderBuffer;A.Init(new Int8Array(u),u.byteLength);try{const S=e(g,v,A,d),E=S.attributes.map(T=>T.array.buffer);S.index&&E.push(S.index.array.buffer),self.postMessage({type:"decode",id:l.id,geometry:S},E)}catch(S){console.error(S),self.postMessage({type:"error",id:l.id,error:S.message})}finally{g.destroy(A),g.destroy(v)}});break}};function e(o,l,u,d){const m=d.attributeIDs,g=d.attributeTypes;let v,A;const S=l.GetEncodedGeometryType(u);if(S===o.TRIANGULAR_MESH)v=new o.Mesh,A=l.DecodeBufferToMesh(u,v);else if(S===o.POINT_CLOUD)v=new o.PointCloud,A=l.DecodeBufferToPointCloud(u,v);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!A.ok()||v.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+A.error_msg());const E={index:null,attributes:[]};for(const T in m){const _=self[g[T]];let w,D;if(d.useUniqueIDs)D=m[T],w=l.GetAttributeByUniqueId(v,D);else{if(D=l.GetAttributeId(v,o[m[T]]),D===-1)continue;w=l.GetAttribute(v,D)}E.attributes.push(s(o,l,v,T,_,w))}return S===o.TRIANGULAR_MESH&&(E.index=i(o,l,v)),o.destroy(v),E}function i(o,l,u){const m=u.num_faces()*3,g=m*4,v=o._malloc(g);l.GetTrianglesUInt32Array(u,g,v);const A=new Uint32Array(o.HEAPF32.buffer,v,m).slice();return o._free(v),{array:A,itemSize:1}}function s(o,l,u,d,m,g){const v=g.num_components(),S=u.num_points()*v,E=S*m.BYTES_PER_ELEMENT,T=r(o,m),_=o._malloc(E);l.GetAttributeDataArrayForAllPoints(u,g,T,E,_);const w=new m(o.HEAPF32.buffer,_,S).slice();return o._free(_),{name:d,array:w,itemSize:v}}function r(o,l){switch(l){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let jA;const $M=()=>{if(jA)return jA;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",t="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",e=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let s=n;WebAssembly.validate(e)&&(s=t);let r;const o=WebAssembly.instantiate(l(s),{}).then(g=>{r=g.instance,r.exports.__wasm_call_ctors()});function l(g){const v=new Uint8Array(g.length);for(let S=0;S<g.length;++S){const E=g.charCodeAt(S);v[S]=E>96?E-71:E>64?E-65:E>47?E+4:E>46?63:62}let A=0;for(let S=0;S<g.length;++S)v[A++]=v[S]<60?i[v[S]]:(v[S]-60)*64+v[++S];return v.buffer.slice(0,A)}function u(g,v,A,S,E,T){const _=r.exports.sbrk,w=A+3&-4,D=_(w*S),L=_(E.length),U=new Uint8Array(r.exports.memory.buffer);U.set(E,L);const P=g(D,A,S,L,E.length);if(P===0&&T&&T(D,w,S),v.set(U.subarray(D,D+A*S)),_(D-_(0)),P!==0)throw new Error(`Malformed buffer data: ${P}`)}const d={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},m={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return jA={ready:o,supported:!0,decodeVertexBuffer(g,v,A,S,E){u(r.exports.meshopt_decodeVertexBuffer,g,v,A,S,r.exports[d[E]])},decodeIndexBuffer(g,v,A,S){u(r.exports.meshopt_decodeIndexBuffer,g,v,A,S)},decodeIndexSequence(g,v,A,S){u(r.exports.meshopt_decodeIndexSequence,g,v,A,S)},decodeGltfBuffer(g,v,A,S,E,T){u(r.exports[m[E]],g,v,A,S,r.exports[d[T]])}},jA};let YA=null,cH="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function uH(n=!0,t=!0,e){return i=>{e&&e(i),n&&(YA||(YA=new Vit),YA.setDecoderPath(typeof n=="string"?n:cH),i.setDRACOLoader(YA)),t&&i.setMeshoptDecoder(typeof $M=="function"?$M():$M)}}const ov=(n,t,e,i)=>ev(WR,n,uH(t,e,i));ov.preload=(n,t,e,i)=>ev.preload(WR,n,uH(t,e,i));ov.clear=n=>ev.clear(WR,n);ov.setDecoderPath=n=>{cH=n};function Xit(n,t){const e=W.useRef(null),[i]=W.useState(()=>t?t instanceof gn?{current:t}:t:e),[s]=W.useState(()=>new FI(void 0));W.useLayoutEffect(()=>{t&&(i.current=t instanceof gn?t:t.current),s._root=i.current});const r=W.useRef({}),o=W.useMemo(()=>{const l={};return n.forEach(u=>Object.defineProperty(l,u.name,{enumerable:!0,get(){if(i.current)return r.current[u.name]||(r.current[u.name]=s.clipAction(u,i.current))},configurable:!0})),{ref:i,clips:n,actions:l,names:n.map(u=>u.name),mixer:s}},[n]);return tv((l,u)=>s.update(u)),W.useEffect(()=>{const l=i.current;return()=>{r.current={},s.stopAllAction(),Object.values(o.actions).forEach(u=>{l&&s.uncacheAction(u,l)})}},[n]),o}const jit=W.forwardRef(({children:n,enabled:t=!0,speed:e=1,rotationIntensity:i=1,floatIntensity:s=1,floatingRange:r=[-.1,.1],autoInvalidate:o=!1,...l},u)=>{const d=W.useRef(null);W.useImperativeHandle(u,()=>d.current,[]);const m=W.useRef(Math.random()*1e4);return tv(g=>{var v,A;if(!t||e===0)return;o&&g.invalidate();const S=m.current+g.clock.elapsedTime;d.current.rotation.x=Math.cos(S/4*e)/8*i,d.current.rotation.y=Math.sin(S/4*e)/8*i,d.current.rotation.z=Math.sin(S/4*e)/20*i;let E=Math.sin(S/4*e)/10;E=TC.mapLinear(E,-.1,.1,(v=r==null?void 0:r[0])!==null&&v!==void 0?v:-.1,(A=r==null?void 0:r[1])!==null&&A!==void 0?A:.1),d.current.position.y=E*s,d.current.updateMatrix()}),W.createElement("group",l,W.createElement("group",{ref:d,matrixAutoUpdate:!1},n))});var WA={},PO;function Yit(){if(PO)return WA;PO=1,WA.match=r,WA.parse=o;var n=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,t=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,e=/^(?:(min|max)-)?(.+)/,i=/(em|rem|px|cm|mm|in|pt|pc)?$/,s=/(dpi|dpcm|dppx)?$/;function r(m,g){return o(m).some(function(v){var A=v.inverse,S=v.type==="all"||g.type===v.type;if(S&&A||!(S||A))return!1;var E=v.expressions.every(function(T){var _=T.feature,w=T.modifier,D=T.value,L=g[_];if(!L)return!1;switch(_){case"orientation":case"scan":return L.toLowerCase()===D.toLowerCase();case"width":case"height":case"device-width":case"device-height":D=d(D),L=d(L);break;case"resolution":D=u(D),L=u(L);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":D=l(D),L=l(L);break;case"grid":case"color":case"color-index":case"monochrome":D=parseInt(D,10)||1,L=parseInt(L,10)||0;break}switch(w){case"min":return L>=D;case"max":return L<=D;default:return L===D}});return E&&!A||!E&&A})}function o(m){return m.split(",").map(function(g){g=g.trim();var v=g.match(n),A=v[1],S=v[2],E=v[3]||"",T={};return T.inverse=!!A&&A.toLowerCase()==="not",T.type=S?S.toLowerCase():"all",E=E.match(/\([^\)]+\)/g)||[],T.expressions=E.map(function(_){var w=_.match(t),D=w[1].toLowerCase().match(e);return{modifier:D[1],feature:D[2],value:w[2]}}),T})}function l(m){var g=Number(m),v;return g||(v=m.match(/^(\d+)\s*\/\s*(\d+)$/),g=v[1]/v[2]),g}function u(m){var g=parseFloat(m),v=String(m).match(s)[1];switch(v){case"dpcm":return g/2.54;case"dppx":return g*96;default:return g}}function d(m){var g=parseFloat(m),v=String(m).match(i)[1];switch(v){case"em":return g*16;case"rem":return g*16;case"cm":return g*96/2.54;case"mm":return g*96/2.54/10;case"in":return g*96;case"pt":return g*72;case"pc":return g*72/12;default:return g}}return WA}var tE,NO;function Wit(){if(NO)return tE;NO=1;var n=Yit().match,t=typeof window<"u"?window.matchMedia:null;function e(s,r,o){var l=this,u;t&&!o&&(u=t.call(window,s)),u?(this.matches=u.matches,this.media=u.media,u.addListener(g)):(this.matches=n(s,r),this.media=s),this.addListener=d,this.removeListener=m,this.dispose=v;function d(A){u&&u.addListener(A)}function m(A){u&&u.removeListener(A)}function g(A){l.matches=A.matches,l.media=A.media}function v(){u&&u.removeListener(g)}}function i(s,r,o){return new e(s,r,o)}return tE=i,tE}var Kit=Wit();const qit=Uy(Kit);var Jit=/[A-Z]/g,Qit=/^ms-/,eE={};function Zit(n){return"-"+n.toLowerCase()}function fH(n){if(eE.hasOwnProperty(n))return eE[n];var t=n.replace(Jit,Zit);return eE[n]=Qit.test(t)?"-"+t:t}function $it(n,t){if(n===t)return!0;if(!n||!t)return!1;const e=Object.keys(n),i=Object.keys(t),s=e.length;if(i.length!==s)return!1;for(let r=0;r<s;r++){const o=e[r];if(n[o]!==t[o]||!Object.prototype.hasOwnProperty.call(t,o))return!1}return!0}var nE={exports:{}},iE,IO;function tst(){if(IO)return iE;IO=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return iE=n,iE}var sE,FO;function est(){if(FO)return sE;FO=1;var n=tst();function t(){}function e(){}return e.resetWarningCache=t,sE=function(){function i(o,l,u,d,m,g){if(g!==n){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}i.isRequired=i;function s(){return i}var r={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:e,resetWarningCache:t};return r.PropTypes=r,r},sE}var zO;function nst(){return zO||(zO=1,nE.exports=est()()),nE.exports}var ist=nst();const In=Uy(ist),wr=In.oneOfType([In.string,In.number]),hH={all:In.bool,grid:In.bool,aural:In.bool,braille:In.bool,handheld:In.bool,print:In.bool,projection:In.bool,screen:In.bool,tty:In.bool,tv:In.bool,embossed:In.bool},sst={orientation:In.oneOf(["portrait","landscape"]),scan:In.oneOf(["progressive","interlace"]),aspectRatio:In.string,deviceAspectRatio:In.string,height:wr,deviceHeight:wr,width:wr,deviceWidth:wr,color:In.bool,colorIndex:In.bool,monochrome:In.bool,resolution:wr,type:Object.keys(hH)},{type:Klt,...rst}=sst,ast={minAspectRatio:In.string,maxAspectRatio:In.string,minDeviceAspectRatio:In.string,maxDeviceAspectRatio:In.string,minHeight:wr,maxHeight:wr,minDeviceHeight:wr,maxDeviceHeight:wr,minWidth:wr,maxWidth:wr,minDeviceWidth:wr,maxDeviceWidth:wr,minColor:In.number,maxColor:In.number,minColorIndex:In.number,maxColorIndex:In.number,minMonochrome:In.number,maxMonochrome:In.number,minResolution:wr,maxResolution:wr,...rst},ost={...hH,...ast};var lst={all:ost};const cst=n=>`not ${n}`,ust=(n,t)=>{const e=fH(n);return typeof t=="number"&&(t=`${t}px`),t===!0?e:t===!1?cst(e):`(${e}: ${t})`},fst=n=>n.join(" and "),hst=n=>{const t=[];return Object.keys(lst.all).forEach(e=>{const i=n[e];i!=null&&t.push(ust(e,i))}),fst(t)},dst=W.createContext(void 0),pst=n=>n.query||hst(n),HO=n=>n?Object.keys(n).reduce((e,i)=>(e[fH(i)]=n[i],e),{}):void 0,dH=()=>{const n=W.useRef(!1);return W.useEffect(()=>{n.current=!0},[]),n.current},mst=n=>{const t=W.useContext(dst),e=()=>HO(n)||HO(t),[i,s]=W.useState(e);return W.useEffect(()=>{const r=e();$it(i,r)||s(r)},[n,t]),i},gst=n=>{const t=()=>pst(n),[e,i]=W.useState(t);return W.useEffect(()=>{const s=t();e!==s&&i(s)},[n]),e},yst=(n,t)=>{const e=()=>qit(n,t||{},!!t),[i,s]=W.useState(e),r=dH();return W.useEffect(()=>{if(r){const o=e();return s(o),()=>{o&&o.dispose()}}},[n,t]),i},vst=n=>{const[t,e]=W.useState(n.matches);return W.useEffect(()=>{const i=s=>{e(s.matches)};return n.addListener(i),e(n.matches),()=>{n.removeListener(i)}},[n]),t},xst=(n,t,e)=>{const i=mst(t),s=gst(n);if(!s)throw new Error("Invalid or missing MediaQuery!");const r=yst(s,i),o=vst(r);return dH(),W.useEffect(()=>{},[o]),W.useEffect(()=>()=>{r&&r.dispose()},[]),o},Ast=()=>{const{progress:n}=wnt();return ot.jsxs(Ent,{center:!0,className:"text-xl font-normal text-center",children:[n,"% Loaded"]})};function Sst(n){const t=W.useRef(),e="/asfapo/assets/models/tenhun_falling_spaceman_fanart.glb",{nodes:i,materials:s,animations:r}=ov(e),{actions:o}=Xit(r,t);W.useEffect(()=>{var d;r.length>0&&((d=o[r[0].name])==null||d.play())},[o,r]);const l=BS(5),u=fC(l,{damping:30});return W.useEffect(()=>{u.set(-1)},[u]),tv(()=>{t.current&&(t.current.position.y=u.get())}),ot.jsx("group",{ref:t,...n,dispose:null,rotation:[-Math.PI/2,-.2,2.2],scale:n.scale||.3,position:n.position||[1.3,-1,0],children:ot.jsx("group",{name:"Sketchfab_Scene",children:ot.jsx("group",{name:"Sketchfab_model",children:ot.jsx("group",{name:"Root",children:ot.jsxs("group",{name:"metarig",children:[ot.jsx("primitive",{object:i.metarig_rootJoint}),["Cube001_0","Cube005_0","Cube002_0","Plane_0","Cube008_0","Cube004_0","Cube003_0","Cube_0","Cube009_0","Cube011_0"].map(d=>ot.jsx("skinnedMesh",{name:d,geometry:i[d].geometry,material:s["AstronautFallingTexture.png"],skeleton:i[d].skeleton},d)),["Cube001","Cube005","Cube002","Plane","Cube008","Cube004","Cube003","Cube","Cube009","Cube011"].map(d=>ot.jsx("group",{name:d,...d==="Cube009"?{rotation:[-2.708,.013,-1.447],scale:1.307}:{}},d))]})})})})})}ov.preload("/asfapo/assets/models/tenhun_falling_spaceman_fanart.glb");const _st=()=>{const n=xst({maxWidth:853});return ot.jsxs("section",{className:"relative flex items-start justify-center min-h-screen overflow-hidden md:items-start md:justify-start c-space",children:[ot.jsx(pnt,{}),ot.jsx(mnt,{}),ot.jsx("figure",{className:"absolute inset-0",style:{width:"100vw",height:"100vh"},children:ot.jsx(SJ,{camera:{position:[0,1,3]},children:ot.jsxs(W.Suspense,{fallback:ot.jsx(Ast,{}),children:[ot.jsx(jit,{floatIntensity:1,rotationIntensity:.5,speed:1,children:ot.jsx(Sst,{scale:n?.23:.35,position:n?[0,-1.5,0]:[0,-1,0]})}),ot.jsx(bst,{})]})})})]})};function bst(){return tv((n,t)=>{rit.damp3(n.camera.position,[n.mouse.x/10,1+n.mouse.y/10,3],.5,t)})}const zo=({style:n,text:t,image:e,containerRef:i})=>{const s=e!=null&&e.startsWith("http")||e!=null&&e.startsWith("/asfapo/")?e:`/asfapo/${e==null?void 0:e.replace(/^\/+/,"")}`;return e&&!t?ot.jsx(Bs.img,{className:"absolute w-15 cursor-grab",src:s,style:n,whileHover:{scale:1.05},drag:!0,dragConstraints:i,dragElastic:1}):ot.jsx(Bs.div,{className:"absolute px-1 py-4 text-xl text-center rounded-full ring ring-gray-700 font-extralight bg-storm w-[12rem] cursor-grab",style:n,whileHover:{scale:1.05},drag:!0,dragConstraints:i,dragElastic:1,children:t})};var GO=["x","y","z"],Ic=function(n){Object.assign(this,{uniforms:{},geometry:{vertices:[{x:0,y:0,z:0}]},mode:0,modifiers:{},attributes:[],multiplier:1,buffers:[]}),Object.assign(this,n),this.prepareProgram(),this.prepareUniforms(),this.prepareAttributes()};Ic.prototype.compileShader=function(n,t){var e=this.gl.createShader(n);return this.gl.shaderSource(e,t),this.gl.compileShader(e),e},Ic.prototype.prepareProgram=function(){var n=this.gl,t=this.vertex,e=this.fragment,i=n.createProgram();n.attachShader(i,this.compileShader(35633,t)),n.attachShader(i,this.compileShader(35632,e)),n.linkProgram(i),n.useProgram(i),this.program=i},Ic.prototype.prepareUniforms=function(){for(var n=Object.keys(this.uniforms),t=0;t<n.length;t+=1){var e=this.gl.getUniformLocation(this.program,n[t]);this.uniforms[n[t]].location=e}},Ic.prototype.prepareAttributes=function(){this.geometry.vertices!==void 0&&this.attributes.push({name:"aPosition",size:3}),this.geometry.normal!==void 0&&this.attributes.push({name:"aNormal",size:3}),this.attributeKeys=[];for(var n=0;n<this.attributes.length;n+=1)this.attributeKeys.push(this.attributes[n].name),this.prepareAttribute(this.attributes[n])},Ic.prototype.prepareAttribute=function(n){for(var t=this.geometry,e=this.multiplier,i=t.vertices,s=t.normal,r=new Float32Array(e*i.length*n.size),o=0;o<e;o+=1)for(var l=n.data&&n.data(o,e),u=o*i.length*n.size,d=0;d<i.length;d+=1)for(var m=0;m<n.size;m+=1){var g=this.modifiers[n.name];r[u]=g!==void 0?g(l,d,m,this):n.name==="aPosition"?i[d][GO[m]]:n.name==="aNormal"?s[d][GO[m]]:l[m],u+=1}this.attributes[this.attributeKeys.indexOf(n.name)].data=r,this.prepareBuffer(this.attributes[this.attributeKeys.indexOf(n.name)])},Ic.prototype.prepareBuffer=function(n){var t=n.data,e=n.name,i=n.size,s=this.gl.createBuffer();this.gl.bindBuffer(34962,s),this.gl.bufferData(34962,t,35044);var r=this.gl.getAttribLocation(this.program,e);this.gl.enableVertexAttribArray(r),this.gl.vertexAttribPointer(r,i,5126,!1,0,0),this.buffers[this.attributeKeys.indexOf(n.name)]={buffer:s,location:r,size:i}},Ic.prototype.render=function(n){var t=this,e=this.uniforms,i=this.multiplier,s=this.gl;s.useProgram(this.program);for(var r=0;r<this.buffers.length;r+=1){var o=this.buffers[r],l=o.location,u=o.buffer,d=o.size;s.enableVertexAttribArray(l),s.bindBuffer(34962,u),s.vertexAttribPointer(l,d,5126,!1,0,0)}Object.keys(n).forEach(function(m){e[m].value=n[m].value}),Object.keys(e).forEach(function(m){var g=e[m];t.uniformMap[g.type](g.location,g.value)}),s.drawArrays(this.mode,0,i*this.geometry.vertices.length),this.onRender&&this.onRender(this)},Ic.prototype.destroy=function(){for(var n=0;n<this.buffers.length;n+=1)this.gl.deleteBuffer(this.buffers[n].buffer);this.gl.deleteProgram(this.program),this.gl=null};var Oh=function(n){var t=this,e=n||{},i=e.canvas;i===void 0&&(i=document.querySelector("canvas"));var s=e.context;s===void 0&&(s={});var r=e.contextType;r===void 0&&(r="experimental-webgl");var o=e.settings;o===void 0&&(o={});var l=i.getContext(r,Object.assign({alpha:!1,antialias:!1},s));Object.assign(this,{gl:l,canvas:i,uniforms:{},instances:new Map,shouldRender:!0}),Object.assign(this,{devicePixelRatio:1,clearColor:[1,1,1,1],position:{x:0,y:0,z:2},clip:[.001,100]}),Object.assign(this,o),this.uniformMap={float:function(u,d){return l.uniform1f(u,d)},vec2:function(u,d){return l.uniform2fv(u,d)},vec3:function(u,d){return l.uniform3fv(u,d)},vec4:function(u,d){return l.uniform4fv(u,d)},mat2:function(u,d){return l.uniformMatrix2fv(u,!1,d)},mat3:function(u,d){return l.uniformMatrix3fv(u,!1,d)},mat4:function(u,d){return l.uniformMatrix4fv(u,!1,d)}},l.enable(l.DEPTH_TEST),l.depthFunc(l.LEQUAL),l.getContextAttributes().alpha===!1&&(l.clearColor.apply(l,this.clearColor),l.clearDepth(1)),this.onSetup&&this.onSetup(l),window.addEventListener("resize",function(){return t.resize()}),this.resize(),this.render()};Oh.prototype.resize=function(){var n=this.gl,t=this.canvas,e=this.devicePixelRatio,i=this.position;t.width=t.clientWidth*e,t.height=t.clientHeight*e;var s=n.drawingBufferWidth,r=n.drawingBufferHeight,o=s/r;n.viewport(0,0,s,r);var l=Math.tan(Math.PI/180*22.5),u=[1,0,0,0,0,1,0,0,0,0,1,0,i.x,i.y,(o<1?1:o)*-i.z,1];this.uniforms.uProjectionMatrix={type:"mat4",value:[.5/l,0,0,0,0,o/l*.5,0,0,0,0,-(this.clip[1]+this.clip[0])/(this.clip[1]-this.clip[0]),-1,0,0,-2*this.clip[1]*(this.clip[0]/(this.clip[1]-this.clip[0])),0]},this.uniforms.uViewMatrix={type:"mat4",value:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},this.uniforms.uModelMatrix={type:"mat4",value:u}},Oh.prototype.toggle=function(n){n!==this.shouldRender&&(this.shouldRender=n!==void 0?n:!this.shouldRender,this.shouldRender&&this.render())},Oh.prototype.render=function(){var n=this;this.gl.clear(16640),this.instances.forEach(function(t){t.render(n.uniforms)}),this.onRender&&this.onRender(this),this.shouldRender&&requestAnimationFrame(function(){return n.render()})},Oh.prototype.add=function(n,t){t===void 0&&(t={uniforms:{}}),t.uniforms===void 0&&(t.uniforms={}),Object.assign(t.uniforms,JSON.parse(JSON.stringify(this.uniforms))),Object.assign(t,{gl:this.gl,uniformMap:this.uniformMap});var e=new Ic(t);return this.instances.set(n,e),e},Oh.prototype.remove=function(n){var t=this.instances.get(n);t!==void 0&&(t.destroy(),this.instances.delete(n))},Oh.prototype.destroy=function(){var n=this;this.instances.forEach(function(t,e){t.destroy(),n.instances.delete(e)}),this.toggle(!1)};var pH="phi",mH="theta",gH="mapSamples",yH="mapBrightness",vH="baseColor",xH="markerColor",AH="glowColor",E0="markers",SH="diffuse",VO="devicePixelRatio",_H="dark",bH="offset",MH="scale",EH="opacity",TH="mapBaseBrightness",kO={[pH]:"A",[mH]:"B",[gH]:"l",[yH]:"E",[vH]:"R",[xH]:"S",[AH]:"y",[SH]:"F",[_H]:"G",[bH]:"x",[MH]:"C",[EH]:"H",[TH]:"I"},{PI:rE,sin:XO,cos:jO}=Math,YO=n=>[].concat(...n.map(t=>{let[e,i]=t.location;e=e*rE/180,i=i*rE/180-rE;let s=jO(e);return[-s*jO(i),XO(e),s*XO(i),t.size]}),[0,0,0,0]),Mst=(n,t)=>{let e=(r,o,l)=>({type:r,value:typeof t[o]>"u"?l:t[o]}),i=n.getContext("webgl")?"webgl":"experimental-webgl",s=new Oh({canvas:n,contextType:i,context:{alpha:!0,stencil:!1,antialias:!0,depth:!1,preserveDrawingBuffer:!1,...t.context},settings:{[VO]:t[VO]||1,onSetup:r=>{let o=r.RGB,l=r.UNSIGNED_BYTE,u=r.TEXTURE_2D,d=r.createTexture();r.bindTexture(u,d),r.texImage2D(u,0,o,1,1,0,o,l,new Uint8Array([0,0,0,0]));let m=new Image;m.onload=()=>{r.bindTexture(u,d),r.texImage2D(u,0,o,o,l,m),r.generateMipmap(u);let g=r.getParameter(r.CURRENT_PROGRAM),v=r.getUniformLocation(g,"J");r.texParameteri(u,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(u,r.TEXTURE_MAG_FILTER,r.NEAREST),r.uniform1i(v,0)},m.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAACAAQAAAADMzoqnAAAAAXNSR0IArs4c6QAABA5JREFUeNrV179uHEUAx/Hf3JpbF+E2VASBsmVKTBcpKJs3SMEDcDwBiVJAAewYEBUivIHT0uUBIt0YCovKD0CRjUC4QfHYh8hYXu+P25vZ2Zm9c66gMd/GJ/tz82d3bk8GN4SrByYF2366FNTACIAkivVAAazQdnf3MvAlbNUQfOPAdQDvSAimMWhwy4I2g4SU+Kp04ISLpPBAKLxPyic3O/CCi+Y7rUJbiodcpDOFY7CgxCEXmdYD2EYK2s5lApOx5pEDDYCUwM1XdJUwBV11QQMg59kePSCaPAASQMEL2hwo6TJFgxpg+TgC2ymXPbuvc40awr3D1QCFfbH9kcoqAOkZozpQo0aqAGQRKCog/+tjkgbNFEtg2FffBvBGlSxHoAaAa1u6X4PBAwDiR8FFsrQgeUhfJTSALaB9jy5NCybJPn1SVFiWk7ywN+KzhH1aKAuydhGkbEF4lWohLXDXavlyFgHY7LBnLRdlAP6BS5Cc8RfVDXbkwN/oIvmY+6obbNeBP0JwTuMGu9gTzy1Q4RS/cWpfzszeYwd+CAFrtBW/Hur0gLbJGlD+/OjVwe/drfBxkbbg63dndEDfiEBlAd7ac0BPe1D6Jd8dfbLH+RI0OzseFB5s01/M+gMdAeluLOCAuaUA9Lezo/vSgXoCX9rtEiXnp7Q1W/CNyWcd8DXoS6jH/YZ5vAJEWY2dXFQe2TUgaFaNejCzJ98g6HnlVrsE58sDcYqg+9XY75fPqdoh/kRQWiXKg8MWlJQxUFMPjqnyujhFBE7UxIMjyszk0QwQlFsezImsyvUYYYVED2pk6m0Tg8T04Fwjk2kdAwSACqlM6gRRt3vQYAFGX0Ah7Ebx1H+MDRI5ui0QldH4j7FGcm90XdxD2Jg1AOEAVAKhEFXSn4cKUELurIAKwJ3MArypPscQaLhJFICJ0ohjDySAdH8AhDtCiTuMycH8CXzhH9jUACAO5uMhoAwA5i+T6WAKmmAqnLy80wxHqIPFYpqCwxGaYLt4Dyievg5kEoVEUAhs6pqKgFtDQYOuaXypaWKQfIuwwoGSZgfLsu/XAtI8cGN+h7Cc1A5oLOMhwlIPXuhu48AIvsSBkvtV9wsJRKCyYLfq5lTrQMFd1a262oqBck9K1V0YjQg0iEYYgpS1A9GlXQV5cykwm4A7BzVsxQqo7E+zCegO7Ma7yKgsuOcfKbMBwLC8wvVNYDsANYalEpOAa6zpWjTeMKGwEwC1CiQewJc5EKfgy7GmRAZA4vUVGwE2dPM/g0xuAInE/yG5aZ8ISxWGfYigUVbdyBElTHh2uCwGdfCkOLGgQVBh3Ewp+/QK4CDlR5Ws/Zf7yhCf8pH7vinWAvoVCQ6zz0NX5V/6GkAVV+2/5qsJ/gU8bsxpM8IeAQAAAABJRU5ErkJggg=="}}});return s.add("",{vertex:"attribute vec3 aPosition;uniform mat4 uProjectionMatrix;uniform mat4 uModelMatrix;uniform mat4 uViewMatrix;void main(){gl_Position=uProjectionMatrix*uModelMatrix*uViewMatrix*vec4(aPosition,1.);}",fragment:"precision highp float;uniform vec2 t,x;uniform vec3 R,S,y;uniform vec4 z[64];uniform float A,B,l,C,D,E,F,G,H,I;uniform sampler2D J;float K=1./l;mat3 L(float a,float b){float c=cos(a),d=cos(b),e=sin(a),f=sin(b);return mat3(d,f*e,-f*c,0.,c,e,f,d*-e,d*c);}vec3 w(vec3 c,out float v){c=c.xzy;float p=max(2.,floor(log2(2.236068*l*3.141593*(1.-c.z*c.z))*.72021));vec2 g=floor(pow(1.618034,p)/2.236068*vec2(1.,1.618034)+.5),d=fract((g+1.)*.618034)*6.283185-3.883222,e=-2.*g,f=vec2(atan(c.y,c.x),c.z-1.),q=floor(vec2(e.y*f.x-d.y*(f.y*l+1.),-e.x*f.x+d.x*(f.y*l+1.))/(d.x*e.y-e.x*d.y));float n=3.141593;vec3 r;for(float h=0.;h<4.;h+=1.){vec2 s=vec2(mod(h,2.),floor(h*.5));float j=dot(g,q+s);if(j>l)continue;float a=j,b=0.;if(a>=524288.)a-=524288.,b+=.803894;if(a>=262144.)a-=262144.,b+=.901947;if(a>=131072.)a-=131072.,b+=.950973;if(a>=65536.)a-=65536.,b+=.475487;if(a>=32768.)a-=32768.,b+=.737743;if(a>=16384.)a-=16384.,b+=.868872;if(a>=8192.)a-=8192.,b+=.934436;if(a>=4096.)a-=4096.,b+=.467218;if(a>=2048.)a-=2048.,b+=.733609;if(a>=1024.)a-=1024.,b+=.866804;if(a>=512.)a-=512.,b+=.433402;if(a>=256.)a-=256.,b+=.216701;if(a>=128.)a-=128.,b+=.108351;if(a>=64.)a-=64.,b+=.554175;if(a>=32.)a-=32.,b+=.777088;if(a>=16.)a-=16.,b+=.888544;if(a>=8.)a-=8.,b+=.944272;if(a>=4.)a-=4.,b+=.472136;if(a>=2.)a-=2.,b+=.236068;if(a>=1.)a-=1.,b+=.618034;float k=fract(b)*6.283185,i=1.-2.*j*K,m=sqrt(1.-i*i);vec3 o=vec3(cos(k)*m,sin(k)*m,i);float u=length(c-o);if(u<n)n=u,r=o;}v=n;return r.xzy;}void main(){vec2 b=(gl_FragCoord.xy/t*2.-1.)/C-x*vec2(1.,-1.)/t;b.x*=t.x/t.y;float c=dot(b,b);vec4 M=vec4(0.);float m=0.;if(c<=.64){for(int d=0;d<2;d++){vec4 e=vec4(0.);float a;vec3 u=vec3(0.,0.,1.),f=normalize(vec3(b,sqrt(.64-c)));f.z*=d>0?-1.:1.,u.z*=d>0?-1.:1.;vec3 g=f*L(B,A),h=w(g,a);float n=asin(h.y),i=acos(-h.x/cos(n));i=h.z<0.?-i:i;float N=max(texture2D(J,vec2(i*.5/3.141593,-(n/3.141593+.5))).x,I),O=smoothstep(8e-3,0.,a),j=dot(f,u),v=pow(j,F)*E,o=N*O*v,T=mix((1.-o)*pow(j,.4),o,G)+.1;e+=vec4(R*T,1.);int U=int(D);float p=0.;for(int k=0;k<64;k++){if(k>=U)break;vec4 q=z[k];vec3 r=q.xyz,P=r-g;float s=q.w;if(dot(P,P)>s*s*4.)continue;vec3 V=w(r,a);a=length(V-g),a<s?p+=smoothstep(s*.5,0.,a):0.;}p=min(1.,p*v),e.xyz=mix(e.xyz,S,p),e.xyz+=pow(1.-j,4.)*y,M+=e*(1.+(d>0?-H:H))/2.;}m=pow(dot(normalize(vec3(-b,sqrt(1.-c))),vec3(0.,0.,1.)),4.)*smoothstep(0.,1.,.2/(c-.64));}else{float Q=sqrt(.2/(c-.64));m=smoothstep(.5,1.,Q/(Q+1.));}gl_FragColor=M+vec4(m*y,m);}",uniforms:{t:{type:"vec2",value:[t.width,t.height]},A:e("float",pH),B:e("float",mH),l:e("float",gH),E:e("float",yH),I:e("float",TH),R:e("vec3",vH),S:e("vec3",xH),F:e("float",SH),y:e("vec3",AH),G:e("float",_H),z:{type:"vec4",value:YO(t[E0])},D:{type:"float",value:t[E0].length},x:e("vec2",bH,[0,0]),C:e("float",MH,1),H:e("float",EH,1)},mode:4,geometry:{vertices:[{x:-100,y:100,z:0},{x:-100,y:-100,z:0},{x:100,y:100,z:0},{x:100,y:-100,z:0},{x:-100,y:-100,z:0},{x:100,y:100,z:0}]},onRender:({uniforms:r})=>{let o={};if(t.onRender){o=t.onRender(o)||o;for(let l in kO)o[l]!==void 0&&(r[kO[l]].value=o[l]);o[E0]!==void 0&&(r.z.value=YO(o[E0]),r.D.value=o[E0].length),o.width&&o.height&&(r.t.value=[o.width,o.height])}}}),s};const Est=1400,Tst={width:800,height:800,onRender:()=>{},devicePixelRatio:2,phi:0,theta:.3,dark:1,diffuse:.4,mapSamples:16e3,mapBrightness:1.2,baseColor:[1,1,1],markerColor:[1,1,1],glowColor:[1,1,1],markers:[{location:[14.5995,120.9842],size:.03},{location:[19.076,72.8777],size:.1},{location:[23.8103,90.4125],size:.05},{location:[30.0444,31.2357],size:.07},{location:[39.9042,116.4074],size:.08},{location:[-23.5505,-46.6333],size:.1},{location:[19.4326,-99.1332],size:.1},{location:[40.7128,-74.006],size:.1},{location:[34.6937,135.5022],size:.05},{location:[41.0082,28.9784],size:.06}]};function Cst({className:n,config:t=Tst}){let e=0,i=0;const s=W.useRef(null),r=W.useRef(null),o=W.useRef(0),l=BS(0),u=fC(l,{mass:1,damping:30,stiffness:100}),d=g=>{r.current=g,s.current&&(s.current.style.cursor=g!==null?"grabbing":"grab")},m=g=>{if(r.current!==null){const v=g-r.current;o.current=v,l.set(l.get()+v/Est)}};return W.useEffect(()=>{const g=()=>{s.current&&(i=s.current.offsetWidth)};window.addEventListener("resize",g),g();const v=Mst(s.current,{...t,width:i*2,height:i*2,onRender:A=>{r.current||(e+=.005),A.phi=e+u.get(),A.width=i*2,A.height=i*2}});return setTimeout(()=>s.current.style.opacity="1",0),()=>{v.destroy(),window.removeEventListener("resize",g)}},[u,t]),ot.jsx("div",{className:wy("mx-auto aspect-[1/1] w-full max-w-[600px]",n),children:ot.jsx("canvas",{className:wy("size-[30rem] opacity-0 transition-opacity duration-500 [contain:layout_paint_size]"),ref:s,onPointerDown:g=>{r.current=g.clientX,d(g.clientX)},onPointerUp:()=>d(null),onPointerOut:()=>d(null),onMouseMove:g=>m(g.clientX),onTouchMove:g=>g.touches[0]&&m(g.touches[0].clientX)})})}const Rst=()=>{const[n,t]=W.useState(!1),e="Your Email Address",i="/asfapo/",s=()=>{navigator.clipboard.writeText(e),t(!0),setTimeout(()=>{t(!1)},2e3)};return ot.jsx(ot.Fragment,{children:ot.jsx(Bs.button,{onClick:s,whileHover:{y:-5},whileTap:{scale:1.05},className:"relative px-1 py-4 text-sm text-center rounded-full font-extralight bg-primary w-[12rem] cursor-pointer overflow-hidden",children:ot.jsx(AU,{mode:"wait",children:n?ot.jsxs(Bs.p,{className:"flex items-center justify-center gap-2",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.1,ease:"easeInOut"},children:[ot.jsx("img",{src:`${i}assets/copy-done.svg`,className:"w-5",alt:"copy Icon"}),"Email has Copied"]},"copied"):ot.jsx(Bs.p,{className:"flex items-center justify-center gap-2",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.1},children:"Click Here"},"copy")})})})};function WO({className:n,children:t,reverse:e,duration:i=20,radius:s=160,path:r=!0,iconSize:o=30,speed:l=1,...u}){const d=i/l;return ot.jsxs(ot.Fragment,{children:[r&&ot.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",className:"absolute inset-0 pointer-events-none size-full",children:ot.jsx("circle",{className:"stroke-1 stroke-white/10",cx:"50%",cy:"50%",r:s,fill:"none"})}),lm.Children.map(t,(m,g)=>{const v=360/lm.Children.count(t)*g;return ot.jsx("div",{style:{"--duration":d,"--radius":s,"--angle":v,"--icon-size":`${o}px`},className:wy(`absolute flex size-[var(--icon-size)] transform-gpu animate-orbit items-center justify-center rounded-full ${e?"[animation-direction:reverse]":""}`,n),...u,children:m})})]})}function wst(){const n=["mongo","node","redux","css3","bootstrap","git","html5","javascript","microsoft","react","mui","tailwindcss","strapi"],t="/asfapo/";return ot.jsxs("div",{className:"relative flex h-[15rem] w-full flex-col items-center justify-center",children:[ot.jsx(WO,{iconSize:40,children:n.map((e,i)=>ot.jsx(KO,{src:`${t}assets/logos/${e}.svg`},i))}),ot.jsx(WO,{iconSize:25,radius:100,reverse:!0,speed:2,children:n.reverse().map((e,i)=>ot.jsx(KO,{src:`${t}assets/logos/${e}.svg`},i))})]})}const KO=({src:n})=>ot.jsx("img",{src:n,className:"duration-200 rounded-sm hover:scale-110"}),Rh="/asfapo/",Bst=()=>{const n=W.useRef();return ot.jsxs("section",{className:"c-space section-spacing",id:"about",children:[ot.jsx("h2",{className:"text-heading",children:"About Me..."}),ot.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-6 md:auto-rows-[18rem] mt-12",children:[ot.jsxs("div",{className:"flex items-end grid-default-color grid-1",children:[ot.jsx("img",{src:`${Rh}assets/coding-pov.png`,className:"absolute scale-[1.75] -right-[5rem] -top-[1rem] md:scale-[3] md:left-50 md:inset-y-10 lg:scale-[2.5]"}),ot.jsxs("div",{className:"z-10",children:[ot.jsx("p",{className:"headtext",children:"Who am I?"}),ot.jsx("p",{className:"subtext",children:"Well, Over the past five years, I've grown into a skilled full-stack developer, building dynamic and scalable web applications from front-end to back-end."})]}),ot.jsx("div",{className:"absolute inset-x-0 pointer-evets-none -bottom-4 h-1/2 sm:h-1/3 bg-gradient-to-t from-indigo"})]}),ot.jsx("div",{className:"grid-default-color grid-2",children:ot.jsxs("div",{ref:n,className:"flex items-center justify-center w-full h-full",children:[ot.jsx("p",{className:"flex items-end text-5xl text-gray-500",children:"CODE IS CRAFT"}),ot.jsx(zo,{style:{rotate:"75deg",top:"30%",left:"20%"},text:"HTML5",containerRef:n}),ot.jsx(zo,{style:{rotate:"-30deg",top:"60%",left:"45%"},text:"MongoDB",containerRef:n}),ot.jsx(zo,{style:{rotate:"90deg",bottom:"30%",left:"70%"},text:"Material UI (MUI)",containerRef:n}),ot.jsx(zo,{style:{rotate:"-45deg",top:"55%",left:"0%"},text:"Tailwind CSS",containerRef:n}),ot.jsx(zo,{style:{rotate:"20deg",top:"10%",left:"38%"},text:"Strapi",containerRef:n}),ot.jsx(zo,{style:{rotate:"30deg",top:"50%",left:"50%"},image:`${Rh}assets/logos/redux.png`,containerRef:n}),ot.jsx(zo,{style:{rotate:"-45deg",top:"70%",left:"25%"},image:`${Rh}assets/logos/css.png`,containerRef:n}),ot.jsx(zo,{style:{rotate:"-45deg",top:"15%",left:"20%"},image:`${Rh}assets/logos/git.png`,containerRef:n}),ot.jsx(zo,{style:{rotate:"35deg",top:"70%",left:"70%"},image:`${Rh}assets/logos/react.png`,containerRef:n}),ot.jsx(zo,{style:{rotate:"-49deg",top:"50%",left:"20%"},image:`${Rh}assets/logos/node.png`,containerRef:n}),ot.jsx(zo,{style:{rotate:"-41deg",top:"5%",left:"10%"},image:`${Rh}assets/logos/js.png`,containerRef:n})]})}),ot.jsxs("div",{className:"grid-black-color grid-3",children:[ot.jsxs("div",{className:"z-10 w-[50%]",children:[ot.jsx("p",{className:"headtext",children:"Location"}),ot.jsx("p",{className:"subtext",children:"I'm currently in Alexandria, Virginia, but fully open to remote work — wherever you are in the world."})]}),ot.jsx("figure",{className:"absolute left-[30%] top-[10%]",children:ot.jsx(Cst,{})})]}),ot.jsx("div",{className:"grid-special-color grid-4",children:ot.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 size-full",children:[ot.jsx("p",{className:"text-center headtext",children:"Want to take a look at my resume?"}),ot.jsx(Rst,{})]})}),ot.jsxs("div",{className:"grid-default-color grid-5",children:[ot.jsxs("div",{className:"z-10 w-[50%]",children:[ot.jsx("p",{className:"headText",children:"Teck Stack"}),ot.jsx("p",{className:"subtext",children:"I specialize in a diverse range of languages, frameworks, and tools that empower me to build robust, scalable, and high-performance applications."})]}),ot.jsx("div",{className:"absolute inset-y-0 md:inset-y-9 w-full h-full start-[50%] md:scale-125",children:ot.jsx(wst,{})})]})]})]})},Dst=[{title:"Software Developer",job:"Security & Defense Projects",date:"2021-2023",contents:["Enhanced application security and developed new features, adhering to standards set by the Passive Defense Organization and National Cyberspace Center.","Designed and implemented intuitive map interfaces using MapsUI, enhancing user experience and enabling seamless interactive map integration.","Developed applications for industrial automation, leveraging C++ and the Fatek API for PLC communication.","Enhanced responsiveness and usability of applications using Windows Forms and WPF frameworks.","Executed XML to SVG conversions using X-DOM, ensuring dynamic and efficient data visualization."]},{title:"Back-End Developer",job:"Car Manufacture",date:"2023-2024",contents:["Engineered systems for large-scale data ingestion and analysis, ensuring efficient data processing and storage.","Developed back-end systems enabling vehicle-to-cloud communication for telemetry, diagnostics, and remote control:","✅ Implemented secure APIs, following ISO 26262 automotive safety standards.","✅ Ensured data privacy for customers and partners through industry-compliant protocols.","✅ Delivered remote features like over-the-air updates, real-time tracking, and remote start capabilities."]},{title:"Freelance Developer",job:"Self-Employed",date:"2025-Present",contents:["Created a personal portfolio using Three.js, React, Vite, and WebAPI to showcase technical expertise.","Continuously enhancing technical skills and expanding expertise in modern web development and back-end technologies."]}],Lst=({data:n})=>{const t=W.useRef(null),e=W.useRef(null),[i,s]=W.useState(0);W.useEffect(()=>{if(t.current){const u=t.current.getBoundingClientRect();s(u.height)}},[t]);const{scrollYProgress:r}=_et({target:e,offset:["start 10%","end 50%"]}),o=HL(r,[0,1],[0,i]),l=HL(r,[0,.1],[0,1]);return ot.jsxs("div",{className:"c-space section-spacing",ref:e,children:[ot.jsx("h2",{className:"text-heading",children:"My Work Experience"}),ot.jsxs("div",{ref:t,className:"relative pb-20",children:[n.map((u,d)=>ot.jsxs("div",{className:"flex justify-start pt-10 md:pt-40 md:gap-10",children:[ot.jsxs("div",{className:"sticky z-40 flex flex-col items-center self-start max-w-xs md:flex-row top-40 lg:max-w-sm md:w-full",children:[ot.jsx("div",{className:"absolute flex items-center justify-center w-10 h-10 rounded-full -left-[15px] bg-midnight",children:ot.jsx("div",{className:"w-4 h-4 p-2 border rounded-full bg-neutral-800 border-neutral-700"})}),ot.jsxs("div",{className:"flex-col hidden gap-2 text-xl font-bold md:flex md:pl-20 md:text-4xl text-neutral-300",children:[ot.jsx("h3",{children:u.date}),ot.jsx("h3",{className:"text-3xl text-neutral-400",children:u.title}),ot.jsx("h3",{className:"text-3xl text-neutral-500",children:u.job})]})]}),ot.jsxs("div",{className:"relative w-full pl-20 pr-4 md:pl-4",children:[ot.jsxs("div",{className:"block mb-4 text-2xl font-bold text-left text-neutral-300 md:hidden ",children:[ot.jsx("h3",{children:u.date}),ot.jsx("h3",{children:u.job})]}),u.contents.map((m,g)=>ot.jsx("p",{className:"mb-3 font-normal text-neutral-400",children:m},g))]})]},d)),ot.jsx("div",{style:{height:i+"px"},className:"absolute md:left-1 left-1 top-0 overflow-hidden w-[2px] bg-[linear-gradient(to_bottom,var(--tw-gradient-stops))] from-transparent from-[0%] via-neutral-700 to-transparent to-[99%]  [mask-image:linear-gradient(to_bottom,transparent_0%,black_10%,black_90%,transparent_100%)] ",children:ot.jsx(u1.div,{style:{height:o,opacity:l},className:"absolute inset-x-0 top-0  w-[2px] bg-gradient-to-t from-purple-500 via-lavender/50 to-transparent from-[0%] via-[10%] rounded-full"})})]})]})},Ost=()=>ot.jsx("div",{className:"w-full",children:ot.jsx(Lst,{data:Dst})});class lv{constructor(t=0,e="Network Error"){this.status=t,this.text=e}}const Ust=()=>{if(!(typeof localStorage>"u"))return{get:n=>Promise.resolve(localStorage.getItem(n)),set:(n,t)=>Promise.resolve(localStorage.setItem(n,t)),remove:n=>Promise.resolve(localStorage.removeItem(n))}},js={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:Ust()},KR=n=>n?typeof n=="string"?{publicKey:n}:n.toString()==="[object Object]"?n:{}:{},Pst=(n,t="https://api.emailjs.com")=>{if(!n)return;const e=KR(n);js.publicKey=e.publicKey,js.blockHeadless=e.blockHeadless,js.storageProvider=e.storageProvider,js.blockList=e.blockList,js.limitRate=e.limitRate,js.origin=e.origin||t},CH=async(n,t,e={})=>{const i=await fetch(js.origin+n,{method:"POST",headers:e,body:t}),s=await i.text(),r=new lv(i.status,s);if(i.ok)return r;throw r},RH=(n,t,e)=>{if(!n||typeof n!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!e||typeof e!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},Nst=n=>{if(n&&n.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},wH=n=>n.webdriver||!n.languages||n.languages.length===0,BH=()=>new lv(451,"Unavailable For Headless Browser"),Ist=(n,t)=>{if(!Array.isArray(n))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},Fst=n=>{var t;return!((t=n.list)!=null&&t.length)||!n.watchVariable},zst=(n,t)=>n instanceof FormData?n.get(t):n[t],DH=(n,t)=>{if(Fst(n))return!1;Ist(n.list,n.watchVariable);const e=zst(t,n.watchVariable);return typeof e!="string"?!1:n.list.includes(e)},LH=()=>new lv(403,"Forbidden"),Hst=(n,t)=>{if(typeof n!="number"||n<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},Gst=async(n,t,e)=>{const i=Number(await e.get(n)||0);return t-Date.now()+i},OH=async(n,t,e)=>{if(!t.throttle||!e)return!1;Hst(t.throttle,t.id);const i=t.id||n;return await Gst(i,t.throttle,e)>0?!0:(await e.set(i,Date.now().toString()),!1)},UH=()=>new lv(429,"Too Many Requests"),Vst=async(n,t,e,i)=>{const s=KR(i),r=s.publicKey||js.publicKey,o=s.blockHeadless||js.blockHeadless,l=s.storageProvider||js.storageProvider,u={...js.blockList,...s.blockList},d={...js.limitRate,...s.limitRate};return o&&wH(navigator)?Promise.reject(BH()):(RH(r,n,t),Nst(e),e&&DH(u,e)?Promise.reject(LH()):await OH(location.pathname,d,l)?Promise.reject(UH()):CH("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:r,service_id:n,template_id:t,template_params:e}),{"Content-type":"application/json"}))},kst=n=>{if(!n||n.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},Xst=n=>typeof n=="string"?document.querySelector(n):n,jst=async(n,t,e,i)=>{const s=KR(i),r=s.publicKey||js.publicKey,o=s.blockHeadless||js.blockHeadless,l=js.storageProvider||s.storageProvider,u={...js.blockList,...s.blockList},d={...js.limitRate,...s.limitRate};if(o&&wH(navigator))return Promise.reject(BH());const m=Xst(e);RH(r,n,t),kst(m);const g=new FormData(m);return DH(u,g)?Promise.reject(LH()):await OH(location.pathname,d,l)?Promise.reject(UH()):(g.append("lib_version","4.4.1"),g.append("service_id",n),g.append("template_id",t),g.append("user_id",r),CH("/api/v1.0/email/send-form",g))},Yst={init:Pst,send:Vst,sendForm:jst,EmailJSResponseStatus:lv},Wst=({type:n,text:t})=>{const e={hidden:{opacity:0,y:50,scale:.8},visible:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-50,scale:.8}};return ot.jsx(AU,{children:ot.jsx(Bs.div,{className:"fixed z-50 flex items-center justify-center bottom-5 right-5",initial:"hidden",animate:"visible",exit:"exit",variants:e,transition:{duration:.3,ease:"easeInOut"},children:ot.jsxs("div",{className:`p-2 ${n==="danger"?"bg-red-800":"bg-royal"} items-center text-indigo-100 leading-none lg:rounded-full flex lg:inline-flex rounded-md p-5`,children:[ot.jsx("p",{className:`flex rounded-full ${n==="danger"?"bg-red-500":"bg-lavender"} uppercase px-2 py-1 text-xs font-semibold mr-3`,children:n==="danger"?"Failed":"Success"}),ot.jsx("p",{className:"mr-2 text-left",children:t})]})})})};function Kst(){const[n,t]=W.useState({x:0,y:0});return W.useEffect(()=>{const e=i=>{t({x:i.clientX,y:i.clientY})};return window.addEventListener("mousemove",e),()=>{window.removeEventListener("mousemove",e)}},[]),n}function qst(n){n=n.replace("#",""),n.length===3&&(n=n.split("").map(r=>r+r).join(""));const t=parseInt(n,16),e=t>>16&255,i=t>>8&255,s=t&255;return[e,i,s]}const Jst=({className:n="",quantity:t=100,staticity:e=50,ease:i=50,size:s=.4,refresh:r=!1,color:o="#ffffff",vx:l=0,vy:u=0,...d})=>{const m=W.useRef(null),g=W.useRef(null),v=W.useRef(null),A=W.useRef([]),S=Kst(),E=W.useRef({x:0,y:0}),T=W.useRef({w:0,h:0}),_=typeof window<"u"?window.devicePixelRatio:1,w=W.useRef(null),D=W.useRef(null);W.useEffect(()=>{m.current&&(v.current=m.current.getContext("2d")),L(),tt();const J=()=>{D.current&&clearTimeout(D.current),D.current=setTimeout(()=>{L()},200)};return window.addEventListener("resize",J),()=>{w.current!=null&&window.cancelAnimationFrame(w.current),D.current&&clearTimeout(D.current),window.removeEventListener("resize",J)}},[o]),W.useEffect(()=>{U()},[S.x,S.y]),W.useEffect(()=>{L()},[r]);const L=()=>{P(),H()},U=()=>{if(m.current){const J=m.current.getBoundingClientRect(),{w:lt,h:$}=T.current,et=S.x-J.left-lt/2,Q=S.y-J.top-$/2;et<lt/2&&et>-lt/2&&Q<$/2&&Q>-$/2&&(E.current.x=et,E.current.y=Q)}},P=()=>{if(g.current&&m.current&&v.current){T.current.w=g.current.offsetWidth,T.current.h=g.current.offsetHeight,m.current.width=T.current.w*_,m.current.height=T.current.h*_,m.current.style.width=`${T.current.w}px`,m.current.style.height=`${T.current.h}px`,v.current.scale(_,_),A.current=[];for(let J=0;J<t;J++){const lt=F();N(lt)}}},F=()=>{const J=Math.floor(Math.random()*T.current.w),lt=Math.floor(Math.random()*T.current.h),$=0,et=0,Q=Math.floor(Math.random()*2)+s,At=0,j=parseFloat((Math.random()*.6+.1).toFixed(1)),rt=(Math.random()-.5)*.1,Tt=(Math.random()-.5)*.1,Ft=.1+Math.random()*4;return{x:J,y:lt,translateX:$,translateY:et,size:Q,alpha:At,targetAlpha:j,dx:rt,dy:Tt,magnetism:Ft}},z=qst(o),N=(J,lt=!1)=>{if(v.current){const{x:$,y:et,translateX:Q,translateY:At,size:j,alpha:rt}=J;v.current.translate(Q,At),v.current.beginPath(),v.current.arc($,et,j,0,2*Math.PI),v.current.fillStyle=`rgba(${z.join(", ")}, ${rt})`,v.current.fill(),v.current.setTransform(_,0,0,_,0,0),lt||A.current.push(J)}},B=()=>{v.current&&v.current.clearRect(0,0,T.current.w,T.current.h)},H=()=>{B();const J=t;for(let lt=0;lt<J;lt++){const $=F();N($)}},st=(J,lt,$,et,Q)=>{const At=(J-lt)*(Q-et)/($-lt)+et;return At>0?At:0},tt=()=>{B(),A.current.forEach((J,lt)=>{const et=[J.x+J.translateX-J.size,T.current.w-J.x-J.translateX-J.size,J.y+J.translateY-J.size,T.current.h-J.y-J.translateY-J.size].reduce((At,j)=>Math.min(At,j)),Q=parseFloat(st(et,0,20,0,1).toFixed(2));if(Q>1?(J.alpha+=.02,J.alpha>J.targetAlpha&&(J.alpha=J.targetAlpha)):J.alpha=J.targetAlpha*Q,J.x+=J.dx+l,J.y+=J.dy+u,J.translateX+=(E.current.x/(e/J.magnetism)-J.translateX)/i,J.translateY+=(E.current.y/(e/J.magnetism)-J.translateY)/i,N(J,!0),J.x<-J.size||J.x>T.current.w+J.size||J.y<-J.size||J.y>T.current.h+J.size){A.current.splice(lt,1);const At=F();N(At)}}),w.current=window.requestAnimationFrame(tt)};return ot.jsx("div",{className:wy("pointer-events-none",n),ref:g,"aria-hidden":"true",...d,children:ot.jsx("canvas",{ref:m,className:"size-full"})})};var aE={exports:{}},Jn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qO;function Qst(){if(qO)return Jn;qO=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),A=Symbol.for("react.client.reference");function S(E){if(typeof E=="object"&&E!==null){var T=E.$$typeof;switch(T){case n:switch(E=E.type,E){case e:case s:case i:case u:case d:case v:return E;default:switch(E=E&&E.$$typeof,E){case o:case l:case g:case m:return E;case r:return E;default:return T}}case t:return T}}}return Jn.ContextConsumer=r,Jn.ContextProvider=o,Jn.Element=n,Jn.ForwardRef=l,Jn.Fragment=e,Jn.Lazy=g,Jn.Memo=m,Jn.Portal=t,Jn.Profiler=s,Jn.StrictMode=i,Jn.Suspense=u,Jn.SuspenseList=d,Jn.isContextConsumer=function(E){return S(E)===r},Jn.isContextProvider=function(E){return S(E)===o},Jn.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===n},Jn.isForwardRef=function(E){return S(E)===l},Jn.isFragment=function(E){return S(E)===e},Jn.isLazy=function(E){return S(E)===g},Jn.isMemo=function(E){return S(E)===m},Jn.isPortal=function(E){return S(E)===t},Jn.isProfiler=function(E){return S(E)===s},Jn.isStrictMode=function(E){return S(E)===i},Jn.isSuspense=function(E){return S(E)===u},Jn.isSuspenseList=function(E){return S(E)===d},Jn.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===e||E===s||E===i||E===u||E===d||typeof E=="object"&&E!==null&&(E.$$typeof===g||E.$$typeof===m||E.$$typeof===o||E.$$typeof===r||E.$$typeof===l||E.$$typeof===A||E.getModuleId!==void 0)},Jn.typeOf=S,Jn}var JO;function Zst(){return JO||(JO=1,aE.exports=Qst()),aE.exports}var PH=Zst();function Gc(n){if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function NH(n){if(W.isValidElement(n)||PH.isValidElementType(n)||!Gc(n))return n;const t={};return Object.keys(n).forEach(e=>{t[e]=NH(n[e])}),t}function Ma(n,t,e={clone:!0}){const i=e.clone?{...n}:n;return Gc(n)&&Gc(t)&&Object.keys(t).forEach(s=>{W.isValidElement(t[s])||PH.isValidElementType(t[s])?i[s]=t[s]:Gc(t[s])&&Object.prototype.hasOwnProperty.call(n,s)&&Gc(n[s])?i[s]=Ma(n[s],t[s],e):e.clone?i[s]=Gc(t[s])?NH(t[s]):t[s]:i[s]=t[s]}),i}function od(n,...t){const e=new URL(`https://mui.com/production-error/?code=${n}`);return t.forEach(i=>e.searchParams.append("args[]",i)),`Minified MUI error #${n}; visit ${e} for the full message.`}function _m(n){if(typeof n!="string")throw new Error(od(7));return n.charAt(0).toUpperCase()+n.slice(1)}function ST(n,t){const e={...t};for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const s=i;if(s==="components"||s==="slots")e[s]={...n[s],...e[s]};else if(s==="componentsProps"||s==="slotProps"){const r=n[s],o=t[s];if(!o)e[s]=r||{};else if(!r)e[s]=o;else{e[s]={...o};for(const l in r)if(Object.prototype.hasOwnProperty.call(r,l)){const u=l;e[s][u]=ST(r[u],o[u])}}}else e[s]===void 0&&(e[s]=n[s])}return e}function $st(n,t,e=void 0){const i={};for(const s in n){const r=n[s];let o="",l=!0;for(let u=0;u<r.length;u+=1){const d=r[u];d&&(o+=(l===!0?"":" ")+t(d),l=!1,e&&e[d]&&(o+=" "+e[d]))}i[s]=o}return i}const QO=n=>n,trt=()=>{let n=QO;return{configure(t){n=t},generate(t){return n(t)},reset(){n=QO}}},ert=trt(),nrt={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function IH(n,t,e="Mui"){const i=nrt[t];return i?`${e}-${i}`:`${ert.generate(n)}-${t}`}function irt(n,t,e="Mui"){const i={};return t.forEach(s=>{i[s]=IH(n,s,e)}),i}function srt(n,t=Number.MIN_SAFE_INTEGER,e=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(n,e))}function FH(n){var t,e,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(t=0;t<s;t++)n[t]&&(e=FH(n[t]))&&(i&&(i+=" "),i+=e)}else for(e in n)n[e]&&(i&&(i+=" "),i+=e);return i}function rrt(){for(var n,t,e=0,i="",s=arguments.length;e<s;e++)(n=arguments[e])&&(t=FH(n))&&(i&&(i+=" "),i+=t);return i}function iy(n,t){return t?Ma(n,t,{clone:!1}):n}function art(n,t){if(!n.containerQueries)return t;const e=Object.keys(t).filter(i=>i.startsWith("@container")).sort((i,s)=>{var o,l;const r=/min-width:\s*([0-9.]+)/;return+(((o=i.match(r))==null?void 0:o[1])||0)-+(((l=s.match(r))==null?void 0:l[1])||0)});return e.length?e.reduce((i,s)=>{const r=t[s];return delete i[s],i[s]=r,i},{...t}):t}function ort(n,t){return t==="@"||t.startsWith("@")&&(n.some(e=>t.startsWith(`@${e}`))||!!t.match(/^@\d/))}function lrt(n,t){const e=t.match(/^@([^/]+)?\/?(.+)?$/);if(!e)return null;const[,i,s]=e,r=Number.isNaN(+i)?i||0:+i;return n.containerQueries(s).up(r)}function crt(n){const t=(r,o)=>r.replace("@media",o?`@container ${o}`:"@container");function e(r,o){r.up=(...l)=>t(n.breakpoints.up(...l),o),r.down=(...l)=>t(n.breakpoints.down(...l),o),r.between=(...l)=>t(n.breakpoints.between(...l),o),r.only=(...l)=>t(n.breakpoints.only(...l),o),r.not=(...l)=>{const u=t(n.breakpoints.not(...l),o);return u.includes("not all and")?u.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):u}}const i={},s=r=>(e(i,r),i);return e(s),{...n,containerQueries:s}}const x_={xs:0,sm:600,md:900,lg:1200,xl:1536},ZO={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${x_[n]}px)`},urt={containerQueries:n=>({up:t=>{let e=typeof t=="number"?t:x_[t]||t;return typeof e=="number"&&(e=`${e}px`),n?`@container ${n} (min-width:${e})`:`@container (min-width:${e})`}})};function tu(n,t,e){const i=n.theme||{};if(Array.isArray(t)){const r=i.breakpoints||ZO;return t.reduce((o,l,u)=>(o[r.up(r.keys[u])]=e(t[u]),o),{})}if(typeof t=="object"){const r=i.breakpoints||ZO;return Object.keys(t).reduce((o,l)=>{if(ort(r.keys,l)){const u=lrt(i.containerQueries?i:urt,l);u&&(o[u]=e(t[l],l))}else if(Object.keys(r.values||x_).includes(l)){const u=r.up(l);o[u]=e(t[l],l)}else{const u=l;o[u]=t[u]}return o},{})}return e(t)}function frt(n={}){var e;return((e=n.keys)==null?void 0:e.reduce((i,s)=>{const r=n.up(s);return i[r]={},i},{}))||{}}function hrt(n,t){return n.reduce((e,i)=>{const s=e[i];return(!s||Object.keys(s).length===0)&&delete e[i],e},t)}function A_(n,t,e=!0){if(!t||typeof t!="string")return null;if(n&&n.vars&&e){const i=`vars.${t}`.split(".").reduce((s,r)=>s&&s[r]?s[r]:null,n);if(i!=null)return i}return t.split(".").reduce((i,s)=>i&&i[s]!=null?i[s]:null,n)}function _S(n,t,e,i=e){let s;return typeof n=="function"?s=n(e):Array.isArray(n)?s=n[e]||i:s=A_(n,e)||i,t&&(s=t(s,i,n)),s}function Qi(n){const{prop:t,cssProperty:e=n.prop,themeKey:i,transform:s}=n,r=o=>{if(o[t]==null)return null;const l=o[t],u=o.theme,d=A_(u,i)||{};return tu(o,l,g=>{let v=_S(d,s,g);return g===v&&typeof g=="string"&&(v=_S(d,s,`${t}${g==="default"?"":_m(g)}`,g)),e===!1?v:{[e]:v}})};return r.propTypes={},r.filterProps=[t],r}function drt(n){const t={};return e=>(t[e]===void 0&&(t[e]=n(e)),t[e])}const prt={m:"margin",p:"padding"},mrt={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},$O={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},grt=drt(n=>{if(n.length>2)if($O[n])n=$O[n];else return[n];const[t,e]=n.split(""),i=prt[t],s=mrt[e]||"";return Array.isArray(s)?s.map(r=>i+r):[i+s]}),qR=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],JR=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...qR,...JR];function cv(n,t,e,i){const s=A_(n,t,!0)??e;return typeof s=="number"||typeof s=="string"?r=>typeof r=="string"?r:typeof s=="string"?s.startsWith("var(")&&r===0?0:s.startsWith("var(")&&r===1?s:`calc(${r} * ${s})`:s*r:Array.isArray(s)?r=>{if(typeof r=="string")return r;const o=Math.abs(r),l=s[o];return r>=0?l:typeof l=="number"?-l:typeof l=="string"&&l.startsWith("var(")?`calc(-1 * ${l})`:`-${l}`}:typeof s=="function"?s:()=>{}}function QR(n){return cv(n,"spacing",8)}function uv(n,t){return typeof t=="string"||t==null?t:n(t)}function yrt(n,t){return e=>n.reduce((i,s)=>(i[s]=uv(t,e),i),{})}function vrt(n,t,e,i){if(!t.includes(e))return null;const s=grt(e),r=yrt(s,i),o=n[e];return tu(n,o,r)}function zH(n,t){const e=QR(n.theme);return Object.keys(n).map(i=>vrt(n,t,i,e)).reduce(iy,{})}function Ii(n){return zH(n,qR)}Ii.propTypes={};Ii.filterProps=qR;function Fi(n){return zH(n,JR)}Fi.propTypes={};Fi.filterProps=JR;function S_(...n){const t=n.reduce((i,s)=>(s.filterProps.forEach(r=>{i[r]=s}),i),{}),e=i=>Object.keys(i).reduce((s,r)=>t[r]?iy(s,t[r](i)):s,{});return e.propTypes={},e.filterProps=n.reduce((i,s)=>i.concat(s.filterProps),[]),e}function Ja(n){return typeof n!="number"?n:`${n}px solid`}function to(n,t){return Qi({prop:n,themeKey:"borders",transform:t})}const xrt=to("border",Ja),Art=to("borderTop",Ja),Srt=to("borderRight",Ja),_rt=to("borderBottom",Ja),brt=to("borderLeft",Ja),Mrt=to("borderColor"),Ert=to("borderTopColor"),Trt=to("borderRightColor"),Crt=to("borderBottomColor"),Rrt=to("borderLeftColor"),wrt=to("outline",Ja),Brt=to("outlineColor"),__=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const t=cv(n.theme,"shape.borderRadius",4),e=i=>({borderRadius:uv(t,i)});return tu(n,n.borderRadius,e)}return null};__.propTypes={};__.filterProps=["borderRadius"];S_(xrt,Art,Srt,_rt,brt,Mrt,Ert,Trt,Crt,Rrt,__,wrt,Brt);const b_=n=>{if(n.gap!==void 0&&n.gap!==null){const t=cv(n.theme,"spacing",8),e=i=>({gap:uv(t,i)});return tu(n,n.gap,e)}return null};b_.propTypes={};b_.filterProps=["gap"];const M_=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const t=cv(n.theme,"spacing",8),e=i=>({columnGap:uv(t,i)});return tu(n,n.columnGap,e)}return null};M_.propTypes={};M_.filterProps=["columnGap"];const E_=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const t=cv(n.theme,"spacing",8),e=i=>({rowGap:uv(t,i)});return tu(n,n.rowGap,e)}return null};E_.propTypes={};E_.filterProps=["rowGap"];const Drt=Qi({prop:"gridColumn"}),Lrt=Qi({prop:"gridRow"}),Ort=Qi({prop:"gridAutoFlow"}),Urt=Qi({prop:"gridAutoColumns"}),Prt=Qi({prop:"gridAutoRows"}),Nrt=Qi({prop:"gridTemplateColumns"}),Irt=Qi({prop:"gridTemplateRows"}),Frt=Qi({prop:"gridTemplateAreas"}),zrt=Qi({prop:"gridArea"});S_(b_,M_,E_,Drt,Lrt,Ort,Urt,Prt,Nrt,Irt,Frt,zrt);function am(n,t){return t==="grey"?t:n}const Hrt=Qi({prop:"color",themeKey:"palette",transform:am}),Grt=Qi({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:am}),Vrt=Qi({prop:"backgroundColor",themeKey:"palette",transform:am});S_(Hrt,Grt,Vrt);function Aa(n){return n<=1&&n!==0?`${n*100}%`:n}const krt=Qi({prop:"width",transform:Aa}),ZR=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const t=e=>{var s,r,o,l,u;const i=((o=(r=(s=n.theme)==null?void 0:s.breakpoints)==null?void 0:r.values)==null?void 0:o[e])||x_[e];return i?((u=(l=n.theme)==null?void 0:l.breakpoints)==null?void 0:u.unit)!=="px"?{maxWidth:`${i}${n.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:Aa(e)}};return tu(n,n.maxWidth,t)}return null};ZR.filterProps=["maxWidth"];const Xrt=Qi({prop:"minWidth",transform:Aa}),jrt=Qi({prop:"height",transform:Aa}),Yrt=Qi({prop:"maxHeight",transform:Aa}),Wrt=Qi({prop:"minHeight",transform:Aa});Qi({prop:"size",cssProperty:"width",transform:Aa});Qi({prop:"size",cssProperty:"height",transform:Aa});const Krt=Qi({prop:"boxSizing"});S_(krt,ZR,Xrt,jrt,Yrt,Wrt,Krt);const T_={border:{themeKey:"borders",transform:Ja},borderTop:{themeKey:"borders",transform:Ja},borderRight:{themeKey:"borders",transform:Ja},borderBottom:{themeKey:"borders",transform:Ja},borderLeft:{themeKey:"borders",transform:Ja},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Ja},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:__},color:{themeKey:"palette",transform:am},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:am},backgroundColor:{themeKey:"palette",transform:am},p:{style:Fi},pt:{style:Fi},pr:{style:Fi},pb:{style:Fi},pl:{style:Fi},px:{style:Fi},py:{style:Fi},padding:{style:Fi},paddingTop:{style:Fi},paddingRight:{style:Fi},paddingBottom:{style:Fi},paddingLeft:{style:Fi},paddingX:{style:Fi},paddingY:{style:Fi},paddingInline:{style:Fi},paddingInlineStart:{style:Fi},paddingInlineEnd:{style:Fi},paddingBlock:{style:Fi},paddingBlockStart:{style:Fi},paddingBlockEnd:{style:Fi},m:{style:Ii},mt:{style:Ii},mr:{style:Ii},mb:{style:Ii},ml:{style:Ii},mx:{style:Ii},my:{style:Ii},margin:{style:Ii},marginTop:{style:Ii},marginRight:{style:Ii},marginBottom:{style:Ii},marginLeft:{style:Ii},marginX:{style:Ii},marginY:{style:Ii},marginInline:{style:Ii},marginInlineStart:{style:Ii},marginInlineEnd:{style:Ii},marginBlock:{style:Ii},marginBlockStart:{style:Ii},marginBlockEnd:{style:Ii},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:b_},rowGap:{style:E_},columnGap:{style:M_},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Aa},maxWidth:{style:ZR},minWidth:{transform:Aa},height:{transform:Aa},maxHeight:{transform:Aa},minHeight:{transform:Aa},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function qrt(...n){const t=n.reduce((i,s)=>i.concat(Object.keys(s)),[]),e=new Set(t);return n.every(i=>e.size===Object.keys(i).length)}function Jrt(n,t){return typeof n=="function"?n(t):n}function Qrt(){function n(e,i,s,r){const o={[e]:i,theme:s},l=r[e];if(!l)return{[e]:i};const{cssProperty:u=e,themeKey:d,transform:m,style:g}=l;if(i==null)return null;if(d==="typography"&&i==="inherit")return{[e]:i};const v=A_(s,d)||{};return g?g(o):tu(o,i,S=>{let E=_S(v,m,S);return S===E&&typeof S=="string"&&(E=_S(v,m,`${e}${S==="default"?"":_m(S)}`,S)),u===!1?E:{[u]:E}})}function t(e){const{sx:i,theme:s={}}=e||{};if(!i)return null;const r=s.unstable_sxConfig??T_;function o(l){let u=l;if(typeof l=="function")u=l(s);else if(typeof l!="object")return l;if(!u)return null;const d=frt(s.breakpoints),m=Object.keys(d);let g=d;return Object.keys(u).forEach(v=>{const A=Jrt(u[v],s);if(A!=null)if(typeof A=="object")if(r[v])g=iy(g,n(v,A,s,r));else{const S=tu({theme:s},A,E=>({[v]:E}));qrt(S,A)?g[v]=t({sx:A,theme:s}):g=iy(g,S)}else g=iy(g,n(v,A,s,r))}),art(s,hrt(m,g))}return Array.isArray(i)?i.map(o):o(i)}return t}const bm=Qrt();bm.filterProps=["sx"];function _T(){return _T=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},_T.apply(null,arguments)}function Zrt(n){if(n.sheet)return n.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===n)return document.styleSheets[t]}function $rt(n){var t=document.createElement("style");return t.setAttribute("data-emotion",n.key),n.nonce!==void 0&&t.setAttribute("nonce",n.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var tat=function(){function n(e){var i=this;this._insertTag=function(s){var r;i.tags.length===0?i.insertionPoint?r=i.insertionPoint.nextSibling:i.prepend?r=i.container.firstChild:r=i.before:r=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(s,r),i.tags.push(s)},this.isSpeedy=e.speedy===void 0?!0:e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=n.prototype;return t.hydrate=function(i){i.forEach(this._insertTag)},t.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag($rt(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var r=Zrt(s);try{r.insertRule(i,r.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(i));this.ctr++},t.flush=function(){this.tags.forEach(function(i){var s;return(s=i.parentNode)==null?void 0:s.removeChild(i)}),this.tags=[],this.ctr=0},n}(),or="-ms-",bS="-moz-",Pn="-webkit-",HH="comm",$R="rule",tw="decl",eat="@import",GH="@keyframes",nat="@layer",iat=Math.abs,C_=String.fromCharCode,sat=Object.assign;function rat(n,t){return Xs(n,0)^45?(((t<<2^Xs(n,0))<<2^Xs(n,1))<<2^Xs(n,2))<<2^Xs(n,3):0}function VH(n){return n.trim()}function aat(n,t){return(n=t.exec(n))?n[0]:n}function Nn(n,t,e){return n.replace(t,e)}function bT(n,t){return n.indexOf(t)}function Xs(n,t){return n.charCodeAt(t)|0}function By(n,t,e){return n.slice(t,e)}function Nl(n){return n.length}function ew(n){return n.length}function KA(n,t){return t.push(n),n}function oat(n,t){return n.map(t).join("")}var R_=1,Mm=1,kH=0,na=0,is=0,Gm="";function w_(n,t,e,i,s,r,o){return{value:n,root:t,parent:e,type:i,props:s,children:r,line:R_,column:Mm,length:o,return:""}}function T0(n,t){return sat(w_("",null,null,"",null,null,0),n,{length:-n.length},t)}function lat(){return is}function cat(){return is=na>0?Xs(Gm,--na):0,Mm--,is===10&&(Mm=1,R_--),is}function Ea(){return is=na<kH?Xs(Gm,na++):0,Mm++,is===10&&(Mm=1,R_++),is}function Wl(){return Xs(Gm,na)}function d1(){return na}function fv(n,t){return By(Gm,n,t)}function Dy(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function XH(n){return R_=Mm=1,kH=Nl(Gm=n),na=0,[]}function jH(n){return Gm="",n}function p1(n){return VH(fv(na-1,MT(n===91?n+2:n===40?n+1:n)))}function uat(n){for(;(is=Wl())&&is<33;)Ea();return Dy(n)>2||Dy(is)>3?"":" "}function fat(n,t){for(;--t&&Ea()&&!(is<48||is>102||is>57&&is<65||is>70&&is<97););return fv(n,d1()+(t<6&&Wl()==32&&Ea()==32))}function MT(n){for(;Ea();)switch(is){case n:return na;case 34:case 39:n!==34&&n!==39&&MT(is);break;case 40:n===41&&MT(n);break;case 92:Ea();break}return na}function hat(n,t){for(;Ea()&&n+is!==57;)if(n+is===84&&Wl()===47)break;return"/*"+fv(t,na-1)+"*"+C_(n===47?n:Ea())}function dat(n){for(;!Dy(Wl());)Ea();return fv(n,na)}function pat(n){return jH(m1("",null,null,null,[""],n=XH(n),0,[0],n))}function m1(n,t,e,i,s,r,o,l,u){for(var d=0,m=0,g=o,v=0,A=0,S=0,E=1,T=1,_=1,w=0,D="",L=s,U=r,P=i,F=D;T;)switch(S=w,w=Ea()){case 40:if(S!=108&&Xs(F,g-1)==58){bT(F+=Nn(p1(w),"&","&\f"),"&\f")!=-1&&(_=-1);break}case 34:case 39:case 91:F+=p1(w);break;case 9:case 10:case 13:case 32:F+=uat(S);break;case 92:F+=fat(d1()-1,7);continue;case 47:switch(Wl()){case 42:case 47:KA(mat(hat(Ea(),d1()),t,e),u);break;default:F+="/"}break;case 123*E:l[d++]=Nl(F)*_;case 125*E:case 59:case 0:switch(w){case 0:case 125:T=0;case 59+m:_==-1&&(F=Nn(F,/\f/g,"")),A>0&&Nl(F)-g&&KA(A>32?eU(F+";",i,e,g-1):eU(Nn(F," ","")+";",i,e,g-2),u);break;case 59:F+=";";default:if(KA(P=tU(F,t,e,d,m,s,l,D,L=[],U=[],g),r),w===123)if(m===0)m1(F,t,P,P,L,r,g,l,U);else switch(v===99&&Xs(F,3)===110?100:v){case 100:case 108:case 109:case 115:m1(n,P,P,i&&KA(tU(n,P,P,0,0,s,l,D,s,L=[],g),U),s,U,g,l,i?L:U);break;default:m1(F,P,P,P,[""],U,0,l,U)}}d=m=A=0,E=_=1,D=F="",g=o;break;case 58:g=1+Nl(F),A=S;default:if(E<1){if(w==123)--E;else if(w==125&&E++==0&&cat()==125)continue}switch(F+=C_(w),w*E){case 38:_=m>0?1:(F+="\f",-1);break;case 44:l[d++]=(Nl(F)-1)*_,_=1;break;case 64:Wl()===45&&(F+=p1(Ea())),v=Wl(),m=g=Nl(D=F+=dat(d1())),w++;break;case 45:S===45&&Nl(F)==2&&(E=0)}}return r}function tU(n,t,e,i,s,r,o,l,u,d,m){for(var g=s-1,v=s===0?r:[""],A=ew(v),S=0,E=0,T=0;S<i;++S)for(var _=0,w=By(n,g+1,g=iat(E=o[S])),D=n;_<A;++_)(D=VH(E>0?v[_]+" "+w:Nn(w,/&\f/g,v[_])))&&(u[T++]=D);return w_(n,t,e,s===0?$R:l,u,d,m)}function mat(n,t,e){return w_(n,t,e,HH,C_(lat()),By(n,2,-2),0)}function eU(n,t,e,i){return w_(n,t,e,tw,By(n,0,i),By(n,i+1,-1),i)}function om(n,t){for(var e="",i=ew(n),s=0;s<i;s++)e+=t(n[s],s,n,t)||"";return e}function gat(n,t,e,i){switch(n.type){case nat:if(n.children.length)break;case eat:case tw:return n.return=n.return||n.value;case HH:return"";case GH:return n.return=n.value+"{"+om(n.children,i)+"}";case $R:n.value=n.props.join(",")}return Nl(e=om(n.children,i))?n.return=n.value+"{"+e+"}":""}function yat(n){var t=ew(n);return function(e,i,s,r){for(var o="",l=0;l<t;l++)o+=n[l](e,i,s,r)||"";return o}}function vat(n){return function(t){t.root||(t=t.return)&&n(t)}}function YH(n){var t=Object.create(null);return function(e){return t[e]===void 0&&(t[e]=n(e)),t[e]}}var xat=function(t,e,i){for(var s=0,r=0;s=r,r=Wl(),s===38&&r===12&&(e[i]=1),!Dy(r);)Ea();return fv(t,na)},Aat=function(t,e){var i=-1,s=44;do switch(Dy(s)){case 0:s===38&&Wl()===12&&(e[i]=1),t[i]+=xat(na-1,e,i);break;case 2:t[i]+=p1(s);break;case 4:if(s===44){t[++i]=Wl()===58?"&\f":"",e[i]=t[i].length;break}default:t[i]+=C_(s)}while(s=Ea());return t},Sat=function(t,e){return jH(Aat(XH(t),e))},nU=new WeakMap,_at=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var e=t.value,i=t.parent,s=t.column===i.column&&t.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(t.props.length===1&&e.charCodeAt(0)!==58&&!nU.get(i))&&!s){nU.set(t,!0);for(var r=[],o=Sat(e,r),l=i.props,u=0,d=0;u<o.length;u++)for(var m=0;m<l.length;m++,d++)t.props[d]=r[u]?o[u].replace(/&\f/g,l[m]):l[m]+" "+o[u]}}},bat=function(t){if(t.type==="decl"){var e=t.value;e.charCodeAt(0)===108&&e.charCodeAt(2)===98&&(t.return="",t.value="")}};function WH(n,t){switch(rat(n,t)){case 5103:return Pn+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Pn+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Pn+n+bS+n+or+n+n;case 6828:case 4268:return Pn+n+or+n+n;case 6165:return Pn+n+or+"flex-"+n+n;case 5187:return Pn+n+Nn(n,/(\w+).+(:[^]+)/,Pn+"box-$1$2"+or+"flex-$1$2")+n;case 5443:return Pn+n+or+"flex-item-"+Nn(n,/flex-|-self/,"")+n;case 4675:return Pn+n+or+"flex-line-pack"+Nn(n,/align-content|flex-|-self/,"")+n;case 5548:return Pn+n+or+Nn(n,"shrink","negative")+n;case 5292:return Pn+n+or+Nn(n,"basis","preferred-size")+n;case 6060:return Pn+"box-"+Nn(n,"-grow","")+Pn+n+or+Nn(n,"grow","positive")+n;case 4554:return Pn+Nn(n,/([^-])(transform)/g,"$1"+Pn+"$2")+n;case 6187:return Nn(Nn(Nn(n,/(zoom-|grab)/,Pn+"$1"),/(image-set)/,Pn+"$1"),n,"")+n;case 5495:case 3959:return Nn(n,/(image-set\([^]*)/,Pn+"$1$`$1");case 4968:return Nn(Nn(n,/(.+:)(flex-)?(.*)/,Pn+"box-pack:$3"+or+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Pn+n+n;case 4095:case 3583:case 4068:case 2532:return Nn(n,/(.+)-inline(.+)/,Pn+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Nl(n)-1-t>6)switch(Xs(n,t+1)){case 109:if(Xs(n,t+4)!==45)break;case 102:return Nn(n,/(.+:)(.+)-([^]+)/,"$1"+Pn+"$2-$3$1"+bS+(Xs(n,t+3)==108?"$3":"$2-$3"))+n;case 115:return~bT(n,"stretch")?WH(Nn(n,"stretch","fill-available"),t)+n:n}break;case 4949:if(Xs(n,t+1)!==115)break;case 6444:switch(Xs(n,Nl(n)-3-(~bT(n,"!important")&&10))){case 107:return Nn(n,":",":"+Pn)+n;case 101:return Nn(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Pn+(Xs(n,14)===45?"inline-":"")+"box$3$1"+Pn+"$2$3$1"+or+"$2box$3")+n}break;case 5936:switch(Xs(n,t+11)){case 114:return Pn+n+or+Nn(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Pn+n+or+Nn(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Pn+n+or+Nn(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Pn+n+or+n+n}return n}var Mat=function(t,e,i,s){if(t.length>-1&&!t.return)switch(t.type){case tw:t.return=WH(t.value,t.length);break;case GH:return om([T0(t,{value:Nn(t.value,"@","@"+Pn)})],s);case $R:if(t.length)return oat(t.props,function(r){switch(aat(r,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return om([T0(t,{props:[Nn(r,/:(read-\w+)/,":"+bS+"$1")]})],s);case"::placeholder":return om([T0(t,{props:[Nn(r,/:(plac\w+)/,":"+Pn+"input-$1")]}),T0(t,{props:[Nn(r,/:(plac\w+)/,":"+bS+"$1")]}),T0(t,{props:[Nn(r,/:(plac\w+)/,or+"input-$1")]})],s)}return""})}},Eat=[Mat],Tat=function(t){var e=t.key;if(e==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(E){var T=E.getAttribute("data-emotion");T.indexOf(" ")!==-1&&(document.head.appendChild(E),E.setAttribute("data-s",""))})}var s=t.stylisPlugins||Eat,r={},o,l=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),function(E){for(var T=E.getAttribute("data-emotion").split(" "),_=1;_<T.length;_++)r[T[_]]=!0;l.push(E)});var u,d=[_at,bat];{var m,g=[gat,vat(function(E){m.insert(E)})],v=yat(d.concat(s,g)),A=function(T){return om(pat(T),v)};u=function(T,_,w,D){m=w,A(T?T+"{"+_.styles+"}":_.styles),D&&(S.inserted[_.name]=!0)}}var S={key:e,sheet:new tat({key:e,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:r,registered:{},insert:u};return S.sheet.hydrate(l),S},Cat=!0;function Rat(n,t,e){var i="";return e.split(" ").forEach(function(s){n[s]!==void 0?t.push(n[s]+";"):s&&(i+=s+" ")}),i}var KH=function(t,e,i){var s=t.key+"-"+e.name;(i===!1||Cat===!1)&&t.registered[s]===void 0&&(t.registered[s]=e.styles)},wat=function(t,e,i){KH(t,e,i);var s=t.key+"-"+e.name;if(t.inserted[e.name]===void 0){var r=e;do t.insert(e===r?"."+s:"",r,t.sheet,!0),r=r.next;while(r!==void 0)}};function Bat(n){for(var t=0,e,i=0,s=n.length;s>=4;++i,s-=4)e=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,e=(e&65535)*1540483477+((e>>>16)*59797<<16),e^=e>>>24,t=(e&65535)*1540483477+((e>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(s){case 3:t^=(n.charCodeAt(i+2)&255)<<16;case 2:t^=(n.charCodeAt(i+1)&255)<<8;case 1:t^=n.charCodeAt(i)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var Dat={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Lat=/[A-Z]|^ms/g,Oat=/_EMO_([^_]+?)_([^]*?)_EMO_/g,qH=function(t){return t.charCodeAt(1)===45},iU=function(t){return t!=null&&typeof t!="boolean"},oE=YH(function(n){return qH(n)?n:n.replace(Lat,"-$&").toLowerCase()}),sU=function(t,e){switch(t){case"animation":case"animationName":if(typeof e=="string")return e.replace(Oat,function(i,s,r){return Il={name:s,styles:r,next:Il},s})}return Dat[t]!==1&&!qH(t)&&typeof e=="number"&&e!==0?e+"px":e};function Ly(n,t,e){if(e==null)return"";var i=e;if(i.__emotion_styles!==void 0)return i;switch(typeof e){case"boolean":return"";case"object":{var s=e;if(s.anim===1)return Il={name:s.name,styles:s.styles,next:Il},s.name;var r=e;if(r.styles!==void 0){var o=r.next;if(o!==void 0)for(;o!==void 0;)Il={name:o.name,styles:o.styles,next:Il},o=o.next;var l=r.styles+";";return l}return Uat(n,t,e)}case"function":{if(n!==void 0){var u=Il,d=e(n);return Il=u,Ly(n,t,d)}break}}var m=e;if(t==null)return m;var g=t[m];return g!==void 0?g:m}function Uat(n,t,e){var i="";if(Array.isArray(e))for(var s=0;s<e.length;s++)i+=Ly(n,t,e[s])+";";else for(var r in e){var o=e[r];if(typeof o!="object"){var l=o;t!=null&&t[l]!==void 0?i+=r+"{"+t[l]+"}":iU(l)&&(i+=oE(r)+":"+sU(r,l)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var u=0;u<o.length;u++)iU(o[u])&&(i+=oE(r)+":"+sU(r,o[u])+";");else{var d=Ly(n,t,o);switch(r){case"animation":case"animationName":{i+=oE(r)+":"+d+";";break}default:i+=r+"{"+d+"}"}}}return i}var rU=/label:\s*([^\s;{]+)\s*(;|$)/g,Il;function JH(n,t,e){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var i=!0,s="";Il=void 0;var r=n[0];if(r==null||r.raw===void 0)i=!1,s+=Ly(e,t,r);else{var o=r;s+=o[0]}for(var l=1;l<n.length;l++)if(s+=Ly(e,t,n[l]),i){var u=r;s+=u[l]}rU.lastIndex=0;for(var d="",m;(m=rU.exec(s))!==null;)d+="-"+m[1];var g=Bat(s)+d;return{name:g,styles:s,next:Il}}var Pat=function(t){return t()},Nat=jw.useInsertionEffect?jw.useInsertionEffect:!1,Iat=Nat||Pat,QH=W.createContext(typeof HTMLElement<"u"?Tat({key:"css"}):null);QH.Provider;var Fat=function(t){return W.forwardRef(function(e,i){var s=W.useContext(QH);return t(e,s,i)})},zat=W.createContext({}),Hat=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Gat=YH(function(n){return Hat.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),Vat=Gat,kat=function(t){return t!=="theme"},aU=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?Vat:kat},oU=function(t,e,i){var s;if(e){var r=e.shouldForwardProp;s=t.__emotion_forwardProp&&r?function(o){return t.__emotion_forwardProp(o)&&r(o)}:r}return typeof s!="function"&&i&&(s=t.__emotion_forwardProp),s},Xat=function(t){var e=t.cache,i=t.serialized,s=t.isStringTag;return KH(e,i,s),Iat(function(){return wat(e,i,s)}),null},jat=function n(t,e){var i=t.__emotion_real===t,s=i&&t.__emotion_base||t,r,o;e!==void 0&&(r=e.label,o=e.target);var l=oU(t,e,i),u=l||aU(s),d=!u("as");return function(){var m=arguments,g=i&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(r!==void 0&&g.push("label:"+r+";"),m[0]==null||m[0].raw===void 0)g.push.apply(g,m);else{var v=m[0];g.push(v[0]);for(var A=m.length,S=1;S<A;S++)g.push(m[S],v[S])}var E=Fat(function(T,_,w){var D=d&&T.as||s,L="",U=[],P=T;if(T.theme==null){P={};for(var F in T)P[F]=T[F];P.theme=W.useContext(zat)}typeof T.className=="string"?L=Rat(_.registered,U,T.className):T.className!=null&&(L=T.className+" ");var z=JH(g.concat(U),_.registered,P);L+=_.key+"-"+z.name,o!==void 0&&(L+=" "+o);var N=d&&l===void 0?aU(D):u,B={};for(var H in T)d&&H==="as"||N(H)&&(B[H]=T[H]);return B.className=L,w&&(B.ref=w),W.createElement(W.Fragment,null,W.createElement(Xat,{cache:_,serialized:z,isStringTag:typeof D=="string"}),W.createElement(D,B))});return E.displayName=r!==void 0?r:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",E.defaultProps=t.defaultProps,E.__emotion_real=E,E.__emotion_base=s,E.__emotion_styles=g,E.__emotion_forwardProp=l,Object.defineProperty(E,"toString",{value:function(){return"."+o}}),E.withComponent=function(T,_){var w=n(T,_T({},e,_,{shouldForwardProp:oU(E,_,!0)}));return w.apply(void 0,g)},E}},Yat=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],ET=jat.bind(null);Yat.forEach(function(n){ET[n]=ET(n)});function Wat(n,t){return ET(n,t)}function Kat(n,t){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=t(n.__emotion_styles))}const lU=[];function cU(n){return lU[0]=n,JH(lU)}const qat=n=>{const t=Object.keys(n).map(e=>({key:e,val:n[e]}))||[];return t.sort((e,i)=>e.val-i.val),t.reduce((e,i)=>({...e,[i.key]:i.val}),{})};function Jat(n){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:e="px",step:i=5,...s}=n,r=qat(t),o=Object.keys(r);function l(v){return`@media (min-width:${typeof t[v]=="number"?t[v]:v}${e})`}function u(v){return`@media (max-width:${(typeof t[v]=="number"?t[v]:v)-i/100}${e})`}function d(v,A){const S=o.indexOf(A);return`@media (min-width:${typeof t[v]=="number"?t[v]:v}${e}) and (max-width:${(S!==-1&&typeof t[o[S]]=="number"?t[o[S]]:A)-i/100}${e})`}function m(v){return o.indexOf(v)+1<o.length?d(v,o[o.indexOf(v)+1]):l(v)}function g(v){const A=o.indexOf(v);return A===0?l(o[1]):A===o.length-1?u(o[A]):d(v,o[o.indexOf(v)+1]).replace("@media","@media not all and")}return{keys:o,values:r,up:l,down:u,between:d,only:m,not:g,unit:e,...s}}const Qat={borderRadius:4};function ZH(n=8,t=QR({spacing:n})){if(n.mui)return n;const e=(...i)=>(i.length===0?[1]:i).map(r=>{const o=t(r);return typeof o=="number"?`${o}px`:o}).join(" ");return e.mui=!0,e}function Zat(n,t){var i;const e=this;if(e.vars){if(!((i=e.colorSchemes)!=null&&i[n])||typeof e.getColorSchemeSelector!="function")return{};let s=e.getColorSchemeSelector(n);return s==="&"?t:((s.includes("data-")||s.includes("."))&&(s=`*:where(${s.replace(/\s*&$/,"")}) &`),{[s]:t})}return e.palette.mode===n?t:{}}function $H(n={},...t){const{breakpoints:e={},palette:i={},spacing:s,shape:r={},...o}=n,l=Jat(e),u=ZH(s);let d=Ma({breakpoints:l,direction:"ltr",components:{},palette:{mode:"light",...i},spacing:u,shape:{...Qat,...r}},o);return d=crt(d),d.applyStyles=Zat,d=t.reduce((m,g)=>Ma(m,g),d),d.unstable_sxConfig={...T_,...o==null?void 0:o.unstable_sxConfig},d.unstable_sx=function(g){return bm({sx:g,theme:this})},d}function t4(n){const{variants:t,...e}=n,i={variants:t,style:cU(e),isProcessed:!0};return i.style===e||t&&t.forEach(s=>{typeof s.style!="function"&&(s.style=cU(s.style))}),i}const $at=$H();function lE(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function tot(n){return n?(t,e)=>e[n]:null}function eot(n,t,e){n.theme=sot(n.theme)?e:n.theme[t]||n.theme}function g1(n,t){const e=typeof t=="function"?t(n):t;if(Array.isArray(e))return e.flatMap(i=>g1(n,i));if(Array.isArray(e==null?void 0:e.variants)){let i;if(e.isProcessed)i=e.style;else{const{variants:s,...r}=e;i=r}return e4(n,e.variants,[i])}return e!=null&&e.isProcessed?e.style:e}function e4(n,t,e=[]){var s;let i;t:for(let r=0;r<t.length;r+=1){const o=t[r];if(typeof o.props=="function"){if(i??(i={...n,...n.ownerState,ownerState:n.ownerState}),!o.props(i))continue}else for(const l in o.props)if(n[l]!==o.props[l]&&((s=n.ownerState)==null?void 0:s[l])!==o.props[l])continue t;typeof o.style=="function"?(i??(i={...n,...n.ownerState,ownerState:n.ownerState}),e.push(o.style(i))):e.push(o.style)}return e}function not(n={}){const{themeId:t,defaultTheme:e=$at,rootShouldForwardProp:i=lE,slotShouldForwardProp:s=lE}=n;function r(l){eot(l,t,e)}return(l,u={})=>{Kat(l,U=>U.filter(P=>P!==bm));const{name:d,slot:m,skipVariantsResolver:g,skipSx:v,overridesResolver:A=tot(aot(m)),...S}=u,E=g!==void 0?g:m&&m!=="Root"&&m!=="root"||!1,T=v||!1;let _=lE;m==="Root"||m==="root"?_=i:m?_=s:rot(l)&&(_=void 0);const w=Wat(l,{shouldForwardProp:_,label:iot(),...S}),D=U=>{if(typeof U=="function"&&U.__emotion_real!==U)return function(F){return g1(F,U)};if(Gc(U)){const P=t4(U);return P.variants?function(z){return g1(z,P)}:P.style}return U},L=(...U)=>{const P=[],F=U.map(D),z=[];if(P.push(r),d&&A&&z.push(function(st){var $,et;const J=(et=($=st.theme.components)==null?void 0:$[d])==null?void 0:et.styleOverrides;if(!J)return null;const lt={};for(const Q in J)lt[Q]=g1(st,J[Q]);return A(st,lt)}),d&&!E&&z.push(function(st){var lt,$;const tt=st.theme,J=($=(lt=tt==null?void 0:tt.components)==null?void 0:lt[d])==null?void 0:$.variants;return J?e4(st,J):null}),T||z.push(bm),Array.isArray(F[0])){const H=F.shift(),st=new Array(P.length).fill(""),tt=new Array(z.length).fill("");let J;J=[...st,...H,...tt],J.raw=[...st,...H.raw,...tt],P.unshift(J)}const N=[...P,...F,...z],B=w(...N);return l.muiName&&(B.muiName=l.muiName),B};return w.withConfig&&(L.withConfig=w.withConfig),L}}function iot(n,t){return void 0}function sot(n){for(const t in n)return!1;return!0}function rot(n){return typeof n=="string"&&n.charCodeAt(0)>96}function aot(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function nw(n,t=0,e=1){return srt(n,t,e)}function oot(n){n=n.slice(1);const t=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let e=n.match(t);return e&&e[0].length===1&&(e=e.map(i=>i+i)),e?`rgb${e.length===4?"a":""}(${e.map((i,s)=>s<3?parseInt(i,16):Math.round(parseInt(i,16)/255*1e3)/1e3).join(", ")})`:""}function df(n){if(n.type)return n;if(n.charAt(0)==="#")return df(oot(n));const t=n.indexOf("("),e=n.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(e))throw new Error(od(9,n));let i=n.substring(t+1,n.length-1),s;if(e==="color"){if(i=i.split(" "),s=i.shift(),i.length===4&&i[3].charAt(0)==="/"&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(s))throw new Error(od(10,s))}else i=i.split(",");return i=i.map(r=>parseFloat(r)),{type:e,values:i,colorSpace:s}}const lot=n=>{const t=df(n);return t.values.slice(0,3).map((e,i)=>t.type.includes("hsl")&&i!==0?`${e}%`:e).join(" ")},U0=(n,t)=>{try{return lot(n)}catch{return n}};function B_(n){const{type:t,colorSpace:e}=n;let{values:i}=n;return t.includes("rgb")?i=i.map((s,r)=>r<3?parseInt(s,10):s):t.includes("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),t.includes("color")?i=`${e} ${i.join(" ")}`:i=`${i.join(", ")}`,`${t}(${i})`}function n4(n){n=df(n);const{values:t}=n,e=t[0],i=t[1]/100,s=t[2]/100,r=i*Math.min(s,1-s),o=(d,m=(d+e/30)%12)=>s-r*Math.max(Math.min(m-3,9-m,1),-1);let l="rgb";const u=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return n.type==="hsla"&&(l+="a",u.push(t[3])),B_({type:l,values:u})}function TT(n){n=df(n);let t=n.type==="hsl"||n.type==="hsla"?df(n4(n)).values:n.values;return t=t.map(e=>(n.type!=="color"&&(e/=255),e<=.03928?e/12.92:((e+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function cot(n,t){const e=TT(n),i=TT(t);return(Math.max(e,i)+.05)/(Math.min(e,i)+.05)}function uot(n,t){return n=df(n),t=nw(t),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${t}`:n.values[3]=t,B_(n)}function qA(n,t,e){try{return uot(n,t)}catch{return n}}function iw(n,t){if(n=df(n),t=nw(t),n.type.includes("hsl"))n.values[2]*=1-t;else if(n.type.includes("rgb")||n.type.includes("color"))for(let e=0;e<3;e+=1)n.values[e]*=1-t;return B_(n)}function ti(n,t,e){try{return iw(n,t)}catch{return n}}function sw(n,t){if(n=df(n),t=nw(t),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*t;else if(n.type.includes("rgb"))for(let e=0;e<3;e+=1)n.values[e]+=(255-n.values[e])*t;else if(n.type.includes("color"))for(let e=0;e<3;e+=1)n.values[e]+=(1-n.values[e])*t;return B_(n)}function ei(n,t,e){try{return sw(n,t)}catch{return n}}function fot(n,t=.15){return TT(n)>.5?iw(n,t):sw(n,t)}function JA(n,t,e){try{return fot(n,t)}catch{return n}}const hot=W.createContext(void 0);function dot(n){const{theme:t,name:e,props:i}=n;if(!t||!t.components||!t.components[e])return i;const s=t.components[e];return s.defaultProps?ST(s.defaultProps,i):!s.styleOverrides&&!s.variants?ST(s,i):i}function pot({props:n,name:t}){const e=W.useContext(hot);return dot({props:n,name:t,theme:{components:e}})}const uU={theme:void 0};function mot(n){let t,e;return function(s){let r=t;return(r===void 0||s.theme!==e)&&(uU.theme=s.theme,r=t4(n(uU)),t=r,e=s.theme),r}}function got(n=""){function t(...i){if(!i.length)return"";const s=i[0];return typeof s=="string"&&!s.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${s}${t(...i.slice(1))})`:`, ${s}`}return(i,...s)=>`var(--${n?`${n}-`:""}${i}${t(...s)})`}const fU=(n,t,e,i=[])=>{let s=n;t.forEach((r,o)=>{o===t.length-1?Array.isArray(s)?s[Number(r)]=e:s&&typeof s=="object"&&(s[r]=e):s&&typeof s=="object"&&(s[r]||(s[r]=i.includes(r)?[]:{}),s=s[r])})},yot=(n,t,e)=>{function i(s,r=[],o=[]){Object.entries(s).forEach(([l,u])=>{(!e||e&&!e([...r,l]))&&u!=null&&(typeof u=="object"&&Object.keys(u).length>0?i(u,[...r,l],Array.isArray(u)?[...o,l]:o):t([...r,l],u,o))})}i(n)},vot=(n,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(i=>n.includes(i))||n[n.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function cE(n,t){const{prefix:e,shouldSkipGeneratingVar:i}=t||{},s={},r={},o={};return yot(n,(l,u,d)=>{if((typeof u=="string"||typeof u=="number")&&(!i||!i(l,u))){const m=`--${e?`${e}-`:""}${l.join("-")}`,g=vot(l,u);Object.assign(s,{[m]:g}),fU(r,l,`var(${m})`,d),fU(o,l,`var(${m}, ${g})`,d)}},l=>l[0]==="vars"),{css:s,vars:r,varsWithDefaults:o}}function xot(n,t={}){const{getSelector:e=T,disableCssColorScheme:i,colorSchemeSelector:s}=t,{colorSchemes:r={},components:o,defaultColorScheme:l="light",...u}=n,{vars:d,css:m,varsWithDefaults:g}=cE(u,t);let v=g;const A={},{[l]:S,...E}=r;if(Object.entries(E||{}).forEach(([D,L])=>{const{vars:U,css:P,varsWithDefaults:F}=cE(L,t);v=Ma(v,F),A[D]={css:P,vars:U}}),S){const{css:D,vars:L,varsWithDefaults:U}=cE(S,t);v=Ma(v,U),A[l]={css:D,vars:L}}function T(D,L){var P,F;let U=s;if(s==="class"&&(U=".%s"),s==="data"&&(U="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(U=`[${s}="%s"]`),D){if(U==="media")return n.defaultColorScheme===D?":root":{[`@media (prefers-color-scheme: ${((F=(P=r[D])==null?void 0:P.palette)==null?void 0:F.mode)||D})`]:{":root":L}};if(U)return n.defaultColorScheme===D?`:root, ${U.replace("%s",String(D))}`:U.replace("%s",String(D))}return":root"}return{vars:v,generateThemeVars:()=>{let D={...d};return Object.entries(A).forEach(([,{vars:L}])=>{D=Ma(D,L)}),D},generateStyleSheets:()=>{var z,N;const D=[],L=n.defaultColorScheme||"light";function U(B,H){Object.keys(H).length&&D.push(typeof B=="string"?{[B]:{...H}}:B)}U(e(void 0,{...m}),m);const{[L]:P,...F}=A;if(P){const{css:B}=P,H=(N=(z=r[L])==null?void 0:z.palette)==null?void 0:N.mode,st=!i&&H?{colorScheme:H,...B}:{...B};U(e(L,{...st}),st)}return Object.entries(F).forEach(([B,{css:H}])=>{var J,lt;const st=(lt=(J=r[B])==null?void 0:J.palette)==null?void 0:lt.mode,tt=!i&&st?{colorScheme:st,...H}:{...H};U(e(B,{...tt}),tt)}),D}}}function Aot(n){return function(e){return n==="media"?`@media (prefers-color-scheme: ${e})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${e}"] &`:n==="class"?`.${e} &`:n==="data"?`[data-${e}] &`:`${n.replace("%s",e)} &`:"&"}}const Oy={black:"#000",white:"#fff"},Sot={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Up={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Pp={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},C0={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Np={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Ip={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Fp={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function i4(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Oy.white,default:Oy.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const _ot=i4();function s4(){return{text:{primary:Oy.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Oy.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const hU=s4();function dU(n,t,e,i){const s=i.light||i,r=i.dark||i*1.5;n[t]||(n.hasOwnProperty(e)?n[t]=n[e]:t==="light"?n.light=sw(n.main,s):t==="dark"&&(n.dark=iw(n.main,r)))}function bot(n="light"){return n==="dark"?{main:Np[200],light:Np[50],dark:Np[400]}:{main:Np[700],light:Np[400],dark:Np[800]}}function Mot(n="light"){return n==="dark"?{main:Up[200],light:Up[50],dark:Up[400]}:{main:Up[500],light:Up[300],dark:Up[700]}}function Eot(n="light"){return n==="dark"?{main:Pp[500],light:Pp[300],dark:Pp[700]}:{main:Pp[700],light:Pp[400],dark:Pp[800]}}function Tot(n="light"){return n==="dark"?{main:Ip[400],light:Ip[300],dark:Ip[700]}:{main:Ip[700],light:Ip[500],dark:Ip[900]}}function Cot(n="light"){return n==="dark"?{main:Fp[400],light:Fp[300],dark:Fp[700]}:{main:Fp[800],light:Fp[500],dark:Fp[900]}}function Rot(n="light"){return n==="dark"?{main:C0[400],light:C0[300],dark:C0[700]}:{main:"#ed6c02",light:C0[500],dark:C0[900]}}function rw(n){const{mode:t="light",contrastThreshold:e=3,tonalOffset:i=.2,...s}=n,r=n.primary||bot(t),o=n.secondary||Mot(t),l=n.error||Eot(t),u=n.info||Tot(t),d=n.success||Cot(t),m=n.warning||Rot(t);function g(E){return cot(E,hU.text.primary)>=e?hU.text.primary:_ot.text.primary}const v=({color:E,name:T,mainShade:_=500,lightShade:w=300,darkShade:D=700})=>{if(E={...E},!E.main&&E[_]&&(E.main=E[_]),!E.hasOwnProperty("main"))throw new Error(od(11,T?` (${T})`:"",_));if(typeof E.main!="string")throw new Error(od(12,T?` (${T})`:"",JSON.stringify(E.main)));return dU(E,"light",w,i),dU(E,"dark",D,i),E.contrastText||(E.contrastText=g(E.main)),E};let A;return t==="light"?A=i4():t==="dark"&&(A=s4()),Ma({common:{...Oy},mode:t,primary:v({color:r,name:"primary"}),secondary:v({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:l,name:"error"}),warning:v({color:m,name:"warning"}),info:v({color:u,name:"info"}),success:v({color:d,name:"success"}),grey:Sot,contrastThreshold:e,getContrastText:g,augmentColor:v,tonalOffset:i,...A},s)}function wot(n){const t={};return Object.entries(n).forEach(i=>{const[s,r]=i;typeof r=="object"&&(t[s]=`${r.fontStyle?`${r.fontStyle} `:""}${r.fontVariant?`${r.fontVariant} `:""}${r.fontWeight?`${r.fontWeight} `:""}${r.fontStretch?`${r.fontStretch} `:""}${r.fontSize||""}${r.lineHeight?`/${r.lineHeight} `:""}${r.fontFamily||""}`)}),t}function Bot(n,t){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...t}}function Dot(n){return Math.round(n*1e5)/1e5}const pU={textTransform:"uppercase"},mU='"Roboto", "Helvetica", "Arial", sans-serif';function Lot(n,t){const{fontFamily:e=mU,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:r=400,fontWeightMedium:o=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:d,pxToRem:m,...g}=typeof t=="function"?t(n):t,v=i/14,A=m||(T=>`${T/u*v}rem`),S=(T,_,w,D,L)=>({fontFamily:e,fontWeight:T,fontSize:A(_),lineHeight:w,...e===mU?{letterSpacing:`${Dot(D/_)}em`}:{},...L,...d}),E={h1:S(s,96,1.167,-1.5),h2:S(s,60,1.2,-.5),h3:S(r,48,1.167,0),h4:S(r,34,1.235,.25),h5:S(r,24,1.334,0),h6:S(o,20,1.6,.15),subtitle1:S(r,16,1.75,.15),subtitle2:S(o,14,1.57,.1),body1:S(r,16,1.5,.15),body2:S(r,14,1.43,.15),button:S(o,14,1.75,.4,pU),caption:S(r,12,1.66,.4),overline:S(r,12,2.66,1,pU),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Ma({htmlFontSize:u,pxToRem:A,fontFamily:e,fontSize:i,fontWeightLight:s,fontWeightRegular:r,fontWeightMedium:o,fontWeightBold:l,...E},g,{clone:!1})}const Oot=.2,Uot=.14,Pot=.12;function hi(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${Oot})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${Uot})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${Pot})`].join(",")}const Not=["none",hi(0,2,1,-1,0,1,1,0,0,1,3,0),hi(0,3,1,-2,0,2,2,0,0,1,5,0),hi(0,3,3,-2,0,3,4,0,0,1,8,0),hi(0,2,4,-1,0,4,5,0,0,1,10,0),hi(0,3,5,-1,0,5,8,0,0,1,14,0),hi(0,3,5,-1,0,6,10,0,0,1,18,0),hi(0,4,5,-2,0,7,10,1,0,2,16,1),hi(0,5,5,-3,0,8,10,1,0,3,14,2),hi(0,5,6,-3,0,9,12,1,0,3,16,2),hi(0,6,6,-3,0,10,14,1,0,4,18,3),hi(0,6,7,-4,0,11,15,1,0,4,20,3),hi(0,7,8,-4,0,12,17,2,0,5,22,4),hi(0,7,8,-4,0,13,19,2,0,5,24,4),hi(0,7,9,-4,0,14,21,2,0,5,26,4),hi(0,8,9,-5,0,15,22,2,0,6,28,5),hi(0,8,10,-5,0,16,24,2,0,6,30,5),hi(0,8,11,-5,0,17,26,2,0,6,32,5),hi(0,9,11,-5,0,18,28,2,0,7,34,6),hi(0,9,12,-6,0,19,29,2,0,7,36,6),hi(0,10,13,-6,0,20,31,3,0,8,38,7),hi(0,10,13,-6,0,21,33,3,0,8,40,7),hi(0,10,14,-6,0,22,35,3,0,8,42,7),hi(0,11,14,-7,0,23,36,3,0,9,44,8),hi(0,11,15,-7,0,24,38,3,0,9,46,8)],Iot={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Fot={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function gU(n){return`${Math.round(n)}ms`}function zot(n){if(!n)return 0;const t=n/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function Hot(n){const t={...Iot,...n.easing},e={...Fot,...n.duration};return{getAutoHeightDuration:zot,create:(s=["all"],r={})=>{const{duration:o=e.standard,easing:l=t.easeInOut,delay:u=0,...d}=r;return(Array.isArray(s)?s:[s]).map(m=>`${m} ${typeof o=="string"?o:gU(o)} ${l} ${typeof u=="string"?u:gU(u)}`).join(",")},...n,easing:t,duration:e}}const Got={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Vot(n){return Gc(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function r4(n={}){const t={...n};function e(i){const s=Object.entries(i);for(let r=0;r<s.length;r++){const[o,l]=s[r];!Vot(l)||o.startsWith("unstable_")?delete i[o]:Gc(l)&&(i[o]={...l},e(i[o]))}}return e(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function CT(n={},...t){const{breakpoints:e,mixins:i={},spacing:s,palette:r={},transitions:o={},typography:l={},shape:u,...d}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(od(20));const m=rw(r),g=$H(n);let v=Ma(g,{mixins:Bot(g.breakpoints,i),palette:m,shadows:Not.slice(),typography:Lot(m,l),transitions:Hot(o),zIndex:{...Got}});return v=Ma(v,d),v=t.reduce((A,S)=>Ma(A,S),v),v.unstable_sxConfig={...T_,...d==null?void 0:d.unstable_sxConfig},v.unstable_sx=function(S){return bm({sx:S,theme:this})},v.toRuntimeSource=r4,v}function kot(n){let t;return n<1?t=5.11916*n**2:t=4.5*Math.log(n+1)+2,Math.round(t*10)/1e3}const Xot=[...Array(25)].map((n,t)=>{if(t===0)return"none";const e=kot(t);return`linear-gradient(rgba(255 255 255 / ${e}), rgba(255 255 255 / ${e}))`});function a4(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function o4(n){return n==="dark"?Xot:[]}function jot(n){const{palette:t={mode:"light"},opacity:e,overlays:i,...s}=n,r=rw(t);return{palette:r,opacity:{...a4(r.mode),...e},overlays:i||o4(r.mode),...s}}function Yot(n){var t;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((t=n[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const Wot=n=>[...[...Array(25)].map((t,e)=>`--${n?`${n}-`:""}overlays-${e}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],Kot=n=>(t,e)=>{const i=n.rootSelector||":root",s=n.colorSchemeSelector;let r=s;if(s==="class"&&(r=".%s"),s==="data"&&(r="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(r=`[${s}="%s"]`),n.defaultColorScheme===t){if(t==="dark"){const o={};return Wot(n.cssVarPrefix).forEach(l=>{o[l]=e[l],delete e[l]}),r==="media"?{[i]:e,"@media (prefers-color-scheme: dark)":{[i]:o}}:r?{[r.replace("%s",t)]:o,[`${i}, ${r.replace("%s",t)}`]:e}:{[i]:{...e,...o}}}if(r&&r!=="media")return`${i}, ${r.replace("%s",String(t))}`}else if(t){if(r==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[i]:e}};if(r)return r.replace("%s",String(t))}return i};function qot(n,t){t.forEach(e=>{n[e]||(n[e]={})})}function Rt(n,t,e){!n[t]&&e&&(n[t]=e)}function P0(n){return typeof n!="string"||!n.startsWith("hsl")?n:n4(n)}function Nc(n,t){`${t}Channel`in n||(n[`${t}Channel`]=U0(P0(n[t])))}function Jot(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const Pl=n=>{try{return n()}catch{}},Qot=(n="mui")=>got(n);function uE(n,t,e,i){if(!t)return;t=t===!0?{}:t;const s=i==="dark"?"dark":"light";if(!e){n[i]=jot({...t,palette:{mode:s,...t==null?void 0:t.palette}});return}const{palette:r,...o}=CT({...e,palette:{mode:s,...t==null?void 0:t.palette}});return n[i]={...t,palette:r,opacity:{...a4(s),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||o4(s)},o}function Zot(n={},...t){const{colorSchemes:e={light:!0},defaultColorScheme:i,disableCssColorScheme:s=!1,cssVarPrefix:r="mui",shouldSkipGeneratingVar:o=Yot,colorSchemeSelector:l=e.light&&e.dark?"media":void 0,rootSelector:u=":root",...d}=n,m=Object.keys(e)[0],g=i||(e.light&&m!=="light"?"light":m),v=Qot(r),{[g]:A,light:S,dark:E,...T}=e,_={...T};let w=A;if((g==="dark"&&!("dark"in e)||g==="light"&&!("light"in e))&&(w=!0),!w)throw new Error(od(21,g));const D=uE(_,w,d,g);S&&!_.light&&uE(_,S,void 0,"light"),E&&!_.dark&&uE(_,E,void 0,"dark");let L={defaultColorScheme:g,...D,cssVarPrefix:r,colorSchemeSelector:l,rootSelector:u,getCssVar:v,colorSchemes:_,font:{...wot(D.typography),...D.font},spacing:Jot(d.spacing)};Object.keys(L.colorSchemes).forEach(N=>{const B=L.colorSchemes[N].palette,H=st=>{const tt=st.split("-"),J=tt[1],lt=tt[2];return v(st,B[J][lt])};if(B.mode==="light"&&(Rt(B.common,"background","#fff"),Rt(B.common,"onBackground","#000")),B.mode==="dark"&&(Rt(B.common,"background","#000"),Rt(B.common,"onBackground","#fff")),qot(B,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),B.mode==="light"){Rt(B.Alert,"errorColor",ti(B.error.light,.6)),Rt(B.Alert,"infoColor",ti(B.info.light,.6)),Rt(B.Alert,"successColor",ti(B.success.light,.6)),Rt(B.Alert,"warningColor",ti(B.warning.light,.6)),Rt(B.Alert,"errorFilledBg",H("palette-error-main")),Rt(B.Alert,"infoFilledBg",H("palette-info-main")),Rt(B.Alert,"successFilledBg",H("palette-success-main")),Rt(B.Alert,"warningFilledBg",H("palette-warning-main")),Rt(B.Alert,"errorFilledColor",Pl(()=>B.getContrastText(B.error.main))),Rt(B.Alert,"infoFilledColor",Pl(()=>B.getContrastText(B.info.main))),Rt(B.Alert,"successFilledColor",Pl(()=>B.getContrastText(B.success.main))),Rt(B.Alert,"warningFilledColor",Pl(()=>B.getContrastText(B.warning.main))),Rt(B.Alert,"errorStandardBg",ei(B.error.light,.9)),Rt(B.Alert,"infoStandardBg",ei(B.info.light,.9)),Rt(B.Alert,"successStandardBg",ei(B.success.light,.9)),Rt(B.Alert,"warningStandardBg",ei(B.warning.light,.9)),Rt(B.Alert,"errorIconColor",H("palette-error-main")),Rt(B.Alert,"infoIconColor",H("palette-info-main")),Rt(B.Alert,"successIconColor",H("palette-success-main")),Rt(B.Alert,"warningIconColor",H("palette-warning-main")),Rt(B.AppBar,"defaultBg",H("palette-grey-100")),Rt(B.Avatar,"defaultBg",H("palette-grey-400")),Rt(B.Button,"inheritContainedBg",H("palette-grey-300")),Rt(B.Button,"inheritContainedHoverBg",H("palette-grey-A100")),Rt(B.Chip,"defaultBorder",H("palette-grey-400")),Rt(B.Chip,"defaultAvatarColor",H("palette-grey-700")),Rt(B.Chip,"defaultIconColor",H("palette-grey-700")),Rt(B.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Rt(B.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Rt(B.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Rt(B.LinearProgress,"primaryBg",ei(B.primary.main,.62)),Rt(B.LinearProgress,"secondaryBg",ei(B.secondary.main,.62)),Rt(B.LinearProgress,"errorBg",ei(B.error.main,.62)),Rt(B.LinearProgress,"infoBg",ei(B.info.main,.62)),Rt(B.LinearProgress,"successBg",ei(B.success.main,.62)),Rt(B.LinearProgress,"warningBg",ei(B.warning.main,.62)),Rt(B.Skeleton,"bg",`rgba(${H("palette-text-primaryChannel")} / 0.11)`),Rt(B.Slider,"primaryTrack",ei(B.primary.main,.62)),Rt(B.Slider,"secondaryTrack",ei(B.secondary.main,.62)),Rt(B.Slider,"errorTrack",ei(B.error.main,.62)),Rt(B.Slider,"infoTrack",ei(B.info.main,.62)),Rt(B.Slider,"successTrack",ei(B.success.main,.62)),Rt(B.Slider,"warningTrack",ei(B.warning.main,.62));const st=JA(B.background.default,.8);Rt(B.SnackbarContent,"bg",st),Rt(B.SnackbarContent,"color",Pl(()=>B.getContrastText(st))),Rt(B.SpeedDialAction,"fabHoverBg",JA(B.background.paper,.15)),Rt(B.StepConnector,"border",H("palette-grey-400")),Rt(B.StepContent,"border",H("palette-grey-400")),Rt(B.Switch,"defaultColor",H("palette-common-white")),Rt(B.Switch,"defaultDisabledColor",H("palette-grey-100")),Rt(B.Switch,"primaryDisabledColor",ei(B.primary.main,.62)),Rt(B.Switch,"secondaryDisabledColor",ei(B.secondary.main,.62)),Rt(B.Switch,"errorDisabledColor",ei(B.error.main,.62)),Rt(B.Switch,"infoDisabledColor",ei(B.info.main,.62)),Rt(B.Switch,"successDisabledColor",ei(B.success.main,.62)),Rt(B.Switch,"warningDisabledColor",ei(B.warning.main,.62)),Rt(B.TableCell,"border",ei(qA(B.divider,1),.88)),Rt(B.Tooltip,"bg",qA(B.grey[700],.92))}if(B.mode==="dark"){Rt(B.Alert,"errorColor",ei(B.error.light,.6)),Rt(B.Alert,"infoColor",ei(B.info.light,.6)),Rt(B.Alert,"successColor",ei(B.success.light,.6)),Rt(B.Alert,"warningColor",ei(B.warning.light,.6)),Rt(B.Alert,"errorFilledBg",H("palette-error-dark")),Rt(B.Alert,"infoFilledBg",H("palette-info-dark")),Rt(B.Alert,"successFilledBg",H("palette-success-dark")),Rt(B.Alert,"warningFilledBg",H("palette-warning-dark")),Rt(B.Alert,"errorFilledColor",Pl(()=>B.getContrastText(B.error.dark))),Rt(B.Alert,"infoFilledColor",Pl(()=>B.getContrastText(B.info.dark))),Rt(B.Alert,"successFilledColor",Pl(()=>B.getContrastText(B.success.dark))),Rt(B.Alert,"warningFilledColor",Pl(()=>B.getContrastText(B.warning.dark))),Rt(B.Alert,"errorStandardBg",ti(B.error.light,.9)),Rt(B.Alert,"infoStandardBg",ti(B.info.light,.9)),Rt(B.Alert,"successStandardBg",ti(B.success.light,.9)),Rt(B.Alert,"warningStandardBg",ti(B.warning.light,.9)),Rt(B.Alert,"errorIconColor",H("palette-error-main")),Rt(B.Alert,"infoIconColor",H("palette-info-main")),Rt(B.Alert,"successIconColor",H("palette-success-main")),Rt(B.Alert,"warningIconColor",H("palette-warning-main")),Rt(B.AppBar,"defaultBg",H("palette-grey-900")),Rt(B.AppBar,"darkBg",H("palette-background-paper")),Rt(B.AppBar,"darkColor",H("palette-text-primary")),Rt(B.Avatar,"defaultBg",H("palette-grey-600")),Rt(B.Button,"inheritContainedBg",H("palette-grey-800")),Rt(B.Button,"inheritContainedHoverBg",H("palette-grey-700")),Rt(B.Chip,"defaultBorder",H("palette-grey-700")),Rt(B.Chip,"defaultAvatarColor",H("palette-grey-300")),Rt(B.Chip,"defaultIconColor",H("palette-grey-300")),Rt(B.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Rt(B.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Rt(B.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Rt(B.LinearProgress,"primaryBg",ti(B.primary.main,.5)),Rt(B.LinearProgress,"secondaryBg",ti(B.secondary.main,.5)),Rt(B.LinearProgress,"errorBg",ti(B.error.main,.5)),Rt(B.LinearProgress,"infoBg",ti(B.info.main,.5)),Rt(B.LinearProgress,"successBg",ti(B.success.main,.5)),Rt(B.LinearProgress,"warningBg",ti(B.warning.main,.5)),Rt(B.Skeleton,"bg",`rgba(${H("palette-text-primaryChannel")} / 0.13)`),Rt(B.Slider,"primaryTrack",ti(B.primary.main,.5)),Rt(B.Slider,"secondaryTrack",ti(B.secondary.main,.5)),Rt(B.Slider,"errorTrack",ti(B.error.main,.5)),Rt(B.Slider,"infoTrack",ti(B.info.main,.5)),Rt(B.Slider,"successTrack",ti(B.success.main,.5)),Rt(B.Slider,"warningTrack",ti(B.warning.main,.5));const st=JA(B.background.default,.98);Rt(B.SnackbarContent,"bg",st),Rt(B.SnackbarContent,"color",Pl(()=>B.getContrastText(st))),Rt(B.SpeedDialAction,"fabHoverBg",JA(B.background.paper,.15)),Rt(B.StepConnector,"border",H("palette-grey-600")),Rt(B.StepContent,"border",H("palette-grey-600")),Rt(B.Switch,"defaultColor",H("palette-grey-300")),Rt(B.Switch,"defaultDisabledColor",H("palette-grey-600")),Rt(B.Switch,"primaryDisabledColor",ti(B.primary.main,.55)),Rt(B.Switch,"secondaryDisabledColor",ti(B.secondary.main,.55)),Rt(B.Switch,"errorDisabledColor",ti(B.error.main,.55)),Rt(B.Switch,"infoDisabledColor",ti(B.info.main,.55)),Rt(B.Switch,"successDisabledColor",ti(B.success.main,.55)),Rt(B.Switch,"warningDisabledColor",ti(B.warning.main,.55)),Rt(B.TableCell,"border",ti(qA(B.divider,1),.68)),Rt(B.Tooltip,"bg",qA(B.grey[700],.92))}Nc(B.background,"default"),Nc(B.background,"paper"),Nc(B.common,"background"),Nc(B.common,"onBackground"),Nc(B,"divider"),Object.keys(B).forEach(st=>{const tt=B[st];st!=="tonalOffset"&&tt&&typeof tt=="object"&&(tt.main&&Rt(B[st],"mainChannel",U0(P0(tt.main))),tt.light&&Rt(B[st],"lightChannel",U0(P0(tt.light))),tt.dark&&Rt(B[st],"darkChannel",U0(P0(tt.dark))),tt.contrastText&&Rt(B[st],"contrastTextChannel",U0(P0(tt.contrastText))),st==="text"&&(Nc(B[st],"primary"),Nc(B[st],"secondary")),st==="action"&&(tt.active&&Nc(B[st],"active"),tt.selected&&Nc(B[st],"selected")))})}),L=t.reduce((N,B)=>Ma(N,B),L);const U={prefix:r,disableCssColorScheme:s,shouldSkipGeneratingVar:o,getSelector:Kot(L)},{vars:P,generateThemeVars:F,generateStyleSheets:z}=xot(L,U);return L.vars=P,Object.entries(L.colorSchemes[L.defaultColorScheme]).forEach(([N,B])=>{L[N]=B}),L.generateThemeVars=F,L.generateStyleSheets=z,L.generateSpacing=function(){return ZH(d.spacing,QR(this))},L.getColorSchemeSelector=Aot(l),L.spacing=L.generateSpacing(),L.shouldSkipGeneratingVar=o,L.unstable_sxConfig={...T_,...d==null?void 0:d.unstable_sxConfig},L.unstable_sx=function(B){return bm({sx:B,theme:this})},L.toRuntimeSource=r4,L}function yU(n,t,e){n.colorSchemes&&e&&(n.colorSchemes[t]={...e!==!0&&e,palette:rw({...e===!0?{}:e.palette,mode:t})})}function $ot(n={},...t){const{palette:e,cssVariables:i=!1,colorSchemes:s=e?void 0:{light:!0},defaultColorScheme:r=e==null?void 0:e.mode,...o}=n,l=r||"light",u=s==null?void 0:s[l],d={...s,...e?{[l]:{...typeof u!="boolean"&&u,palette:e}}:void 0};if(i===!1){if(!("colorSchemes"in n))return CT(n,...t);let m=e;"palette"in n||d[l]&&(d[l]!==!0?m=d[l].palette:l==="dark"&&(m={mode:"dark"}));const g=CT({...n,palette:m},...t);return g.defaultColorScheme=l,g.colorSchemes=d,g.palette.mode==="light"&&(g.colorSchemes.light={...d.light!==!0&&d.light,palette:g.palette},yU(g,"dark",d.dark)),g.palette.mode==="dark"&&(g.colorSchemes.dark={...d.dark!==!0&&d.dark,palette:g.palette},yU(g,"light",d.light)),g}return!e&&!("light"in d)&&l==="light"&&(d.light=!0),Zot({...o,colorSchemes:d,defaultColorScheme:l,...typeof i!="boolean"&&i},...t)}const tlt=$ot(),elt="$$material";function nlt(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const ilt=n=>nlt(n)&&n!=="classes",slt=not({themeId:elt,defaultTheme:tlt,rootShouldForwardProp:ilt}),rlt=mot;function alt(n){return pot(n)}function olt(n){return IH("MuiSvgIcon",n)}irt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const llt=n=>{const{color:t,fontSize:e,classes:i}=n,s={root:["root",t!=="inherit"&&`color${_m(t)}`,`fontSize${_m(e)}`]};return $st(s,olt,i)},clt=slt("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.color!=="inherit"&&t[`color${_m(e.color)}`],t[`fontSize${_m(e.fontSize)}`]]}})(rlt(({theme:n})=>{var t,e,i,s,r,o,l,u,d,m,g,v,A,S;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(s=(t=n.transitions)==null?void 0:t.create)==null?void 0:s.call(t,"fill",{duration:(i=(e=(n.vars??n).transitions)==null?void 0:e.duration)==null?void 0:i.shorter}),variants:[{props:E=>!E.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((o=(r=n.typography)==null?void 0:r.pxToRem)==null?void 0:o.call(r,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((u=(l=n.typography)==null?void 0:l.pxToRem)==null?void 0:u.call(l,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((m=(d=n.typography)==null?void 0:d.pxToRem)==null?void 0:m.call(d,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,E])=>E&&E.main).map(([E])=>{var T,_;return{props:{color:E},style:{color:(_=(T=(n.vars??n).palette)==null?void 0:T[E])==null?void 0:_.main}}}),{props:{color:"action"},style:{color:(v=(g=(n.vars??n).palette)==null?void 0:g.action)==null?void 0:v.active}},{props:{color:"disabled"},style:{color:(S=(A=(n.vars??n).palette)==null?void 0:A.action)==null?void 0:S.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),RT=W.forwardRef(function(t,e){const i=alt({props:t,name:"MuiSvgIcon"}),{children:s,className:r,color:o="inherit",component:l="svg",fontSize:u="medium",htmlColor:d,inheritViewBox:m=!1,titleAccess:g,viewBox:v="0 0 24 24",...A}=i,S=W.isValidElement(s)&&s.type==="svg",E={...i,color:o,component:l,fontSize:u,instanceFontSize:t.fontSize,inheritViewBox:m,viewBox:v,hasSvgAsChild:S},T={};m||(T.viewBox=v);const _=llt(E);return ot.jsxs(clt,{as:l,className:rrt(_.root,r),focusable:"false",color:d,"aria-hidden":g?void 0:!0,role:g?"img":void 0,ref:e,...T,...A,...S&&s.props,ownerState:E,children:[S?s.props.children:s,g?ot.jsx("title",{children:g}):null]})});RT.muiName="SvgIcon";function aw(n,t){function e(i,s){return ot.jsx(RT,{"data-testid":void 0,ref:s,...i,children:n})}return e.muiName=RT.muiName,W.memo(W.forwardRef(e))}const ult=aw(ot.jsx("path",{d:"M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z"})),flt=aw(ot.jsx("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02z"})),hlt=aw(ot.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"})),dlt=()=>{const[n,t]=W.useState({name:"",email:"",message:""}),[e,i]=W.useState(!1),[s,r]=W.useState(!1),[o,l]=W.useState("success"),[u,d]=W.useState(""),m=A=>{t({...n,[A.target.name]:A.target.value})},g=(A,S)=>{l(A),d(S),r(!0),setTimeout(()=>{r(!1)},5e3)},v=async A=>{A.preventDefault(),i(!0);try{await Yst.send("service_79b0nyj","template_17us8im",{from_name:n.name,to_name:"Ali",from_email:n.email,to_email:"AliSanatiDev@gmail.com",message:n.message},"pn-Bw_mS1_QQdofuV"),t({name:"",email:"",message:""}),g("success","Your message has been sent!")}catch(S){console.log(S),g("danger","Something went wrong!")}finally{i(!1)}};return ot.jsxs("section",{className:"relative flex items-center c-space section-spacing",children:[ot.jsx(Jst,{className:"absolute inset-0 -z-50",quantity:100,ease:80,color:"#ffffff",refresh:!0}),s&&ot.jsx(Wst,{type:o,text:u}),ot.jsxs("div",{className:"flex flex-col items-center justify-center max-w-md p-5 mx-auto border border-white/10 rounded-2xl bg-primary",children:[ot.jsxs("div",{className:"flex flex-col items-start w-full gap-5 mb-10",children:[ot.jsx("h2",{className:"text-heading",children:"Let's Talk"}),ot.jsx("p",{className:"font-normal text-neutral-400",children:"Send me an email or reach out on LinkedIn or by phone — I’m always here to connect."}),ot.jsxs("a",{href:"https://www.linkedin.com/in/ali-sanati/",target:"_blank",className:"flex items-center gap-2 text-neutral-300 hover:underline",children:[ot.jsx(ult,{})," LinkedIn"]}),ot.jsxs("a",{href:"tel:+1234567890",className:"flex items-center gap-2 text-neutral-300 hover:underline",children:[ot.jsx(flt,{})," +1 (234) 567-890"]}),ot.jsxs("a",{href:"mailto:AliSanatiDev@gmail.com",className:"flex items-center gap-2 text-neutral-300 hover:underline",children:[ot.jsx(hlt,{})," AliSanatiDev@gmail.com"]})]}),ot.jsxs("form",{className:"w-full",onSubmit:v,children:[ot.jsxs("div",{className:"mb-5",children:[ot.jsx("label",{htmlFor:"name",className:"field-label",children:"Full Name"}),ot.jsx("input",{id:"name",name:"name",type:"text",className:"field-input field-input-focus",placeholder:"John Doe",autoComplete:"name",value:n.name,onChange:m,required:!0})]}),ot.jsxs("div",{className:"mb-5",children:[ot.jsx("label",{htmlFor:"email",className:"field-label",children:"Email"}),ot.jsx("input",{id:"email",name:"email",type:"email",className:"field-input field-input-focus",placeholder:"john@example.com",autoComplete:"email",value:n.email,onChange:m,required:!0})]}),ot.jsxs("div",{className:"mb-5",children:[ot.jsx("label",{htmlFor:"message",className:"field-label",children:"Message"}),ot.jsx("textarea",{id:"message",name:"message",rows:"4",className:"field-input field-input-focus",placeholder:"Share your thoughts...",value:n.message,onChange:m,required:!0})]}),ot.jsx("button",{type:"submit",className:"w-full px-1 py-3 text-lg text-center rounded-md cursor-pointer bg-radial from-lavender to-royal hover-animation",children:e?"Sending...":"Send"})]})]})]})},plt=()=>ot.jsxs("div",{className:"container mx-auto max-w-7xl",children:[ot.jsx(_st,{}),ot.jsx(Bst,{}),ot.jsx(Ost,{}),ot.jsx(dlt,{})]});vU.createRoot(document.getElementById("root")).render(ot.jsx(W.StrictMode,{children:ot.jsx(plt,{})}));
